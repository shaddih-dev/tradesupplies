(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ky(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function PH(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Aw={exports:{}},X1={},Ew={exports:{}},cr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ID;function DH(){if(ID)return cr;ID=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.iterator;function h(Q){return Q===null||typeof Q!="object"?null:(Q=f&&Q[f]||Q["@@iterator"],typeof Q=="function"?Q:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,p={};function y(Q,de,we){this.props=Q,this.context=de,this.refs=p,this.updater=we||m}y.prototype.isReactComponent={},y.prototype.setState=function(Q,de){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,de,"setState")},y.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function b(){}b.prototype=y.prototype;function x(Q,de,we){this.props=Q,this.context=de,this.refs=p,this.updater=we||m}var C=x.prototype=new b;C.constructor=x,g(C,y.prototype),C.isPureReactComponent=!0;var M=Array.isArray,R=Object.prototype.hasOwnProperty,O={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function F(Q,de,we){var ye,Ce={},Le=null,Ie=null;if(de!=null)for(ye in de.ref!==void 0&&(Ie=de.ref),de.key!==void 0&&(Le=""+de.key),de)R.call(de,ye)&&!N.hasOwnProperty(ye)&&(Ce[ye]=de[ye]);var Ze=arguments.length-2;if(Ze===1)Ce.children=we;else if(1<Ze){for(var tt=Array(Ze),Qe=0;Qe<Ze;Qe++)tt[Qe]=arguments[Qe+2];Ce.children=tt}if(Q&&Q.defaultProps)for(ye in Ze=Q.defaultProps,Ze)Ce[ye]===void 0&&(Ce[ye]=Ze[ye]);return{$$typeof:n,type:Q,key:Le,ref:Ie,props:Ce,_owner:O.current}}function I(Q,de){return{$$typeof:n,type:Q.type,key:de,ref:Q.ref,props:Q.props,_owner:Q._owner}}function B(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function k(Q){var de={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(we){return de[we]})}var q=/\/+/g;function Y(Q,de){return typeof Q=="object"&&Q!==null&&Q.key!=null?k(""+Q.key):de.toString(36)}function ee(Q,de,we,ye,Ce){var Le=typeof Q;(Le==="undefined"||Le==="boolean")&&(Q=null);var Ie=!1;if(Q===null)Ie=!0;else switch(Le){case"string":case"number":Ie=!0;break;case"object":switch(Q.$$typeof){case n:case e:Ie=!0}}if(Ie)return Ie=Q,Ce=Ce(Ie),Q=ye===""?"."+Y(Ie,0):ye,M(Ce)?(we="",Q!=null&&(we=Q.replace(q,"$&/")+"/"),ee(Ce,de,we,"",function(Qe){return Qe})):Ce!=null&&(B(Ce)&&(Ce=I(Ce,we+(!Ce.key||Ie&&Ie.key===Ce.key?"":(""+Ce.key).replace(q,"$&/")+"/")+Q)),de.push(Ce)),1;if(Ie=0,ye=ye===""?".":ye+":",M(Q))for(var Ze=0;Ze<Q.length;Ze++){Le=Q[Ze];var tt=ye+Y(Le,Ze);Ie+=ee(Le,de,we,tt,Ce)}else if(tt=h(Q),typeof tt=="function")for(Q=tt.call(Q),Ze=0;!(Le=Q.next()).done;)Le=Le.value,tt=ye+Y(Le,Ze++),Ie+=ee(Le,de,we,tt,Ce);else if(Le==="object")throw de=String(Q),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return Ie}function le(Q,de,we){if(Q==null)return Q;var ye=[],Ce=0;return ee(Q,ye,"","",function(Le){return de.call(we,Le,Ce++)}),ye}function J(Q){if(Q._status===-1){var de=Q._result;de=de(),de.then(function(we){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=we)},function(we){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=we)}),Q._status===-1&&(Q._status=0,Q._result=de)}if(Q._status===1)return Q._result.default;throw Q._result}var fe={current:null},V={transition:null},ae={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:V,ReactCurrentOwner:O};function ue(){throw Error("act(...) is not supported in production builds of React.")}return cr.Children={map:le,forEach:function(Q,de,we){le(Q,function(){de.apply(this,arguments)},we)},count:function(Q){var de=0;return le(Q,function(){de++}),de},toArray:function(Q){return le(Q,function(de){return de})||[]},only:function(Q){if(!B(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},cr.Component=y,cr.Fragment=t,cr.Profiler=i,cr.PureComponent=x,cr.StrictMode=r,cr.Suspense=u,cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,cr.act=ue,cr.cloneElement=function(Q,de,we){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var ye=g({},Q.props),Ce=Q.key,Le=Q.ref,Ie=Q._owner;if(de!=null){if(de.ref!==void 0&&(Le=de.ref,Ie=O.current),de.key!==void 0&&(Ce=""+de.key),Q.type&&Q.type.defaultProps)var Ze=Q.type.defaultProps;for(tt in de)R.call(de,tt)&&!N.hasOwnProperty(tt)&&(ye[tt]=de[tt]===void 0&&Ze!==void 0?Ze[tt]:de[tt])}var tt=arguments.length-2;if(tt===1)ye.children=we;else if(1<tt){Ze=Array(tt);for(var Qe=0;Qe<tt;Qe++)Ze[Qe]=arguments[Qe+2];ye.children=Ze}return{$$typeof:n,type:Q.type,key:Ce,ref:Le,props:ye,_owner:Ie}},cr.createContext=function(Q){return Q={$$typeof:s,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:o,_context:Q},Q.Consumer=Q},cr.createElement=F,cr.createFactory=function(Q){var de=F.bind(null,Q);return de.type=Q,de},cr.createRef=function(){return{current:null}},cr.forwardRef=function(Q){return{$$typeof:a,render:Q}},cr.isValidElement=B,cr.lazy=function(Q){return{$$typeof:l,_payload:{_status:-1,_result:Q},_init:J}},cr.memo=function(Q,de){return{$$typeof:c,type:Q,compare:de===void 0?null:de}},cr.startTransition=function(Q){var de=V.transition;V.transition={};try{Q()}finally{V.transition=de}},cr.unstable_act=ue,cr.useCallback=function(Q,de){return fe.current.useCallback(Q,de)},cr.useContext=function(Q){return fe.current.useContext(Q)},cr.useDebugValue=function(){},cr.useDeferredValue=function(Q){return fe.current.useDeferredValue(Q)},cr.useEffect=function(Q,de){return fe.current.useEffect(Q,de)},cr.useId=function(){return fe.current.useId()},cr.useImperativeHandle=function(Q,de,we){return fe.current.useImperativeHandle(Q,de,we)},cr.useInsertionEffect=function(Q,de){return fe.current.useInsertionEffect(Q,de)},cr.useLayoutEffect=function(Q,de){return fe.current.useLayoutEffect(Q,de)},cr.useMemo=function(Q,de){return fe.current.useMemo(Q,de)},cr.useReducer=function(Q,de,we){return fe.current.useReducer(Q,de,we)},cr.useRef=function(Q){return fe.current.useRef(Q)},cr.useState=function(Q){return fe.current.useState(Q)},cr.useSyncExternalStore=function(Q,de,we){return fe.current.useSyncExternalStore(Q,de,we)},cr.useTransition=function(){return fe.current.useTransition()},cr.version="18.3.1",cr}var BD;function ri(){return BD||(BD=1,Ew.exports=DH()),Ew.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD;function RH(){if(FD)return X1;FD=1;var n=ri(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,u,c){var l,f={},h=null,m=null;c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),u.ref!==void 0&&(m=u.ref);for(l in u)r.call(u,l)&&!o.hasOwnProperty(l)&&(f[l]=u[l]);if(a&&a.defaultProps)for(l in u=a.defaultProps,u)f[l]===void 0&&(f[l]=u[l]);return{$$typeof:e,type:a,key:h,ref:m,props:f,_owner:i.current}}return X1.Fragment=t,X1.jsx=s,X1.jsxs=s,X1}var LD;function OH(){return LD||(LD=1,Aw.exports=RH()),Aw.exports}var ie=OH(),W=ri();const X=ky(W);var Fb={},Sw={exports:{}},mu={},xw={exports:{}},ww={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND;function IH(){return ND||(ND=1,function(n){function e(V,ae){var ue=V.length;V.push(ae);e:for(;0<ue;){var Q=ue-1>>>1,de=V[Q];if(0<i(de,ae))V[Q]=ae,V[ue]=de,ue=Q;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ae=V[0],ue=V.pop();if(ue!==ae){V[0]=ue;e:for(var Q=0,de=V.length,we=de>>>1;Q<we;){var ye=2*(Q+1)-1,Ce=V[ye],Le=ye+1,Ie=V[Le];if(0>i(Ce,ue))Le<de&&0>i(Ie,Ce)?(V[Q]=Ie,V[Le]=ue,Q=Le):(V[Q]=Ce,V[ye]=ue,Q=ye);else if(Le<de&&0>i(Ie,ue))V[Q]=Ie,V[Le]=ue,Q=Le;else break e}}return ae}function i(V,ae){var ue=V.sortIndex-ae.sortIndex;return ue!==0?ue:V.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var u=[],c=[],l=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var ae=t(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=V)r(c),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(c)}}function M(V){if(p=!1,C(V),!g)if(t(u)!==null)g=!0,J(R);else{var ae=t(c);ae!==null&&fe(M,ae.startTime-V)}}function R(V,ae){g=!1,p&&(p=!1,b(F),F=-1),m=!0;var ue=h;try{for(C(ae),f=t(u);f!==null&&(!(f.expirationTime>ae)||V&&!k());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var de=Q(f.expirationTime<=ae);ae=n.unstable_now(),typeof de=="function"?f.callback=de:f===t(u)&&r(u),C(ae)}else r(u);f=t(u)}if(f!==null)var we=!0;else{var ye=t(c);ye!==null&&fe(M,ye.startTime-ae),we=!1}return we}finally{f=null,h=ue,m=!1}}var O=!1,N=null,F=-1,I=5,B=-1;function k(){return!(n.unstable_now()-B<I)}function q(){if(N!==null){var V=n.unstable_now();B=V;var ae=!0;try{ae=N(!0,V)}finally{ae?Y():(O=!1,N=null)}}else O=!1}var Y;if(typeof x=="function")Y=function(){x(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,le=ee.port2;ee.port1.onmessage=q,Y=function(){le.postMessage(null)}}else Y=function(){y(q,0)};function J(V){N=V,O||(O=!0,Y())}function fe(V,ae){F=y(function(){V(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,J(R))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(V){switch(h){case 1:case 2:case 3:var ae=3;break;default:ae=h}var ue=h;h=ae;try{return V()}finally{h=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,ae){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ue=h;h=V;try{return ae()}finally{h=ue}},n.unstable_scheduleCallback=function(V,ae,ue){var Q=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Q+ue:Q):ue=Q,V){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ue+de,V={id:l++,callback:ae,priorityLevel:V,startTime:ue,expirationTime:de,sortIndex:-1},ue>Q?(V.sortIndex=ue,e(c,V),t(u)===null&&V===t(c)&&(p?(b(F),F=-1):p=!0,fe(M,ue-Q))):(V.sortIndex=de,e(u,V),g||m||(g=!0,J(R))),V},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(V){var ae=h;return function(){var ue=h;h=ae;try{return V.apply(this,arguments)}finally{h=ue}}}}(ww)),ww}var UD;function BH(){return UD||(UD=1,xw.exports=IH()),xw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD;function FH(){if(kD)return mu;kD=1;var n=ri(),e=BH();function t(d){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(d,v){s(d,v),s(d+"Capture",v)}function s(d,v){for(i[d]=v,d=0;d<v.length;d++)r.add(v[d])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},f={};function h(d){return u.call(f,d)?!0:u.call(l,d)?!1:c.test(d)?f[d]=!0:(l[d]=!0,!1)}function m(d,v,w,P){if(w!==null&&w.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return P?!1:w!==null?!w.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function g(d,v,w,P){if(v===null||typeof v>"u"||m(d,v,w,P))return!0;if(P)return!1;if(w!==null)switch(w.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function p(d,v,w,P,U,H,ne){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=P,this.attributeNamespace=U,this.mustUseProperty=w,this.propertyName=d,this.type=v,this.sanitizeURL=H,this.removeEmptyString=ne}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){y[d]=new p(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var v=d[0];y[v]=new p(v,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){y[d]=new p(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){y[d]=new p(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){y[d]=new p(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){y[d]=new p(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){y[d]=new p(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){y[d]=new p(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){y[d]=new p(d,5,!1,d.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var v=d.replace(b,x);y[v]=new p(v,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var v=d.replace(b,x);y[v]=new p(v,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var v=d.replace(b,x);y[v]=new p(v,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){y[d]=new p(d,1,!1,d.toLowerCase(),null,!1,!1)}),y.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){y[d]=new p(d,1,!1,d.toLowerCase(),null,!0,!0)});function C(d,v,w,P){var U=y.hasOwnProperty(v)?y[v]:null;(U!==null?U.type!==0:P||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(g(v,w,U,P)&&(w=null),P||U===null?h(v)&&(w===null?d.removeAttribute(v):d.setAttribute(v,""+w)):U.mustUseProperty?d[U.propertyName]=w===null?U.type===3?!1:"":w:(v=U.attributeName,P=U.attributeNamespace,w===null?d.removeAttribute(v):(U=U.type,w=U===3||U===4&&w===!0?"":""+w,P?d.setAttributeNS(P,v,w):d.setAttribute(v,w))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),k=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),V=Symbol.iterator;function ae(d){return d===null||typeof d!="object"?null:(d=V&&d[V]||d["@@iterator"],typeof d=="function"?d:null)}var ue=Object.assign,Q;function de(d){if(Q===void 0)try{throw Error()}catch(w){var v=w.stack.trim().match(/\n( *(at )?)/);Q=v&&v[1]||""}return`
`+Q+d}var we=!1;function ye(d,v){if(!d||we)return"";we=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(nt){var P=nt}Reflect.construct(d,[],v)}else{try{v.call()}catch(nt){P=nt}d.call(v.prototype)}else{try{throw Error()}catch(nt){P=nt}d()}}catch(nt){if(nt&&P&&typeof nt.stack=="string"){for(var U=nt.stack.split(`
`),H=P.stack.split(`
`),ne=U.length-1,Ae=H.length-1;1<=ne&&0<=Ae&&U[ne]!==H[Ae];)Ae--;for(;1<=ne&&0<=Ae;ne--,Ae--)if(U[ne]!==H[Ae]){if(ne!==1||Ae!==1)do if(ne--,Ae--,0>Ae||U[ne]!==H[Ae]){var Te=`
`+U[ne].replace(" at new "," at ");return d.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",d.displayName)),Te}while(1<=ne&&0<=Ae);break}}}finally{we=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?de(d):""}function Ce(d){switch(d.tag){case 5:return de(d.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return d=ye(d.type,!1),d;case 11:return d=ye(d.type.render,!1),d;case 1:return d=ye(d.type,!0),d;default:return""}}function Le(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case N:return"Fragment";case O:return"Portal";case I:return"Profiler";case F:return"StrictMode";case Y:return"Suspense";case ee:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case k:return(d.displayName||"Context")+".Consumer";case B:return(d._context.displayName||"Context")+".Provider";case q:var v=d.render;return d=d.displayName,d||(d=v.displayName||v.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case le:return v=d.displayName||null,v!==null?v:Le(d.type)||"Memo";case J:v=d._payload,d=d._init;try{return Le(d(v))}catch{}}return null}function Ie(d){var v=d.type;switch(d.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=v.render,d=d.displayName||d.name||"",v.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(v);case 8:return v===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function Ze(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function tt(d){var v=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function Qe(d){var v=tt(d)?"checked":"value",w=Object.getOwnPropertyDescriptor(d.constructor.prototype,v),P=""+d[v];if(!d.hasOwnProperty(v)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var U=w.get,H=w.set;return Object.defineProperty(d,v,{configurable:!0,get:function(){return U.call(this)},set:function(ne){P=""+ne,H.call(this,ne)}}),Object.defineProperty(d,v,{enumerable:w.enumerable}),{getValue:function(){return P},setValue:function(ne){P=""+ne},stopTracking:function(){d._valueTracker=null,delete d[v]}}}}function lt(d){d._valueTracker||(d._valueTracker=Qe(d))}function We(d){if(!d)return!1;var v=d._valueTracker;if(!v)return!0;var w=v.getValue(),P="";return d&&(P=tt(d)?d.checked?"true":"false":d.value),d=P,d!==w?(v.setValue(d),!0):!1}function Ke(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function he(d,v){var w=v.checked;return ue({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??d._wrapperState.initialChecked})}function wt(d,v){var w=v.defaultValue==null?"":v.defaultValue,P=v.checked!=null?v.checked:v.defaultChecked;w=Ze(v.value!=null?v.value:w),d._wrapperState={initialChecked:P,initialValue:w,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function ft(d,v){v=v.checked,v!=null&&C(d,"checked",v,!1)}function vt(d,v){ft(d,v);var w=Ze(v.value),P=v.type;if(w!=null)P==="number"?(w===0&&d.value===""||d.value!=w)&&(d.value=""+w):d.value!==""+w&&(d.value=""+w);else if(P==="submit"||P==="reset"){d.removeAttribute("value");return}v.hasOwnProperty("value")?Ht(d,v.type,w):v.hasOwnProperty("defaultValue")&&Ht(d,v.type,Ze(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(d.defaultChecked=!!v.defaultChecked)}function yt(d,v,w){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var P=v.type;if(!(P!=="submit"&&P!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+d._wrapperState.initialValue,w||v===d.value||(d.value=v),d.defaultValue=v}w=d.name,w!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,w!==""&&(d.name=w)}function Ht(d,v,w){(v!=="number"||Ke(d.ownerDocument)!==d)&&(w==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+w&&(d.defaultValue=""+w))}var $e=Array.isArray;function te(d,v,w,P){if(d=d.options,v){v={};for(var U=0;U<w.length;U++)v["$"+w[U]]=!0;for(w=0;w<d.length;w++)U=v.hasOwnProperty("$"+d[w].value),d[w].selected!==U&&(d[w].selected=U),U&&P&&(d[w].defaultSelected=!0)}else{for(w=""+Ze(w),v=null,U=0;U<d.length;U++){if(d[U].value===w){d[U].selected=!0,P&&(d[U].defaultSelected=!0);return}v!==null||d[U].disabled||(v=d[U])}v!==null&&(v.selected=!0)}}function K(d,v){if(v.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},v,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function j(d,v){var w=v.value;if(w==null){if(w=v.children,v=v.defaultValue,w!=null){if(v!=null)throw Error(t(92));if($e(w)){if(1<w.length)throw Error(t(93));w=w[0]}v=w}v==null&&(v=""),w=v}d._wrapperState={initialValue:Ze(w)}}function re(d,v){var w=Ze(v.value),P=Ze(v.defaultValue);w!=null&&(w=""+w,w!==d.value&&(d.value=w),v.defaultValue==null&&d.defaultValue!==w&&(d.defaultValue=w)),P!=null&&(d.defaultValue=""+P)}function me(d){var v=d.textContent;v===d._wrapperState.initialValue&&v!==""&&v!==null&&(d.value=v)}function ve(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(d,v){return d==null||d==="http://www.w3.org/1999/xhtml"?ve(v):d==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var xe,Ge=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,w,P,U){MSApp.execUnsafeLocalFunction(function(){return d(v,w,P,U)})}:d}(function(d,v){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=v;else{for(xe=xe||document.createElement("div"),xe.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=xe.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;v.firstChild;)d.appendChild(v.firstChild)}});function et(d,v){if(v){var w=d.firstChild;if(w&&w===d.lastChild&&w.nodeType===3){w.nodeValue=v;return}}d.textContent=v}var Ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ve=["Webkit","ms","Moz","O"];Object.keys(Ne).forEach(function(d){Ve.forEach(function(v){v=v+d.charAt(0).toUpperCase()+d.substring(1),Ne[v]=Ne[d]})});function Bt(d,v,w){return v==null||typeof v=="boolean"||v===""?"":w||typeof v!="number"||v===0||Ne.hasOwnProperty(d)&&Ne[d]?(""+v).trim():v+"px"}function Nt(d,v){d=d.style;for(var w in v)if(v.hasOwnProperty(w)){var P=w.indexOf("--")===0,U=Bt(w,v[w],P);w==="float"&&(w="cssFloat"),P?d.setProperty(w,U):d[w]=U}}var Pt=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tn(d,v){if(v){if(Pt[d]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(t(137,d));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(t(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(t(61))}if(v.style!=null&&typeof v.style!="object")throw Error(t(62))}}function Jt(d,v){if(d.indexOf("-")===-1)return typeof v.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mn=null;function Re(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ft=null,rt=null,dt=null;function bt(d){if(d=Ii(d)){if(typeof Ft!="function")throw Error(t(280));var v=d.stateNode;v&&(v=Ih(v),Ft(d.stateNode,d.type,v))}}function kt(d){rt?dt?dt.push(d):dt=[d]:rt=d}function vn(){if(rt){var d=rt,v=dt;if(dt=rt=null,bt(d),v)for(d=0;d<v.length;d++)bt(v[d])}}function fr(d,v){return d(v)}function Ar(){}var Gn=!1;function li(d,v,w){if(Gn)return d(v,w);Gn=!0;try{return fr(d,v,w)}finally{Gn=!1,(rt!==null||dt!==null)&&(Ar(),vn())}}function Zr(d,v){var w=d.stateNode;if(w===null)return null;var P=Ih(w);if(P===null)return null;w=P[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(d=d.type,P=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!P;break e;default:d=!1}if(d)return null;if(w&&typeof w!="function")throw Error(t(231,v,typeof w));return w}var Po=!1;if(a)try{var us={};Object.defineProperty(us,"passive",{get:function(){Po=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Po=!1}function Xi(d,v,w,P,U,H,ne,Ae,Te){var nt=Array.prototype.slice.call(arguments,3);try{v.apply(w,nt)}catch(xt){this.onError(xt)}}var ro=!1,As=null,io=!1,Ai=null,Ui={onError:function(d){ro=!0,As=d}};function ii(d,v,w,P,U,H,ne,Ae,Te){ro=!1,As=null,Xi.apply(Ui,arguments)}function va(d,v,w,P,U,H,ne,Ae,Te){if(ii.apply(this,arguments),ro){if(ro){var nt=As;ro=!1,As=null}else throw Error(t(198));io||(io=!0,Ai=nt)}}function Do(d){var v=d,w=d;if(d.alternate)for(;v.return;)v=v.return;else{d=v;do v=d,v.flags&4098&&(w=v.return),d=v.return;while(d)}return v.tag===3?w:null}function Gr(d){if(d.tag===13){var v=d.memoizedState;if(v===null&&(d=d.alternate,d!==null&&(v=d.memoizedState)),v!==null)return v.dehydrated}return null}function $a(d){if(Do(d)!==d)throw Error(t(188))}function _a(d){var v=d.alternate;if(!v){if(v=Do(d),v===null)throw Error(t(188));return v!==d?null:d}for(var w=d,P=v;;){var U=w.return;if(U===null)break;var H=U.alternate;if(H===null){if(P=U.return,P!==null){w=P;continue}break}if(U.child===H.child){for(H=U.child;H;){if(H===w)return $a(U),d;if(H===P)return $a(U),v;H=H.sibling}throw Error(t(188))}if(w.return!==P.return)w=U,P=H;else{for(var ne=!1,Ae=U.child;Ae;){if(Ae===w){ne=!0,w=U,P=H;break}if(Ae===P){ne=!0,P=U,w=H;break}Ae=Ae.sibling}if(!ne){for(Ae=H.child;Ae;){if(Ae===w){ne=!0,w=H,P=U;break}if(Ae===P){ne=!0,P=H,w=U;break}Ae=Ae.sibling}if(!ne)throw Error(t(189))}}if(w.alternate!==P)throw Error(t(190))}if(w.tag!==3)throw Error(t(188));return w.stateNode.current===w?d:v}function Qt(d){return d=_a(d),d!==null?Kn(d):null}function Kn(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var v=Kn(d);if(v!==null)return v;d=d.sibling}return null}var se=e.unstable_scheduleCallback,Oe=e.unstable_cancelCallback,ke=e.unstable_shouldYield,je=e.unstable_requestPaint,be=e.unstable_now,st=e.unstable_getCurrentPriorityLevel,St=e.unstable_ImmediatePriority,Ct=e.unstable_UserBlockingPriority,Lt=e.unstable_NormalPriority,fn=e.unstable_LowPriority,an=e.unstable_IdlePriority,Xt=null,ot=null;function Dt(d){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Xt,d,void 0,(d.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Yt,ln=Math.log,rn=Math.LN2;function Yt(d){return d>>>=0,d===0?32:31-(ln(d)/rn|0)|0}var dr=64,En=4194304;function ci(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function oo(d,v){var w=d.pendingLanes;if(w===0)return 0;var P=0,U=d.suspendedLanes,H=d.pingedLanes,ne=w&268435455;if(ne!==0){var Ae=ne&~U;Ae!==0?P=ci(Ae):(H&=ne,H!==0&&(P=ci(H)))}else ne=w&~U,ne!==0?P=ci(ne):H!==0&&(P=ci(H));if(P===0)return 0;if(v!==0&&v!==P&&!(v&U)&&(U=P&-P,H=v&-v,U>=H||U===16&&(H&4194240)!==0))return v;if(P&4&&(P|=w&16),v=d.entangledLanes,v!==0)for(d=d.entanglements,v&=P;0<v;)w=31-un(v),U=1<<w,P|=d[w],v&=~U;return P}function so(d,v){switch(d){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qa(d,v){for(var w=d.suspendedLanes,P=d.pingedLanes,U=d.expirationTimes,H=d.pendingLanes;0<H;){var ne=31-un(H),Ae=1<<ne,Te=U[ne];Te===-1?(!(Ae&w)||Ae&P)&&(U[ne]=so(Ae,v)):Te<=v&&(d.expiredLanes|=Ae),H&=~Ae}}function Er(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Vr(){var d=dr;return dr<<=1,!(dr&4194240)&&(dr=64),d}function Ki(d){for(var v=[],w=0;31>w;w++)v.push(d);return v}function Ei(d,v,w){d.pendingLanes|=v,v!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,v=31-un(v),d[v]=w}function ao(d,v){var w=d.pendingLanes&~v;d.pendingLanes=v,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=v,d.mutableReadLanes&=v,d.entangledLanes&=v,v=d.entanglements;var P=d.eventTimes;for(d=d.expirationTimes;0<w;){var U=31-un(w),H=1<<U;v[U]=0,P[U]=-1,d[U]=-1,w&=~H}}function qs(d,v){var w=d.entangledLanes|=v;for(d=d.entanglements;w;){var P=31-un(w),U=1<<P;U&v|d[P]&v&&(d[P]|=v),w&=~U}}var Ln=0;function ya(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Qc,mh,cg,Xf,Kf,ml=!1,Jf=[],Xa=null,Jn=null,Mu=null,gl=new Map,Zc=new Map,vl=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ki(d,v){switch(d){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Mu=null;break;case"pointerover":case"pointerout":gl.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(v.pointerId)}}function Tu(d,v,w,P,U,H){return d===null||d.nativeEvent!==H?(d={blockedOn:v,domEventName:w,eventSystemFlags:P,nativeEvent:H,targetContainers:[U]},v!==null&&(v=Ii(v),v!==null&&mh(v)),d):(d.eventSystemFlags|=P,v=d.targetContainers,U!==null&&v.indexOf(U)===-1&&v.push(U),d)}function C1(d,v,w,P,U){switch(v){case"focusin":return Xa=Tu(Xa,d,v,w,P,U),!0;case"dragenter":return Jn=Tu(Jn,d,v,w,P,U),!0;case"mouseover":return Mu=Tu(Mu,d,v,w,P,U),!0;case"pointerover":var H=U.pointerId;return gl.set(H,Tu(gl.get(H)||null,d,v,w,P,U)),!0;case"gotpointercapture":return H=U.pointerId,Zc.set(H,Tu(Zc.get(H)||null,d,v,w,P,U)),!0}return!1}function gh(d){var v=Ca(d.target);if(v!==null){var w=Do(v);if(w!==null){if(v=w.tag,v===13){if(v=Gr(w),v!==null){d.blockedOn=v,Kf(d.priority,function(){cg(w)});return}}else if(v===3&&w.stateNode.current.memoizedState.isDehydrated){d.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}d.blockedOn=null}function vh(d){if(d.blockedOn!==null)return!1;for(var v=d.targetContainers;0<v.length;){var w=Es(d.domEventName,d.eventSystemFlags,v[0],d.nativeEvent);if(w===null){w=d.nativeEvent;var P=new w.constructor(w.type,w);Mn=P,w.target.dispatchEvent(P),Mn=null}else return v=Ii(w),v!==null&&mh(v),d.blockedOn=w,!1;v.shift()}return!0}function Yf(d,v,w){vh(d)&&w.delete(v)}function Ka(){ml=!1,Xa!==null&&vh(Xa)&&(Xa=null),Jn!==null&&vh(Jn)&&(Jn=null),Mu!==null&&vh(Mu)&&(Mu=null),gl.forEach(Yf),Zc.forEach(Yf)}function Tr(d,v){d.blockedOn===v&&(d.blockedOn=null,ml||(ml=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ka)))}function Sr(d){function v(U){return Tr(U,d)}if(0<Jf.length){Tr(Jf[0],d);for(var w=1;w<Jf.length;w++){var P=Jf[w];P.blockedOn===d&&(P.blockedOn=null)}}for(Xa!==null&&Tr(Xa,d),Jn!==null&&Tr(Jn,d),Mu!==null&&Tr(Mu,d),gl.forEach(v),Zc.forEach(v),w=0;w<vl.length;w++)P=vl[w],P.blockedOn===d&&(P.blockedOn=null);for(;0<vl.length&&(w=vl[0],w.blockedOn===null);)gh(w),w.blockedOn===null&&vl.shift()}var Wo=M.ReactCurrentBatchConfig,Xs=!0;function _h(d,v,w,P){var U=Ln,H=Wo.transition;Wo.transition=null;try{Ln=1,yh(d,v,w,P)}finally{Ln=U,Wo.transition=H}}function Vp(d,v,w,P){var U=Ln,H=Wo.transition;Wo.transition=null;try{Ln=4,yh(d,v,w,P)}finally{Ln=U,Wo.transition=H}}function yh(d,v,w,P){if(Xs){var U=Es(d,v,w,P);if(U===null)Ph(d,v,P,bh,w),ki(d,P);else if(C1(U,d,v,w,P))P.stopPropagation();else if(ki(d,P),v&4&&-1<w1.indexOf(d)){for(;U!==null;){var H=Ii(U);if(H!==null&&Qc(H),H=Es(d,v,w,P),H===null&&Ph(d,v,P,bh,w),H===U)break;U=H}U!==null&&P.stopPropagation()}else Ph(d,v,P,null,w)}}var bh=null;function Es(d,v,w,P){if(bh=null,d=Re(P),d=Ca(d),d!==null)if(v=Do(d),v===null)d=null;else if(w=v.tag,w===13){if(d=Gr(v),d!==null)return d;d=null}else if(w===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;d=null}else v!==d&&(d=null);return bh=d,null}function fg(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case St:return 1;case Ct:return 4;case Lt:case fn:return 16;case an:return 536870912;default:return 16}default:return 16}}var Fr=null,Qf=null,Pi=null;function ef(){if(Pi)return Pi;var d,v=Qf,w=v.length,P,U="value"in Fr?Fr.value:Fr.textContent,H=U.length;for(d=0;d<w&&v[d]===U[d];d++);var ne=w-d;for(P=1;P<=ne&&v[w-P]===U[H-P];P++);return Pi=U.slice(d,1<P?1-P:void 0)}function Pu(d){var v=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&v===13&&(d=13)):d=v,d===10&&(d=13),32<=d||d===13?d:0}function Di(){return!0}function Zf(){return!1}function Ro(d){function v(w,P,U,H,ne){this._reactName=w,this._targetInst=U,this.type=P,this.nativeEvent=H,this.target=ne,this.currentTarget=null;for(var Ae in d)d.hasOwnProperty(Ae)&&(w=d[Ae],this[Ae]=w?w(H):H[Ae]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Di:Zf,this.isPropagationStopped=Zf,this}return ue(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),v}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tf=Ro(_l),yl=ue({},_l,{view:0,detail:0}),Jl=Ro(yl),jr,Ks,fi,nf=ue({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==fi&&(fi&&d.type==="mousemove"?(jr=d.screenX-fi.screenX,Ks=d.screenY-fi.screenY):Ks=jr=0,fi=d),jr)},movementY:function(d){return"movementY"in d?d.movementY:Ks}}),Ah=Ro(nf),Oo=ue({},nf,{dataTransfer:0}),ba=Ro(Oo),rf=ue({},yl,{relatedTarget:0}),Lr=Ro(rf),Aa=ue({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),Eh=Ro(Aa),dg=ue({},_l,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),ed=Ro(dg),Sh=ue({},_l,{data:0}),jp=Ro(Sh),hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ea(d){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(d):(d=of[d])?!!v[d]:!1}function bl(){return Ea}var td=ue({},yl,{key:function(d){if(d.key){var v=hg[d.key]||d.key;if(v!=="Unidentified")return v}return d.type==="keypress"?(d=Pu(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Wp[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(d){return d.type==="keypress"?Pu(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Pu(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),nd=Ro(td),ls=ue({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Ro(ls),Al=ue({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),Du=Ro(Al),Sa=ue({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=Ro(Sa),pg=ue({},nf,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),xh=Ro(pg),qo=[9,13,27,32],uo=a&&"CompositionEvent"in window,Si=null;a&&"documentMode"in document&&(Si=document.documentMode);var ei=a&&"TextEvent"in window&&!Si,Yl=a&&(!uo||Si&&8<Si&&11>=Si),Js=" ",$p=!1;function qp(d,v){switch(d){case"keyup":return qo.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var El=!1;function Ql(d,v){switch(d){case"compositionend":return wh(v);case"keypress":return v.which!==32?null:($p=!0,Js);case"textInput":return d=v.data,d===Js&&$p?null:d;default:return null}}function rd(d,v){if(El)return d==="compositionend"||!uo&&qp(d,v)?(d=ef(),Pi=Qf=Fr=null,El=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Yl&&v.locale!=="ko"?null:v.data;default:return null}}var sf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(d){var v=d&&d.nodeName&&d.nodeName.toLowerCase();return v==="input"?!!sf[d.type]:v==="textarea"}function Zl(d,v,w,P){kt(P),v=Dh(v,"onChange"),0<v.length&&(w=new tf("onChange","change",null,w,P),d.push({event:w,listeners:v}))}var Xo=null,Ou=null;function mg(d){df(d,0)}function Iu(d){var v=pn(d);if(We(v))return d}function gg(d,v){if(d==="change")return v}var xa=!1;if(a){var oi;if(a){var Sl="oninput"in document;if(!Sl){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),Sl=typeof ec.oninput=="function"}oi=Sl}else oi=!1;xa=oi&&(!document.documentMode||9<document.documentMode)}function wa(){Xo&&(Xo.detachEvent("onpropertychange",Ch),Ou=Xo=null)}function Ch(d){if(d.propertyName==="value"&&Iu(Ou)){var v=[];Zl(v,Ou,d,Re(d)),li(mg,v)}}function uf(d,v,w){d==="focusin"?(wa(),Xo=v,Ou=w,Xo.attachEvent("onpropertychange",Ch)):d==="focusout"&&wa()}function vg(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Iu(Ou)}function xl(d,v){if(d==="click")return Iu(v)}function Pe(d,v){if(d==="input"||d==="change")return Iu(v)}function ct(d,v){return d===v&&(d!==0||1/d===1/v)||d!==d&&v!==v}var Ye=typeof Object.is=="function"?Object.is:ct;function Vt(d,v){if(Ye(d,v))return!0;if(typeof d!="object"||d===null||typeof v!="object"||v===null)return!1;var w=Object.keys(d),P=Object.keys(v);if(w.length!==P.length)return!1;for(P=0;P<w.length;P++){var U=w[P];if(!u.call(v,U)||!Ye(d[U],v[U]))return!1}return!0}function Cn(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Bn(d,v){var w=Cn(d);d=0;for(var P;w;){if(w.nodeType===3){if(P=d+w.textContent.length,d<=v&&P>=v)return{node:w,offset:v-d};d=P}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Cn(w)}}function ti(d,v){return d&&v?d===v?!0:d&&d.nodeType===3?!1:v&&v.nodeType===3?ti(d,v.parentNode):"contains"in d?d.contains(v):d.compareDocumentPosition?!!(d.compareDocumentPosition(v)&16):!1:!1}function xn(){for(var d=window,v=Ke();v instanceof d.HTMLIFrameElement;){try{var w=typeof v.contentWindow.location.href=="string"}catch{w=!1}if(w)d=v.contentWindow;else break;v=Ke(d.document)}return v}function Ri(d){var v=d&&d.nodeName&&d.nodeName.toLowerCase();return v&&(v==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||v==="textarea"||d.contentEditable==="true")}function Ji(d){var v=xn(),w=d.focusedElem,P=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&ti(w.ownerDocument.documentElement,w)){if(P!==null&&Ri(w)){if(v=P.start,d=P.end,d===void 0&&(d=v),"selectionStart"in w)w.selectionStart=v,w.selectionEnd=Math.min(d,w.value.length);else if(d=(v=w.ownerDocument||document)&&v.defaultView||window,d.getSelection){d=d.getSelection();var U=w.textContent.length,H=Math.min(P.start,U);P=P.end===void 0?H:Math.min(P.end,U),!d.extend&&H>P&&(U=P,P=H,H=U),U=Bn(w,H);var ne=Bn(w,P);U&&ne&&(d.rangeCount!==1||d.anchorNode!==U.node||d.anchorOffset!==U.offset||d.focusNode!==ne.node||d.focusOffset!==ne.offset)&&(v=v.createRange(),v.setStart(U.node,U.offset),d.removeAllRanges(),H>P?(d.addRange(v),d.extend(ne.node,ne.offset)):(v.setEnd(ne.node,ne.offset),d.addRange(v)))}}for(v=[],d=w;d=d.parentNode;)d.nodeType===1&&v.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<v.length;w++)d=v[w],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Ko=a&&"documentMode"in document&&11>=document.documentMode,Ss=null,tc=null,Ja=null,xi=!1;function nc(d,v,w){var P=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;xi||Ss==null||Ss!==Ke(P)||(P=Ss,"selectionStart"in P&&Ri(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),Ja&&Vt(Ja,P)||(Ja=P,P=Dh(tc,"onSelect"),0<P.length&&(v=new tf("onSelect","select",null,v,w),d.push({event:v,listeners:P}),v.target=Ss)))}function lr(d,v){var w={};return w[d.toLowerCase()]=v.toLowerCase(),w["Webkit"+d]="webkit"+v,w["Moz"+d]="moz"+v,w}var wl={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionend:lr("Transition","TransitionEnd")},Ys={},cs={};a&&(cs=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function Ya(d){if(Ys[d])return Ys[d];if(!wl[d])return d;var v=wl[d],w;for(w in v)if(v.hasOwnProperty(w)&&w in cs)return Ys[d]=v[w];return d}var id=Ya("animationend"),od=Ya("animationiteration"),lf=Ya("animationstart"),Qa=Ya("transitionend"),cf=new Map,Mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(d,v){cf.set(d,v),o(v,[d])}for(var sd=0;sd<Mh.length;sd++){var ff=Mh[sd],Cl=ff.toLowerCase(),Xp=ff[0].toUpperCase()+ff.slice(1);Qs(Cl,"on"+Xp)}Qs(id,"onAnimationEnd"),Qs(od,"onAnimationIteration"),Qs(lf,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(Qa,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Za=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function rc(d,v,w){var P=d.type||"unknown-event";d.currentTarget=w,va(P,v,void 0,d),d.currentTarget=null}function df(d,v){v=(v&4)!==0;for(var w=0;w<d.length;w++){var P=d[w],U=P.event;P=P.listeners;e:{var H=void 0;if(v)for(var ne=P.length-1;0<=ne;ne--){var Ae=P[ne],Te=Ae.instance,nt=Ae.currentTarget;if(Ae=Ae.listener,Te!==H&&U.isPropagationStopped())break e;rc(U,Ae,nt),H=Te}else for(ne=0;ne<P.length;ne++){if(Ae=P[ne],Te=Ae.instance,nt=Ae.currentTarget,Ae=Ae.listener,Te!==H&&U.isPropagationStopped())break e;rc(U,Ae,nt),H=Te}}}if(io)throw d=Ai,io=!1,Ai=null,d}function Wr(d,v){var w=v[Rl];w===void 0&&(w=v[Rl]=new Set);var P=d+"__bubble";w.has(P)||(hf(v,d,2,!1),w.add(P))}function Th(d,v,w){var P=0;v&&(P|=4),hf(w,d,P,v)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function Bu(d){if(!d[Ml]){d[Ml]=!0,r.forEach(function(w){w!=="selectionchange"&&(Za.has(w)||Th(w,!1,d),Th(w,!0,d))});var v=d.nodeType===9?d:d.ownerDocument;v===null||v[Ml]||(v[Ml]=!0,Th("selectionchange",!1,v))}}function hf(d,v,w,P){switch(fg(v)){case 1:var U=_h;break;case 4:U=Vp;break;default:U=yh}w=U.bind(null,v,w,d),U=void 0,!Po||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(U=!0),P?U!==void 0?d.addEventListener(v,w,{capture:!0,passive:U}):d.addEventListener(v,w,!0):U!==void 0?d.addEventListener(v,w,{passive:U}):d.addEventListener(v,w,!1)}function Ph(d,v,w,P,U){var H=P;if(!(v&1)&&!(v&2)&&P!==null)e:for(;;){if(P===null)return;var ne=P.tag;if(ne===3||ne===4){var Ae=P.stateNode.containerInfo;if(Ae===U||Ae.nodeType===8&&Ae.parentNode===U)break;if(ne===4)for(ne=P.return;ne!==null;){var Te=ne.tag;if((Te===3||Te===4)&&(Te=ne.stateNode.containerInfo,Te===U||Te.nodeType===8&&Te.parentNode===U))return;ne=ne.return}for(;Ae!==null;){if(ne=Ca(Ae),ne===null)return;if(Te=ne.tag,Te===5||Te===6){P=H=ne;continue e}Ae=Ae.parentNode}}P=P.return}li(function(){var nt=H,xt=Re(w),Rt=[];e:{var At=cf.get(d);if(At!==void 0){var Kt=tf,nn=d;switch(d){case"keypress":if(Pu(w)===0)break e;case"keydown":case"keyup":Kt=nd;break;case"focusin":nn="focus",Kt=Lr;break;case"focusout":nn="blur",Kt=Lr;break;case"beforeblur":case"afterblur":Kt=Lr;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Kt=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Kt=ba;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Kt=Du;break;case id:case od:case lf:Kt=Eh;break;case Qa:Kt=Ru;break;case"scroll":Kt=Jl;break;case"wheel":Kt=xh;break;case"copy":case"cut":case"paste":Kt=ed;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Kt=$o}var on=(v&4)!==0,Gi=!on&&d==="scroll",qe=on?At!==null?At+"Capture":null:At;on=[];for(var Fe=nt,Je;Fe!==null;){Je=Fe;var It=Je.stateNode;if(Je.tag===5&&It!==null&&(Je=It,qe!==null&&(It=Zr(Fe,qe),It!=null&&on.push(ic(Fe,It,Je)))),Gi)break;Fe=Fe.return}0<on.length&&(At=new Kt(At,nn,null,w,xt),Rt.push({event:At,listeners:on}))}}if(!(v&7)){e:{if(At=d==="mouseover"||d==="pointerover",Kt=d==="mouseout"||d==="pointerout",At&&w!==Mn&&(nn=w.relatedTarget||w.fromElement)&&(Ca(nn)||nn[lo]))break e;if((Kt||At)&&(At=xt.window===xt?xt:(At=xt.ownerDocument)?At.defaultView||At.parentWindow:window,Kt?(nn=w.relatedTarget||w.toElement,Kt=nt,nn=nn?Ca(nn):null,nn!==null&&(Gi=Do(nn),nn!==Gi||nn.tag!==5&&nn.tag!==6)&&(nn=null)):(Kt=null,nn=nt),Kt!==nn)){if(on=Ah,It="onMouseLeave",qe="onMouseEnter",Fe="mouse",(d==="pointerout"||d==="pointerover")&&(on=$o,It="onPointerLeave",qe="onPointerEnter",Fe="pointer"),Gi=Kt==null?At:pn(Kt),Je=nn==null?At:pn(nn),At=new on(It,Fe+"leave",Kt,w,xt),At.target=Gi,At.relatedTarget=Je,It=null,Ca(xt)===nt&&(on=new on(qe,Fe+"enter",nn,w,xt),on.target=Je,on.relatedTarget=Gi,It=on),Gi=It,Kt&&nn)t:{for(on=Kt,qe=nn,Fe=0,Je=on;Je;Je=oc(Je))Fe++;for(Je=0,It=qe;It;It=oc(It))Je++;for(;0<Fe-Je;)on=oc(on),Fe--;for(;0<Je-Fe;)qe=oc(qe),Je--;for(;Fe--;){if(on===qe||qe!==null&&on===qe.alternate)break t;on=oc(on),qe=oc(qe)}on=null}else on=null;Kt!==null&&Oi(Rt,At,Kt,on,!1),nn!==null&&Gi!==null&&Oi(Rt,Gi,nn,on,!0)}}e:{if(At=nt?pn(nt):window,Kt=At.nodeName&&At.nodeName.toLowerCase(),Kt==="select"||Kt==="input"&&At.type==="file")var cn=gg;else if(af(At))if(xa)cn=Pe;else{cn=vg;var Sn=uf}else(Kt=At.nodeName)&&Kt.toLowerCase()==="input"&&(At.type==="checkbox"||At.type==="radio")&&(cn=xl);if(cn&&(cn=cn(d,nt))){Zl(Rt,cn,w,xt);break e}Sn&&Sn(d,At,nt),d==="focusout"&&(Sn=At._wrapperState)&&Sn.controlled&&At.type==="number"&&Ht(At,"number",At.value)}switch(Sn=nt?pn(nt):window,d){case"focusin":(af(Sn)||Sn.contentEditable==="true")&&(Ss=Sn,tc=nt,Ja=null);break;case"focusout":Ja=tc=Ss=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,nc(Rt,w,xt);break;case"selectionchange":if(Ko)break;case"keydown":case"keyup":nc(Rt,w,xt)}var yn;if(uo)e:{switch(d){case"compositionstart":var Pn="onCompositionStart";break e;case"compositionend":Pn="onCompositionEnd";break e;case"compositionupdate":Pn="onCompositionUpdate";break e}Pn=void 0}else El?qp(d,w)&&(Pn="onCompositionEnd"):d==="keydown"&&w.keyCode===229&&(Pn="onCompositionStart");Pn&&(Yl&&w.locale!=="ko"&&(El||Pn!=="onCompositionStart"?Pn==="onCompositionEnd"&&El&&(yn=ef()):(Fr=xt,Qf="value"in Fr?Fr.value:Fr.textContent,El=!0)),Sn=Dh(nt,Pn),0<Sn.length&&(Pn=new jp(Pn,d,null,w,xt),Rt.push({event:Pn,listeners:Sn}),yn?Pn.data=yn:(yn=wh(w),yn!==null&&(Pn.data=yn)))),(yn=ei?Ql(d,w):rd(d,w))&&(nt=Dh(nt,"onBeforeInput"),0<nt.length&&(xt=new jp("onBeforeInput","beforeinput",null,w,xt),Rt.push({event:xt,listeners:nt}),xt.data=yn))}df(Rt,v)})}function ic(d,v,w){return{instance:d,listener:v,currentTarget:w}}function Dh(d,v){for(var w=v+"Capture",P=[];d!==null;){var U=d,H=U.stateNode;U.tag===5&&H!==null&&(U=H,H=Zr(d,w),H!=null&&P.unshift(ic(d,H,U)),H=Zr(d,v),H!=null&&P.push(ic(d,H,U))),d=d.return}return P}function oc(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function Oi(d,v,w,P,U){for(var H=v._reactName,ne=[];w!==null&&w!==P;){var Ae=w,Te=Ae.alternate,nt=Ae.stateNode;if(Te!==null&&Te===P)break;Ae.tag===5&&nt!==null&&(Ae=nt,U?(Te=Zr(w,H),Te!=null&&ne.unshift(ic(w,Te,Ae))):U||(Te=Zr(w,H),Te!=null&&ne.push(ic(w,Te,Ae)))),w=w.return}ne.length!==0&&d.push({event:v,listeners:ne})}var Io=/\r\n?/g,_g=/\u0000|\uFFFD/g;function Kp(d){return(typeof d=="string"?d:""+d).replace(Io,`
`).replace(_g,"")}function pf(d,v,w){if(v=Kp(v),Kp(d)!==v&&w)throw Error(t(425))}function ad(){}var Tl=null,sc=null;function ud(d,v){return d==="textarea"||d==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,ac=typeof clearTimeout=="function"?clearTimeout:void 0,Dl=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof Dl<"u"?function(d){return Dl.resolve(null).then(d).catch(uc)}:Pl;function uc(d){setTimeout(function(){throw d})}function Oh(d,v){var w=v,P=0;do{var U=w.nextSibling;if(d.removeChild(w),U&&U.nodeType===8)if(w=U.data,w==="/$"){if(P===0){d.removeChild(U),Sr(v);return}P--}else w!=="$"&&w!=="$?"&&w!=="$!"||P++;w=U}while(w);Sr(v)}function Fu(d){for(;d!=null;d=d.nextSibling){var v=d.nodeType;if(v===1||v===3)break;if(v===8){if(v=d.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return d}function Jp(d){d=d.previousSibling;for(var v=0;d;){if(d.nodeType===8){var w=d.data;if(w==="$"||w==="$!"||w==="$?"){if(v===0)return d;v--}else w==="/$"&&v++}d=d.previousSibling}return null}var lc=Math.random().toString(36).slice(2),zi="__reactFiber$"+lc,Lu="__reactProps$"+lc,lo="__reactContainer$"+lc,Rl="__reactEvents$"+lc,ce="__reactListeners$"+lc,Nu="__reactHandles$"+lc;function Ca(d){var v=d[zi];if(v)return v;for(var w=d.parentNode;w;){if(v=w[lo]||w[zi]){if(w=v.alternate,v.child!==null||w!==null&&w.child!==null)for(d=Jp(d);d!==null;){if(w=d[zi])return w;d=Jp(d)}return v}d=w,w=d.parentNode}return null}function Ii(d){return d=d[zi]||d[lo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function pn(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(t(33))}function Ih(d){return d[Lu]||null}var Yp=[],Yi=-1;function Rr(d){return{current:d}}function $r(d){0>Yi||(d.current=Yp[Yi],Yp[Yi]=null,Yi--)}function Nr(d,v){Yi++,Yp[Yi]=d.current,d.current=v}var Uu={},co=Rr(Uu),Jo=Rr(!1),fo=Uu;function cc(d,v){var w=d.type.contextTypes;if(!w)return Uu;var P=d.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===v)return P.__reactInternalMemoizedMaskedChildContext;var U={},H;for(H in w)U[H]=v[H];return P&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=v,d.__reactInternalMemoizedMaskedChildContext=U),U}function Bo(d){return d=d.childContextTypes,d!=null}function ld(){$r(Jo),$r(co)}function Qp(d,v,w){if(co.current!==Uu)throw Error(t(168));Nr(co,v),Nr(Jo,w)}function cd(d,v,w){var P=d.stateNode;if(v=v.childContextTypes,typeof P.getChildContext!="function")return w;P=P.getChildContext();for(var U in P)if(!(U in v))throw Error(t(108,Ie(d)||"Unknown",U));return ue({},w,P)}function Yo(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Uu,fo=co.current,Nr(co,d),Nr(Jo,Jo.current),!0}function Zp(d,v,w){var P=d.stateNode;if(!P)throw Error(t(169));w?(d=cd(d,v,fo),P.__reactInternalMemoizedMergedChildContext=d,$r(Jo),$r(co),Nr(co,d)):$r(Jo),Nr(Jo,w)}var Ma=null,fd=!1,Bh=!1;function dd(d){Ma===null?Ma=[d]:Ma.push(d)}function Ol(d){fd=!0,dd(d)}function eu(){if(!Bh&&Ma!==null){Bh=!0;var d=0,v=Ln;try{var w=Ma;for(Ln=1;d<w.length;d++){var P=w[d];do P=P(!0);while(P!==null)}Ma=null,fd=!1}catch(U){throw Ma!==null&&(Ma=Ma.slice(d+1)),se(St,eu),U}finally{Ln=v,Bh=!1}}return null}var fc=[],si=0,Fh=null,Lh=0,Qo=[],Qi=0,dc=null,Ut=1,xs="";function ku(d,v){fc[si++]=Lh,fc[si++]=Fh,Fh=d,Lh=v}function em(d,v,w){Qo[Qi++]=Ut,Qo[Qi++]=xs,Qo[Qi++]=dc,dc=d;var P=Ut;d=xs;var U=32-un(P)-1;P&=~(1<<U),w+=1;var H=32-un(v)+U;if(30<H){var ne=U-U%5;H=(P&(1<<ne)-1).toString(32),P>>=ne,U-=ne,Ut=1<<32-un(v)+U|w<<U|P,xs=H+d}else Ut=1<<H|w<<U|P,xs=d}function hd(d){d.return!==null&&(ku(d,1),em(d,1,0))}function ws(d){for(;d===Fh;)Fh=fc[--si],fc[si]=null,Lh=fc[--si],fc[si]=null;for(;d===dc;)dc=Qo[--Qi],Qo[Qi]=null,xs=Qo[--Qi],Qo[Qi]=null,Ut=Qo[--Qi],Qo[Qi]=null}var Bi=null,Zo=null,qr=!1,ea=null;function Ta(d,v){var w=fu(5,null,null,0);w.elementType="DELETED",w.stateNode=v,w.return=d,v=d.deletions,v===null?(d.deletions=[w],d.flags|=16):v.push(w)}function pd(d,v){switch(d.tag){case 5:var w=d.type;return v=v.nodeType!==1||w.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(d.stateNode=v,Bi=d,Zo=Fu(v.firstChild),!0):!1;case 6:return v=d.pendingProps===""||v.nodeType!==3?null:v,v!==null?(d.stateNode=v,Bi=d,Zo=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(w=dc!==null?{id:Ut,overflow:xs}:null,d.memoizedState={dehydrated:v,treeContext:w,retryLane:1073741824},w=fu(18,null,null,0),w.stateNode=v,w.return=d,d.child=w,Bi=d,Zo=null,!0):!1;default:return!1}}function tu(d){return(d.mode&1)!==0&&(d.flags&128)===0}function es(d){if(qr){var v=Zo;if(v){var w=v;if(!pd(d,v)){if(tu(d))throw Error(t(418));v=Fu(w.nextSibling);var P=Bi;v&&pd(d,v)?Ta(P,w):(d.flags=d.flags&-4097|2,qr=!1,Bi=d)}}else{if(tu(d))throw Error(t(418));d.flags=d.flags&-4097|2,qr=!1,Bi=d}}}function Nh(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Bi=d}function hc(d){if(d!==Bi)return!1;if(!qr)return Nh(d),qr=!0,!1;var v;if((v=d.tag!==3)&&!(v=d.tag!==5)&&(v=d.type,v=v!=="head"&&v!=="body"&&!ud(d.type,d.memoizedProps)),v&&(v=Zo)){if(tu(d))throw Uh(),Error(t(418));for(;v;)Ta(d,v),v=Fu(v.nextSibling)}if(Nh(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));e:{for(d=d.nextSibling,v=0;d;){if(d.nodeType===8){var w=d.data;if(w==="/$"){if(v===0){Zo=Fu(d.nextSibling);break e}v--}else w!=="$"&&w!=="$!"&&w!=="$?"||v++}d=d.nextSibling}Zo=null}}else Zo=Bi?Fu(d.stateNode.nextSibling):null;return!0}function Uh(){for(var d=Zo;d;)d=Fu(d.nextSibling)}function ta(){Zo=Bi=null,qr=!1}function Cs(d){ea===null?ea=[d]:ea.push(d)}var yg=M.ReactCurrentBatchConfig;function md(d,v,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(t(309));var P=w.stateNode}if(!P)throw Error(t(147,d));var U=P,H=""+d;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===H?v.ref:(v=function(ne){var Ae=U.refs;ne===null?delete Ae[H]:Ae[H]=ne},v._stringRef=H,v)}if(typeof d!="string")throw Error(t(284));if(!w._owner)throw Error(t(290,d))}return d}function Il(d,v){throw d=Object.prototype.toString.call(v),Error(t(31,d==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":d))}function tm(d){var v=d._init;return v(d._payload)}function kh(d){function v(qe,Fe){if(d){var Je=qe.deletions;Je===null?(qe.deletions=[Fe],qe.flags|=16):Je.push(Fe)}}function w(qe,Fe){if(!d)return null;for(;Fe!==null;)v(qe,Fe),Fe=Fe.sibling;return null}function P(qe,Fe){for(qe=new Map;Fe!==null;)Fe.key!==null?qe.set(Fe.key,Fe):qe.set(Fe.index,Fe),Fe=Fe.sibling;return qe}function U(qe,Fe){return qe=Ju(qe,Fe),qe.index=0,qe.sibling=null,qe}function H(qe,Fe,Je){return qe.index=Je,d?(Je=qe.alternate,Je!==null?(Je=Je.index,Je<Fe?(qe.flags|=2,Fe):Je):(qe.flags|=2,Fe)):(qe.flags|=1048576,Fe)}function ne(qe){return d&&qe.alternate===null&&(qe.flags|=2),qe}function Ae(qe,Fe,Je,It){return Fe===null||Fe.tag!==6?(Fe=G1(Je,qe.mode,It),Fe.return=qe,Fe):(Fe=U(Fe,Je),Fe.return=qe,Fe)}function Te(qe,Fe,Je,It){var cn=Je.type;return cn===N?xt(qe,Fe,Je.props.children,It,Je.key):Fe!==null&&(Fe.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===J&&tm(cn)===Fe.type)?(It=U(Fe,Je.props),It.ref=md(qe,Fe,Je),It.return=qe,It):(It=Ng(Je.type,Je.key,Je.props,null,qe.mode,It),It.ref=md(qe,Fe,Je),It.return=qe,It)}function nt(qe,Fe,Je,It){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Je.containerInfo||Fe.stateNode.implementation!==Je.implementation?(Fe=V1(Je,qe.mode,It),Fe.return=qe,Fe):(Fe=U(Fe,Je.children||[]),Fe.return=qe,Fe)}function xt(qe,Fe,Je,It,cn){return Fe===null||Fe.tag!==7?(Fe=Cd(Je,qe.mode,It,cn),Fe.return=qe,Fe):(Fe=U(Fe,Je),Fe.return=qe,Fe)}function Rt(qe,Fe,Je){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Fe=G1(""+Fe,qe.mode,Je),Fe.return=qe,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case R:return Je=Ng(Fe.type,Fe.key,Fe.props,null,qe.mode,Je),Je.ref=md(qe,null,Fe),Je.return=qe,Je;case O:return Fe=V1(Fe,qe.mode,Je),Fe.return=qe,Fe;case J:var It=Fe._init;return Rt(qe,It(Fe._payload),Je)}if($e(Fe)||ae(Fe))return Fe=Cd(Fe,qe.mode,Je,null),Fe.return=qe,Fe;Il(qe,Fe)}return null}function At(qe,Fe,Je,It){var cn=Fe!==null?Fe.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number")return cn!==null?null:Ae(qe,Fe,""+Je,It);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case R:return Je.key===cn?Te(qe,Fe,Je,It):null;case O:return Je.key===cn?nt(qe,Fe,Je,It):null;case J:return cn=Je._init,At(qe,Fe,cn(Je._payload),It)}if($e(Je)||ae(Je))return cn!==null?null:xt(qe,Fe,Je,It,null);Il(qe,Je)}return null}function Kt(qe,Fe,Je,It,cn){if(typeof It=="string"&&It!==""||typeof It=="number")return qe=qe.get(Je)||null,Ae(Fe,qe,""+It,cn);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case R:return qe=qe.get(It.key===null?Je:It.key)||null,Te(Fe,qe,It,cn);case O:return qe=qe.get(It.key===null?Je:It.key)||null,nt(Fe,qe,It,cn);case J:var Sn=It._init;return Kt(qe,Fe,Je,Sn(It._payload),cn)}if($e(It)||ae(It))return qe=qe.get(Je)||null,xt(Fe,qe,It,cn,null);Il(Fe,It)}return null}function nn(qe,Fe,Je,It){for(var cn=null,Sn=null,yn=Fe,Pn=Fe=0,zo=null;yn!==null&&Pn<Je.length;Pn++){yn.index>Pn?(zo=yn,yn=null):zo=yn.sibling;var xr=At(qe,yn,Je[Pn],It);if(xr===null){yn===null&&(yn=zo);break}d&&yn&&xr.alternate===null&&v(qe,yn),Fe=H(xr,Fe,Pn),Sn===null?cn=xr:Sn.sibling=xr,Sn=xr,yn=zo}if(Pn===Je.length)return w(qe,yn),qr&&ku(qe,Pn),cn;if(yn===null){for(;Pn<Je.length;Pn++)yn=Rt(qe,Je[Pn],It),yn!==null&&(Fe=H(yn,Fe,Pn),Sn===null?cn=yn:Sn.sibling=yn,Sn=yn);return qr&&ku(qe,Pn),cn}for(yn=P(qe,yn);Pn<Je.length;Pn++)zo=Kt(yn,qe,Pn,Je[Pn],It),zo!==null&&(d&&zo.alternate!==null&&yn.delete(zo.key===null?Pn:zo.key),Fe=H(zo,Fe,Pn),Sn===null?cn=zo:Sn.sibling=zo,Sn=zo);return d&&yn.forEach(function(Pf){return v(qe,Pf)}),qr&&ku(qe,Pn),cn}function on(qe,Fe,Je,It){var cn=ae(Je);if(typeof cn!="function")throw Error(t(150));if(Je=cn.call(Je),Je==null)throw Error(t(151));for(var Sn=cn=null,yn=Fe,Pn=Fe=0,zo=null,xr=Je.next();yn!==null&&!xr.done;Pn++,xr=Je.next()){yn.index>Pn?(zo=yn,yn=null):zo=yn.sibling;var Pf=At(qe,yn,xr.value,It);if(Pf===null){yn===null&&(yn=zo);break}d&&yn&&Pf.alternate===null&&v(qe,yn),Fe=H(Pf,Fe,Pn),Sn===null?cn=Pf:Sn.sibling=Pf,Sn=Pf,yn=zo}if(xr.done)return w(qe,yn),qr&&ku(qe,Pn),cn;if(yn===null){for(;!xr.done;Pn++,xr=Je.next())xr=Rt(qe,xr.value,It),xr!==null&&(Fe=H(xr,Fe,Pn),Sn===null?cn=xr:Sn.sibling=xr,Sn=xr);return qr&&ku(qe,Pn),cn}for(yn=P(qe,yn);!xr.done;Pn++,xr=Je.next())xr=Kt(yn,qe,Pn,xr.value,It),xr!==null&&(d&&xr.alternate!==null&&yn.delete(xr.key===null?Pn:xr.key),Fe=H(xr,Fe,Pn),Sn===null?cn=xr:Sn.sibling=xr,Sn=xr);return d&&yn.forEach(function(lw){return v(qe,lw)}),qr&&ku(qe,Pn),cn}function Gi(qe,Fe,Je,It){if(typeof Je=="object"&&Je!==null&&Je.type===N&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case R:e:{for(var cn=Je.key,Sn=Fe;Sn!==null;){if(Sn.key===cn){if(cn=Je.type,cn===N){if(Sn.tag===7){w(qe,Sn.sibling),Fe=U(Sn,Je.props.children),Fe.return=qe,qe=Fe;break e}}else if(Sn.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===J&&tm(cn)===Sn.type){w(qe,Sn.sibling),Fe=U(Sn,Je.props),Fe.ref=md(qe,Sn,Je),Fe.return=qe,qe=Fe;break e}w(qe,Sn);break}else v(qe,Sn);Sn=Sn.sibling}Je.type===N?(Fe=Cd(Je.props.children,qe.mode,It,Je.key),Fe.return=qe,qe=Fe):(It=Ng(Je.type,Je.key,Je.props,null,qe.mode,It),It.ref=md(qe,Fe,Je),It.return=qe,qe=It)}return ne(qe);case O:e:{for(Sn=Je.key;Fe!==null;){if(Fe.key===Sn)if(Fe.tag===4&&Fe.stateNode.containerInfo===Je.containerInfo&&Fe.stateNode.implementation===Je.implementation){w(qe,Fe.sibling),Fe=U(Fe,Je.children||[]),Fe.return=qe,qe=Fe;break e}else{w(qe,Fe);break}else v(qe,Fe);Fe=Fe.sibling}Fe=V1(Je,qe.mode,It),Fe.return=qe,qe=Fe}return ne(qe);case J:return Sn=Je._init,Gi(qe,Fe,Sn(Je._payload),It)}if($e(Je))return nn(qe,Fe,Je,It);if(ae(Je))return on(qe,Fe,Je,It);Il(qe,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"?(Je=""+Je,Fe!==null&&Fe.tag===6?(w(qe,Fe.sibling),Fe=U(Fe,Je),Fe.return=qe,qe=Fe):(w(qe,Fe),Fe=G1(Je,qe.mode,It),Fe.return=qe,qe=Fe),ne(qe)):w(qe,Fe)}return Gi}var di=kh(!0),pc=kh(!1),Bl=Rr(null),Fo=null,Pa=null,zu=null;function Ms(){zu=Pa=Fo=null}function mf(d){var v=Bl.current;$r(Bl),d._currentValue=v}function Hi(d,v,w){for(;d!==null;){var P=d.alternate;if((d.childLanes&v)!==v?(d.childLanes|=v,P!==null&&(P.childLanes|=v)):P!==null&&(P.childLanes&v)!==v&&(P.childLanes|=v),d===w)break;d=d.return}}function nu(d,v){Fo=d,zu=Pa=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&v&&(Vn=!0),d.firstContext=null)}function Ts(d){var v=d._currentValue;if(zu!==d)if(d={context:d,memoizedValue:v,next:null},Pa===null){if(Fo===null)throw Error(t(308));Pa=d,Fo.dependencies={lanes:0,firstContext:d}}else Pa=Pa.next=d;return v}var Hu=null;function nm(d){Hu===null?Hu=[d]:Hu.push(d)}function mc(d,v,w,P){var U=v.interleaved;return U===null?(w.next=w,nm(v)):(w.next=U.next,U.next=w),v.interleaved=w,Da(d,P)}function Da(d,v){d.lanes|=v;var w=d.alternate;for(w!==null&&(w.lanes|=v),w=d,d=d.return;d!==null;)d.childLanes|=v,w=d.alternate,w!==null&&(w.childLanes|=v),w=d,d=d.return;return w.tag===3?w.stateNode:null}var gr=!1;function Nn(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wi(d,v){d=d.updateQueue,v.updateQueue===d&&(v.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Or(d,v){return{eventTime:d,lane:v,tag:0,payload:null,callback:null,next:null}}function Ir(d,v,w){var P=d.updateQueue;if(P===null)return null;if(P=P.shared,vr&2){var U=P.pending;return U===null?v.next=v:(v.next=U.next,U.next=v),P.pending=v,Da(d,w)}return U=P.interleaved,U===null?(v.next=v,nm(P)):(v.next=U.next,U.next=v),P.interleaved=v,Da(d,w)}function Lo(d,v,w){if(v=v.updateQueue,v!==null&&(v=v.shared,(w&4194240)!==0)){var P=v.lanes;P&=d.pendingLanes,w|=P,v.lanes=w,qs(d,w)}}function gc(d,v){var w=d.updateQueue,P=d.alternate;if(P!==null&&(P=P.updateQueue,w===P)){var U=null,H=null;if(w=w.firstBaseUpdate,w!==null){do{var ne={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};H===null?U=H=ne:H=H.next=ne,w=w.next}while(w!==null);H===null?U=H=v:H=H.next=v}else U=H=v;w={baseState:P.baseState,firstBaseUpdate:U,lastBaseUpdate:H,shared:P.shared,effects:P.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=v:d.next=v,w.lastBaseUpdate=v}function ai(d,v,w,P){var U=d.updateQueue;gr=!1;var H=U.firstBaseUpdate,ne=U.lastBaseUpdate,Ae=U.shared.pending;if(Ae!==null){U.shared.pending=null;var Te=Ae,nt=Te.next;Te.next=null,ne===null?H=nt:ne.next=nt,ne=Te;var xt=d.alternate;xt!==null&&(xt=xt.updateQueue,Ae=xt.lastBaseUpdate,Ae!==ne&&(Ae===null?xt.firstBaseUpdate=nt:Ae.next=nt,xt.lastBaseUpdate=Te))}if(H!==null){var Rt=U.baseState;ne=0,xt=nt=Te=null,Ae=H;do{var At=Ae.lane,Kt=Ae.eventTime;if((P&At)===At){xt!==null&&(xt=xt.next={eventTime:Kt,lane:0,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null});e:{var nn=d,on=Ae;switch(At=v,Kt=w,on.tag){case 1:if(nn=on.payload,typeof nn=="function"){Rt=nn.call(Kt,Rt,At);break e}Rt=nn;break e;case 3:nn.flags=nn.flags&-65537|128;case 0:if(nn=on.payload,At=typeof nn=="function"?nn.call(Kt,Rt,At):nn,At==null)break e;Rt=ue({},Rt,At);break e;case 2:gr=!0}}Ae.callback!==null&&Ae.lane!==0&&(d.flags|=64,At=U.effects,At===null?U.effects=[Ae]:At.push(Ae))}else Kt={eventTime:Kt,lane:At,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},xt===null?(nt=xt=Kt,Te=Rt):xt=xt.next=Kt,ne|=At;if(Ae=Ae.next,Ae===null){if(Ae=U.shared.pending,Ae===null)break;At=Ae,Ae=At.next,At.next=null,U.lastBaseUpdate=At,U.shared.pending=null}}while(!0);if(xt===null&&(Te=Rt),U.baseState=Te,U.firstBaseUpdate=nt,U.lastBaseUpdate=xt,v=U.shared.interleaved,v!==null){U=v;do ne|=U.lane,U=U.next;while(U!==v)}else H===null&&(U.shared.lanes=0);xf|=ne,d.lanes=ne,d.memoizedState=Rt}}function vc(d,v,w){if(d=v.effects,v.effects=null,d!==null)for(v=0;v<d.length;v++){var P=d[v],U=P.callback;if(U!==null){if(P.callback=null,P=w,typeof U!="function")throw Error(t(191,U));U.call(P)}}}var ru={},Ps=Rr(ru),_c=Rr(ru),iu=Rr(ru);function mi(d){if(d===ru)throw Error(t(174));return d}function gd(d,v){switch(Nr(iu,v),Nr(_c,d),Nr(Ps,ru),d=v.nodeType,d){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Me(null,"");break;default:d=d===8?v.parentNode:v,v=d.namespaceURI||null,d=d.tagName,v=Me(v,d)}$r(Ps),Nr(Ps,v)}function ou(){$r(Ps),$r(_c),$r(iu)}function Fl(d){mi(iu.current);var v=mi(Ps.current),w=Me(v,d.type);v!==w&&(Nr(_c,d),Nr(Ps,w))}function yc(d){_c.current===d&&($r(Ps),$r(_c))}var Xr=Rr(0);function fs(d){for(var v=d;v!==null;){if(v.tag===13){var w=v.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if(v.flags&128)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var gf=[];function Ra(){for(var d=0;d<gf.length;d++)gf[d]._workInProgressVersionPrimary=null;gf.length=0}var Ll=M.ReactCurrentDispatcher,bc=M.ReactCurrentBatchConfig,su=0,Kr=null,ui=null,hr=null,Ds=!1,No=!1,au=0,_n=0;function ho(){throw Error(t(321))}function vd(d,v){if(v===null)return!1;for(var w=0;w<v.length&&w<d.length;w++)if(!Ye(d[w],v[w]))return!1;return!0}function Gu(d,v,w,P,U,H){if(su=H,Kr=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Ll.current=d===null||d.memoizedState===null?Eg:Ad,d=w(P,U),No){H=0;do{if(No=!1,au=0,25<=H)throw Error(t(301));H+=1,hr=ui=null,v.updateQueue=null,Ll.current=Ec,d=w(P,U)}while(No)}if(Ll.current=Xh,v=ui!==null&&ui.next!==null,su=0,hr=ui=Kr=null,Ds=!1,v)throw Error(t(300));return d}function zh(){var d=au!==0;return au=0,d}function po(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Kr.memoizedState=hr=d:hr=hr.next=d,hr}function Rs(){if(ui===null){var d=Kr.alternate;d=d!==null?d.memoizedState:null}else d=ui.next;var v=hr===null?Kr.memoizedState:hr.next;if(v!==null)hr=v,ui=d;else{if(d===null)throw Error(t(310));ui=d,d={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},hr===null?Kr.memoizedState=hr=d:hr=hr.next=d}return hr}function mo(d,v){return typeof v=="function"?v(d):v}function _d(d){var v=Rs(),w=v.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=d;var P=ui,U=P.baseQueue,H=w.pending;if(H!==null){if(U!==null){var ne=U.next;U.next=H.next,H.next=ne}P.baseQueue=U=H,w.pending=null}if(U!==null){H=U.next,P=P.baseState;var Ae=ne=null,Te=null,nt=H;do{var xt=nt.lane;if((su&xt)===xt)Te!==null&&(Te=Te.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),P=nt.hasEagerState?nt.eagerState:d(P,nt.action);else{var Rt={lane:xt,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};Te===null?(Ae=Te=Rt,ne=P):Te=Te.next=Rt,Kr.lanes|=xt,xf|=xt}nt=nt.next}while(nt!==null&&nt!==H);Te===null?ne=P:Te.next=Ae,Ye(P,v.memoizedState)||(Vn=!0),v.memoizedState=P,v.baseState=ne,v.baseQueue=Te,w.lastRenderedState=P}if(d=w.interleaved,d!==null){U=d;do H=U.lane,Kr.lanes|=H,xf|=H,U=U.next;while(U!==d)}else U===null&&(w.lanes=0);return[v.memoizedState,w.dispatch]}function na(d){var v=Rs(),w=v.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=d;var P=w.dispatch,U=w.pending,H=v.memoizedState;if(U!==null){w.pending=null;var ne=U=U.next;do H=d(H,ne.action),ne=ne.next;while(ne!==U);Ye(H,v.memoizedState)||(Vn=!0),v.memoizedState=H,v.baseQueue===null&&(v.baseState=H),w.lastRenderedState=H}return[H,P]}function yd(){}function Hh(d,v){var w=Kr,P=Rs(),U=v(),H=!Ye(P.memoizedState,U);if(H&&(P.memoizedState=U,Vn=!0),P=P.queue,uu(Vu.bind(null,w,P,d),[d]),P.getSnapshot!==v||H||hr!==null&&hr.memoizedState.tag&1){if(w.flags|=2048,ra(9,go.bind(null,w,P,U,v),void 0,null),ko===null)throw Error(t(349));su&30||bd(w,v,U)}return U}function bd(d,v,w){d.flags|=16384,d={getSnapshot:v,value:w},v=Kr.updateQueue,v===null?(v={lastEffect:null,stores:null},Kr.updateQueue=v,v.stores=[d]):(w=v.stores,w===null?v.stores=[d]:w.push(d))}function go(d,v,w,P){v.value=w,v.getSnapshot=P,Gh(v)&&Vh(d)}function Vu(d,v,w){return w(function(){Gh(v)&&Vh(d)})}function Gh(d){var v=d.getSnapshot;d=d.value;try{var w=v();return!Ye(d,w)}catch{return!0}}function Vh(d){var v=Da(d,1);v!==null&&Ku(v,d,1,-1)}function vf(d){var v=po();return typeof d=="function"&&(d=d()),v.memoizedState=v.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:d},v.queue=d,d=d.dispatch=Nl.bind(null,Kr,d),[v.memoizedState,d]}function ra(d,v,w,P){return d={tag:d,create:v,destroy:w,deps:P,next:null},v=Kr.updateQueue,v===null?(v={lastEffect:null,stores:null},Kr.updateQueue=v,v.lastEffect=d.next=d):(w=v.lastEffect,w===null?v.lastEffect=d.next=d:(P=w.next,w.next=d,d.next=P,v.lastEffect=d)),d}function jh(){return Rs().memoizedState}function Oa(d,v,w,P){var U=po();Kr.flags|=d,U.memoizedState=ra(1|v,w,void 0,P===void 0?null:P)}function Ac(d,v,w,P){var U=Rs();P=P===void 0?null:P;var H=void 0;if(ui!==null){var ne=ui.memoizedState;if(H=ne.destroy,P!==null&&vd(P,ne.deps)){U.memoizedState=ra(v,w,H,P);return}}Kr.flags|=d,U.memoizedState=ra(1|v,w,H,P)}function vo(d,v){return Oa(8390656,8,d,v)}function uu(d,v){return Ac(2048,8,d,v)}function rm(d,v){return Ac(4,2,d,v)}function ju(d,v){return Ac(4,4,d,v)}function im(d,v){if(typeof v=="function")return d=d(),v(d),function(){v(null)};if(v!=null)return d=d(),v.current=d,function(){v.current=null}}function Wh(d,v,w){return w=w!=null?w.concat([d]):null,Ac(4,4,im.bind(null,v,d),w)}function _f(){}function bg(d,v){var w=Rs();v=v===void 0?null:v;var P=w.memoizedState;return P!==null&&v!==null&&vd(v,P[1])?P[0]:(w.memoizedState=[d,v],d)}function Os(d,v){var w=Rs();v=v===void 0?null:v;var P=w.memoizedState;return P!==null&&v!==null&&vd(v,P[1])?P[0]:(d=d(),w.memoizedState=[d,v],d)}function $h(d,v,w){return su&21?(Ye(w,v)||(w=Vr(),Kr.lanes|=w,xf|=w,d.baseState=!0),v):(d.baseState&&(d.baseState=!1,Vn=!0),d.memoizedState=w)}function Ag(d,v){var w=Ln;Ln=w!==0&&4>w?w:4,d(!0);var P=bc.transition;bc.transition={};try{d(!1),v()}finally{Ln=w,bc.transition=P}}function lu(){return Rs().memoizedState}function qh(d,v,w){var P=Mf(d);if(w={lane:P,action:w,hasEagerState:!1,eagerState:null,next:null},yf(d))_o(v,w);else if(w=mc(d,v,w,P),w!==null){var U=Ns();Ku(w,d,P,U),Is(w,v,P)}}function Nl(d,v,w){var P=Mf(d),U={lane:P,action:w,hasEagerState:!1,eagerState:null,next:null};if(yf(d))_o(v,U);else{var H=d.alternate;if(d.lanes===0&&(H===null||H.lanes===0)&&(H=v.lastRenderedReducer,H!==null))try{var ne=v.lastRenderedState,Ae=H(ne,w);if(U.hasEagerState=!0,U.eagerState=Ae,Ye(Ae,ne)){var Te=v.interleaved;Te===null?(U.next=U,nm(v)):(U.next=Te.next,Te.next=U),v.interleaved=U;return}}catch{}finally{}w=mc(d,v,U,P),w!==null&&(U=Ns(),Ku(w,d,P,U),Is(w,v,P))}}function yf(d){var v=d.alternate;return d===Kr||v!==null&&v===Kr}function _o(d,v){No=Ds=!0;var w=d.pending;w===null?v.next=v:(v.next=w.next,w.next=v),d.pending=v}function Is(d,v,w){if(w&4194240){var P=v.lanes;P&=d.pendingLanes,w|=P,v.lanes=w,qs(d,w)}}var Xh={readContext:Ts,useCallback:ho,useContext:ho,useEffect:ho,useImperativeHandle:ho,useInsertionEffect:ho,useLayoutEffect:ho,useMemo:ho,useReducer:ho,useRef:ho,useState:ho,useDebugValue:ho,useDeferredValue:ho,useTransition:ho,useMutableSource:ho,useSyncExternalStore:ho,useId:ho,unstable_isNewReconciler:!1},Eg={readContext:Ts,useCallback:function(d,v){return po().memoizedState=[d,v===void 0?null:v],d},useContext:Ts,useEffect:vo,useImperativeHandle:function(d,v,w){return w=w!=null?w.concat([d]):null,Oa(4194308,4,im.bind(null,v,d),w)},useLayoutEffect:function(d,v){return Oa(4194308,4,d,v)},useInsertionEffect:function(d,v){return Oa(4,2,d,v)},useMemo:function(d,v){var w=po();return v=v===void 0?null:v,d=d(),w.memoizedState=[d,v],d},useReducer:function(d,v,w){var P=po();return v=w!==void 0?w(v):v,P.memoizedState=P.baseState=v,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:v},P.queue=d,d=d.dispatch=qh.bind(null,Kr,d),[P.memoizedState,d]},useRef:function(d){var v=po();return d={current:d},v.memoizedState=d},useState:vf,useDebugValue:_f,useDeferredValue:function(d){return po().memoizedState=d},useTransition:function(){var d=vf(!1),v=d[0];return d=Ag.bind(null,d[1]),po().memoizedState=d,[v,d]},useMutableSource:function(){},useSyncExternalStore:function(d,v,w){var P=Kr,U=po();if(qr){if(w===void 0)throw Error(t(407));w=w()}else{if(w=v(),ko===null)throw Error(t(349));su&30||bd(P,v,w)}U.memoizedState=w;var H={value:w,getSnapshot:v};return U.queue=H,vo(Vu.bind(null,P,H,d),[d]),P.flags|=2048,ra(9,go.bind(null,P,H,w,v),void 0,null),w},useId:function(){var d=po(),v=ko.identifierPrefix;if(qr){var w=xs,P=Ut;w=(P&~(1<<32-un(P)-1)).toString(32)+w,v=":"+v+"R"+w,w=au++,0<w&&(v+="H"+w.toString(32)),v+=":"}else w=_n++,v=":"+v+"r"+w.toString(32)+":";return d.memoizedState=v},unstable_isNewReconciler:!1},Ad={readContext:Ts,useCallback:bg,useContext:Ts,useEffect:uu,useImperativeHandle:Wh,useInsertionEffect:rm,useLayoutEffect:ju,useMemo:Os,useReducer:_d,useRef:jh,useState:function(){return _d(mo)},useDebugValue:_f,useDeferredValue:function(d){var v=Rs();return $h(v,ui.memoizedState,d)},useTransition:function(){var d=_d(mo)[0],v=Rs().memoizedState;return[d,v]},useMutableSource:yd,useSyncExternalStore:Hh,useId:lu,unstable_isNewReconciler:!1},Ec={readContext:Ts,useCallback:bg,useContext:Ts,useEffect:uu,useImperativeHandle:Wh,useInsertionEffect:rm,useLayoutEffect:ju,useMemo:Os,useReducer:na,useRef:jh,useState:function(){return na(mo)},useDebugValue:_f,useDeferredValue:function(d){var v=Rs();return ui===null?v.memoizedState=d:$h(v,ui.memoizedState,d)},useTransition:function(){var d=na(mo)[0],v=Rs().memoizedState;return[d,v]},useMutableSource:yd,useSyncExternalStore:Hh,useId:lu,unstable_isNewReconciler:!1};function Bs(d,v){if(d&&d.defaultProps){v=ue({},v),d=d.defaultProps;for(var w in d)v[w]===void 0&&(v[w]=d[w]);return v}return v}function bf(d,v,w,P){v=d.memoizedState,w=w(P,v),w=w==null?v:ue({},v,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var Kh={isMounted:function(d){return(d=d._reactInternals)?Do(d)===d:!1},enqueueSetState:function(d,v,w){d=d._reactInternals;var P=Ns(),U=Mf(d),H=Or(P,U);H.payload=v,w!=null&&(H.callback=w),v=Ir(d,H,U),v!==null&&(Ku(v,d,U,P),Lo(v,d,U))},enqueueReplaceState:function(d,v,w){d=d._reactInternals;var P=Ns(),U=Mf(d),H=Or(P,U);H.tag=1,H.payload=v,w!=null&&(H.callback=w),v=Ir(d,H,U),v!==null&&(Ku(v,d,U,P),Lo(v,d,U))},enqueueForceUpdate:function(d,v){d=d._reactInternals;var w=Ns(),P=Mf(d),U=Or(w,P);U.tag=2,v!=null&&(U.callback=v),v=Ir(d,U,P),v!==null&&(Ku(v,d,P,w),Lo(v,d,P))}};function om(d,v,w,P,U,H,ne){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(P,H,ne):v.prototype&&v.prototype.isPureReactComponent?!Vt(w,P)||!Vt(U,H):!0}function A(d,v,w){var P=!1,U=Uu,H=v.contextType;return typeof H=="object"&&H!==null?H=Ts(H):(U=Bo(v)?fo:co.current,P=v.contextTypes,H=(P=P!=null)?cc(d,U):Uu),v=new v(w,H),d.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Kh,d.stateNode=v,v._reactInternals=d,P&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=U,d.__reactInternalMemoizedMaskedChildContext=H),v}function E(d,v,w,P){d=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(w,P),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(w,P),v.state!==d&&Kh.enqueueReplaceState(v,v.state,null)}function T(d,v,w,P){var U=d.stateNode;U.props=w,U.state=d.memoizedState,U.refs={},Nn(d);var H=v.contextType;typeof H=="object"&&H!==null?U.context=Ts(H):(H=Bo(v)?fo:co.current,U.context=cc(d,H)),U.state=d.memoizedState,H=v.getDerivedStateFromProps,typeof H=="function"&&(bf(d,v,H,w),U.state=d.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(v=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),v!==U.state&&Kh.enqueueReplaceState(U,U.state,null),ai(d,w,U,P),U.state=d.memoizedState),typeof U.componentDidMount=="function"&&(d.flags|=4194308)}function L(d,v){try{var w="",P=v;do w+=Ce(P),P=P.return;while(P);var U=w}catch(H){U=`
Error generating stack: `+H.message+`
`+H.stack}return{value:d,source:v,stack:U,digest:null}}function z(d,v,w){return{value:d,source:null,stack:w??null,digest:v??null}}function $(d,v){try{console.error(v.value)}catch(w){setTimeout(function(){throw w})}}var _e=typeof WeakMap=="function"?WeakMap:Map;function Be(d,v,w){w=Or(-1,w),w.tag=3,w.payload={element:null};var P=v.value;return w.callback=function(){Dg||(Dg=!0,F1=P),$(d,v)},w}function at(d,v,w){w=Or(-1,w),w.tag=3;var P=d.type.getDerivedStateFromError;if(typeof P=="function"){var U=v.value;w.payload=function(){return P(U)},w.callback=function(){$(d,v)}}var H=d.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(w.callback=function(){$(d,v),typeof P!="function"&&(wf===null?wf=new Set([this]):wf.add(this));var ne=v.stack;this.componentDidCatch(v.value,{componentStack:ne!==null?ne:""})}),w}function Ot(d,v,w){var P=d.pingCache;if(P===null){P=d.pingCache=new _e;var U=new Set;P.set(v,U)}else U=P.get(v),U===void 0&&(U=new Set,P.set(v,U));U.has(w)||(U.add(w),d=Qx.bind(null,d,v,w),v.then(d,d))}function Zt(d){do{var v;if((v=d.tag===13)&&(v=d.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return d;d=d.return}while(d!==null);return null}function On(d,v,w,P,U){return d.mode&1?(d.flags|=65536,d.lanes=U,d):(d===v?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(v=Or(-1,1),v.tag=2,Ir(w,v,1))),w.lanes|=1),d)}var gn=M.ReactCurrentOwner,Vn=!1;function jt(d,v,w,P){v.child=d===null?pc(v,null,w,P):di(v,d.child,w,P)}function yo(d,v,w,P,U){w=w.render;var H=v.ref;return nu(v,U),P=Gu(d,v,w,P,H,U),w=zh(),d!==null&&!Vn?(v.updateQueue=d.updateQueue,v.flags&=-2053,d.lanes&=~U,Wu(d,v,U)):(qr&&w&&hd(v),v.flags|=1,jt(d,v,P,U),v.child)}function ds(d,v,w,P,U){if(d===null){var H=w.type;return typeof H=="function"&&!Lg(H)&&H.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(v.tag=15,v.type=H,Xe(d,v,H,P,U)):(d=Ng(w.type,null,P,v,v.mode,U),d.ref=v.ref,d.return=v,v.child=d)}if(H=d.child,!(d.lanes&U)){var ne=H.memoizedProps;if(w=w.compare,w=w!==null?w:Vt,w(ne,P)&&d.ref===v.ref)return Wu(d,v,U)}return v.flags|=1,d=Ju(H,P),d.ref=v.ref,d.return=v,v.child=d}function Xe(d,v,w,P,U){if(d!==null){var H=d.memoizedProps;if(Vt(H,P)&&d.ref===v.ref)if(Vn=!1,v.pendingProps=P=H,(d.lanes&U)!==0)d.flags&131072&&(Vn=!0);else return v.lanes=d.lanes,Wu(d,v,U)}return Gt(d,v,w,P,U)}function Ue(d,v,w){var P=v.pendingProps,U=P.children,H=d!==null?d.memoizedState:null;if(P.mode==="hidden")if(!(v.mode&1))v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(Qh,Fa),Fa|=w;else{if(!(w&1073741824))return d=H!==null?H.baseLanes|w:w,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:d,cachePool:null,transitions:null},v.updateQueue=null,Nr(Qh,Fa),Fa|=d,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=H!==null?H.baseLanes:w,Nr(Qh,Fa),Fa|=P}else H!==null?(P=H.baseLanes|w,v.memoizedState=null):P=w,Nr(Qh,Fa),Fa|=P;return jt(d,v,U,w),v.child}function it(d,v){var w=v.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(v.flags|=512,v.flags|=2097152)}function Gt(d,v,w,P,U){var H=Bo(w)?fo:co.current;return H=cc(v,H),nu(v,U),w=Gu(d,v,w,P,H,U),P=zh(),d!==null&&!Vn?(v.updateQueue=d.updateQueue,v.flags&=-2053,d.lanes&=~U,Wu(d,v,U)):(qr&&P&&hd(v),v.flags|=1,jt(d,v,w,U),v.child)}function sn(d,v,w,P,U){if(Bo(w)){var H=!0;Yo(v)}else H=!1;if(nu(v,U),v.stateNode===null)Sg(d,v),A(v,w,P),T(v,w,P,U),P=!0;else if(d===null){var ne=v.stateNode,Ae=v.memoizedProps;ne.props=Ae;var Te=ne.context,nt=w.contextType;typeof nt=="object"&&nt!==null?nt=Ts(nt):(nt=Bo(w)?fo:co.current,nt=cc(v,nt));var xt=w.getDerivedStateFromProps,Rt=typeof xt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Rt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Ae!==P||Te!==nt)&&E(v,ne,P,nt),gr=!1;var At=v.memoizedState;ne.state=At,ai(v,P,ne,U),Te=v.memoizedState,Ae!==P||At!==Te||Jo.current||gr?(typeof xt=="function"&&(bf(v,w,xt,P),Te=v.memoizedState),(Ae=gr||om(v,w,Ae,P,At,Te,nt))?(Rt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(v.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=P,v.memoizedState=Te),ne.props=P,ne.state=Te,ne.context=nt,P=Ae):(typeof ne.componentDidMount=="function"&&(v.flags|=4194308),P=!1)}else{ne=v.stateNode,wi(d,v),Ae=v.memoizedProps,nt=v.type===v.elementType?Ae:Bs(v.type,Ae),ne.props=nt,Rt=v.pendingProps,At=ne.context,Te=w.contextType,typeof Te=="object"&&Te!==null?Te=Ts(Te):(Te=Bo(w)?fo:co.current,Te=cc(v,Te));var Kt=w.getDerivedStateFromProps;(xt=typeof Kt=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Ae!==Rt||At!==Te)&&E(v,ne,P,Te),gr=!1,At=v.memoizedState,ne.state=At,ai(v,P,ne,U);var nn=v.memoizedState;Ae!==Rt||At!==nn||Jo.current||gr?(typeof Kt=="function"&&(bf(v,w,Kt,P),nn=v.memoizedState),(nt=gr||om(v,w,nt,P,At,nn,Te)||!1)?(xt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(P,nn,Te),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(P,nn,Te)),typeof ne.componentDidUpdate=="function"&&(v.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof ne.componentDidUpdate!="function"||Ae===d.memoizedProps&&At===d.memoizedState||(v.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Ae===d.memoizedProps&&At===d.memoizedState||(v.flags|=1024),v.memoizedProps=P,v.memoizedState=nn),ne.props=P,ne.state=nn,ne.context=Te,P=nt):(typeof ne.componentDidUpdate!="function"||Ae===d.memoizedProps&&At===d.memoizedState||(v.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Ae===d.memoizedProps&&At===d.memoizedState||(v.flags|=1024),P=!1)}return Un(d,v,w,P,H,U)}function Un(d,v,w,P,U,H){it(d,v);var ne=(v.flags&128)!==0;if(!P&&!ne)return U&&Zp(v,w,!1),Wu(d,v,H);P=v.stateNode,gn.current=v;var Ae=ne&&typeof w.getDerivedStateFromError!="function"?null:P.render();return v.flags|=1,d!==null&&ne?(v.child=di(v,d.child,null,H),v.child=di(v,null,Ae,H)):jt(d,v,Ae,H),v.memoizedState=P.state,U&&Zp(v,w,!0),v.child}function In(d){var v=d.stateNode;v.pendingContext?Qp(d,v.pendingContext,v.pendingContext!==v.context):v.context&&Qp(d,v.context,!1),gd(d,v.containerInfo)}function jn(d,v,w,P,U){return ta(),Cs(U),v.flags|=256,jt(d,v,w,P),v.child}var gi={dehydrated:null,treeContext:null,retryLane:0};function sr(d){return{baseLanes:d,cachePool:null,transitions:null}}function Ia(d,v,w){var P=v.pendingProps,U=Xr.current,H=!1,ne=(v.flags&128)!==0,Ae;if((Ae=ne)||(Ae=d!==null&&d.memoizedState===null?!1:(U&2)!==0),Ae?(H=!0,v.flags&=-129):(d===null||d.memoizedState!==null)&&(U|=1),Nr(Xr,U&1),d===null)return es(v),d=v.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(v.mode&1?d.data==="$!"?v.lanes=8:v.lanes=1073741824:v.lanes=1,null):(ne=P.children,d=P.fallback,H?(P=v.mode,H=v.child,ne={mode:"hidden",children:ne},!(P&1)&&H!==null?(H.childLanes=0,H.pendingProps=ne):H=Ug(ne,P,0,null),d=Cd(d,P,w,null),H.return=v,d.return=v,H.sibling=d,v.child=H,v.child.memoizedState=sr(w),v.memoizedState=gi,d):Af(v,ne));if(U=d.memoizedState,U!==null&&(Ae=U.dehydrated,Ae!==null))return wn(d,v,ne,P,Ae,U,w);if(H){H=P.fallback,ne=v.mode,U=d.child,Ae=U.sibling;var Te={mode:"hidden",children:P.children};return!(ne&1)&&v.child!==U?(P=v.child,P.childLanes=0,P.pendingProps=Te,v.deletions=null):(P=Ju(U,Te),P.subtreeFlags=U.subtreeFlags&14680064),Ae!==null?H=Ju(Ae,H):(H=Cd(H,ne,w,null),H.flags|=2),H.return=v,P.return=v,P.sibling=H,v.child=P,P=H,H=v.child,ne=d.child.memoizedState,ne=ne===null?sr(w):{baseLanes:ne.baseLanes|w,cachePool:null,transitions:ne.transitions},H.memoizedState=ne,H.childLanes=d.childLanes&~w,v.memoizedState=gi,P}return H=d.child,d=H.sibling,P=Ju(H,{mode:"visible",children:P.children}),!(v.mode&1)&&(P.lanes=w),P.return=v,P.sibling=null,d!==null&&(w=v.deletions,w===null?(v.deletions=[d],v.flags|=16):w.push(d)),v.child=P,v.memoizedState=null,P}function Af(d,v){return v=Ug({mode:"visible",children:v},d.mode,0,null),v.return=d,d.child=v}function Sc(d,v,w,P){return P!==null&&Cs(P),di(v,d.child,null,w),d=Af(v,v.pendingProps.children),d.flags|=2,v.memoizedState=null,d}function wn(d,v,w,P,U,H,ne){if(w)return v.flags&256?(v.flags&=-257,P=z(Error(t(422))),Sc(d,v,ne,P)):v.memoizedState!==null?(v.child=d.child,v.flags|=128,null):(H=P.fallback,U=v.mode,P=Ug({mode:"visible",children:P.children},U,0,null),H=Cd(H,U,ne,null),H.flags|=2,P.return=v,H.return=v,P.sibling=H,v.child=P,v.mode&1&&di(v,d.child,null,ne),v.child.memoizedState=sr(ne),v.memoizedState=gi,H);if(!(v.mode&1))return Sc(d,v,ne,null);if(U.data==="$!"){if(P=U.nextSibling&&U.nextSibling.dataset,P)var Ae=P.dgst;return P=Ae,H=Error(t(419)),P=z(H,P,void 0),Sc(d,v,ne,P)}if(Ae=(ne&d.childLanes)!==0,Vn||Ae){if(P=ko,P!==null){switch(ne&-ne){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}U=U&(P.suspendedLanes|ne)?0:U,U!==0&&U!==H.retryLane&&(H.retryLane=U,Da(d,U),Ku(P,d,U,-1))}return H1(),P=z(Error(t(421))),Sc(d,v,ne,P)}return U.data==="$?"?(v.flags|=128,v.child=d.child,v=Zx.bind(null,d),U._reactRetry=v,null):(d=H.treeContext,Zo=Fu(U.nextSibling),Bi=v,qr=!0,ea=null,d!==null&&(Qo[Qi++]=Ut,Qo[Qi++]=xs,Qo[Qi++]=dc,Ut=d.id,xs=d.overflow,dc=v),v=Af(v,P.children),v.flags|=4096,v)}function sm(d,v,w){d.lanes|=v;var P=d.alternate;P!==null&&(P.lanes|=v),Hi(d.return,v,w)}function am(d,v,w,P,U){var H=d.memoizedState;H===null?d.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:P,tail:w,tailMode:U}:(H.isBackwards=v,H.rendering=null,H.renderingStartTime=0,H.last=P,H.tail=w,H.tailMode=U)}function Ef(d,v,w){var P=v.pendingProps,U=P.revealOrder,H=P.tail;if(jt(d,v,P.children,w),P=Xr.current,P&2)P=P&1|2,v.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=v.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&sm(d,w,v);else if(d.tag===19)sm(d,w,v);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===v)break e;for(;d.sibling===null;){if(d.return===null||d.return===v)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}P&=1}if(Nr(Xr,P),!(v.mode&1))v.memoizedState=null;else switch(U){case"forwards":for(w=v.child,U=null;w!==null;)d=w.alternate,d!==null&&fs(d)===null&&(U=w),w=w.sibling;w=U,w===null?(U=v.child,v.child=null):(U=w.sibling,w.sibling=null),am(v,!1,U,w,H);break;case"backwards":for(w=null,U=v.child,v.child=null;U!==null;){if(d=U.alternate,d!==null&&fs(d)===null){v.child=U;break}d=U.sibling,U.sibling=w,w=U,U=d}am(v,!0,w,null,H);break;case"together":am(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function Sg(d,v){!(v.mode&1)&&d!==null&&(d.alternate=null,v.alternate=null,v.flags|=2)}function Wu(d,v,w){if(d!==null&&(v.dependencies=d.dependencies),xf|=v.lanes,!(w&v.childLanes))return null;if(d!==null&&v.child!==d.child)throw Error(t(153));if(v.child!==null){for(d=v.child,w=Ju(d,d.pendingProps),v.child=w,w.return=v;d.sibling!==null;)d=d.sibling,w=w.sibling=Ju(d,d.pendingProps),w.return=v;w.sibling=null}return v.child}function cb(d,v,w){switch(v.tag){case 3:In(v),ta();break;case 5:Fl(v);break;case 1:Bo(v.type)&&Yo(v);break;case 4:gd(v,v.stateNode.containerInfo);break;case 10:var P=v.type._context,U=v.memoizedProps.value;Nr(Bl,P._currentValue),P._currentValue=U;break;case 13:if(P=v.memoizedState,P!==null)return P.dehydrated!==null?(Nr(Xr,Xr.current&1),v.flags|=128,null):w&v.child.childLanes?Ia(d,v,w):(Nr(Xr,Xr.current&1),d=Wu(d,v,w),d!==null?d.sibling:null);Nr(Xr,Xr.current&1);break;case 19:if(P=(w&v.childLanes)!==0,d.flags&128){if(P)return Ef(d,v,w);v.flags|=128}if(U=v.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),Nr(Xr,Xr.current),P)break;return null;case 22:case 23:return v.lanes=0,Ue(d,v,w)}return Wu(d,v,w)}var ts,M1,fb,T1;ts=function(d,v){for(var w=v.child;w!==null;){if(w.tag===5||w.tag===6)d.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===v)break;for(;w.sibling===null;){if(w.return===null||w.return===v)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},M1=function(){},fb=function(d,v,w,P){var U=d.memoizedProps;if(U!==P){d=v.stateNode,mi(Ps.current);var H=null;switch(w){case"input":U=he(d,U),P=he(d,P),H=[];break;case"select":U=ue({},U,{value:void 0}),P=ue({},P,{value:void 0}),H=[];break;case"textarea":U=K(d,U),P=K(d,P),H=[];break;default:typeof U.onClick!="function"&&typeof P.onClick=="function"&&(d.onclick=ad)}tn(w,P);var ne;w=null;for(nt in U)if(!P.hasOwnProperty(nt)&&U.hasOwnProperty(nt)&&U[nt]!=null)if(nt==="style"){var Ae=U[nt];for(ne in Ae)Ae.hasOwnProperty(ne)&&(w||(w={}),w[ne]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(i.hasOwnProperty(nt)?H||(H=[]):(H=H||[]).push(nt,null));for(nt in P){var Te=P[nt];if(Ae=U!=null?U[nt]:void 0,P.hasOwnProperty(nt)&&Te!==Ae&&(Te!=null||Ae!=null))if(nt==="style")if(Ae){for(ne in Ae)!Ae.hasOwnProperty(ne)||Te&&Te.hasOwnProperty(ne)||(w||(w={}),w[ne]="");for(ne in Te)Te.hasOwnProperty(ne)&&Ae[ne]!==Te[ne]&&(w||(w={}),w[ne]=Te[ne])}else w||(H||(H=[]),H.push(nt,w)),w=Te;else nt==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Ae=Ae?Ae.__html:void 0,Te!=null&&Ae!==Te&&(H=H||[]).push(nt,Te)):nt==="children"?typeof Te!="string"&&typeof Te!="number"||(H=H||[]).push(nt,""+Te):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(i.hasOwnProperty(nt)?(Te!=null&&nt==="onScroll"&&Wr("scroll",d),H||Ae===Te||(H=[])):(H=H||[]).push(nt,Te))}w&&(H=H||[]).push("style",w);var nt=H;(v.updateQueue=nt)&&(v.flags|=4)}},T1=function(d,v,w,P){w!==P&&(v.flags|=4)};function um(d,v){if(!qr)switch(d.tailMode){case"hidden":v=d.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var P=null;w!==null;)w.alternate!==null&&(P=w),w=w.sibling;P===null?v||d.tail===null?d.tail=null:d.tail.sibling=null:P.sibling=null}}function ns(d){var v=d.alternate!==null&&d.alternate.child===d.child,w=0,P=0;if(v)for(var U=d.child;U!==null;)w|=U.lanes|U.childLanes,P|=U.subtreeFlags&14680064,P|=U.flags&14680064,U.return=d,U=U.sibling;else for(U=d.child;U!==null;)w|=U.lanes|U.childLanes,P|=U.subtreeFlags,P|=U.flags,U.return=d,U=U.sibling;return d.subtreeFlags|=P,d.childLanes=w,v}function Wx(d,v,w){var P=v.pendingProps;switch(ws(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ns(v),null;case 1:return Bo(v.type)&&ld(),ns(v),null;case 3:return P=v.stateNode,ou(),$r(Jo),$r(co),Ra(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(d===null||d.child===null)&&(hc(v)?v.flags|=4:d===null||d.memoizedState.isDehydrated&&!(v.flags&256)||(v.flags|=1024,ea!==null&&(U1(ea),ea=null))),M1(d,v),ns(v),null;case 5:yc(v);var U=mi(iu.current);if(w=v.type,d!==null&&v.stateNode!=null)fb(d,v,w,P,U),d.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!P){if(v.stateNode===null)throw Error(t(166));return ns(v),null}if(d=mi(Ps.current),hc(v)){P=v.stateNode,w=v.type;var H=v.memoizedProps;switch(P[zi]=v,P[Lu]=H,d=(v.mode&1)!==0,w){case"dialog":Wr("cancel",P),Wr("close",P);break;case"iframe":case"object":case"embed":Wr("load",P);break;case"video":case"audio":for(U=0;U<Zs.length;U++)Wr(Zs[U],P);break;case"source":Wr("error",P);break;case"img":case"image":case"link":Wr("error",P),Wr("load",P);break;case"details":Wr("toggle",P);break;case"input":wt(P,H),Wr("invalid",P);break;case"select":P._wrapperState={wasMultiple:!!H.multiple},Wr("invalid",P);break;case"textarea":j(P,H),Wr("invalid",P)}tn(w,H),U=null;for(var ne in H)if(H.hasOwnProperty(ne)){var Ae=H[ne];ne==="children"?typeof Ae=="string"?P.textContent!==Ae&&(H.suppressHydrationWarning!==!0&&pf(P.textContent,Ae,d),U=["children",Ae]):typeof Ae=="number"&&P.textContent!==""+Ae&&(H.suppressHydrationWarning!==!0&&pf(P.textContent,Ae,d),U=["children",""+Ae]):i.hasOwnProperty(ne)&&Ae!=null&&ne==="onScroll"&&Wr("scroll",P)}switch(w){case"input":lt(P),yt(P,H,!0);break;case"textarea":lt(P),me(P);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(P.onclick=ad)}P=U,v.updateQueue=P,P!==null&&(v.flags|=4)}else{ne=U.nodeType===9?U:U.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=ve(w)),d==="http://www.w3.org/1999/xhtml"?w==="script"?(d=ne.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof P.is=="string"?d=ne.createElement(w,{is:P.is}):(d=ne.createElement(w),w==="select"&&(ne=d,P.multiple?ne.multiple=!0:P.size&&(ne.size=P.size))):d=ne.createElementNS(d,w),d[zi]=v,d[Lu]=P,ts(d,v,!1,!1),v.stateNode=d;e:{switch(ne=Jt(w,P),w){case"dialog":Wr("cancel",d),Wr("close",d),U=P;break;case"iframe":case"object":case"embed":Wr("load",d),U=P;break;case"video":case"audio":for(U=0;U<Zs.length;U++)Wr(Zs[U],d);U=P;break;case"source":Wr("error",d),U=P;break;case"img":case"image":case"link":Wr("error",d),Wr("load",d),U=P;break;case"details":Wr("toggle",d),U=P;break;case"input":wt(d,P),U=he(d,P),Wr("invalid",d);break;case"option":U=P;break;case"select":d._wrapperState={wasMultiple:!!P.multiple},U=ue({},P,{value:void 0}),Wr("invalid",d);break;case"textarea":j(d,P),U=K(d,P),Wr("invalid",d);break;default:U=P}tn(w,U),Ae=U;for(H in Ae)if(Ae.hasOwnProperty(H)){var Te=Ae[H];H==="style"?Nt(d,Te):H==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Te!=null&&Ge(d,Te)):H==="children"?typeof Te=="string"?(w!=="textarea"||Te!=="")&&et(d,Te):typeof Te=="number"&&et(d,""+Te):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Te!=null&&H==="onScroll"&&Wr("scroll",d):Te!=null&&C(d,H,Te,ne))}switch(w){case"input":lt(d),yt(d,P,!1);break;case"textarea":lt(d),me(d);break;case"option":P.value!=null&&d.setAttribute("value",""+Ze(P.value));break;case"select":d.multiple=!!P.multiple,H=P.value,H!=null?te(d,!!P.multiple,H,!1):P.defaultValue!=null&&te(d,!!P.multiple,P.defaultValue,!0);break;default:typeof U.onClick=="function"&&(d.onclick=ad)}switch(w){case"button":case"input":case"select":case"textarea":P=!!P.autoFocus;break e;case"img":P=!0;break e;default:P=!1}}P&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return ns(v),null;case 6:if(d&&v.stateNode!=null)T1(d,v,d.memoizedProps,P);else{if(typeof P!="string"&&v.stateNode===null)throw Error(t(166));if(w=mi(iu.current),mi(Ps.current),hc(v)){if(P=v.stateNode,w=v.memoizedProps,P[zi]=v,(H=P.nodeValue!==w)&&(d=Bi,d!==null))switch(d.tag){case 3:pf(P.nodeValue,w,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&pf(P.nodeValue,w,(d.mode&1)!==0)}H&&(v.flags|=4)}else P=(w.nodeType===9?w:w.ownerDocument).createTextNode(P),P[zi]=v,v.stateNode=P}return ns(v),null;case 13:if($r(Xr),P=v.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(qr&&Zo!==null&&v.mode&1&&!(v.flags&128))Uh(),ta(),v.flags|=98560,H=!1;else if(H=hc(v),P!==null&&P.dehydrated!==null){if(d===null){if(!H)throw Error(t(318));if(H=v.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(t(317));H[zi]=v}else ta(),!(v.flags&128)&&(v.memoizedState=null),v.flags|=4;ns(v),H=!1}else ea!==null&&(U1(ea),ea=null),H=!0;if(!H)return v.flags&65536?v:null}return v.flags&128?(v.lanes=w,v):(P=P!==null,P!==(d!==null&&d.memoizedState!==null)&&P&&(v.child.flags|=8192,v.mode&1&&(d===null||Xr.current&1?bo===0&&(bo=3):H1())),v.updateQueue!==null&&(v.flags|=4),ns(v),null);case 4:return ou(),M1(d,v),d===null&&Bu(v.stateNode.containerInfo),ns(v),null;case 10:return mf(v.type._context),ns(v),null;case 17:return Bo(v.type)&&ld(),ns(v),null;case 19:if($r(Xr),H=v.memoizedState,H===null)return ns(v),null;if(P=(v.flags&128)!==0,ne=H.rendering,ne===null)if(P)um(H,!1);else{if(bo!==0||d!==null&&d.flags&128)for(d=v.child;d!==null;){if(ne=fs(d),ne!==null){for(v.flags|=128,um(H,!1),P=ne.updateQueue,P!==null&&(v.updateQueue=P,v.flags|=4),v.subtreeFlags=0,P=w,w=v.child;w!==null;)H=w,d=P,H.flags&=14680066,ne=H.alternate,ne===null?(H.childLanes=0,H.lanes=d,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=ne.childLanes,H.lanes=ne.lanes,H.child=ne.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=ne.memoizedProps,H.memoizedState=ne.memoizedState,H.updateQueue=ne.updateQueue,H.type=ne.type,d=ne.dependencies,H.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),w=w.sibling;return Nr(Xr,Xr.current&1|2),v.child}d=d.sibling}H.tail!==null&&be()>Ed&&(v.flags|=128,P=!0,um(H,!1),v.lanes=4194304)}else{if(!P)if(d=fs(ne),d!==null){if(v.flags|=128,P=!0,w=d.updateQueue,w!==null&&(v.updateQueue=w,v.flags|=4),um(H,!0),H.tail===null&&H.tailMode==="hidden"&&!ne.alternate&&!qr)return ns(v),null}else 2*be()-H.renderingStartTime>Ed&&w!==1073741824&&(v.flags|=128,P=!0,um(H,!1),v.lanes=4194304);H.isBackwards?(ne.sibling=v.child,v.child=ne):(w=H.last,w!==null?w.sibling=ne:v.child=ne,H.last=ne)}return H.tail!==null?(v=H.tail,H.rendering=v,H.tail=v.sibling,H.renderingStartTime=be(),v.sibling=null,w=Xr.current,Nr(Xr,P?w&1|2:w&1),v):(ns(v),null);case 22:case 23:return z1(),P=v.memoizedState!==null,d!==null&&d.memoizedState!==null!==P&&(v.flags|=8192),P&&v.mode&1?Fa&1073741824&&(ns(v),v.subtreeFlags&6&&(v.flags|=8192)):ns(v),null;case 24:return null;case 25:return null}throw Error(t(156,v.tag))}function $x(d,v){switch(ws(v),v.tag){case 1:return Bo(v.type)&&ld(),d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 3:return ou(),$r(Jo),$r(co),Ra(),d=v.flags,d&65536&&!(d&128)?(v.flags=d&-65537|128,v):null;case 5:return yc(v),null;case 13:if($r(Xr),d=v.memoizedState,d!==null&&d.dehydrated!==null){if(v.alternate===null)throw Error(t(340));ta()}return d=v.flags,d&65536?(v.flags=d&-65537|128,v):null;case 19:return $r(Xr),null;case 4:return ou(),null;case 10:return mf(v.type._context),null;case 22:case 23:return z1(),null;case 24:return null;default:return null}}var xg=!1,vi=!1,Fs=typeof WeakSet=="function"?WeakSet:Set,en=null;function Jh(d,v){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(P){Ci(d,v,P)}else w.current=null}function lm(d,v,w){try{w()}catch(P){Ci(d,v,P)}}var db=!1;function qx(d,v){if(Tl=Xs,d=xn(),Ri(d)){if("selectionStart"in d)var w={start:d.selectionStart,end:d.selectionEnd};else e:{w=(w=d.ownerDocument)&&w.defaultView||window;var P=w.getSelection&&w.getSelection();if(P&&P.rangeCount!==0){w=P.anchorNode;var U=P.anchorOffset,H=P.focusNode;P=P.focusOffset;try{w.nodeType,H.nodeType}catch{w=null;break e}var ne=0,Ae=-1,Te=-1,nt=0,xt=0,Rt=d,At=null;t:for(;;){for(var Kt;Rt!==w||U!==0&&Rt.nodeType!==3||(Ae=ne+U),Rt!==H||P!==0&&Rt.nodeType!==3||(Te=ne+P),Rt.nodeType===3&&(ne+=Rt.nodeValue.length),(Kt=Rt.firstChild)!==null;)At=Rt,Rt=Kt;for(;;){if(Rt===d)break t;if(At===w&&++nt===U&&(Ae=ne),At===H&&++xt===P&&(Te=ne),(Kt=Rt.nextSibling)!==null)break;Rt=At,At=Rt.parentNode}Rt=Kt}w=Ae===-1||Te===-1?null:{start:Ae,end:Te}}else w=null}w=w||{start:0,end:0}}else w=null;for(sc={focusedElem:d,selectionRange:w},Xs=!1,en=v;en!==null;)if(v=en,d=v.child,(v.subtreeFlags&1028)!==0&&d!==null)d.return=v,en=d;else for(;en!==null;){v=en;try{var nn=v.alternate;if(v.flags&1024)switch(v.tag){case 0:case 11:case 15:break;case 1:if(nn!==null){var on=nn.memoizedProps,Gi=nn.memoizedState,qe=v.stateNode,Fe=qe.getSnapshotBeforeUpdate(v.elementType===v.type?on:Bs(v.type,on),Gi);qe.__reactInternalSnapshotBeforeUpdate=Fe}break;case 3:var Je=v.stateNode.containerInfo;Je.nodeType===1?Je.textContent="":Je.nodeType===9&&Je.documentElement&&Je.removeChild(Je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(It){Ci(v,v.return,It)}if(d=v.sibling,d!==null){d.return=v.return,en=d;break}en=v.return}return nn=db,db=!1,nn}function xc(d,v,w){var P=v.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var U=P=P.next;do{if((U.tag&d)===d){var H=U.destroy;U.destroy=void 0,H!==void 0&&lm(v,w,H)}U=U.next}while(U!==P)}}function cm(d,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var w=v=v.next;do{if((w.tag&d)===d){var P=w.create;w.destroy=P()}w=w.next}while(w!==v)}}function wg(d){var v=d.ref;if(v!==null){var w=d.stateNode;switch(d.tag){case 5:d=w;break;default:d=w}typeof v=="function"?v(d):v.current=d}}function hb(d){var v=d.alternate;v!==null&&(d.alternate=null,hb(v)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(v=d.stateNode,v!==null&&(delete v[zi],delete v[Lu],delete v[Rl],delete v[ce],delete v[Nu])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function pb(d){return d.tag===5||d.tag===3||d.tag===4}function mb(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||pb(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function P1(d,v,w){var P=d.tag;if(P===5||P===6)d=d.stateNode,v?w.nodeType===8?w.parentNode.insertBefore(d,v):w.insertBefore(d,v):(w.nodeType===8?(v=w.parentNode,v.insertBefore(d,w)):(v=w,v.appendChild(d)),w=w._reactRootContainer,w!=null||v.onclick!==null||(v.onclick=ad));else if(P!==4&&(d=d.child,d!==null))for(P1(d,v,w),d=d.sibling;d!==null;)P1(d,v,w),d=d.sibling}function Cg(d,v,w){var P=d.tag;if(P===5||P===6)d=d.stateNode,v?w.insertBefore(d,v):w.appendChild(d);else if(P!==4&&(d=d.child,d!==null))for(Cg(d,v,w),d=d.sibling;d!==null;)Cg(d,v,w),d=d.sibling}var Uo=null,$u=!1;function Ul(d,v,w){for(w=w.child;w!==null;)D1(d,v,w),w=w.sibling}function D1(d,v,w){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Xt,w)}catch{}switch(w.tag){case 5:vi||Jh(w,v);case 6:var P=Uo,U=$u;Uo=null,Ul(d,v,w),Uo=P,$u=U,Uo!==null&&($u?(d=Uo,w=w.stateNode,d.nodeType===8?d.parentNode.removeChild(w):d.removeChild(w)):Uo.removeChild(w.stateNode));break;case 18:Uo!==null&&($u?(d=Uo,w=w.stateNode,d.nodeType===8?Oh(d.parentNode,w):d.nodeType===1&&Oh(d,w),Sr(d)):Oh(Uo,w.stateNode));break;case 4:P=Uo,U=$u,Uo=w.stateNode.containerInfo,$u=!0,Ul(d,v,w),Uo=P,$u=U;break;case 0:case 11:case 14:case 15:if(!vi&&(P=w.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){U=P=P.next;do{var H=U,ne=H.destroy;H=H.tag,ne!==void 0&&(H&2||H&4)&&lm(w,v,ne),U=U.next}while(U!==P)}Ul(d,v,w);break;case 1:if(!vi&&(Jh(w,v),P=w.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=w.memoizedProps,P.state=w.memoizedState,P.componentWillUnmount()}catch(Ae){Ci(w,v,Ae)}Ul(d,v,w);break;case 21:Ul(d,v,w);break;case 22:w.mode&1?(vi=(P=vi)||w.memoizedState!==null,Ul(d,v,w),vi=P):Ul(d,v,w);break;default:Ul(d,v,w)}}function Yh(d){var v=d.updateQueue;if(v!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new Fs),v.forEach(function(P){var U=ew.bind(null,d,P);w.has(P)||(w.add(P),P.then(U,U))})}}function Ba(d,v){var w=v.deletions;if(w!==null)for(var P=0;P<w.length;P++){var U=w[P];try{var H=d,ne=v,Ae=ne;e:for(;Ae!==null;){switch(Ae.tag){case 5:Uo=Ae.stateNode,$u=!1;break e;case 3:Uo=Ae.stateNode.containerInfo,$u=!0;break e;case 4:Uo=Ae.stateNode.containerInfo,$u=!0;break e}Ae=Ae.return}if(Uo===null)throw Error(t(160));D1(H,ne,U),Uo=null,$u=!1;var Te=U.alternate;Te!==null&&(Te.return=null),U.return=null}catch(nt){Ci(U,v,nt)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)R1(v,d),v=v.sibling}function R1(d,v){var w=d.alternate,P=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ba(v,d),qu(d),P&4){try{xc(3,d,d.return),cm(3,d)}catch(on){Ci(d,d.return,on)}try{xc(5,d,d.return)}catch(on){Ci(d,d.return,on)}}break;case 1:Ba(v,d),qu(d),P&512&&w!==null&&Jh(w,w.return);break;case 5:if(Ba(v,d),qu(d),P&512&&w!==null&&Jh(w,w.return),d.flags&32){var U=d.stateNode;try{et(U,"")}catch(on){Ci(d,d.return,on)}}if(P&4&&(U=d.stateNode,U!=null)){var H=d.memoizedProps,ne=w!==null?w.memoizedProps:H,Ae=d.type,Te=d.updateQueue;if(d.updateQueue=null,Te!==null)try{Ae==="input"&&H.type==="radio"&&H.name!=null&&ft(U,H),Jt(Ae,ne);var nt=Jt(Ae,H);for(ne=0;ne<Te.length;ne+=2){var xt=Te[ne],Rt=Te[ne+1];xt==="style"?Nt(U,Rt):xt==="dangerouslySetInnerHTML"?Ge(U,Rt):xt==="children"?et(U,Rt):C(U,xt,Rt,nt)}switch(Ae){case"input":vt(U,H);break;case"textarea":re(U,H);break;case"select":var At=U._wrapperState.wasMultiple;U._wrapperState.wasMultiple=!!H.multiple;var Kt=H.value;Kt!=null?te(U,!!H.multiple,Kt,!1):At!==!!H.multiple&&(H.defaultValue!=null?te(U,!!H.multiple,H.defaultValue,!0):te(U,!!H.multiple,H.multiple?[]:"",!1))}U[Lu]=H}catch(on){Ci(d,d.return,on)}}break;case 6:if(Ba(v,d),qu(d),P&4){if(d.stateNode===null)throw Error(t(162));U=d.stateNode,H=d.memoizedProps;try{U.nodeValue=H}catch(on){Ci(d,d.return,on)}}break;case 3:if(Ba(v,d),qu(d),P&4&&w!==null&&w.memoizedState.isDehydrated)try{Sr(v.containerInfo)}catch(on){Ci(d,d.return,on)}break;case 4:Ba(v,d),qu(d);break;case 13:Ba(v,d),qu(d),U=d.child,U.flags&8192&&(H=U.memoizedState!==null,U.stateNode.isHidden=H,!H||U.alternate!==null&&U.alternate.memoizedState!==null||(B1=be())),P&4&&Yh(d);break;case 22:if(xt=w!==null&&w.memoizedState!==null,d.mode&1?(vi=(nt=vi)||xt,Ba(v,d),vi=nt):Ba(v,d),qu(d),P&8192){if(nt=d.memoizedState!==null,(d.stateNode.isHidden=nt)&&!xt&&d.mode&1)for(en=d,xt=d.child;xt!==null;){for(Rt=en=xt;en!==null;){switch(At=en,Kt=At.child,At.tag){case 0:case 11:case 14:case 15:xc(4,At,At.return);break;case 1:Jh(At,At.return);var nn=At.stateNode;if(typeof nn.componentWillUnmount=="function"){P=At,w=At.return;try{v=P,nn.props=v.memoizedProps,nn.state=v.memoizedState,nn.componentWillUnmount()}catch(on){Ci(P,w,on)}}break;case 5:Jh(At,At.return);break;case 22:if(At.memoizedState!==null){Sf(Rt);continue}}Kt!==null?(Kt.return=At,en=Kt):Sf(Rt)}xt=xt.sibling}e:for(xt=null,Rt=d;;){if(Rt.tag===5){if(xt===null){xt=Rt;try{U=Rt.stateNode,nt?(H=U.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(Ae=Rt.stateNode,Te=Rt.memoizedProps.style,ne=Te!=null&&Te.hasOwnProperty("display")?Te.display:null,Ae.style.display=Bt("display",ne))}catch(on){Ci(d,d.return,on)}}}else if(Rt.tag===6){if(xt===null)try{Rt.stateNode.nodeValue=nt?"":Rt.memoizedProps}catch(on){Ci(d,d.return,on)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===d)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===d)break e;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===d)break e;xt===Rt&&(xt=null),Rt=Rt.return}xt===Rt&&(xt=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}break;case 19:Ba(v,d),qu(d),P&4&&Yh(d);break;case 21:break;default:Ba(v,d),qu(d)}}function qu(d){var v=d.flags;if(v&2){try{e:{for(var w=d.return;w!==null;){if(pb(w)){var P=w;break e}w=w.return}throw Error(t(160))}switch(P.tag){case 5:var U=P.stateNode;P.flags&32&&(et(U,""),P.flags&=-33);var H=mb(d);Cg(d,H,U);break;case 3:case 4:var ne=P.stateNode.containerInfo,Ae=mb(d);P1(d,Ae,ne);break;default:throw Error(t(161))}}catch(Te){Ci(d,d.return,Te)}d.flags&=-3}v&4096&&(d.flags&=-4097)}function Mg(d,v,w){en=d,O1(d)}function O1(d,v,w){for(var P=(d.mode&1)!==0;en!==null;){var U=en,H=U.child;if(U.tag===22&&P){var ne=U.memoizedState!==null||xg;if(!ne){var Ae=U.alternate,Te=Ae!==null&&Ae.memoizedState!==null||vi;Ae=xg;var nt=vi;if(xg=ne,(vi=Te)&&!nt)for(en=U;en!==null;)ne=en,Te=ne.child,ne.tag===22&&ne.memoizedState!==null?gb(U):Te!==null?(Te.return=ne,en=Te):gb(U);for(;H!==null;)en=H,O1(H),H=H.sibling;en=U,xg=Ae,vi=nt}Xu(d)}else U.subtreeFlags&8772&&H!==null?(H.return=U,en=H):Xu(d)}}function Xu(d){for(;en!==null;){var v=en;if(v.flags&8772){var w=v.alternate;try{if(v.flags&8772)switch(v.tag){case 0:case 11:case 15:vi||cm(5,v);break;case 1:var P=v.stateNode;if(v.flags&4&&!vi)if(w===null)P.componentDidMount();else{var U=v.elementType===v.type?w.memoizedProps:Bs(v.type,w.memoizedProps);P.componentDidUpdate(U,w.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var H=v.updateQueue;H!==null&&vc(v,H,P);break;case 3:var ne=v.updateQueue;if(ne!==null){if(w=null,v.child!==null)switch(v.child.tag){case 5:w=v.child.stateNode;break;case 1:w=v.child.stateNode}vc(v,ne,w)}break;case 5:var Ae=v.stateNode;if(w===null&&v.flags&4){w=Ae;var Te=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Te.autoFocus&&w.focus();break;case"img":Te.src&&(w.src=Te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var nt=v.alternate;if(nt!==null){var xt=nt.memoizedState;if(xt!==null){var Rt=xt.dehydrated;Rt!==null&&Sr(Rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}vi||v.flags&512&&wg(v)}catch(At){Ci(v,v.return,At)}}if(v===d){en=null;break}if(w=v.sibling,w!==null){w.return=v.return,en=w;break}en=v.return}}function Sf(d){for(;en!==null;){var v=en;if(v===d){en=null;break}var w=v.sibling;if(w!==null){w.return=v.return,en=w;break}en=v.return}}function gb(d){for(;en!==null;){var v=en;try{switch(v.tag){case 0:case 11:case 15:var w=v.return;try{cm(4,v)}catch(Te){Ci(v,w,Te)}break;case 1:var P=v.stateNode;if(typeof P.componentDidMount=="function"){var U=v.return;try{P.componentDidMount()}catch(Te){Ci(v,U,Te)}}var H=v.return;try{wg(v)}catch(Te){Ci(v,H,Te)}break;case 5:var ne=v.return;try{wg(v)}catch(Te){Ci(v,ne,Te)}}}catch(Te){Ci(v,v.return,Te)}if(v===d){en=null;break}var Ae=v.sibling;if(Ae!==null){Ae.return=v.return,en=Ae;break}en=v.return}}var vb=Math.ceil,Tg=M.ReactCurrentDispatcher,I1=M.ReactCurrentOwner,cu=M.ReactCurrentBatchConfig,vr=0,ko=null,Zi=null,rs=0,Fa=0,Qh=Rr(0),bo=0,fm=null,xf=0,dm=0,Pg=0,hm=null,ia=null,B1=0,Ed=1/0,wc=null,Dg=!1,F1=null,wf=null,Rg=!1,Cf=null,Ls=0,pm=0,L1=null,Og=-1,mm=0;function Ns(){return vr&6?be():Og!==-1?Og:Og=be()}function Mf(d){return d.mode&1?vr&2&&rs!==0?rs&-rs:yg.transition!==null?(mm===0&&(mm=Vr()),mm):(d=Ln,d!==0||(d=window.event,d=d===void 0?16:fg(d.type)),d):1}function Ku(d,v,w,P){if(50<pm)throw pm=0,L1=null,Error(t(185));Ei(d,w,P),(!(vr&2)||d!==ko)&&(d===ko&&(!(vr&2)&&(dm|=w),bo===4&&Tf(d,rs)),oa(d,P),w===1&&vr===0&&!(v.mode&1)&&(Ed=be()+500,fd&&eu()))}function oa(d,v){var w=d.callbackNode;qa(d,v);var P=oo(d,d===ko?rs:0);if(P===0)w!==null&&Oe(w),d.callbackNode=null,d.callbackPriority=0;else if(v=P&-P,d.callbackPriority!==v){if(w!=null&&Oe(w),v===1)d.tag===0?Ol(_b.bind(null,d)):dd(_b.bind(null,d)),Rh(function(){!(vr&6)&&eu()}),w=null;else{switch(ya(P)){case 1:w=St;break;case 4:w=Ct;break;case 16:w=Lt;break;case 536870912:w=an;break;default:w=Lt}w=wb(w,Ig.bind(null,d))}d.callbackPriority=v,d.callbackNode=w}}function Ig(d,v){if(Og=-1,mm=0,vr&6)throw Error(t(327));var w=d.callbackNode;if(Zh()&&d.callbackNode!==w)return null;var P=oo(d,d===ko?rs:0);if(P===0)return null;if(P&30||P&d.expiredLanes||v)v=Bg(d,P);else{v=P;var U=vr;vr|=2;var H=bb();(ko!==d||rs!==v)&&(wc=null,Ed=be()+500,xd(d,v));do try{Jx();break}catch(Ae){yb(d,Ae)}while(!0);Ms(),Tg.current=H,vr=U,Zi!==null?v=0:(ko=null,rs=0,v=bo)}if(v!==0){if(v===2&&(U=Er(d),U!==0&&(P=U,v=N1(d,U))),v===1)throw w=fm,xd(d,0),Tf(d,P),oa(d,be()),w;if(v===6)Tf(d,P);else{if(U=d.current.alternate,!(P&30)&&!Xx(U)&&(v=Bg(d,P),v===2&&(H=Er(d),H!==0&&(P=H,v=N1(d,H))),v===1))throw w=fm,xd(d,0),Tf(d,P),oa(d,be()),w;switch(d.finishedWork=U,d.finishedLanes=P,v){case 0:case 1:throw Error(t(345));case 2:wd(d,ia,wc);break;case 3:if(Tf(d,P),(P&130023424)===P&&(v=B1+500-be(),10<v)){if(oo(d,0)!==0)break;if(U=d.suspendedLanes,(U&P)!==P){Ns(),d.pingedLanes|=d.suspendedLanes&U;break}d.timeoutHandle=Pl(wd.bind(null,d,ia,wc),v);break}wd(d,ia,wc);break;case 4:if(Tf(d,P),(P&4194240)===P)break;for(v=d.eventTimes,U=-1;0<P;){var ne=31-un(P);H=1<<ne,ne=v[ne],ne>U&&(U=ne),P&=~H}if(P=U,P=be()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*vb(P/1960))-P,10<P){d.timeoutHandle=Pl(wd.bind(null,d,ia,wc),P);break}wd(d,ia,wc);break;case 5:wd(d,ia,wc);break;default:throw Error(t(329))}}}return oa(d,be()),d.callbackNode===w?Ig.bind(null,d):null}function N1(d,v){var w=hm;return d.current.memoizedState.isDehydrated&&(xd(d,v).flags|=256),d=Bg(d,v),d!==2&&(v=ia,ia=w,v!==null&&U1(v)),d}function U1(d){ia===null?ia=d:ia.push.apply(ia,d)}function Xx(d){for(var v=d;;){if(v.flags&16384){var w=v.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var P=0;P<w.length;P++){var U=w[P],H=U.getSnapshot;U=U.value;try{if(!Ye(H(),U))return!1}catch{return!1}}}if(w=v.child,v.subtreeFlags&16384&&w!==null)w.return=v,v=w;else{if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Tf(d,v){for(v&=~Pg,v&=~dm,d.suspendedLanes|=v,d.pingedLanes&=~v,d=d.expirationTimes;0<v;){var w=31-un(v),P=1<<w;d[w]=-1,v&=~P}}function _b(d){if(vr&6)throw Error(t(327));Zh();var v=oo(d,0);if(!(v&1))return oa(d,be()),null;var w=Bg(d,v);if(d.tag!==0&&w===2){var P=Er(d);P!==0&&(v=P,w=N1(d,P))}if(w===1)throw w=fm,xd(d,0),Tf(d,v),oa(d,be()),w;if(w===6)throw Error(t(345));return d.finishedWork=d.current.alternate,d.finishedLanes=v,wd(d,ia,wc),oa(d,be()),null}function k1(d,v){var w=vr;vr|=1;try{return d(v)}finally{vr=w,vr===0&&(Ed=be()+500,fd&&eu())}}function Sd(d){Cf!==null&&Cf.tag===0&&!(vr&6)&&Zh();var v=vr;vr|=1;var w=cu.transition,P=Ln;try{if(cu.transition=null,Ln=1,d)return d()}finally{Ln=P,cu.transition=w,vr=v,!(vr&6)&&eu()}}function z1(){Fa=Qh.current,$r(Qh)}function xd(d,v){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==-1&&(d.timeoutHandle=-1,ac(w)),Zi!==null)for(w=Zi.return;w!==null;){var P=w;switch(ws(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&ld();break;case 3:ou(),$r(Jo),$r(co),Ra();break;case 5:yc(P);break;case 4:ou();break;case 13:$r(Xr);break;case 19:$r(Xr);break;case 10:mf(P.type._context);break;case 22:case 23:z1()}w=w.return}if(ko=d,Zi=d=Ju(d.current,null),rs=Fa=v,bo=0,fm=null,Pg=dm=xf=0,ia=hm=null,Hu!==null){for(v=0;v<Hu.length;v++)if(w=Hu[v],P=w.interleaved,P!==null){w.interleaved=null;var U=P.next,H=w.pending;if(H!==null){var ne=H.next;H.next=U,P.next=ne}w.pending=P}Hu=null}return d}function yb(d,v){do{var w=Zi;try{if(Ms(),Ll.current=Xh,Ds){for(var P=Kr.memoizedState;P!==null;){var U=P.queue;U!==null&&(U.pending=null),P=P.next}Ds=!1}if(su=0,hr=ui=Kr=null,No=!1,au=0,I1.current=null,w===null||w.return===null){bo=1,fm=v,Zi=null;break}e:{var H=d,ne=w.return,Ae=w,Te=v;if(v=rs,Ae.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var nt=Te,xt=Ae,Rt=xt.tag;if(!(xt.mode&1)&&(Rt===0||Rt===11||Rt===15)){var At=xt.alternate;At?(xt.updateQueue=At.updateQueue,xt.memoizedState=At.memoizedState,xt.lanes=At.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var Kt=Zt(ne);if(Kt!==null){Kt.flags&=-257,On(Kt,ne,Ae,H,v),Kt.mode&1&&Ot(H,nt,v),v=Kt,Te=nt;var nn=v.updateQueue;if(nn===null){var on=new Set;on.add(Te),v.updateQueue=on}else nn.add(Te);break e}else{if(!(v&1)){Ot(H,nt,v),H1();break e}Te=Error(t(426))}}else if(qr&&Ae.mode&1){var Gi=Zt(ne);if(Gi!==null){!(Gi.flags&65536)&&(Gi.flags|=256),On(Gi,ne,Ae,H,v),Cs(L(Te,Ae));break e}}H=Te=L(Te,Ae),bo!==4&&(bo=2),hm===null?hm=[H]:hm.push(H),H=ne;do{switch(H.tag){case 3:H.flags|=65536,v&=-v,H.lanes|=v;var qe=Be(H,Te,v);gc(H,qe);break e;case 1:Ae=Te;var Fe=H.type,Je=H.stateNode;if(!(H.flags&128)&&(typeof Fe.getDerivedStateFromError=="function"||Je!==null&&typeof Je.componentDidCatch=="function"&&(wf===null||!wf.has(Je)))){H.flags|=65536,v&=-v,H.lanes|=v;var It=at(H,Ae,v);gc(H,It);break e}}H=H.return}while(H!==null)}Eb(w)}catch(cn){v=cn,Zi===w&&w!==null&&(Zi=w=w.return);continue}break}while(!0)}function bb(){var d=Tg.current;return Tg.current=Xh,d===null?Xh:d}function H1(){(bo===0||bo===3||bo===2)&&(bo=4),ko===null||!(xf&268435455)&&!(dm&268435455)||Tf(ko,rs)}function Bg(d,v){var w=vr;vr|=2;var P=bb();(ko!==d||rs!==v)&&(wc=null,xd(d,v));do try{Kx();break}catch(U){yb(d,U)}while(!0);if(Ms(),vr=w,Tg.current=P,Zi!==null)throw Error(t(261));return ko=null,rs=0,bo}function Kx(){for(;Zi!==null;)Ab(Zi)}function Jx(){for(;Zi!==null&&!ke();)Ab(Zi)}function Ab(d){var v=xb(d.alternate,d,Fa);d.memoizedProps=d.pendingProps,v===null?Eb(d):Zi=v,I1.current=null}function Eb(d){var v=d;do{var w=v.alternate;if(d=v.return,v.flags&32768){if(w=$x(w,v),w!==null){w.flags&=32767,Zi=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{bo=6,Zi=null;return}}else if(w=Wx(w,v,Fa),w!==null){Zi=w;return}if(v=v.sibling,v!==null){Zi=v;return}Zi=v=d}while(v!==null);bo===0&&(bo=5)}function wd(d,v,w){var P=Ln,U=cu.transition;try{cu.transition=null,Ln=1,Yx(d,v,w,P)}finally{cu.transition=U,Ln=P}return null}function Yx(d,v,w,P){do Zh();while(Cf!==null);if(vr&6)throw Error(t(327));w=d.finishedWork;var U=d.finishedLanes;if(w===null)return null;if(d.finishedWork=null,d.finishedLanes=0,w===d.current)throw Error(t(177));d.callbackNode=null,d.callbackPriority=0;var H=w.lanes|w.childLanes;if(ao(d,H),d===ko&&(Zi=ko=null,rs=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||Rg||(Rg=!0,wb(Lt,function(){return Zh(),null})),H=(w.flags&15990)!==0,w.subtreeFlags&15990||H){H=cu.transition,cu.transition=null;var ne=Ln;Ln=1;var Ae=vr;vr|=4,I1.current=null,qx(d,w),R1(w,d),Ji(sc),Xs=!!Tl,sc=Tl=null,d.current=w,Mg(w),je(),vr=Ae,Ln=ne,cu.transition=H}else d.current=w;if(Rg&&(Rg=!1,Cf=d,Ls=U),H=d.pendingLanes,H===0&&(wf=null),Dt(w.stateNode),oa(d,be()),v!==null)for(P=d.onRecoverableError,w=0;w<v.length;w++)U=v[w],P(U.value,{componentStack:U.stack,digest:U.digest});if(Dg)throw Dg=!1,d=F1,F1=null,d;return Ls&1&&d.tag!==0&&Zh(),H=d.pendingLanes,H&1?d===L1?pm++:(pm=0,L1=d):pm=0,eu(),null}function Zh(){if(Cf!==null){var d=ya(Ls),v=cu.transition,w=Ln;try{if(cu.transition=null,Ln=16>d?16:d,Cf===null)var P=!1;else{if(d=Cf,Cf=null,Ls=0,vr&6)throw Error(t(331));var U=vr;for(vr|=4,en=d.current;en!==null;){var H=en,ne=H.child;if(en.flags&16){var Ae=H.deletions;if(Ae!==null){for(var Te=0;Te<Ae.length;Te++){var nt=Ae[Te];for(en=nt;en!==null;){var xt=en;switch(xt.tag){case 0:case 11:case 15:xc(8,xt,H)}var Rt=xt.child;if(Rt!==null)Rt.return=xt,en=Rt;else for(;en!==null;){xt=en;var At=xt.sibling,Kt=xt.return;if(hb(xt),xt===nt){en=null;break}if(At!==null){At.return=Kt,en=At;break}en=Kt}}}var nn=H.alternate;if(nn!==null){var on=nn.child;if(on!==null){nn.child=null;do{var Gi=on.sibling;on.sibling=null,on=Gi}while(on!==null)}}en=H}}if(H.subtreeFlags&2064&&ne!==null)ne.return=H,en=ne;else e:for(;en!==null;){if(H=en,H.flags&2048)switch(H.tag){case 0:case 11:case 15:xc(9,H,H.return)}var qe=H.sibling;if(qe!==null){qe.return=H.return,en=qe;break e}en=H.return}}var Fe=d.current;for(en=Fe;en!==null;){ne=en;var Je=ne.child;if(ne.subtreeFlags&2064&&Je!==null)Je.return=ne,en=Je;else e:for(ne=Fe;en!==null;){if(Ae=en,Ae.flags&2048)try{switch(Ae.tag){case 0:case 11:case 15:cm(9,Ae)}}catch(cn){Ci(Ae,Ae.return,cn)}if(Ae===ne){en=null;break e}var It=Ae.sibling;if(It!==null){It.return=Ae.return,en=It;break e}en=Ae.return}}if(vr=U,eu(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Xt,d)}catch{}P=!0}return P}finally{Ln=w,cu.transition=v}}return!1}function Fg(d,v,w){v=L(w,v),v=Be(d,v,1),d=Ir(d,v,1),v=Ns(),d!==null&&(Ei(d,1,v),oa(d,v))}function Ci(d,v,w){if(d.tag===3)Fg(d,d,w);else for(;v!==null;){if(v.tag===3){Fg(v,d,w);break}else if(v.tag===1){var P=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(wf===null||!wf.has(P))){d=L(w,d),d=at(v,d,1),v=Ir(v,d,1),d=Ns(),v!==null&&(Ei(v,1,d),oa(v,d));break}}v=v.return}}function Qx(d,v,w){var P=d.pingCache;P!==null&&P.delete(v),v=Ns(),d.pingedLanes|=d.suspendedLanes&w,ko===d&&(rs&w)===w&&(bo===4||bo===3&&(rs&130023424)===rs&&500>be()-B1?xd(d,0):Pg|=w),oa(d,v)}function Sb(d,v){v===0&&(d.mode&1?(v=En,En<<=1,!(En&130023424)&&(En=4194304)):v=1);var w=Ns();d=Da(d,v),d!==null&&(Ei(d,v,w),oa(d,w))}function Zx(d){var v=d.memoizedState,w=0;v!==null&&(w=v.retryLane),Sb(d,w)}function ew(d,v){var w=0;switch(d.tag){case 13:var P=d.stateNode,U=d.memoizedState;U!==null&&(w=U.retryLane);break;case 19:P=d.stateNode;break;default:throw Error(t(314))}P!==null&&P.delete(v),Sb(d,w)}var xb;xb=function(d,v,w){if(d!==null)if(d.memoizedProps!==v.pendingProps||Jo.current)Vn=!0;else{if(!(d.lanes&w)&&!(v.flags&128))return Vn=!1,cb(d,v,w);Vn=!!(d.flags&131072)}else Vn=!1,qr&&v.flags&1048576&&em(v,Lh,v.index);switch(v.lanes=0,v.tag){case 2:var P=v.type;Sg(d,v),d=v.pendingProps;var U=cc(v,co.current);nu(v,w),U=Gu(null,v,P,d,U,w);var H=zh();return v.flags|=1,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Bo(P)?(H=!0,Yo(v)):H=!1,v.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,Nn(v),U.updater=Kh,v.stateNode=U,U._reactInternals=v,T(v,P,d,w),v=Un(null,v,P,!0,H,w)):(v.tag=0,qr&&H&&hd(v),jt(null,v,U,w),v=v.child),v;case 16:P=v.elementType;e:{switch(Sg(d,v),d=v.pendingProps,U=P._init,P=U(P._payload),v.type=P,U=v.tag=nw(P),d=Bs(P,d),U){case 0:v=Gt(null,v,P,d,w);break e;case 1:v=sn(null,v,P,d,w);break e;case 11:v=yo(null,v,P,d,w);break e;case 14:v=ds(null,v,P,Bs(P.type,d),w);break e}throw Error(t(306,P,""))}return v;case 0:return P=v.type,U=v.pendingProps,U=v.elementType===P?U:Bs(P,U),Gt(d,v,P,U,w);case 1:return P=v.type,U=v.pendingProps,U=v.elementType===P?U:Bs(P,U),sn(d,v,P,U,w);case 3:e:{if(In(v),d===null)throw Error(t(387));P=v.pendingProps,H=v.memoizedState,U=H.element,wi(d,v),ai(v,P,null,w);var ne=v.memoizedState;if(P=ne.element,H.isDehydrated)if(H={element:P,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},v.updateQueue.baseState=H,v.memoizedState=H,v.flags&256){U=L(Error(t(423)),v),v=jn(d,v,P,w,U);break e}else if(P!==U){U=L(Error(t(424)),v),v=jn(d,v,P,w,U);break e}else for(Zo=Fu(v.stateNode.containerInfo.firstChild),Bi=v,qr=!0,ea=null,w=pc(v,null,P,w),v.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(ta(),P===U){v=Wu(d,v,w);break e}jt(d,v,P,w)}v=v.child}return v;case 5:return Fl(v),d===null&&es(v),P=v.type,U=v.pendingProps,H=d!==null?d.memoizedProps:null,ne=U.children,ud(P,U)?ne=null:H!==null&&ud(P,H)&&(v.flags|=32),it(d,v),jt(d,v,ne,w),v.child;case 6:return d===null&&es(v),null;case 13:return Ia(d,v,w);case 4:return gd(v,v.stateNode.containerInfo),P=v.pendingProps,d===null?v.child=di(v,null,P,w):jt(d,v,P,w),v.child;case 11:return P=v.type,U=v.pendingProps,U=v.elementType===P?U:Bs(P,U),yo(d,v,P,U,w);case 7:return jt(d,v,v.pendingProps,w),v.child;case 8:return jt(d,v,v.pendingProps.children,w),v.child;case 12:return jt(d,v,v.pendingProps.children,w),v.child;case 10:e:{if(P=v.type._context,U=v.pendingProps,H=v.memoizedProps,ne=U.value,Nr(Bl,P._currentValue),P._currentValue=ne,H!==null)if(Ye(H.value,ne)){if(H.children===U.children&&!Jo.current){v=Wu(d,v,w);break e}}else for(H=v.child,H!==null&&(H.return=v);H!==null;){var Ae=H.dependencies;if(Ae!==null){ne=H.child;for(var Te=Ae.firstContext;Te!==null;){if(Te.context===P){if(H.tag===1){Te=Or(-1,w&-w),Te.tag=2;var nt=H.updateQueue;if(nt!==null){nt=nt.shared;var xt=nt.pending;xt===null?Te.next=Te:(Te.next=xt.next,xt.next=Te),nt.pending=Te}}H.lanes|=w,Te=H.alternate,Te!==null&&(Te.lanes|=w),Hi(H.return,w,v),Ae.lanes|=w;break}Te=Te.next}}else if(H.tag===10)ne=H.type===v.type?null:H.child;else if(H.tag===18){if(ne=H.return,ne===null)throw Error(t(341));ne.lanes|=w,Ae=ne.alternate,Ae!==null&&(Ae.lanes|=w),Hi(ne,w,v),ne=H.sibling}else ne=H.child;if(ne!==null)ne.return=H;else for(ne=H;ne!==null;){if(ne===v){ne=null;break}if(H=ne.sibling,H!==null){H.return=ne.return,ne=H;break}ne=ne.return}H=ne}jt(d,v,U.children,w),v=v.child}return v;case 9:return U=v.type,P=v.pendingProps.children,nu(v,w),U=Ts(U),P=P(U),v.flags|=1,jt(d,v,P,w),v.child;case 14:return P=v.type,U=Bs(P,v.pendingProps),U=Bs(P.type,U),ds(d,v,P,U,w);case 15:return Xe(d,v,v.type,v.pendingProps,w);case 17:return P=v.type,U=v.pendingProps,U=v.elementType===P?U:Bs(P,U),Sg(d,v),v.tag=1,Bo(P)?(d=!0,Yo(v)):d=!1,nu(v,w),A(v,P,U),T(v,P,U,w),Un(null,v,P,!0,d,w);case 19:return Ef(d,v,w);case 22:return Ue(d,v,w)}throw Error(t(156,v.tag))};function wb(d,v){return se(d,v)}function tw(d,v,w,P){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fu(d,v,w,P){return new tw(d,v,w,P)}function Lg(d){return d=d.prototype,!(!d||!d.isReactComponent)}function nw(d){if(typeof d=="function")return Lg(d)?1:0;if(d!=null){if(d=d.$$typeof,d===q)return 11;if(d===le)return 14}return 2}function Ju(d,v){var w=d.alternate;return w===null?(w=fu(d.tag,v,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=v,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,v=d.dependencies,w.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function Ng(d,v,w,P,U,H){var ne=2;if(P=d,typeof d=="function")Lg(d)&&(ne=1);else if(typeof d=="string")ne=5;else e:switch(d){case N:return Cd(w.children,U,H,v);case F:ne=8,U|=8;break;case I:return d=fu(12,w,v,U|2),d.elementType=I,d.lanes=H,d;case Y:return d=fu(13,w,v,U),d.elementType=Y,d.lanes=H,d;case ee:return d=fu(19,w,v,U),d.elementType=ee,d.lanes=H,d;case fe:return Ug(w,U,H,v);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case B:ne=10;break e;case k:ne=9;break e;case q:ne=11;break e;case le:ne=14;break e;case J:ne=16,P=null;break e}throw Error(t(130,d==null?d:typeof d,""))}return v=fu(ne,w,v,U),v.elementType=d,v.type=P,v.lanes=H,v}function Cd(d,v,w,P){return d=fu(7,d,P,v),d.lanes=w,d}function Ug(d,v,w,P){return d=fu(22,d,P,v),d.elementType=fe,d.lanes=w,d.stateNode={isHidden:!1},d}function G1(d,v,w){return d=fu(6,d,null,v),d.lanes=w,d}function V1(d,v,w){return v=fu(4,d.children!==null?d.children:[],d.key,v),v.lanes=w,v.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},v}function rw(d,v,w,P,U){this.tag=v,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=P,this.onRecoverableError=U,this.mutableSourceEagerHydrationData=null}function j1(d,v,w,P,U,H,ne,Ae,Te){return d=new rw(d,v,w,Ae,Te),v===1?(v=1,H===!0&&(v|=8)):v=0,H=fu(3,null,null,v),d.current=H,H.stateNode=d,H.memoizedState={element:P,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nn(H),d}function iw(d,v,w){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:P==null?null:""+P,children:d,containerInfo:v,implementation:w}}function Cb(d){if(!d)return Uu;d=d._reactInternals;e:{if(Do(d)!==d||d.tag!==1)throw Error(t(170));var v=d;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Bo(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(t(171))}if(d.tag===1){var w=d.type;if(Bo(w))return cd(d,w,v)}return v}function Mb(d,v,w,P,U,H,ne,Ae,Te){return d=j1(w,P,!0,d,U,H,ne,Ae,Te),d.context=Cb(null),w=d.current,P=Ns(),U=Mf(w),H=Or(P,U),H.callback=v??null,Ir(w,H,U),d.current.lanes=U,Ei(d,U,P),oa(d,P),d}function kg(d,v,w,P){var U=v.current,H=Ns(),ne=Mf(U);return w=Cb(w),v.context===null?v.context=w:v.pendingContext=w,v=Or(H,ne),v.payload={element:d},P=P===void 0?null:P,P!==null&&(v.callback=P),d=Ir(U,v,ne),d!==null&&(Ku(d,U,ne,H),Lo(d,U,ne)),ne}function zg(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function Tb(d,v){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<v?w:v}}function W1(d,v){Tb(d,v),(d=d.alternate)&&Tb(d,v)}function ow(){return null}var Pb=typeof reportError=="function"?reportError:function(d){console.error(d)};function Hg(d){this._internalRoot=d}gm.prototype.render=Hg.prototype.render=function(d){var v=this._internalRoot;if(v===null)throw Error(t(409));kg(d,v,null,null)},gm.prototype.unmount=Hg.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var v=d.containerInfo;Sd(function(){kg(null,d,null,null)}),v[lo]=null}};function gm(d){this._internalRoot=d}gm.prototype.unstable_scheduleHydration=function(d){if(d){var v=Xf();d={blockedOn:null,target:d,priority:v};for(var w=0;w<vl.length&&v!==0&&v<vl[w].priority;w++);vl.splice(w,0,d),w===0&&gh(d)}};function $1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Gg(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function Db(){}function sw(d,v,w,P,U){if(U){if(typeof P=="function"){var H=P;P=function(){var nt=zg(ne);H.call(nt)}}var ne=Mb(v,P,d,0,null,!1,!1,"",Db);return d._reactRootContainer=ne,d[lo]=ne.current,Bu(d.nodeType===8?d.parentNode:d),Sd(),ne}for(;U=d.lastChild;)d.removeChild(U);if(typeof P=="function"){var Ae=P;P=function(){var nt=zg(Te);Ae.call(nt)}}var Te=j1(d,0,!1,null,null,!1,!1,"",Db);return d._reactRootContainer=Te,d[lo]=Te.current,Bu(d.nodeType===8?d.parentNode:d),Sd(function(){kg(v,Te,w,P)}),Te}function Md(d,v,w,P,U){var H=w._reactRootContainer;if(H){var ne=H;if(typeof U=="function"){var Ae=U;U=function(){var Te=zg(ne);Ae.call(Te)}}kg(v,ne,d,U)}else ne=sw(w,v,d,U,P);return zg(ne)}Qc=function(d){switch(d.tag){case 3:var v=d.stateNode;if(v.current.memoizedState.isDehydrated){var w=ci(v.pendingLanes);w!==0&&(qs(v,w|1),oa(v,be()),!(vr&6)&&(Ed=be()+500,eu()))}break;case 13:Sd(function(){var P=Da(d,1);if(P!==null){var U=Ns();Ku(P,d,1,U)}}),W1(d,1)}},mh=function(d){if(d.tag===13){var v=Da(d,134217728);if(v!==null){var w=Ns();Ku(v,d,134217728,w)}W1(d,134217728)}},cg=function(d){if(d.tag===13){var v=Mf(d),w=Da(d,v);if(w!==null){var P=Ns();Ku(w,d,v,P)}W1(d,v)}},Xf=function(){return Ln},Kf=function(d,v){var w=Ln;try{return Ln=d,v()}finally{Ln=w}},Ft=function(d,v,w){switch(v){case"input":if(vt(d,w),v=w.name,w.type==="radio"&&v!=null){for(w=d;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<w.length;v++){var P=w[v];if(P!==d&&P.form===d.form){var U=Ih(P);if(!U)throw Error(t(90));We(P),vt(P,U)}}}break;case"textarea":re(d,w);break;case"select":v=w.value,v!=null&&te(d,!!w.multiple,v,!1)}},fr=k1,Ar=Sd;var aw={usingClientEntryPoint:!1,Events:[Ii,pn,Ih,kt,vn,k1]},vm={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uw={bundleType:vm.bundleType,version:vm.version,rendererPackageName:vm.rendererPackageName,rendererConfig:vm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Qt(d),d===null?null:d.stateNode},findFiberByHostInstance:vm.findFiberByHostInstance||ow,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{Xt=Vg.inject(uw),ot=Vg}catch{}}return mu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aw,mu.createPortal=function(d,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$1(v))throw Error(t(200));return iw(d,v,null,w)},mu.createRoot=function(d,v){if(!$1(d))throw Error(t(299));var w=!1,P="",U=Pb;return v!=null&&(v.unstable_strictMode===!0&&(w=!0),v.identifierPrefix!==void 0&&(P=v.identifierPrefix),v.onRecoverableError!==void 0&&(U=v.onRecoverableError)),v=j1(d,1,!1,null,null,w,!1,P,U),d[lo]=v.current,Bu(d.nodeType===8?d.parentNode:d),new Hg(v)},mu.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var v=d._reactInternals;if(v===void 0)throw typeof d.render=="function"?Error(t(188)):(d=Object.keys(d).join(","),Error(t(268,d)));return d=Qt(v),d=d===null?null:d.stateNode,d},mu.flushSync=function(d){return Sd(d)},mu.hydrate=function(d,v,w){if(!Gg(v))throw Error(t(200));return Md(null,d,v,!0,w)},mu.hydrateRoot=function(d,v,w){if(!$1(d))throw Error(t(405));var P=w!=null&&w.hydratedSources||null,U=!1,H="",ne=Pb;if(w!=null&&(w.unstable_strictMode===!0&&(U=!0),w.identifierPrefix!==void 0&&(H=w.identifierPrefix),w.onRecoverableError!==void 0&&(ne=w.onRecoverableError)),v=Mb(v,null,d,1,w??null,U,!1,H,ne),d[lo]=v.current,Bu(d),P)for(d=0;d<P.length;d++)w=P[d],U=w._getVersion,U=U(w._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[w,U]:v.mutableSourceEagerHydrationData.push(w,U);return new gm(v)},mu.render=function(d,v,w){if(!Gg(v))throw Error(t(200));return Md(null,d,v,!1,w)},mu.unmountComponentAtNode=function(d){if(!Gg(d))throw Error(t(40));return d._reactRootContainer?(Sd(function(){Md(null,null,d,!1,function(){d._reactRootContainer=null,d[lo]=null})}),!0):!1},mu.unstable_batchedUpdates=k1,mu.unstable_renderSubtreeIntoContainer=function(d,v,w,P){if(!Gg(w))throw Error(t(200));if(d==null||d._reactInternals===void 0)throw Error(t(38));return Md(d,v,w,!1,P)},mu.version="18.3.1-next-f1338f8080-20240426",mu}var zD;function GL(){if(zD)return Sw.exports;zD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sw.exports=FH(),Sw.exports}var HD;function LH(){if(HD)return Fb;HD=1;var n=GL();return Fb.createRoot=n.createRoot,Fb.hydrateRoot=n.hydrateRoot,Fb}var VL=LH(),K1={},GD;function NH(){if(GD)return K1;GD=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.parse=s,K1.serialize=c;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function s(h,m){const g=new o,p=h.length;if(p<2)return g;const y=(m==null?void 0:m.decode)||l;let b=0;do{const x=h.indexOf("=",b);if(x===-1)break;const C=h.indexOf(";",b),M=C===-1?p:C;if(x>M){b=h.lastIndexOf(";",x-1)+1;continue}const R=a(h,b,x),O=u(h,x,R),N=h.slice(R,O);if(g[N]===void 0){let F=a(h,x+1,M),I=u(h,M,F);const B=y(h.slice(F,I));g[N]=B}b=M+1}while(b<p);return g}function a(h,m,g){do{const p=h.charCodeAt(m);if(p!==32&&p!==9)return m}while(++m<g);return g}function u(h,m,g){for(;m>g;){const p=h.charCodeAt(--m);if(p!==32&&p!==9)return m+1}return g}function c(h,m,g){const p=(g==null?void 0:g.encode)||encodeURIComponent;if(!n.test(h))throw new TypeError(`argument name is invalid: ${h}`);const y=p(m);if(!e.test(y))throw new TypeError(`argument val is invalid: ${m}`);let b=h+"="+y;if(!g)return b;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);b+="; Max-Age="+g.maxAge}if(g.domain){if(!t.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);b+="; Domain="+g.domain}if(g.path){if(!r.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);b+="; Path="+g.path}if(g.expires){if(!f(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);b+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(b+="; HttpOnly"),g.secure&&(b+="; Secure"),g.partitioned&&(b+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return b}function l(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function f(h){return i.call(h)==="[object Date]"}return K1}NH();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VD="popstate";function UH(n={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return SM("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:fy(i)}return zH(e,t,null,n)}function qi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hf(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kH(){return Math.random().toString(36).substring(2,10)}function jD(n,e){return{usr:n.state,key:n.key,idx:e}}function SM(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?c1(e):e,state:t,key:e&&e.key||r||kH()}}function fy({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function c1(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function zH(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",u=null,c=l();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function l(){return(s.state||{idx:null}).idx}function f(){a="POP";let y=l(),b=y==null?null:y-c;c=y,u&&u({action:a,location:p.location,delta:b})}function h(y,b){a="PUSH";let x=SM(p.location,y,b);c=l()+1;let C=jD(x,c),M=p.createHref(x);try{s.pushState(C,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(M)}o&&u&&u({action:a,location:p.location,delta:1})}function m(y,b){a="REPLACE";let x=SM(p.location,y,b);c=l();let C=jD(x,c),M=p.createHref(x);s.replaceState(C,"",M),o&&u&&u({action:a,location:p.location,delta:0})}function g(y){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:fy(y);return x=x.replace(/ $/,"%20"),qi(b,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,b)}let p={get action(){return a},get location(){return n(i,s)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(VD,f),u=y,()=>{i.removeEventListener(VD,f),u=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(y){return s.go(y)}};return p}function jL(n,e,t="/"){return HH(n,e,t,!1)}function HH(n,e,t,r){let i=typeof e=="string"?c1(e):e,o=Dp(i.pathname||"/",t);if(o==null)return null;let s=WL(n);GH(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=ZH(o);a=YH(s[u],c,r)}return a}function WL(n,e=[],t=[],r=""){let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(qi(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=ih([r,u.relativePath]),l=t.concat(u);o.children&&o.children.length>0&&(qi(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),WL(o.children,e,l,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:KH(c,o.index),routesMeta:l})};return n.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of $L(o.path))i(o,s,u)}),e}function $L(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=$L(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>n.startsWith("/")&&u===""?"/":u)}function GH(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:JH(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var VH=/^:[\w-]+$/,jH=3,WH=2,$H=1,qH=10,XH=-2,WD=n=>n==="*";function KH(n,e){let t=n.split("/"),r=t.length;return t.some(WD)&&(r+=XH),e&&(r+=WH),t.filter(i=>!WD(i)).reduce((i,o)=>i+(VH.test(o)?jH:o===""?$H:qH),r)}function JH(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function YH(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,l=o==="/"?e:e.slice(o.length)||"/",f=wE({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},l),h=u.route;if(!f&&c&&t&&!r[r.length-1].route.index&&(f=wE({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},l)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ih([o,f.pathname]),pathnameBase:r7(ih([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ih([o,f.pathnameBase]))}return s}function wE(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=QH(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:l,isOptional:f},h)=>{if(l==="*"){let g=a[h]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return f&&!m?c[l]=void 0:c[l]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:n}}function QH(n,e=!1,t=!0){Hf(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZH(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hf(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function e7(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?c1(n):n;return{pathname:t?t.startsWith("/")?t:t7(t,e):e,search:i7(r),hash:o7(i)}}function t7(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Cw(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n7(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qL(n){let e=n7(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function XL(n,e,t,r=!1){let i;typeof n=="string"?i=c1(n):(i={...n},qi(!i.pathname||!i.pathname.includes("?"),Cw("?","pathname","search",i)),qi(!i.pathname||!i.pathname.includes("#"),Cw("#","pathname","hash",i)),qi(!i.search||!i.search.includes("#"),Cw("#","search","hash",i)));let o=n===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=t;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let u=e7(i,a),c=s&&s!=="/"&&s.endsWith("/"),l=(o||s===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(c||l)&&(u.pathname+="/"),u}var ih=n=>n.join("/").replace(/\/\/+/g,"/"),r7=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),i7=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,o7=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function s7(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var KL=["POST","PUT","PATCH","DELETE"];new Set(KL);var a7=["GET",...KL];new Set(a7);var f1=W.createContext(null);f1.displayName="DataRouter";var GS=W.createContext(null);GS.displayName="DataRouterState";var JL=W.createContext({isTransitioning:!1});JL.displayName="ViewTransition";var u7=W.createContext(new Map);u7.displayName="Fetchers";var l7=W.createContext(null);l7.displayName="Await";var jf=W.createContext(null);jf.displayName="Navigation";var zy=W.createContext(null);zy.displayName="Location";var dh=W.createContext({outlet:null,matches:[],isDataRoute:!1});dh.displayName="Route";var CT=W.createContext(null);CT.displayName="RouteError";function c7(n,{relative:e}={}){qi(Hy(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(jf),{hash:i,pathname:o,search:s}=Gy(n,{relative:e}),a=o;return t!=="/"&&(a=o==="/"?t:ih([t,o])),r.createHref({pathname:a,search:s,hash:i})}function Hy(){return W.useContext(zy)!=null}function hh(){return qi(Hy(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(zy).location}var YL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QL(n){W.useContext(jf).static||W.useLayoutEffect(n)}function MT(){let{isDataRoute:n}=W.useContext(dh);return n?S7():f7()}function f7(){qi(Hy(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(f1),{basename:e,navigator:t}=W.useContext(jf),{matches:r}=W.useContext(dh),{pathname:i}=hh(),o=JSON.stringify(qL(r)),s=W.useRef(!1);return QL(()=>{s.current=!0}),W.useCallback((u,c={})=>{if(Hf(s.current,YL),!s.current)return;if(typeof u=="number"){t.go(u);return}let l=XL(u,JSON.parse(o),i,c.relative==="path");n==null&&e!=="/"&&(l.pathname=l.pathname==="/"?e:ih([e,l.pathname])),(c.replace?t.replace:t.push)(l,c.state,c)},[e,t,o,i,n])}W.createContext(null);function Gy(n,{relative:e}={}){let{matches:t}=W.useContext(dh),{pathname:r}=hh(),i=JSON.stringify(qL(t));return W.useMemo(()=>XL(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function d7(n,e){return ZL(n,e)}function ZL(n,e,t,r){var b;qi(Hy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=W.useContext(jf),{matches:o}=W.useContext(dh),s=o[o.length-1],a=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",l=s&&s.route;{let x=l&&l.path||"";eN(u,!l||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=hh(),h;if(e){let x=typeof e=="string"?c1(e):e;qi(c==="/"||((b=x.pathname)==null?void 0:b.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),h=x}else h=f;let m=h.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=jL(n,{pathname:g});Hf(l||p!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Hf(p==null||p[p.length-1].route.element!==void 0||p[p.length-1].route.Component!==void 0||p[p.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=v7(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ih([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ih([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,t,r);return e&&y?W.createElement(zy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function h7(){let n=E7(),e=s7(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,s)}var p7=W.createElement(h7,null),m7=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(dh.Provider,{value:this.props.routeContext},W.createElement(CT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g7({routeContext:n,match:e,children:t}){let r=W.useContext(f1);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(dh.Provider,{value:n},t)}function v7(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);qi(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let s=!1,a=-1;if(t)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:l,errors:f}=t,h=c.route.loader&&!l.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,c,l)=>{let f,h=!1,m=null,g=null;t&&(f=o&&c.route.id?o[c.route.id]:void 0,m=c.route.errorElement||p7,s&&(a<0&&l===0?(eN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===l&&(h=!0,g=c.route.hydrateFallbackElement||null)));let p=e.concat(i.slice(0,l+1)),y=()=>{let b;return f?b=m:h?b=g:c.route.Component?b=W.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=u,W.createElement(g7,{match:c,routeContext:{outlet:u,matches:p,isDataRoute:t!=null},children:b})};return t&&(c.route.ErrorBoundary||c.route.errorElement||l===0)?W.createElement(m7,{location:t.location,revalidation:t.revalidation,component:m,error:f,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}function TT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _7(n){let e=W.useContext(f1);return qi(e,TT(n)),e}function y7(n){let e=W.useContext(GS);return qi(e,TT(n)),e}function b7(n){let e=W.useContext(dh);return qi(e,TT(n)),e}function PT(n){let e=b7(n),t=e.matches[e.matches.length-1];return qi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function A7(){return PT("useRouteId")}function E7(){var r;let n=W.useContext(CT),e=y7("useRouteError"),t=PT("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function S7(){let{router:n}=_7("useNavigate"),e=PT("useNavigate"),t=W.useRef(!1);return QL(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{Hf(t.current,YL),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var $D={};function eN(n,e,t){!e&&!$D[n]&&($D[n]=!0,Hf(!1,t))}W.memo(x7);function x7({routes:n,future:e,state:t}){return ZL(n,void 0,t,e)}function lE(n){qi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w7({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){qi(!Hy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),a=W.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof t=="string"&&(t=c1(t));let{pathname:u="/",search:c="",hash:l="",state:f=null,key:h="default"}=t,m=W.useMemo(()=>{let g=Dp(u,s);return g==null?null:{location:{pathname:g,search:c,hash:l,state:f,key:h},navigationType:r}},[s,u,c,l,f,h,r]);return Hf(m!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${l}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:W.createElement(jf.Provider,{value:a},W.createElement(zy.Provider,{children:e,value:m}))}function C7({children:n,location:e}){return d7(xM(n),e)}function xM(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,xM(r.props.children,o));return}qi(r.type===lE,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=xM(r.props.children,o)),t.push(s)}),t}var cE="get",fE="application/x-www-form-urlencoded";function VS(n){return n!=null&&typeof n.tagName=="string"}function M7(n){return VS(n)&&n.tagName.toLowerCase()==="button"}function T7(n){return VS(n)&&n.tagName.toLowerCase()==="form"}function P7(n){return VS(n)&&n.tagName.toLowerCase()==="input"}function D7(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function R7(n,e){return n.button===0&&(!e||e==="_self")&&!D7(n)}var Lb=null;function O7(){if(Lb===null)try{new FormData(document.createElement("form"),0),Lb=!1}catch{Lb=!0}return Lb}var I7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mw(n){return n!=null&&!I7.has(n)?(Hf(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fE}"`),null):n}function B7(n,e){let t,r,i,o,s;if(T7(n)){let a=n.getAttribute("action");r=a?Dp(a,e):null,t=n.getAttribute("method")||cE,i=Mw(n.getAttribute("enctype"))||fE,o=new FormData(n)}else if(M7(n)||P7(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||a.getAttribute("action");if(r=u?Dp(u,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||cE,i=Mw(n.getAttribute("formenctype"))||Mw(a.getAttribute("enctype"))||fE,o=new FormData(a,n),!O7()){let{name:c,type:l,value:f}=n;if(l==="image"){let h=c?`${c}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else c&&o.append(c,f)}}else{if(VS(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cE,r=null,i=fE,s=n}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:s}}function DT(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function F7(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L7(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function N7(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await F7(o,t);return s.links?s.links():[]}return[]}));return H7(r.flat(1).filter(L7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qD(n,e,t,r,i,o){let s=(u,c)=>t[c]?u.route.id!==t[c].route.id:!0,a=(u,c)=>{var l;return t[c].pathname!==u.pathname||((l=t[c].route.path)==null?void 0:l.endsWith("*"))&&t[c].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,c)=>s(u,c)||a(u,c)):o==="data"?e.filter((u,c)=>{var f;let l=r.routes[u.route.id];if(!l||!l.hasLoader)return!1;if(s(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function U7(n,e){return k7(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function k7(n){return[...new Set(n)]}function z7(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function H7(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(z7(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function G7(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function V7(){let n=W.useContext(f1);return DT(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function j7(){let n=W.useContext(GS);return DT(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var RT=W.createContext(void 0);RT.displayName="FrameworkContext";function tN(){let n=W.useContext(RT);return DT(n,"You must render this element inside a <HydratedRouter> element"),n}function W7(n,e){let t=W.useContext(RT),[r,i]=W.useState(!1),[o,s]=W.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:l,onTouchStart:f}=e,h=W.useRef(null);W.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let p=b=>{b.forEach(x=>{s(x.isIntersecting)})},y=new IntersectionObserver(p,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[n]),W.useEffect(()=>{if(r){let p=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(p)}}},[r]);let m=()=>{i(!0)},g=()=>{i(!1),s(!1)};return t?n!=="intent"?[o,h,{}]:[o,h,{onFocus:J1(a,m),onBlur:J1(u,g),onMouseEnter:J1(c,m),onMouseLeave:J1(l,g),onTouchStart:J1(f,m)}]:[!1,h,{}]}function J1(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $7({page:n,...e}){let{router:t}=V7(),r=W.useMemo(()=>jL(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(X7,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function q7(n){let{manifest:e,routeModules:t}=tN(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return N7(n,e,t).then(s=>{o||i(s)}),()=>{o=!0}},[n,e,t]),r}function X7({page:n,matches:e,...t}){let r=hh(),{manifest:i,routeModules:o}=tN(),{loaderData:s,matches:a}=j7(),u=W.useMemo(()=>qD(n,e,a,i,r,"data"),[n,e,a,i,r]),c=W.useMemo(()=>qD(n,e,a,i,r,"assets"),[n,e,a,i,r]),l=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let m=new Set,g=!1;if(e.forEach(y=>{var x;let b=i.routes[y.route.id];!b||!b.hasLoader||(!u.some(C=>C.route.id===y.route.id)&&y.route.id in s&&((x=o[y.route.id])!=null&&x.shouldRevalidate)||b.hasClientLoader?g=!0:m.add(y.route.id))}),m.size===0)return[];let p=G7(n);return g&&m.size>0&&p.searchParams.set("_routes",e.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[p.pathname+p.search]},[s,r,i,u,e,n,o]),f=W.useMemo(()=>U7(c,i),[c,i]),h=q7(c);return W.createElement(W.Fragment,null,l.map(m=>W.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...t})),f.map(m=>W.createElement("link",{key:m,rel:"modulepreload",href:m,...t})),h.map(({key:m,link:g})=>W.createElement("link",{key:m,...g})))}function K7(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nN&&(window.__reactRouterVersion="7.0.2")}catch{}function XD({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=UH({window:t,v5Compat:!0}));let i=r.current,[o,s]=W.useState({action:i.action,location:i.location}),a=W.useCallback(u=>{W.startTransition(()=>s(u))},[s]);return W.useLayoutEffect(()=>i.listen(a),[i,a]),W.createElement(w7,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var rN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iN=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:u,to:c,preventScrollReset:l,viewTransition:f,...h},m){let{basename:g}=W.useContext(jf),p=typeof c=="string"&&rN.test(c),y,b=!1;if(typeof c=="string"&&p&&(y=c,nN))try{let I=new URL(window.location.href),B=c.startsWith("//")?new URL(I.protocol+c):new URL(c),k=Dp(B.pathname,g);B.origin===I.origin&&k!=null?c=k+B.search+B.hash:b=!0}catch{Hf(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=c7(c,{relative:i}),[C,M,R]=W7(r,h),O=Z7(c,{replace:s,state:a,target:u,preventScrollReset:l,relative:i,viewTransition:f});function N(I){e&&e(I),I.defaultPrevented||O(I)}let F=W.createElement("a",{...h,...R,href:y||x,onClick:b||o?e:N,ref:K7(m,M),target:u,"data-discover":!p&&t==="render"?"true":void 0});return C&&!p?W.createElement(W.Fragment,null,F,W.createElement($7,{page:x})):F});iN.displayName="Link";var J7=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:u,...c},l){let f=Gy(s,{relative:c.relative}),h=hh(),m=W.useContext(GS),{navigator:g,basename:p}=W.useContext(jf),y=m!=null&&iG(f)&&a===!0,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=h.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(x=x.toLowerCase(),C=C?C.toLowerCase():null,b=b.toLowerCase()),C&&p&&(C=Dp(C,p)||C);const M=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let R=x===b||!i&&x.startsWith(b)&&x.charAt(M)==="/",O=C!=null&&(C===b||!i&&C.startsWith(b)&&C.charAt(b.length)==="/"),N={isActive:R,isPending:O,isTransitioning:y},F=R?e:void 0,I;typeof r=="function"?I=r(N):I=[r,R?"active":null,O?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(N):o;return W.createElement(iN,{...c,"aria-current":F,className:I,ref:l,style:B,to:s,viewTransition:a},typeof u=="function"?u(N):u)});J7.displayName="NavLink";var Y7=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:s=cE,action:a,onSubmit:u,relative:c,preventScrollReset:l,viewTransition:f,...h},m)=>{let g=nG(),p=rG(a,{relative:c}),y=s.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&rN.test(a),x=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,R=(M==null?void 0:M.getAttribute("formmethod"))||s;g(M||C.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:i,state:o,relative:c,preventScrollReset:l,viewTransition:f})};return W.createElement("form",{ref:m,method:y,action:p,onSubmit:r?u:x,...h,"data-discover":!b&&n==="render"?"true":void 0})});Y7.displayName="Form";function Q7(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(n){let e=W.useContext(f1);return qi(e,Q7(n)),e}function Z7(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=MT(),u=hh(),c=Gy(n,{relative:o});return W.useCallback(l=>{if(R7(l,e)){l.preventDefault();let f=t!==void 0?t:fy(u)===fy(c);a(n,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[u,a,c,t,r,e,n,i,o,s])}var eG=0,tG=()=>`__${String(++eG)}__`;function nG(){let{router:n}=oN("useSubmit"),{basename:e}=W.useContext(jf),t=A7();return W.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:u,body:c}=B7(r,e);if(i.navigate===!1){let l=i.fetcherKey||tG();await n.fetch(l,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function rG(n,{relative:e}={}){let{basename:t}=W.useContext(jf),r=W.useContext(dh);qi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Gy(n||".",{relative:e})},s=hh();if(n==null){o.search=s.search;let a=new URLSearchParams(o.search),u=a.getAll("index");if(u.some(l=>l==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let l=a.toString();o.search=l?`?${l}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ih([t,o.pathname])),fy(o)}function iG(n,e={}){let t=W.useContext(JL);qi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oN("useViewTransitionState"),i=Gy(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Dp(t.currentLocation.pathname,r)||t.currentLocation.pathname,s=Dp(t.nextLocation.pathname,r)||t.nextLocation.pathname;return wE(i.pathname,s)!=null||wE(i.pathname,o)!=null}new TextEncoder;var sN=GL();const oG=ky(sN);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Vy="171",sG={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},aG={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},aN=0,wM=1,uN=2,uG=3,lN=0,jS=1,J_=2,kc=3,Gf=0,ja=1,Gs=2,oh=0,G0=1,CM=2,MM=3,TM=4,cN=5,Sp=100,fN=101,dN=102,hN=103,pN=104,mN=200,gN=201,vN=202,_N=203,CE=204,ME=205,yN=206,bN=207,AN=208,EN=209,SN=210,xN=211,wN=212,CN=213,MN=214,TE=0,PE=1,DE=2,X0=3,RE=4,OE=5,IE=6,BE=7,jy=0,TN=1,PN=2,Uf=0,DN=1,RN=2,ON=3,OT=4,IN=5,BN=6,FN=7,PM="attached",LN="detached",WS=300,lh=301,Rp=302,dy=303,hy=304,d1=306,Op=1e3,sl=1001,qv=1002,ys=1003,$S=1004,lG=1004,P0=1005,cG=1005,Co=1006,Vv=1007,fG=1007,ql=1008,dG=1008,jc=1009,IT=1010,BT=1011,Xv=1012,qS=1013,ch=1014,Su=1015,h1=1016,XS=1017,KS=1018,K0=1020,FT=35902,LT=1021,NT=1022,da=1023,UT=1024,kT=1025,V0=1026,J0=1027,JS=1028,Wy=1029,zT=1030,YS=1031,hG=1032,QS=1033,Y_=33776,Q_=33777,Z_=33778,ey=33779,FE=35840,LE=35841,NE=35842,UE=35843,kE=36196,zE=37492,HE=37496,GE=37808,VE=37809,jE=37810,WE=37811,$E=37812,qE=37813,XE=37814,KE=37815,JE=37816,YE=37817,QE=37818,ZE=37819,eS=37820,tS=37821,ty=36492,nS=36494,rS=36495,HT=36283,iS=36284,oS=36285,sS=36286,NN=2200,UN=2201,kN=2202,Kv=2300,Jv=2301,dE=2302,D0=2400,R0=2401,py=2402,ZS=2500,GT=2501,zN=0,VT=1,aS=2,HN=3200,GN=3201,pG=3202,mG=3203,Lp=0,VN=1,Kd="",bu="srgb",Y0="srgb-linear",my="linear",ni="srgb",gG=0,x0=7680,vG=7681,_G=7682,yG=7683,bG=34055,AG=34056,EG=5386,SG=512,xG=513,wG=514,CG=515,MG=516,TG=517,PG=518,DM=519,jN=512,WN=513,$N=514,jT=515,qN=516,XN=517,KN=518,JN=519,gy=35044,DG=35048,RG=35040,OG=35045,IG=35049,BG=35041,FG=35046,LG=35050,NG=35042,UG="100",RM="300 es",Ff=2e3,vy=2001;let Wf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}};const sa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let KD=1234567;const j0=Math.PI/180,Yv=180/Math.PI;function ll(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(sa[n&255]+sa[n>>8&255]+sa[n>>16&255]+sa[n>>24&255]+"-"+sa[e&255]+sa[e>>8&255]+"-"+sa[e>>16&15|64]+sa[e>>24&255]+"-"+sa[t&63|128]+sa[t>>8&255]+"-"+sa[t>>16&255]+sa[t>>24&255]+sa[r&255]+sa[r>>8&255]+sa[r>>16&255]+sa[r>>24&255]).toLowerCase()}function $n(n,e,t){return Math.max(e,Math.min(t,n))}function WT(n,e){return(n%e+e)%e}function kG(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function zG(n,e,t){return n!==e?(t-n)/(e-n):0}function ny(n,e,t){return(1-t)*n+t*e}function HG(n,e,t,r){return ny(n,e,1-Math.exp(-t*r))}function GG(n,e=1){return e-Math.abs(WT(n,e*2)-e)}function VG(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function jG(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function WG(n,e){return n+Math.floor(Math.random()*(e-n+1))}function $G(n,e){return n+Math.random()*(e-n)}function qG(n){return n*(.5-Math.random())}function XG(n){n!==void 0&&(KD=n);let e=KD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function KG(n){return n*j0}function JG(n){return n*Yv}function YG(n){return(n&n-1)===0&&n!==0}function QG(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function ZG(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function eV(n,e,t,r,i){const o=Math.cos,s=Math.sin,a=o(t/2),u=s(t/2),c=o((e+r)/2),l=s((e+r)/2),f=o((e-r)/2),h=s((e-r)/2),m=o((r-e)/2),g=s((r-e)/2);switch(i){case"XYX":n.set(a*l,u*f,u*h,a*c);break;case"YZY":n.set(u*h,a*l,u*f,a*c);break;case"ZXZ":n.set(u*f,u*h,a*l,a*c);break;case"XZX":n.set(a*l,u*g,u*m,a*c);break;case"YXY":n.set(u*m,a*l,u*g,a*c);break;case"ZYZ":n.set(u*g,u*m,a*l,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ga(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function er(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const $T={DEG2RAD:j0,RAD2DEG:Yv,generateUUID:ll,clamp:$n,euclideanModulo:WT,mapLinear:kG,inverseLerp:zG,lerp:ny,damp:HG,pingpong:GG,smoothstep:VG,smootherstep:jG,randInt:WG,randFloat:$G,randFloatSpread:qG,seededRandom:XG,degToRad:KG,radToDeg:JG,isPowerOfTwo:YG,ceilPowerOfTwo:QG,floorPowerOfTwo:ZG,setQuaternionFromProperEuler:eV,normalize:er,denormalize:Ga};class _t{constructor(e=0,t=0){_t.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=$n(this.x,e.x,t.x),this.y=$n(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=$n(this.x,e,t),this.y=$n(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar($n(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos($n(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Qn{constructor(e,t,r,i,o,s,a,u,c){Qn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,o,s,a,u,c)}set(e,t,r,i,o,s,a,u,c){const l=this.elements;return l[0]=e,l[1]=i,l[2]=a,l[3]=t,l[4]=o,l[5]=u,l[6]=r,l[7]=s,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],u=r[6],c=r[1],l=r[4],f=r[7],h=r[2],m=r[5],g=r[8],p=i[0],y=i[3],b=i[6],x=i[1],C=i[4],M=i[7],R=i[2],O=i[5],N=i[8];return o[0]=s*p+a*x+u*R,o[3]=s*y+a*C+u*O,o[6]=s*b+a*M+u*N,o[1]=c*p+l*x+f*R,o[4]=c*y+l*C+f*O,o[7]=c*b+l*M+f*N,o[2]=h*p+m*x+g*R,o[5]=h*y+m*C+g*O,o[8]=h*b+m*M+g*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],l=e[8];return t*s*l-t*a*c-r*o*l+r*a*u+i*o*c-i*s*u}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],l=e[8],f=l*s-a*c,h=a*u-l*o,m=c*o-s*u,g=t*f+r*h+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/g;return e[0]=f*p,e[1]=(i*c-l*r)*p,e[2]=(a*r-i*s)*p,e[3]=h*p,e[4]=(l*t-i*u)*p,e[5]=(i*o-a*t)*p,e[6]=m*p,e[7]=(r*u-c*t)*p,e[8]=(s*t-r*o)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){const u=Math.cos(o),c=Math.sin(o);return this.set(r*u,r*c,-r*(u*s+c*a)+s+e,-i*c,i*u,-i*(-c*s+u*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Tw.makeScale(e,t)),this}rotate(e){return this.premultiply(Tw.makeRotation(-e)),this}translate(e,t){return this.premultiply(Tw.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Tw=new Qn;function YN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const tV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Nv(n,e){return new tV[n](e)}function _y(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function QN(){const n=_y("canvas");return n.style.display="block",n}const JD={};function Bv(n){n in JD||(JD[n]=!0,console.warn(n))}function nV(n,e,t){return new Promise(function(r,i){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:r()}}setTimeout(o,t)})}function rV(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function iV(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const YD=new Qn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),QD=new Qn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function oV(){const n={enabled:!0,workingColorSpace:Y0,spaces:{},convert:function(i,o,s){return this.enabled===!1||o===s||!o||!s||(this.spaces[o].transfer===ni&&(i.r=sh(i.r),i.g=sh(i.g),i.b=sh(i.b)),this.spaces[o].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[o].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===ni&&(i.r=jv(i.r),i.g=jv(i.g),i.b=jv(i.b))),i},fromWorkingColorSpace:function(i,o){return this.convert(i,this.workingColorSpace,o)},toWorkingColorSpace:function(i,o){return this.convert(i,o,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Kd?my:this.spaces[i].transfer},getLuminanceCoefficients:function(i,o=this.workingColorSpace){return i.fromArray(this.spaces[o].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,o,s){return i.copy(this.spaces[o].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Y0]:{primaries:e,whitePoint:r,transfer:my,toXYZ:YD,fromXYZ:QD,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:bu},outputColorSpaceConfig:{drawingBufferColorSpace:bu}},[bu]:{primaries:e,whitePoint:r,transfer:ni,toXYZ:YD,fromXYZ:QD,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:bu}}}),n}const Cr=oV();function sh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function jv(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let $g;class ZN{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{$g===void 0&&($g=_y("canvas")),$g.width=e.width,$g.height=e.height;const r=$g.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=$g}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=_y("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=sh(o[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(sh(t[r]/255)*255):t[r]=sh(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let sV=0;class O0{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sV++}),this.uuid=ll(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(Pw(i[s].image)):o.push(Pw(i[s]))}else o=Pw(i);r.url=o}return t||(e.images[this.uuid]=r),r}}function Pw(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?ZN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let aV=0;class Mi extends Wf{constructor(e=Mi.DEFAULT_IMAGE,t=Mi.DEFAULT_MAPPING,r=sl,i=sl,o=Co,s=ql,a=da,u=jc,c=Mi.DEFAULT_ANISOTROPY,l=Kd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:aV++}),this.uuid=ll(),this.name="",this.source=new O0(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=u,this.offset=new _t(0,0),this.repeat=new _t(1,1),this.center=new _t(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=l,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==WS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Op:e.x=e.x-Math.floor(e.x);break;case sl:e.x=e.x<0?0:1;break;case qv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Op:e.y=e.y-Math.floor(e.y);break;case sl:e.y=e.y<0?0:1;break;case qv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Mi.DEFAULT_IMAGE=null;Mi.DEFAULT_MAPPING=WS;Mi.DEFAULT_ANISOTROPY=1;class Mr{constructor(e=0,t=0,r=0,i=1){Mr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const u=e.elements,c=u[0],l=u[4],f=u[8],h=u[1],m=u[5],g=u[9],p=u[2],y=u[6],b=u[10];if(Math.abs(l-h)<.01&&Math.abs(f-p)<.01&&Math.abs(g-y)<.01){if(Math.abs(l+h)<.1&&Math.abs(f+p)<.1&&Math.abs(g+y)<.1&&Math.abs(c+m+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(c+1)/2,M=(m+1)/2,R=(b+1)/2,O=(l+h)/4,N=(f+p)/4,F=(g+y)/4;return C>M&&C>R?C<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(C),i=O/r,o=N/r):M>R?M<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(M),r=O/i,o=F/i):R<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(R),r=N/o,i=F/o),this.set(r,i,o,t),this}let x=Math.sqrt((y-g)*(y-g)+(f-p)*(f-p)+(h-l)*(h-l));return Math.abs(x)<.001&&(x=1),this.x=(y-g)/x,this.y=(f-p)/x,this.z=(h-l)/x,this.w=Math.acos((c+m+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=$n(this.x,e.x,t.x),this.y=$n(this.y,e.y,t.y),this.z=$n(this.z,e.z,t.z),this.w=$n(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=$n(this.x,e,t),this.y=$n(this.y,e,t),this.z=$n(this.z,e,t),this.w=$n(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar($n(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class e4 extends Wf{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Mr(0,0,e,t),this.scissorTest=!1,this.viewport=new Mr(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Co,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Mi(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new O0(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Wc extends e4{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class ex extends Mi{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ys,this.minFilter=ys,this.wrapR=sl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class uV extends Wc{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new ex(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class qT extends Mi{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ys,this.minFilter=ys,this.wrapR=sl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lV extends Wc{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new qT(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class $s{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,o,s,a){let u=r[i+0],c=r[i+1],l=r[i+2],f=r[i+3];const h=o[s+0],m=o[s+1],g=o[s+2],p=o[s+3];if(a===0){e[t+0]=u,e[t+1]=c,e[t+2]=l,e[t+3]=f;return}if(a===1){e[t+0]=h,e[t+1]=m,e[t+2]=g,e[t+3]=p;return}if(f!==p||u!==h||c!==m||l!==g){let y=1-a;const b=u*h+c*m+l*g+f*p,x=b>=0?1:-1,C=1-b*b;if(C>Number.EPSILON){const R=Math.sqrt(C),O=Math.atan2(R,b*x);y=Math.sin(y*O)/R,a=Math.sin(a*O)/R}const M=a*x;if(u=u*y+h*M,c=c*y+m*M,l=l*y+g*M,f=f*y+p*M,y===1-a){const R=1/Math.sqrt(u*u+c*c+l*l+f*f);u*=R,c*=R,l*=R,f*=R}}e[t]=u,e[t+1]=c,e[t+2]=l,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,o,s){const a=r[i],u=r[i+1],c=r[i+2],l=r[i+3],f=o[s],h=o[s+1],m=o[s+2],g=o[s+3];return e[t]=a*g+l*f+u*m-c*h,e[t+1]=u*g+l*h+c*f-a*m,e[t+2]=c*g+l*m+a*h-u*f,e[t+3]=l*g-a*f-u*h-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,u=Math.sin,c=a(r/2),l=a(i/2),f=a(o/2),h=u(r/2),m=u(i/2),g=u(o/2);switch(s){case"XYZ":this._x=h*l*f+c*m*g,this._y=c*m*f-h*l*g,this._z=c*l*g+h*m*f,this._w=c*l*f-h*m*g;break;case"YXZ":this._x=h*l*f+c*m*g,this._y=c*m*f-h*l*g,this._z=c*l*g-h*m*f,this._w=c*l*f+h*m*g;break;case"ZXY":this._x=h*l*f-c*m*g,this._y=c*m*f+h*l*g,this._z=c*l*g+h*m*f,this._w=c*l*f-h*m*g;break;case"ZYX":this._x=h*l*f-c*m*g,this._y=c*m*f+h*l*g,this._z=c*l*g-h*m*f,this._w=c*l*f+h*m*g;break;case"YZX":this._x=h*l*f+c*m*g,this._y=c*m*f+h*l*g,this._z=c*l*g-h*m*f,this._w=c*l*f-h*m*g;break;case"XZY":this._x=h*l*f-c*m*g,this._y=c*m*f-h*l*g,this._z=c*l*g+h*m*f,this._w=c*l*f+h*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],u=t[9],c=t[2],l=t[6],f=t[10],h=r+a+f;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(l-u)*m,this._y=(o-c)*m,this._z=(s-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(l-u)/m,this._x=.25*m,this._y=(i+s)/m,this._z=(o+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(o-c)/m,this._x=(i+s)/m,this._y=.25*m,this._z=(u+l)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(s-i)/m,this._x=(o+c)/m,this._y=(u+l)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($n(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,u=t._y,c=t._z,l=t._w;return this._x=r*l+s*a+i*c-o*u,this._y=i*l+s*u+o*a-r*c,this._z=o*l+s*c+r*u-i*a,this._w=s*l-r*a-i*u-o*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const u=1-a*a;if(u<=Number.EPSILON){const m=1-t;return this._w=m*s+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*o+t*this._z,this.normalize(),this}const c=Math.sqrt(u),l=Math.atan2(c,a),f=Math.sin((1-t)*l)/c,h=Math.sin(t*l)/c;return this._w=s*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=o*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oe{constructor(e=0,t=0,r=0){oe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ZD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ZD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,u=e.w,c=2*(s*i-a*r),l=2*(a*t-o*i),f=2*(o*r-s*t);return this.x=t+u*c+s*f-a*l,this.y=r+u*l+a*c-o*f,this.z=i+u*f+o*l-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=$n(this.x,e.x,t.x),this.y=$n(this.y,e.y,t.y),this.z=$n(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=$n(this.x,e,t),this.y=$n(this.y,e,t),this.z=$n(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar($n(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,u=t.z;return this.x=i*u-o*a,this.y=o*s-r*u,this.z=r*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Dw.copy(this).projectOnVector(e),this.sub(Dw)}reflect(e){return this.sub(Dw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos($n(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Dw=new oe,ZD=new $s;class pi{constructor(e=new oe(1/0,1/0,1/0),t=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Tc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Tc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Tc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,Tc):Tc.fromBufferAttribute(o,s),Tc.applyMatrix4(e.matrixWorld),this.expandByPoint(Tc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Nb.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Nb.copy(r.boundingBox)),Nb.applyMatrix4(e.matrixWorld),this.union(Nb)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Tc),Tc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Y1),Ub.subVectors(this.max,Y1),qg.subVectors(e.a,Y1),Xg.subVectors(e.b,Y1),Kg.subVectors(e.c,Y1),tp.subVectors(Xg,qg),np.subVectors(Kg,Xg),ym.subVectors(qg,Kg);let t=[0,-tp.z,tp.y,0,-np.z,np.y,0,-ym.z,ym.y,tp.z,0,-tp.x,np.z,0,-np.x,ym.z,0,-ym.x,-tp.y,tp.x,0,-np.y,np.x,0,-ym.y,ym.x,0];return!Rw(t,qg,Xg,Kg,Ub)||(t=[1,0,0,0,1,0,0,0,1],!Rw(t,qg,Xg,Kg,Ub))?!1:(kb.crossVectors(tp,np),t=[kb.x,kb.y,kb.z],Rw(t,qg,Xg,Kg,Ub))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Tc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Tc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Rd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Rd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Rd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Rd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Rd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Rd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Rd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Rd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Rd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Rd=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],Tc=new oe,Nb=new pi,qg=new oe,Xg=new oe,Kg=new oe,tp=new oe,np=new oe,ym=new oe,Y1=new oe,Ub=new oe,kb=new oe,bm=new oe;function Rw(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){bm.fromArray(n,o);const a=i.x*Math.abs(bm.x)+i.y*Math.abs(bm.y)+i.z*Math.abs(bm.z),u=e.dot(bm),c=t.dot(bm),l=r.dot(bm);if(Math.max(-Math.max(u,c,l),Math.min(u,c,l))>a)return!1}return!0}const cV=new pi,Q1=new oe,Ow=new oe;class bs{constructor(e=new oe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):cV.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Q1.subVectors(e,this.center);const t=Q1.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Q1,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Ow.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Q1.copy(e.center).add(Ow)),this.expandByPoint(Q1.copy(e.center).sub(Ow))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Od=new oe,Iw=new oe,zb=new oe,rp=new oe,Bw=new oe,Hb=new oe,Fw=new oe;class p1{constructor(e=new oe,t=new oe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Od)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Od.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Od.copy(this.origin).addScaledVector(this.direction,t),Od.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Iw.copy(e).add(t).multiplyScalar(.5),zb.copy(t).sub(e).normalize(),rp.copy(this.origin).sub(Iw);const o=e.distanceTo(t)*.5,s=-this.direction.dot(zb),a=rp.dot(this.direction),u=-rp.dot(zb),c=rp.lengthSq(),l=Math.abs(1-s*s);let f,h,m,g;if(l>0)if(f=s*u-a,h=s*a-u,g=o*l,f>=0)if(h>=-g)if(h<=g){const p=1/l;f*=p,h*=p,m=f*(f+s*h+2*a)+h*(s*f+h+2*u)+c}else h=o,f=Math.max(0,-(s*h+a)),m=-f*f+h*(h+2*u)+c;else h=-o,f=Math.max(0,-(s*h+a)),m=-f*f+h*(h+2*u)+c;else h<=-g?(f=Math.max(0,-(-s*o+a)),h=f>0?-o:Math.min(Math.max(-o,-u),o),m=-f*f+h*(h+2*u)+c):h<=g?(f=0,h=Math.min(Math.max(-o,-u),o),m=h*(h+2*u)+c):(f=Math.max(0,-(s*o+a)),h=f>0?o:Math.min(Math.max(-o,-u),o),m=-f*f+h*(h+2*u)+c);else h=s>0?-o:o,f=Math.max(0,-(s*h+a)),m=-f*f+h*(h+2*u)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(Iw).addScaledVector(zb,h),m}intersectSphere(e,t){Od.subVectors(e.center,this.origin);const r=Od.dot(this.direction),i=Od.dot(Od)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,u=r+s;return u<0?null:a<0?this.at(u,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,u;const c=1/this.direction.x,l=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),l>=0?(o=(e.min.y-h.y)*l,s=(e.max.y-h.y)*l):(o=(e.max.y-h.y)*l,s=(e.min.y-h.y)*l),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),f>=0?(a=(e.min.z-h.z)*f,u=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,u=(e.min.z-h.z)*f),r>u||a>i)||((a>r||r!==r)&&(r=a),(u<i||i!==i)&&(i=u),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Od)!==null}intersectTriangle(e,t,r,i,o){Bw.subVectors(t,e),Hb.subVectors(r,e),Fw.crossVectors(Bw,Hb);let s=this.direction.dot(Fw),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;rp.subVectors(this.origin,e);const u=a*this.direction.dot(Hb.crossVectors(rp,Hb));if(u<0)return null;const c=a*this.direction.dot(Bw.cross(rp));if(c<0||u+c>s)return null;const l=-a*rp.dot(Fw);return l<0?null:this.at(l/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dn{constructor(e,t,r,i,o,s,a,u,c,l,f,h,m,g,p,y){dn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,o,s,a,u,c,l,f,h,m,g,p,y)}set(e,t,r,i,o,s,a,u,c,l,f,h,m,g,p,y){const b=this.elements;return b[0]=e,b[4]=t,b[8]=r,b[12]=i,b[1]=o,b[5]=s,b[9]=a,b[13]=u,b[2]=c,b[6]=l,b[10]=f,b[14]=h,b[3]=m,b[7]=g,b[11]=p,b[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Jg.setFromMatrixColumn(e,0).length(),o=1/Jg.setFromMatrixColumn(e,1).length(),s=1/Jg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),u=Math.cos(i),c=Math.sin(i),l=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const h=s*l,m=s*f,g=a*l,p=a*f;t[0]=u*l,t[4]=-u*f,t[8]=c,t[1]=m+g*c,t[5]=h-p*c,t[9]=-a*u,t[2]=p-h*c,t[6]=g+m*c,t[10]=s*u}else if(e.order==="YXZ"){const h=u*l,m=u*f,g=c*l,p=c*f;t[0]=h+p*a,t[4]=g*a-m,t[8]=s*c,t[1]=s*f,t[5]=s*l,t[9]=-a,t[2]=m*a-g,t[6]=p+h*a,t[10]=s*u}else if(e.order==="ZXY"){const h=u*l,m=u*f,g=c*l,p=c*f;t[0]=h-p*a,t[4]=-s*f,t[8]=g+m*a,t[1]=m+g*a,t[5]=s*l,t[9]=p-h*a,t[2]=-s*c,t[6]=a,t[10]=s*u}else if(e.order==="ZYX"){const h=s*l,m=s*f,g=a*l,p=a*f;t[0]=u*l,t[4]=g*c-m,t[8]=h*c+p,t[1]=u*f,t[5]=p*c+h,t[9]=m*c-g,t[2]=-c,t[6]=a*u,t[10]=s*u}else if(e.order==="YZX"){const h=s*u,m=s*c,g=a*u,p=a*c;t[0]=u*l,t[4]=p-h*f,t[8]=g*f+m,t[1]=f,t[5]=s*l,t[9]=-a*l,t[2]=-c*l,t[6]=m*f+g,t[10]=h-p*f}else if(e.order==="XZY"){const h=s*u,m=s*c,g=a*u,p=a*c;t[0]=u*l,t[4]=-f,t[8]=c*l,t[1]=h*f+p,t[5]=s*l,t[9]=m*f-g,t[2]=g*f-m,t[6]=a*l,t[10]=p*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fV,e,dV)}lookAt(e,t,r){const i=this.elements;return el.subVectors(e,t),el.lengthSq()===0&&(el.z=1),el.normalize(),ip.crossVectors(r,el),ip.lengthSq()===0&&(Math.abs(r.z)===1?el.x+=1e-4:el.z+=1e-4,el.normalize(),ip.crossVectors(r,el)),ip.normalize(),Gb.crossVectors(el,ip),i[0]=ip.x,i[4]=Gb.x,i[8]=el.x,i[1]=ip.y,i[5]=Gb.y,i[9]=el.y,i[2]=ip.z,i[6]=Gb.z,i[10]=el.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],u=r[8],c=r[12],l=r[1],f=r[5],h=r[9],m=r[13],g=r[2],p=r[6],y=r[10],b=r[14],x=r[3],C=r[7],M=r[11],R=r[15],O=i[0],N=i[4],F=i[8],I=i[12],B=i[1],k=i[5],q=i[9],Y=i[13],ee=i[2],le=i[6],J=i[10],fe=i[14],V=i[3],ae=i[7],ue=i[11],Q=i[15];return o[0]=s*O+a*B+u*ee+c*V,o[4]=s*N+a*k+u*le+c*ae,o[8]=s*F+a*q+u*J+c*ue,o[12]=s*I+a*Y+u*fe+c*Q,o[1]=l*O+f*B+h*ee+m*V,o[5]=l*N+f*k+h*le+m*ae,o[9]=l*F+f*q+h*J+m*ue,o[13]=l*I+f*Y+h*fe+m*Q,o[2]=g*O+p*B+y*ee+b*V,o[6]=g*N+p*k+y*le+b*ae,o[10]=g*F+p*q+y*J+b*ue,o[14]=g*I+p*Y+y*fe+b*Q,o[3]=x*O+C*B+M*ee+R*V,o[7]=x*N+C*k+M*le+R*ae,o[11]=x*F+C*q+M*J+R*ue,o[15]=x*I+C*Y+M*fe+R*Q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],u=e[9],c=e[13],l=e[2],f=e[6],h=e[10],m=e[14],g=e[3],p=e[7],y=e[11],b=e[15];return g*(+o*u*f-i*c*f-o*a*h+r*c*h+i*a*m-r*u*m)+p*(+t*u*m-t*c*h+o*s*h-i*s*m+i*c*l-o*u*l)+y*(+t*c*f-t*a*m-o*s*f+r*s*m+o*a*l-r*c*l)+b*(-i*a*l-t*u*f+t*a*h+i*s*f-r*s*h+r*u*l)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],m=e[11],g=e[12],p=e[13],y=e[14],b=e[15],x=f*y*c-p*h*c+p*u*m-a*y*m-f*u*b+a*h*b,C=g*h*c-l*y*c-g*u*m+s*y*m+l*u*b-s*h*b,M=l*p*c-g*f*c+g*a*m-s*p*m-l*a*b+s*f*b,R=g*f*u-l*p*u-g*a*h+s*p*h+l*a*y-s*f*y,O=t*x+r*C+i*M+o*R;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/O;return e[0]=x*N,e[1]=(p*h*o-f*y*o-p*i*m+r*y*m+f*i*b-r*h*b)*N,e[2]=(a*y*o-p*u*o+p*i*c-r*y*c-a*i*b+r*u*b)*N,e[3]=(f*u*o-a*h*o-f*i*c+r*h*c+a*i*m-r*u*m)*N,e[4]=C*N,e[5]=(l*y*o-g*h*o+g*i*m-t*y*m-l*i*b+t*h*b)*N,e[6]=(g*u*o-s*y*o-g*i*c+t*y*c+s*i*b-t*u*b)*N,e[7]=(s*h*o-l*u*o+l*i*c-t*h*c-s*i*m+t*u*m)*N,e[8]=M*N,e[9]=(g*f*o-l*p*o-g*r*m+t*p*m+l*r*b-t*f*b)*N,e[10]=(s*p*o-g*a*o+g*r*c-t*p*c-s*r*b+t*a*b)*N,e[11]=(l*a*o-s*f*o-l*r*c+t*f*c+s*r*m-t*a*m)*N,e[12]=R*N,e[13]=(l*p*i-g*f*i+g*r*h-t*p*h-l*r*y+t*f*y)*N,e[14]=(g*a*i-s*p*i-g*r*u+t*p*u+s*r*y-t*a*y)*N,e[15]=(s*f*i-l*a*i+l*r*u-t*f*u-s*r*h+t*a*h)*N,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,u=e.z,c=o*s,l=o*a;return this.set(c*s+r,c*a-i*u,c*u+i*a,0,c*a+i*u,l*a+r,l*u-i*s,0,c*u-i*a,l*u+i*s,o*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,s=t._y,a=t._z,u=t._w,c=o+o,l=s+s,f=a+a,h=o*c,m=o*l,g=o*f,p=s*l,y=s*f,b=a*f,x=u*c,C=u*l,M=u*f,R=r.x,O=r.y,N=r.z;return i[0]=(1-(p+b))*R,i[1]=(m+M)*R,i[2]=(g-C)*R,i[3]=0,i[4]=(m-M)*O,i[5]=(1-(h+b))*O,i[6]=(y+x)*O,i[7]=0,i[8]=(g+C)*N,i[9]=(y-x)*N,i[10]=(1-(h+p))*N,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=Jg.set(i[0],i[1],i[2]).length();const s=Jg.set(i[4],i[5],i[6]).length(),a=Jg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Pc.copy(this);const c=1/o,l=1/s,f=1/a;return Pc.elements[0]*=c,Pc.elements[1]*=c,Pc.elements[2]*=c,Pc.elements[4]*=l,Pc.elements[5]*=l,Pc.elements[6]*=l,Pc.elements[8]*=f,Pc.elements[9]*=f,Pc.elements[10]*=f,t.setFromRotationMatrix(Pc),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s,a=Ff){const u=this.elements,c=2*o/(t-e),l=2*o/(r-i),f=(t+e)/(t-e),h=(r+i)/(r-i);let m,g;if(a===Ff)m=-(s+o)/(s-o),g=-2*s*o/(s-o);else if(a===vy)m=-s/(s-o),g=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=l,u[9]=h,u[13]=0,u[2]=0,u[6]=0,u[10]=m,u[14]=g,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,i,o,s,a=Ff){const u=this.elements,c=1/(t-e),l=1/(r-i),f=1/(s-o),h=(t+e)*c,m=(r+i)*l;let g,p;if(a===Ff)g=(s+o)*f,p=-2*f;else if(a===vy)g=o*f,p=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-h,u[1]=0,u[5]=2*l,u[9]=0,u[13]=-m,u[2]=0,u[6]=0,u[10]=p,u[14]=-g,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Jg=new oe,Pc=new dn,fV=new oe(0,0,0),dV=new oe(1,1,1),ip=new oe,Gb=new oe,el=new oe,eR=new dn,tR=new $s;class dl{constructor(e=0,t=0,r=0,i=dl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],u=i[1],c=i[5],l=i[9],f=i[2],h=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin($n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,m),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-$n(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin($n(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(u,o));break;case"ZYX":this._y=Math.asin(-$n(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin($n(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-$n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-l,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return eR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(eR,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return tR.setFromEuler(this),this.setFromQuaternion(tR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}dl.DEFAULT_ORDER="XYZ";class W0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let hV=0;const nR=new oe,Yg=new $s,Id=new dn,Vb=new oe,Z1=new oe,pV=new oe,mV=new $s,rR=new oe(1,0,0),iR=new oe(0,1,0),oR=new oe(0,0,1),sR={type:"added"},gV={type:"removed"},Qg={type:"childadded",child:null},Lw={type:"childremoved",child:null};class br extends Wf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hV++}),this.uuid=ll(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=br.DEFAULT_UP.clone();const e=new oe,t=new dl,r=new $s,i=new oe(1,1,1);function o(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new dn},normalMatrix:{value:new Qn}}),this.matrix=new dn,this.matrixWorld=new dn,this.matrixAutoUpdate=br.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=br.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new W0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Yg.setFromAxisAngle(e,t),this.quaternion.multiply(Yg),this}rotateOnWorldAxis(e,t){return Yg.setFromAxisAngle(e,t),this.quaternion.premultiply(Yg),this}rotateX(e){return this.rotateOnAxis(rR,e)}rotateY(e){return this.rotateOnAxis(iR,e)}rotateZ(e){return this.rotateOnAxis(oR,e)}translateOnAxis(e,t){return nR.copy(e).applyQuaternion(this.quaternion),this.position.add(nR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(rR,e)}translateY(e){return this.translateOnAxis(iR,e)}translateZ(e){return this.translateOnAxis(oR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Id.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Vb.copy(e):Vb.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Z1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Id.lookAt(Z1,Vb,this.up):Id.lookAt(Vb,Z1,this.up),this.quaternion.setFromRotationMatrix(Id),i&&(Id.extractRotation(i.matrixWorld),Yg.setFromRotationMatrix(Id),this.quaternion.premultiply(Yg.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(sR),Qg.child=e,this.dispatchEvent(Qg),Qg.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gV),Lw.child=e,this.dispatchEvent(Lw),Lw.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Id.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Id.multiply(e.parent.matrixWorld)),e.applyMatrix4(Id),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(sR),Qg.child=e,this.dispatchEvent(Qg),Qg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Z1,e,pV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Z1,mV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,u){return a[u.uuid]===void 0&&(a[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const u=a.shapes;if(Array.isArray(u))for(let c=0,l=u.length;c<l;c++){const f=u[c];o(e.shapes,f)}else o(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let u=0,c=this.material.length;u<c;u++)a.push(o(e.materials,this.material[u]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const u=this.animations[a];i.animations.push(o(e.animations,u))}}if(t){const a=s(e.geometries),u=s(e.materials),c=s(e.textures),l=s(e.images),f=s(e.shapes),h=s(e.skeletons),m=s(e.animations),g=s(e.nodes);a.length>0&&(r.geometries=a),u.length>0&&(r.materials=u),c.length>0&&(r.textures=c),l.length>0&&(r.images=l),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function s(a){const u=[];for(const c in a){const l=a[c];delete l.metadata,u.push(l)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}br.DEFAULT_UP=new oe(0,1,0);br.DEFAULT_MATRIX_AUTO_UPDATE=!0;br.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Dc=new oe,Bd=new oe,Nw=new oe,Fd=new oe,Zg=new oe,ev=new oe,aR=new oe,Uw=new oe,kw=new oe,zw=new oe,Hw=new Mr,Gw=new Mr,Vw=new Mr;class Eu{constructor(e=new oe,t=new oe,r=new oe){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Dc.subVectors(e,t),i.cross(Dc);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){Dc.subVectors(i,t),Bd.subVectors(r,t),Nw.subVectors(e,t);const s=Dc.dot(Dc),a=Dc.dot(Bd),u=Dc.dot(Nw),c=Bd.dot(Bd),l=Bd.dot(Nw),f=s*c-a*a;if(f===0)return o.set(0,0,0),null;const h=1/f,m=(c*u-a*l)*h,g=(s*l-a*u)*h;return o.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Fd)===null?!1:Fd.x>=0&&Fd.y>=0&&Fd.x+Fd.y<=1}static getInterpolation(e,t,r,i,o,s,a,u){return this.getBarycoord(e,t,r,i,Fd)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(o,Fd.x),u.addScaledVector(s,Fd.y),u.addScaledVector(a,Fd.z),u)}static getInterpolatedAttribute(e,t,r,i,o,s){return Hw.setScalar(0),Gw.setScalar(0),Vw.setScalar(0),Hw.fromBufferAttribute(e,t),Gw.fromBufferAttribute(e,r),Vw.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(Hw,o.x),s.addScaledVector(Gw,o.y),s.addScaledVector(Vw,o.z),s}static isFrontFacing(e,t,r,i){return Dc.subVectors(r,t),Bd.subVectors(e,t),Dc.cross(Bd).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Dc.subVectors(this.c,this.b),Bd.subVectors(this.a,this.b),Dc.cross(Bd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Eu.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Eu.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,o){return Eu.getInterpolation(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return Eu.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Eu.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let s,a;Zg.subVectors(i,r),ev.subVectors(o,r),Uw.subVectors(e,r);const u=Zg.dot(Uw),c=ev.dot(Uw);if(u<=0&&c<=0)return t.copy(r);kw.subVectors(e,i);const l=Zg.dot(kw),f=ev.dot(kw);if(l>=0&&f<=l)return t.copy(i);const h=u*f-l*c;if(h<=0&&u>=0&&l<=0)return s=u/(u-l),t.copy(r).addScaledVector(Zg,s);zw.subVectors(e,o);const m=Zg.dot(zw),g=ev.dot(zw);if(g>=0&&m<=g)return t.copy(o);const p=m*c-u*g;if(p<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(ev,a);const y=l*g-m*f;if(y<=0&&f-l>=0&&m-g>=0)return aR.subVectors(o,i),a=(f-l)/(f-l+(m-g)),t.copy(i).addScaledVector(aR,a);const b=1/(y+p+h);return s=p*b,a=h*b,t.copy(r).addScaledVector(Zg,s).addScaledVector(ev,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const t4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},op={h:0,s:0,l:0},jb={h:0,s:0,l:0};function jw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class zt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=bu){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Cr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Cr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Cr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Cr.workingColorSpace){if(e=WT(e,1),t=$n(t,0,1),r=$n(r,0,1),t===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+t):r+t-r*t,s=2*r-o;this.r=jw(s,o,e+1/3),this.g=jw(s,o,e),this.b=jw(s,o,e-1/3)}return Cr.toWorkingColorSpace(this,i),this}setStyle(e,t=bu){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=bu){const r=t4[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=sh(e.r),this.g=sh(e.g),this.b=sh(e.b),this}copyLinearToSRGB(e){return this.r=jv(e.r),this.g=jv(e.g),this.b=jv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=bu){return Cr.fromWorkingColorSpace(aa.copy(this),e),Math.round($n(aa.r*255,0,255))*65536+Math.round($n(aa.g*255,0,255))*256+Math.round($n(aa.b*255,0,255))}getHexString(e=bu){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Cr.workingColorSpace){Cr.fromWorkingColorSpace(aa.copy(this),t);const r=aa.r,i=aa.g,o=aa.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let u,c;const l=(a+s)/2;if(a===s)u=0,c=0;else{const f=s-a;switch(c=l<=.5?f/(s+a):f/(2-s-a),s){case r:u=(i-o)/f+(i<o?6:0);break;case i:u=(o-r)/f+2;break;case o:u=(r-i)/f+4;break}u/=6}return e.h=u,e.s=c,e.l=l,e}getRGB(e,t=Cr.workingColorSpace){return Cr.fromWorkingColorSpace(aa.copy(this),t),e.r=aa.r,e.g=aa.g,e.b=aa.b,e}getStyle(e=bu){Cr.fromWorkingColorSpace(aa.copy(this),e);const t=aa.r,r=aa.g,i=aa.b;return e!==bu?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(op),this.setHSL(op.h+e,op.s+t,op.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(op),e.getHSL(jb);const r=ny(op.h,jb.h,t),i=ny(op.s,jb.s,t),o=ny(op.l,jb.l,t);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*t+o[3]*r+o[6]*i,this.g=o[1]*t+o[4]*r+o[7]*i,this.b=o[2]*t+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const aa=new zt;zt.NAMES=t4;let vV=0;class jo extends Wf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vV++}),this.uuid=ll(),this.name="",this.type="Material",this.blending=G0,this.side=Gf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=CE,this.blendDst=ME,this.blendEquation=Sp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new zt(0,0,0),this.blendAlpha=0,this.depthFunc=X0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=DM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=x0,this.stencilZFail=x0,this.stencilZPass=x0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==G0&&(r.blending=this.blending),this.side!==Gf&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==CE&&(r.blendSrc=this.blendSrc),this.blendDst!==ME&&(r.blendDst=this.blendDst),this.blendEquation!==Sp&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==X0&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==DM&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==x0&&(r.stencilFail=this.stencilFail),this.stencilZFail!==x0&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==x0&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const u=o[a];delete u.metadata,s.push(u)}return s}if(t){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class al extends jo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new dl,this.combine=jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Jd=_V();function _V(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[u|256]=32768,i[u]=24,i[u|256]=24):c<-14?(r[u]=1024>>-c-14,r[u|256]=1024>>-c-14|32768,i[u]=-c-1,i[u|256]=-c-1):c<=15?(r[u]=c+15<<10,r[u|256]=c+15<<10|32768,i[u]=13,i[u|256]=13):c<128?(r[u]=31744,r[u|256]=64512,i[u]=24,i[u|256]=24):(r[u]=31744,r[u|256]=64512,i[u]=13,i[u|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,l=0;for(;!(c&8388608);)c<<=1,l-=8388608;c&=-8388609,l+=947912704,o[u]=c|l}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(a[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function _u(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=$n(n,-65504,65504),Jd.floatView[0]=n;const e=Jd.uint32View[0],t=e>>23&511;return Jd.baseTable[t]+((e&8388607)>>Jd.shiftTable[t])}function j_(n){const e=n>>10;return Jd.uint32View[0]=Jd.mantissaTable[Jd.offsetTable[e]+(n&1023)]+Jd.exponentTable[e],Jd.floatView[0]}const yV={toHalfFloat:_u,fromHalfFloat:j_},Ho=new oe,Wb=new _t;class Dr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=gy,this.updateRanges=[],this.gpuType=Su,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Wb.fromBufferAttribute(this,t),Wb.applyMatrix3(e),this.setXY(t,Wb.x,Wb.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ho.fromBufferAttribute(this,t),Ho.applyMatrix3(e),this.setXYZ(t,Ho.x,Ho.y,Ho.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ho.fromBufferAttribute(this,t),Ho.applyMatrix4(e),this.setXYZ(t,Ho.x,Ho.y,Ho.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ho.fromBufferAttribute(this,t),Ho.applyNormalMatrix(e),this.setXYZ(t,Ho.x,Ho.y,Ho.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ho.fromBufferAttribute(this,t),Ho.transformDirection(e),this.setXYZ(t,Ho.x,Ho.y,Ho.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Ga(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=er(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=er(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=er(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=er(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=er(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=er(t,this.array),r=er(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=er(t,this.array),r=er(r,this.array),i=er(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.normalized&&(t=er(t,this.array),r=er(r,this.array),i=er(i,this.array),o=er(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==gy&&(e.usage=this.usage),e}}class bV extends Dr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class AV extends Dr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class EV extends Dr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class SV extends Dr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class XT extends Dr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class xV extends Dr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class KT extends Dr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class wV extends Dr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=j_(this.array[e*this.itemSize]);return this.normalized&&(t=Ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=er(t,this.array)),this.array[e*this.itemSize]=_u(t),this}getY(e){let t=j_(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=er(t,this.array)),this.array[e*this.itemSize+1]=_u(t),this}getZ(e){let t=j_(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=er(t,this.array)),this.array[e*this.itemSize+2]=_u(t),this}getW(e){let t=j_(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=er(t,this.array)),this.array[e*this.itemSize+3]=_u(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=er(t,this.array),r=er(r,this.array)),this.array[e+0]=_u(t),this.array[e+1]=_u(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=er(t,this.array),r=er(r,this.array),i=er(i,this.array)),this.array[e+0]=_u(t),this.array[e+1]=_u(r),this.array[e+2]=_u(i),this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.normalized&&(t=er(t,this.array),r=er(r,this.array),i=er(i,this.array),o=er(o,this.array)),this.array[e+0]=_u(t),this.array[e+1]=_u(r),this.array[e+2]=_u(i),this.array[e+3]=_u(o),this}}class hn extends Dr{constructor(e,t,r){super(new Float32Array(e),t,r)}}let CV=0;const zl=new dn,Ww=new br,tv=new oe,tl=new pi,e_=new pi,ps=new oe;class Xn extends Wf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:CV++}),this.uuid=ll(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(YN(e)?KT:XT)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Qn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return zl.makeRotationFromQuaternion(e),this.applyMatrix4(zl),this}rotateX(e){return zl.makeRotationX(e),this.applyMatrix4(zl),this}rotateY(e){return zl.makeRotationY(e),this.applyMatrix4(zl),this}rotateZ(e){return zl.makeRotationZ(e),this.applyMatrix4(zl),this}translate(e,t,r){return zl.makeTranslation(e,t,r),this.applyMatrix4(zl),this}scale(e,t,r){return zl.makeScale(e,t,r),this.applyMatrix4(zl),this}lookAt(e){return Ww.lookAt(e),Ww.updateMatrix(),this.applyMatrix4(Ww.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(tv).negate(),this.translate(tv.x,tv.y,tv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new hn(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const o=e[i];t.setXYZ(i,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const o=t[r];tl.setFromBufferAttribute(o),this.morphTargetsRelative?(ps.addVectors(this.boundingBox.min,tl.min),this.boundingBox.expandByPoint(ps),ps.addVectors(this.boundingBox.max,tl.max),this.boundingBox.expandByPoint(ps)):(this.boundingBox.expandByPoint(tl.min),this.boundingBox.expandByPoint(tl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new bs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new oe,1/0);return}if(e){const r=this.boundingSphere.center;if(tl.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){const a=t[o];e_.setFromBufferAttribute(a),this.morphTargetsRelative?(ps.addVectors(tl.min,e_.min),tl.expandByPoint(ps),ps.addVectors(tl.max,e_.max),tl.expandByPoint(ps)):(tl.expandByPoint(e_.min),tl.expandByPoint(e_.max))}tl.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)ps.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(ps));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],u=this.morphTargetsRelative;for(let c=0,l=a.count;c<l;c++)ps.fromBufferAttribute(a,c),u&&(tv.fromBufferAttribute(e,c),ps.add(tv)),i=Math.max(i,r.distanceToSquared(ps))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dr(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],u=[];for(let F=0;F<r.count;F++)a[F]=new oe,u[F]=new oe;const c=new oe,l=new oe,f=new oe,h=new _t,m=new _t,g=new _t,p=new oe,y=new oe;function b(F,I,B){c.fromBufferAttribute(r,F),l.fromBufferAttribute(r,I),f.fromBufferAttribute(r,B),h.fromBufferAttribute(o,F),m.fromBufferAttribute(o,I),g.fromBufferAttribute(o,B),l.sub(c),f.sub(c),m.sub(h),g.sub(h);const k=1/(m.x*g.y-g.x*m.y);isFinite(k)&&(p.copy(l).multiplyScalar(g.y).addScaledVector(f,-m.y).multiplyScalar(k),y.copy(f).multiplyScalar(m.x).addScaledVector(l,-g.x).multiplyScalar(k),a[F].add(p),a[I].add(p),a[B].add(p),u[F].add(y),u[I].add(y),u[B].add(y))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let F=0,I=x.length;F<I;++F){const B=x[F],k=B.start,q=B.count;for(let Y=k,ee=k+q;Y<ee;Y+=3)b(e.getX(Y+0),e.getX(Y+1),e.getX(Y+2))}const C=new oe,M=new oe,R=new oe,O=new oe;function N(F){R.fromBufferAttribute(i,F),O.copy(R);const I=a[F];C.copy(I),C.sub(R.multiplyScalar(R.dot(I))).normalize(),M.crossVectors(O,I);const k=M.dot(u[F])<0?-1:1;s.setXYZW(F,C.x,C.y,C.z,k)}for(let F=0,I=x.length;F<I;++F){const B=x[F],k=B.start,q=B.count;for(let Y=k,ee=k+q;Y<ee;Y+=3)N(e.getX(Y+0)),N(e.getX(Y+1)),N(e.getX(Y+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Dr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new oe,o=new oe,s=new oe,a=new oe,u=new oe,c=new oe,l=new oe,f=new oe;if(e)for(let h=0,m=e.count;h<m;h+=3){const g=e.getX(h+0),p=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(t,g),o.fromBufferAttribute(t,p),s.fromBufferAttribute(t,y),l.subVectors(s,o),f.subVectors(i,o),l.cross(f),a.fromBufferAttribute(r,g),u.fromBufferAttribute(r,p),c.fromBufferAttribute(r,y),a.add(l),u.add(l),c.add(l),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(p,u.x,u.y,u.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let h=0,m=t.count;h<m;h+=3)i.fromBufferAttribute(t,h+0),o.fromBufferAttribute(t,h+1),s.fromBufferAttribute(t,h+2),l.subVectors(s,o),f.subVectors(i,o),l.cross(f),r.setXYZ(h+0,l.x,l.y,l.z),r.setXYZ(h+1,l.x,l.y,l.z),r.setXYZ(h+2,l.x,l.y,l.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ps.fromBufferAttribute(e,t),ps.normalize(),e.setXYZ(t,ps.x,ps.y,ps.z)}toNonIndexed(){function e(a,u){const c=a.array,l=a.itemSize,f=a.normalized,h=new c.constructor(u.length*l);let m=0,g=0;for(let p=0,y=u.length;p<y;p++){a.isInterleavedBufferAttribute?m=u[p]*a.data.stride+a.offset:m=u[p]*l;for(let b=0;b<l;b++)h[g++]=c[m++]}return new Dr(h,l,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Xn,r=this.index.array,i=this.attributes;for(const a in i){const u=i[a],c=e(u,r);t.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const u=[],c=o[a];for(let l=0,f=c.length;l<f;l++){const h=c[l],m=e(h,r);u.push(m)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,u=s.length;a<u;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r){const c=r[u];e.data.attributes[u]=c.toJSON(e.data)}const i={};let o=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],l=[];for(let f=0,h=c.length;f<h;f++){const m=c[f];l.push(m.toJSON(e.data))}l.length>0&&(i[u]=l,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const l=i[c];this.setAttribute(c,l.clone(t))}const o=e.morphAttributes;for(const c in o){const l=[],f=o[c];for(let h=0,m=f.length;h<m;h++)l.push(f[h].clone(t));this.morphAttributes[c]=l}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,l=s.length;c<l;c++){const f=s[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const uR=new dn,Am=new p1,$b=new bs,lR=new oe,qb=new oe,Xb=new oe,Kb=new oe,$w=new oe,Jb=new oe,cR=new oe,Yb=new oe;class Mo extends br{constructor(e=new Xn,t=new al){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){Jb.set(0,0,0);for(let u=0,c=o.length;u<c;u++){const l=a[u],f=o[u];l!==0&&($w.fromBufferAttribute(f,e),s?Jb.addScaledVector($w,l):Jb.addScaledVector($w.sub(t),l))}t.add(Jb)}return t}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$b.copy(r.boundingSphere),$b.applyMatrix4(o),Am.copy(e.ray).recast(e.near),!($b.containsPoint(Am.origin)===!1&&(Am.intersectSphere($b,lR)===null||Am.origin.distanceToSquared(lR)>(e.far-e.near)**2))&&(uR.copy(o).invert(),Am.copy(e.ray).applyMatrix4(uR),!(r.boundingBox!==null&&Am.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Am)))}_computeIntersections(e,t,r){let i;const o=this.geometry,s=this.material,a=o.index,u=o.attributes.position,c=o.attributes.uv,l=o.attributes.uv1,f=o.attributes.normal,h=o.groups,m=o.drawRange;if(a!==null)if(Array.isArray(s))for(let g=0,p=h.length;g<p;g++){const y=h[g],b=s[y.materialIndex],x=Math.max(y.start,m.start),C=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let M=x,R=C;M<R;M+=3){const O=a.getX(M),N=a.getX(M+1),F=a.getX(M+2);i=Qb(this,b,e,r,c,l,f,O,N,F),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const g=Math.max(0,m.start),p=Math.min(a.count,m.start+m.count);for(let y=g,b=p;y<b;y+=3){const x=a.getX(y),C=a.getX(y+1),M=a.getX(y+2);i=Qb(this,s,e,r,c,l,f,x,C,M),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}else if(u!==void 0)if(Array.isArray(s))for(let g=0,p=h.length;g<p;g++){const y=h[g],b=s[y.materialIndex],x=Math.max(y.start,m.start),C=Math.min(u.count,Math.min(y.start+y.count,m.start+m.count));for(let M=x,R=C;M<R;M+=3){const O=M,N=M+1,F=M+2;i=Qb(this,b,e,r,c,l,f,O,N,F),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const g=Math.max(0,m.start),p=Math.min(u.count,m.start+m.count);for(let y=g,b=p;y<b;y+=3){const x=y,C=y+1,M=y+2;i=Qb(this,s,e,r,c,l,f,x,C,M),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}}}function MV(n,e,t,r,i,o,s,a){let u;if(e.side===ja?u=r.intersectTriangle(s,o,i,!0,a):u=r.intersectTriangle(i,o,s,e.side===Gf,a),u===null)return null;Yb.copy(a),Yb.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Yb);return c<t.near||c>t.far?null:{distance:c,point:Yb.clone(),object:n}}function Qb(n,e,t,r,i,o,s,a,u,c){n.getVertexPosition(a,qb),n.getVertexPosition(u,Xb),n.getVertexPosition(c,Kb);const l=MV(n,e,t,r,qb,Xb,Kb,cR);if(l){const f=new oe;Eu.getBarycoord(cR,qb,Xb,Kb,f),i&&(l.uv=Eu.getInterpolatedAttribute(i,a,u,c,f,new _t)),o&&(l.uv1=Eu.getInterpolatedAttribute(o,a,u,c,f,new _t)),s&&(l.normal=Eu.getInterpolatedAttribute(s,a,u,c,f,new oe),l.normal.dot(r.direction)>0&&l.normal.multiplyScalar(-1));const h={a,b:u,c,normal:new oe,materialIndex:0};Eu.getNormal(qb,Xb,Kb,h.normal),l.face=h,l.barycoord=f}return l}class ph extends Xn{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const u=[],c=[],l=[],f=[];let h=0,m=0;g("z","y","x",-1,-1,r,t,e,s,o,0),g("z","y","x",1,-1,r,t,-e,s,o,1),g("x","z","y",1,1,e,r,t,i,s,2),g("x","z","y",1,-1,e,r,-t,i,s,3),g("x","y","z",1,-1,e,t,r,i,o,4),g("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(u),this.setAttribute("position",new hn(c,3)),this.setAttribute("normal",new hn(l,3)),this.setAttribute("uv",new hn(f,2));function g(p,y,b,x,C,M,R,O,N,F,I){const B=M/N,k=R/F,q=M/2,Y=R/2,ee=O/2,le=N+1,J=F+1;let fe=0,V=0;const ae=new oe;for(let ue=0;ue<J;ue++){const Q=ue*k-Y;for(let de=0;de<le;de++){const we=de*B-q;ae[p]=we*x,ae[y]=Q*C,ae[b]=ee,c.push(ae.x,ae.y,ae.z),ae[p]=0,ae[y]=0,ae[b]=O>0?1:-1,l.push(ae.x,ae.y,ae.z),f.push(de/N),f.push(1-ue/F),fe+=1}}for(let ue=0;ue<F;ue++)for(let Q=0;Q<N;Q++){const de=h+Q+le*ue,we=h+Q+le*(ue+1),ye=h+(Q+1)+le*(ue+1),Ce=h+(Q+1)+le*ue;u.push(de,we,Ce),u.push(we,ye,Ce),V+=6}a.addGroup(m,V,I),m+=V,h+=fe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ph(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Qv(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function za(n){const e={};for(let t=0;t<n.length;t++){const r=Qv(n[t]);for(const i in r)e[i]=r[i]}return e}function TV(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function n4(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Cr.workingColorSpace}const r4={clone:Qv,merge:za};var PV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,DV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class $c extends jo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=PV,this.fragmentShader=DV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qv(e.uniforms),this.uniformsGroups=TV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class $y extends br{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dn,this.projectionMatrix=new dn,this.projectionMatrixInverse=new dn,this.coordinateSystem=Ff}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const sp=new oe,fR=new _t,dR=new _t;class wo extends $y{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Yv*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(j0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Yv*2*Math.atan(Math.tan(j0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){sp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(sp.x,sp.y).multiplyScalar(-e/sp.z),sp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(sp.x,sp.y).multiplyScalar(-e/sp.z)}getViewSize(e,t){return this.getViewBounds(e,fR,dR),t.subVectors(dR,fR)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(j0*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/u,t-=s.offsetY*r/c,i*=s.width/u,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const nv=-90,rv=1;class i4 extends br{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new wo(nv,rv,e,t);i.layers=this.layers,this.add(i);const o=new wo(nv,rv,e,t);o.layers=this.layers,this.add(o);const s=new wo(nv,rv,e,t);s.layers=this.layers,this.add(s);const a=new wo(nv,rv,e,t);a.layers=this.layers,this.add(a);const u=new wo(nv,rv,e,t);u.layers=this.layers,this.add(u);const c=new wo(nv,rv,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,o,s,a,u]=t;for(const c of t)this.remove(c);if(e===Ff)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===vy)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,u,c,l]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,o),e.setRenderTarget(r,1,i),e.render(t,s),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,u),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=p,e.setRenderTarget(r,5,i),e.render(t,l),e.setRenderTarget(f,h,m),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class qy extends Mi{constructor(e,t,r,i,o,s,a,u,c,l){e=e!==void 0?e:[],t=t!==void 0?t:lh,super(e,t,r,i,o,s,a,u,c,l),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class o4 extends Wc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new qy(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Co}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ph(5,5,5),o=new $c({name:"CubemapFromEquirect",uniforms:Qv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ja,blending:oh});o.uniforms.tEquirect.value=t;const s=new Mo(i,o),a=t.minFilter;return t.minFilter===ql&&(t.minFilter=Co),new i4(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}}class tx{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new zt(e),this.density=t}clone(){return new tx(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class nx{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new zt(e),this.near=t,this.far=r}clone(){return new nx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class uS extends br{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new dl,this.environmentIntensity=1,this.environmentRotation=new dl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Xy{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=gy,this.updateRanges=[],this.version=0,this.uuid=ll()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ll()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ll()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Na=new oe;class Ip{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Na.fromBufferAttribute(this,t),Na.applyMatrix4(e),this.setXYZ(t,Na.x,Na.y,Na.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Na.fromBufferAttribute(this,t),Na.applyNormalMatrix(e),this.setXYZ(t,Na.x,Na.y,Na.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Na.fromBufferAttribute(this,t),Na.transformDirection(e),this.setXYZ(t,Na.x,Na.y,Na.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Ga(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=er(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=er(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=er(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=er(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=er(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ga(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ga(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ga(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ga(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=er(t,this.array),r=er(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=er(t,this.array),r=er(r,this.array),i=er(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=er(t,this.array),r=er(r,this.array),i=er(i,this.array),o=er(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new Dr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ip(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class JT extends jo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let iv;const t_=new oe,ov=new oe,sv=new oe,av=new _t,n_=new _t,s4=new dn,Zb=new oe,r_=new oe,eA=new oe,hR=new _t,qw=new _t,pR=new _t;class a4 extends br{constructor(e=new JT){if(super(),this.isSprite=!0,this.type="Sprite",iv===void 0){iv=new Xn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Xy(t,5);iv.setIndex([0,1,2,0,2,3]),iv.setAttribute("position",new Ip(r,3,0,!1)),iv.setAttribute("uv",new Ip(r,2,3,!1))}this.geometry=iv,this.material=e,this.center=new _t(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ov.setFromMatrixScale(this.matrixWorld),s4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),sv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ov.multiplyScalar(-sv.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;tA(Zb.set(-.5,-.5,0),sv,s,ov,i,o),tA(r_.set(.5,-.5,0),sv,s,ov,i,o),tA(eA.set(.5,.5,0),sv,s,ov,i,o),hR.set(0,0),qw.set(1,0),pR.set(1,1);let a=e.ray.intersectTriangle(Zb,r_,eA,!1,t_);if(a===null&&(tA(r_.set(-.5,.5,0),sv,s,ov,i,o),qw.set(0,1),a=e.ray.intersectTriangle(Zb,eA,r_,!1,t_),a===null))return;const u=e.ray.origin.distanceTo(t_);u<e.near||u>e.far||t.push({distance:u,point:t_.clone(),uv:Eu.getInterpolation(t_,Zb,r_,eA,hR,qw,pR,new _t),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function tA(n,e,t,r,i,o){av.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(n_.x=o*av.x-i*av.y,n_.y=i*av.x+o*av.y):n_.copy(av),n.copy(e),n.x+=n_.x,n.y+=n_.y,n.applyMatrix4(s4)}const nA=new oe,mR=new oe;class u4 extends br{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let o;for(o=0;o<i.length&&!(t<i[o].distance);o++);return i.splice(o,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),e<o)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){nA.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(nA);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){nA.setFromMatrixPosition(e.matrixWorld),mR.setFromMatrixPosition(this.matrixWorld);const r=nA.distanceTo(mR)/e.zoom;t[0].object.visible=!0;let i,o;for(i=1,o=t.length;i<o;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),r>=s)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const gR=new oe,vR=new Mr,_R=new Mr,RV=new oe,yR=new dn,rA=new oe,Xw=new bs,bR=new dn,Kw=new p1;class YT extends Mo{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=PM,this.bindMatrix=new dn,this.bindMatrixInverse=new dn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new pi),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,rA),this.boundingBox.expandByPoint(rA)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new bs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,rA),this.boundingSphere.expandByPoint(rA)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Xw.copy(this.boundingSphere),Xw.applyMatrix4(i),e.ray.intersectsSphere(Xw)!==!1&&(bR.copy(i).invert(),Kw.copy(e.ray).applyMatrix4(bR),!(this.boundingBox!==null&&Kw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Kw)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Mr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===PM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===LN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;vR.fromBufferAttribute(i.attributes.skinIndex,e),_R.fromBufferAttribute(i.attributes.skinWeight,e),gR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const s=_R.getComponent(o);if(s!==0){const a=vR.getComponent(o);yR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(RV.copy(gR).applyMatrix4(yR),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class rx extends br{constructor(){super(),this.isBone=!0,this.type="Bone"}}class kf extends Mi{constructor(e=null,t=1,r=1,i,o,s,a,u,c=ys,l=ys,f,h){super(null,s,a,u,c,l,i,o,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const AR=new dn,OV=new dn;class Ky{constructor(e=[],t=[]){this.uuid=ll(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new dn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new dn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:OV;AR.multiplyMatrices(a,t[o]),AR.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ky(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new kf(t,e,e,da,Su);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=t[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new rx),this.bones.push(s),this.boneInverses.push(new dn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,o=t.length;i<o;i++){const s=t[i];e.bones.push(s.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Q0 extends Dr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const uv=new dn,ER=new dn,iA=[],SR=new pi,IV=new dn,i_=new Mo,o_=new bs;class QT extends Mo{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Q0(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,IV)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new pi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,uv),SR.copy(e.boundingBox).applyMatrix4(uv),this.boundingBox.union(SR)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new bs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,uv),o_.copy(e.boundingSphere).applyMatrix4(uv),this.boundingSphere.union(o_)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,s=e*o+1;for(let a=0;a<r.length;a++)r[a]=i[s+a]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(i_.geometry=this.geometry,i_.material=this.material,i_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),o_.copy(this.boundingSphere),o_.applyMatrix4(r),e.ray.intersectsSphere(o_)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,uv),ER.multiplyMatrices(r,uv),i_.matrixWorld=ER,i_.raycast(e,iA);for(let s=0,a=iA.length;s<a;s++){const u=iA[s];u.instanceId=o,u.object=this,t.push(u)}iA.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Q0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new kf(new Float32Array(i*this.count),i,this.count,JS,Su));const o=this.morphTexture.source.data.data;let s=0;for(let c=0;c<r.length;c++)s+=r[c];const a=this.geometry.morphTargetsRelative?1:1-s,u=i*e;o[u]=a,o.set(r,u+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const Jw=new oe,BV=new oe,FV=new Qn;class yp{constructor(e=new oe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Jw.subVectors(r,t).cross(BV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(Jw),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||FV.getNormalMatrix(e),i=this.coplanarPoint(Jw).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Em=new bs,oA=new oe;class Jy{constructor(e=new yp,t=new yp,r=new yp,i=new yp,o=new yp,s=new yp){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Ff){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],u=i[3],c=i[4],l=i[5],f=i[6],h=i[7],m=i[8],g=i[9],p=i[10],y=i[11],b=i[12],x=i[13],C=i[14],M=i[15];if(r[0].setComponents(u-o,h-c,y-m,M-b).normalize(),r[1].setComponents(u+o,h+c,y+m,M+b).normalize(),r[2].setComponents(u+s,h+l,y+g,M+x).normalize(),r[3].setComponents(u-s,h-l,y-g,M-x).normalize(),r[4].setComponents(u-a,h-f,y-p,M-C).normalize(),t===Ff)r[5].setComponents(u+a,h+f,y+p,M+C).normalize();else if(t===vy)r[5].setComponents(a,f,p,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Em.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Em.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Em)}intersectsSprite(e){return Em.center.set(0,0,0),Em.radius=.7071067811865476,Em.applyMatrix4(e.matrixWorld),this.intersectsSphere(Em)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(oA.x=i.normal.x>0?e.max.x:e.min.x,oA.y=i.normal.y>0?e.max.y:e.min.y,oA.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(oA)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Yw(n,e){return n-e}function LV(n,e){return n.z-e.z}function NV(n,e){return e.z-n.z}class UV{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const o=this.pool,s=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const a=o[this.index];s.push(a),this.index++,a.start=e,a.count=t,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const gu=new dn,kV=new zt(1,1,1),Qw=new Jy,sA=new pi,Sm=new bs,s_=new oe,xR=new oe,zV=new oe,Zw=new UV,ua=new Mo,aA=[];function HV(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let o=0;o<i;o++)for(let s=0;s<r;s++)e.setComponent(o+t,s,n.getComponent(o,s))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function xm(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class l4 extends Mo{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,r=t*2,i){super(new Xn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new kf(t,e,e,da,Su);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new kf(t,e,e,Wy,ch);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new kf(t,e,e,da,Su);r.colorSpace=Cr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const s=e.getAttribute(o),{array:a,itemSize:u,normalized:c}=s,l=new a.constructor(r*u),f=new Dr(l,u,c);t.setAttribute(o,f)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Dr(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=t.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pi);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,gu),this.getBoundingBoxAt(o,sA).applyMatrix4(gu),e.union(sA)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new bs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,gu),this.getBoundingSphereAt(o,Sm).applyMatrix4(gu),e.union(Sm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Yw),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;gu.identity().toArray(o.image.data,i*16),o.needsUpdate=!0;const s=this._colorsTexture;return s&&(kV.toArray(s.image.data,i*4),s.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?s.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Yw),u=this._availableGeometryIds.shift(),o[u]=i):(u=this._geometryCount,this._geometryCount++,o.push(i)),this.setGeometryAt(u,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),s=t.getIndex(),a=this._geometryInfo[e];if(i&&s.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const l in r.attributes){const f=t.getAttribute(l),h=r.getAttribute(l);HV(f,h,u);const m=f.itemSize;for(let g=f.count,p=c;g<p;g++){const y=u+g;for(let b=0;b<m;b++)h.setComponent(y,b,0)}h.needsUpdate=!0,h.addUpdateRange(u*m,c*m)}if(i){const l=a.indexStart,f=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let h=0;h<s.count;h++)o.setX(l+h,u+s.getX(h));for(let h=s.count,m=f;h<m;h++)o.setX(l+h,u);o.needsUpdate=!0,o.addUpdateRange(l,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,o=r.length;i<o;i++)r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((s,a)=>a).sort((s,a)=>r[s].vertexStart-r[a].vertexStart),o=this.geometry;for(let s=0,a=r.length;s<a;s++){const u=i[s],c=r[u];if(c.active!==!1){if(o.index!==null){if(c.indexStart!==t){const{indexStart:l,vertexStart:f,reservedIndexCount:h}=c,m=o.index,g=m.array,p=e-f;for(let y=l;y<l+h;y++)g[y]=g[y]+p;m.array.copyWithin(t,l,l+h),m.addUpdateRange(t,h),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:l,reservedVertexCount:f}=c,h=o.attributes;for(const m in h){const g=h[m],{array:p,itemSize:y}=g;p.copyWithin(e*y,l*y,(l+f)*y),g.addUpdateRange(e*y,f*y)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=o.index?c.indexStart:c.vertexStart,this._nextIndexStart=o.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const o=new pi,s=r.index,a=r.attributes.position;for(let u=i.start,c=i.start+i.count;u<c;u++){let l=u;s&&(l=s.getX(l)),o.expandByPoint(s_.fromBufferAttribute(a,l))}i.boundingBox=o}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const o=new bs;this.getBoundingBoxAt(e,sA),sA.getCenter(o.center);const s=r.index,a=r.attributes.position;let u=0;for(let c=i.start,l=i.start+i.count;c<l;c++){let f=c;s&&(f=s.getX(f)),s_.fromBufferAttribute(a,f),u=Math.max(u,o.center.distanceToSquared(s_))}o.radius=Math.sqrt(u),i.boundingSphere=o}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(Yw);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),o=new Int32Array(e);xm(this._multiDrawCounts,i),xm(this._multiDrawStarts,o),this._multiDrawCounts=i,this._multiDrawStarts=o,this._maxInstanceCount=e;const s=this._indirectTexture,a=this._matricesTexture,u=this._colorsTexture;s.dispose(),this._initIndirectTexture(),xm(s.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),xm(a.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),xm(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Xn,this._initializeGeometry(o));const s=this.geometry;o.index&&xm(o.index.array,s.index.array);for(const a in o.attributes)xm(o.attributes[a].array,s.attributes[a].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,o=this.matrixWorld,s=this.geometry;ua.material=this.material,ua.geometry.index=s.index,ua.geometry.attributes=s.attributes,ua.geometry.boundingBox===null&&(ua.geometry.boundingBox=new pi),ua.geometry.boundingSphere===null&&(ua.geometry.boundingSphere=new bs);for(let a=0,u=r.length;a<u;a++){if(!r[a].visible||!r[a].active)continue;const c=r[a].geometryIndex,l=i[c];ua.geometry.setDrawRange(l.start,l.count),this.getMatrixAt(a,ua.matrixWorld).premultiply(o),this.getBoundingBoxAt(c,ua.geometry.boundingBox),this.getBoundingSphereAt(c,ua.geometry.boundingSphere),ua.raycast(e,aA);for(let f=0,h=aA.length;f<h;f++){const m=aA[f];m.object=this,m.batchId=a,t.push(m)}aA.length=0}ua.material=null,ua.geometry.index=null,ua.geometry.attributes={},ua.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),a=s===null?1:s.array.BYTES_PER_ELEMENT,u=this._instanceInfo,c=this._multiDrawStarts,l=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,m=this._indirectTexture,g=m.image.data;h&&(gu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),Qw.setFromProjectionMatrix(gu,e.coordinateSystem));let p=0;if(this.sortObjects){gu.copy(this.matrixWorld).invert(),s_.setFromMatrixPosition(r.matrixWorld).applyMatrix4(gu),xR.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(gu);for(let x=0,C=u.length;x<C;x++)if(u[x].visible&&u[x].active){const M=u[x].geometryIndex;this.getMatrixAt(x,gu),this.getBoundingSphereAt(M,Sm).applyMatrix4(gu);let R=!1;if(h&&(R=!Qw.intersectsSphere(Sm)),!R){const O=f[M],N=zV.subVectors(Sm.center,s_).dot(xR);Zw.push(O.start,O.count,N,x)}}const y=Zw.list,b=this.customSort;b===null?y.sort(o.transparent?NV:LV):b.call(this,y,r);for(let x=0,C=y.length;x<C;x++){const M=y[x];c[p]=M.start*a,l[p]=M.count,g[p]=M.index,p++}Zw.reset()}else for(let y=0,b=u.length;y<b;y++)if(u[y].visible&&u[y].active){const x=u[y].geometryIndex;let C=!1;if(h&&(this.getMatrixAt(y,gu),this.getBoundingSphereAt(x,Sm).applyMatrix4(gu),C=!Qw.intersectsSphere(Sm)),!C){const M=f[x];c[p]=M.start*a,l[p]=M.count,g[p]=y,p++}}m.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,o,s){this.onBeforeRender(e,null,i,o,s)}}class pa extends jo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new zt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const lS=new oe,cS=new oe,wR=new dn,a_=new p1,uA=new bs,e2=new oe,CR=new oe;class fh extends br{constructor(e=new Xn,t=new pa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)lS.fromBufferAttribute(t,i-1),cS.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=lS.distanceTo(cS);e.setAttribute("lineDistance",new hn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),uA.copy(r.boundingSphere),uA.applyMatrix4(i),uA.radius+=o,e.ray.intersectsSphere(uA)===!1)return;wR.copy(i).invert(),a_.copy(e.ray).applyMatrix4(wR);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,c=this.isLineSegments?2:1,l=r.index,h=r.attributes.position;if(l!==null){const m=Math.max(0,s.start),g=Math.min(l.count,s.start+s.count);for(let p=m,y=g-1;p<y;p+=c){const b=l.getX(p),x=l.getX(p+1),C=lA(this,e,a_,u,b,x);C&&t.push(C)}if(this.isLineLoop){const p=l.getX(g-1),y=l.getX(m),b=lA(this,e,a_,u,p,y);b&&t.push(b)}}else{const m=Math.max(0,s.start),g=Math.min(h.count,s.start+s.count);for(let p=m,y=g-1;p<y;p+=c){const b=lA(this,e,a_,u,p,p+1);b&&t.push(b)}if(this.isLineLoop){const p=lA(this,e,a_,u,g-1,m);p&&t.push(p)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function lA(n,e,t,r,i,o){const s=n.geometry.attributes.position;if(lS.fromBufferAttribute(s,i),cS.fromBufferAttribute(s,o),t.distanceSqToSegment(lS,cS,e2,CR)>r)return;e2.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(e2);if(!(u<e.near||u>e.far))return{distance:u,point:CR.clone().applyMatrix4(n.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:n}}const MR=new oe,TR=new oe;class Xc extends fh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)MR.fromBufferAttribute(t,i),TR.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+MR.distanceTo(TR);e.setAttribute("lineDistance",new hn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ZT extends fh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ix extends jo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const PR=new dn,OM=new p1,cA=new bs,fA=new oe;class eP extends br{constructor(e=new Xn,t=new ix){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),cA.copy(r.boundingSphere),cA.applyMatrix4(i),cA.radius+=o,e.ray.intersectsSphere(cA)===!1)return;PR.copy(i).invert(),OM.copy(e.ray).applyMatrix4(PR);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,c=r.index,f=r.attributes.position;if(c!==null){const h=Math.max(0,s.start),m=Math.min(c.count,s.start+s.count);for(let g=h,p=m;g<p;g++){const y=c.getX(g);fA.fromBufferAttribute(f,y),DR(fA,y,u,i,e,t,this)}}else{const h=Math.max(0,s.start),m=Math.min(f.count,s.start+s.count);for(let g=h,p=m;g<p;g++)fA.fromBufferAttribute(f,g),DR(fA,g,u,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function DR(n,e,t,r,i,o,s){const a=OM.distanceSqToPoint(n);if(a<t){const u=new oe;OM.closestPointToPoint(n,u),u.applyMatrix4(r);const c=i.ray.origin.distanceTo(u);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class Zd extends br{constructor(){super(),this.isGroup=!0,this.type="Group"}}class GV extends Mi{constructor(e,t,r,i,o,s,a,u,c){super(e,t,r,i,o,s,a,u,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:Co,this.magFilter=o!==void 0?o:Co,this.generateMipmaps=!1;const l=this;function f(){l.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class VV extends Mi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ys,this.minFilter=ys,this.generateMipmaps=!1,this.needsUpdate=!0}}class ox extends Mi{constructor(e,t,r,i,o,s,a,u,c,l,f,h){super(null,s,a,u,c,l,i,o,f,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class jV extends ox{constructor(e,t,r,i,o,s){super(e,t,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=sl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class WV extends ox{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,lh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class $V extends Mi{constructor(e,t,r,i,o,s,a,u,c){super(e,t,r,i,o,s,a,u,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class tP extends Mi{constructor(e,t,r,i,o,s,a,u,c,l=V0){if(l!==V0&&l!==J0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&l===V0&&(r=ch),r===void 0&&l===J0&&(r=K0),super(null,i,o,s,a,u,l,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:ys,this.minFilter=u!==void 0?u:ys,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Kc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),o=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),t.push(o),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const o=r.length;let s;t?s=t:s=e*r[o-1];let a=0,u=o-1,c;for(;a<=u;)if(i=Math.floor(a+(u-a)/2),c=r[i]-s,c<0)a=i+1;else if(c>0)u=i-1;else{u=i;break}if(i=u,r[i]===s)return i/(o-1);const l=r[i],h=r[i+1]-l,m=(s-l)/h;return(i+m)/(o-1)}getTangent(e,t){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),u=t||(s.isVector2?new _t:new oe);return u.copy(a).sub(s).normalize(),u}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new oe,i=[],o=[],s=[],a=new oe,u=new dn;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new oe)}o[0]=new oe,s[0]=new oe;let c=Number.MAX_VALUE;const l=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);l<=c&&(c=l,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),h<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let m=1;m<=e;m++){if(o[m]=o[m-1].clone(),s[m]=s[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos($n(i[m-1].dot(i[m]),-1,1));o[m].applyMatrix4(u.makeRotationAxis(a,g))}s[m].crossVectors(i[m],o[m])}if(t===!0){let m=Math.acos($n(o[0].dot(o[e]),-1,1));m/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(m=-m);for(let g=1;g<=e;g++)o[g].applyMatrix4(u.makeRotationAxis(i[g],m*g)),s[g].crossVectors(i[g],o[g])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Li extends Kc{constructor(e=0,t=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=u}getPoint(e,t=new _t){const r=t,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let u=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const l=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=u-this.aX,m=c-this.aY;u=h*l-m*f+this.aX,c=h*f+m*l+this.aY}return r.set(u,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class c4 extends Li{constructor(e,t,r,i,o,s){super(e,t,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function nP(){let n=0,e=0,t=0,r=0;function i(o,s,a,u){n=o,e=a,t=-3*o+3*s-2*a-u,r=2*o-2*s+a+u}return{initCatmullRom:function(o,s,a,u,c){i(s,a,c*(a-o),c*(u-s))},initNonuniformCatmullRom:function(o,s,a,u,c,l,f){let h=(s-o)/c-(a-o)/(c+l)+(a-s)/l,m=(a-s)/l-(u-s)/(l+f)+(u-a)/f;h*=l,m*=l,i(s,a,h,m)},calc:function(o){const s=o*o,a=s*o;return n+e*o+t*s+r*a}}}const dA=new oe,t2=new nP,n2=new nP,r2=new nP;class f4 extends Kc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new oe){const r=t,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),u=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:u===0&&a===o-1&&(a=o-2,u=1);let c,l;this.closed||a>0?c=i[(a-1)%o]:(dA.subVectors(i[0],i[1]).add(i[0]),c=dA);const f=i[a%o],h=i[(a+1)%o];if(this.closed||a+2<o?l=i[(a+2)%o]:(dA.subVectors(i[o-1],i[o-2]).add(i[o-1]),l=dA),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),m),p=Math.pow(f.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(l),m);p<1e-4&&(p=1),g<1e-4&&(g=p),y<1e-4&&(y=p),t2.initNonuniformCatmullRom(c.x,f.x,h.x,l.x,g,p,y),n2.initNonuniformCatmullRom(c.y,f.y,h.y,l.y,g,p,y),r2.initNonuniformCatmullRom(c.z,f.z,h.z,l.z,g,p,y)}else this.curveType==="catmullrom"&&(t2.initCatmullRom(c.x,f.x,h.x,l.x,this.tension),n2.initCatmullRom(c.y,f.y,h.y,l.y,this.tension),r2.initCatmullRom(c.z,f.z,h.z,l.z,this.tension));return r.set(t2.calc(u),n2.calc(u),r2.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new oe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function RR(n,e,t,r,i){const o=(r-e)*.5,s=(i-t)*.5,a=n*n,u=n*a;return(2*t-2*r+o+s)*u+(-3*t+3*r-2*o-s)*a+o*n+t}function qV(n,e){const t=1-n;return t*t*e}function XV(n,e){return 2*(1-n)*n*e}function KV(n,e){return n*n*e}function ry(n,e,t,r){return qV(n,e)+XV(n,t)+KV(n,r)}function JV(n,e){const t=1-n;return t*t*t*e}function YV(n,e){const t=1-n;return 3*t*t*n*e}function QV(n,e){return 3*(1-n)*n*n*e}function ZV(n,e){return n*n*n*e}function iy(n,e,t,r,i){return JV(n,e)+YV(n,t)+QV(n,r)+ZV(n,i)}class rP extends Kc{constructor(e=new _t,t=new _t,r=new _t,i=new _t){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new _t){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(iy(e,i.x,o.x,s.x,a.x),iy(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class d4 extends Kc{constructor(e=new oe,t=new oe,r=new oe,i=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new oe){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(iy(e,i.x,o.x,s.x,a.x),iy(e,i.y,o.y,s.y,a.y),iy(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class iP extends Kc{constructor(e=new _t,t=new _t){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new _t){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _t){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class h4 extends Kc{constructor(e=new oe,t=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new oe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new oe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oP extends Kc{constructor(e=new _t,t=new _t,r=new _t){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new _t){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(ry(e,i.x,o.x,s.x),ry(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sP extends Kc{constructor(e=new oe,t=new oe,r=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new oe){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(ry(e,i.x,o.x,s.x),ry(e,i.y,o.y,s.y),ry(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aP extends Kc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new _t){const r=t,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,u=i[s===0?s:s-1],c=i[s],l=i[s>i.length-2?i.length-1:s+1],f=i[s>i.length-3?i.length-1:s+2];return r.set(RR(a,u.x,c.x,l.x,f.x),RR(a,u.y,c.y,l.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new _t().fromArray(i))}return this}}var fS=Object.freeze({__proto__:null,ArcCurve:c4,CatmullRomCurve3:f4,CubicBezierCurve:rP,CubicBezierCurve3:d4,EllipseCurve:Li,LineCurve:iP,LineCurve3:h4,QuadraticBezierCurve:oP,QuadraticBezierCurve3:sP,SplineCurve:aP});class p4 extends Kc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new fS[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],u=a.getLength(),c=u===0?0:1-s/u;return a.getPointAt(c,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,u=s.getPoints(a);for(let c=0;c<u.length;c++){const l=u[c];r&&r.equals(l)||(t.push(l),r=l)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new fS[i.type]().fromJSON(i))}return this}}class yy extends p4{constructor(e){super(),this.type="Path",this.currentPoint=new _t,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new iP(this.currentPoint.clone(),new _t(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const o=new oP(this.currentPoint.clone(),new _t(e,t),new _t(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,o,s){const a=new rP(this.currentPoint.clone(),new _t(e,t),new _t(r,i),new _t(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new aP(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,o,s){const a=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+a,t+u,r,i,o,s),this}absarc(e,t,r,i,o,s){return this.absellipse(e,t,r,r,i,o,s),this}ellipse(e,t,r,i,o,s,a,u){const c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+c,t+l,r,i,o,s,a,u),this}absellipse(e,t,r,i,o,s,a,u){const c=new Li(e,t,r,i,o,s,a,u);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const l=c.getPoint(1);return this.currentPoint.copy(l),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Yy extends Xn{constructor(e=[new _t(0,-.5),new _t(.5,0),new _t(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=$n(i,0,Math.PI*2);const o=[],s=[],a=[],u=[],c=[],l=1/t,f=new oe,h=new _t,m=new oe,g=new oe,p=new oe;let y=0,b=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,b=e[x+1].y-e[x].y,m.x=b*1,m.y=-y,m.z=b*0,p.copy(m),m.normalize(),u.push(m.x,m.y,m.z);break;case e.length-1:u.push(p.x,p.y,p.z);break;default:y=e[x+1].x-e[x].x,b=e[x+1].y-e[x].y,m.x=b*1,m.y=-y,m.z=b*0,g.copy(m),m.x+=p.x,m.y+=p.y,m.z+=p.z,m.normalize(),u.push(m.x,m.y,m.z),p.copy(g)}for(let x=0;x<=t;x++){const C=r+x*l*i,M=Math.sin(C),R=Math.cos(C);for(let O=0;O<=e.length-1;O++){f.x=e[O].x*M,f.y=e[O].y,f.z=e[O].x*R,s.push(f.x,f.y,f.z),h.x=x/t,h.y=O/(e.length-1),a.push(h.x,h.y);const N=u[3*O+0]*M,F=u[3*O+1],I=u[3*O+0]*R;c.push(N,F,I)}}for(let x=0;x<t;x++)for(let C=0;C<e.length-1;C++){const M=C+x*e.length,R=M,O=M+e.length,N=M+e.length+1,F=M+1;o.push(R,O,F),o.push(N,F,O)}this.setIndex(o),this.setAttribute("position",new hn(s,3)),this.setAttribute("uv",new hn(a,2)),this.setAttribute("normal",new hn(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yy(e.points,e.segments,e.phiStart,e.phiLength)}}class sx extends Yy{constructor(e=1,t=1,r=4,i=8){const o=new yy;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new sx(e.radius,e.length,e.capSegments,e.radialSegments)}}class ax extends Xn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const o=[],s=[],a=[],u=[],c=new oe,l=new _t;s.push(0,0,0),a.push(0,0,1),u.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const m=r+f/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),s.push(c.x,c.y,c.z),a.push(0,0,1),l.x=(s[h]/e+1)/2,l.y=(s[h+1]/e+1)/2,u.push(l.x,l.y)}for(let f=1;f<=t;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new hn(s,3)),this.setAttribute("normal",new hn(a,3)),this.setAttribute("uv",new hn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ax(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class m1 extends Xn{constructor(e=1,t=1,r=1,i=32,o=1,s=!1,a=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:u};const c=this;i=Math.floor(i),o=Math.floor(o);const l=[],f=[],h=[],m=[];let g=0;const p=[],y=r/2;let b=0;x(),s===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(l),this.setAttribute("position",new hn(f,3)),this.setAttribute("normal",new hn(h,3)),this.setAttribute("uv",new hn(m,2));function x(){const M=new oe,R=new oe;let O=0;const N=(t-e)/r;for(let F=0;F<=o;F++){const I=[],B=F/o,k=B*(t-e)+e;for(let q=0;q<=i;q++){const Y=q/i,ee=Y*u+a,le=Math.sin(ee),J=Math.cos(ee);R.x=k*le,R.y=-B*r+y,R.z=k*J,f.push(R.x,R.y,R.z),M.set(le,N,J).normalize(),h.push(M.x,M.y,M.z),m.push(Y,1-B),I.push(g++)}p.push(I)}for(let F=0;F<i;F++)for(let I=0;I<o;I++){const B=p[I][F],k=p[I+1][F],q=p[I+1][F+1],Y=p[I][F+1];(e>0||I!==0)&&(l.push(B,k,Y),O+=3),(t>0||I!==o-1)&&(l.push(k,q,Y),O+=3)}c.addGroup(b,O,0),b+=O}function C(M){const R=g,O=new _t,N=new oe;let F=0;const I=M===!0?e:t,B=M===!0?1:-1;for(let q=1;q<=i;q++)f.push(0,y*B,0),h.push(0,B,0),m.push(.5,.5),g++;const k=g;for(let q=0;q<=i;q++){const ee=q/i*u+a,le=Math.cos(ee),J=Math.sin(ee);N.x=I*J,N.y=y*B,N.z=I*le,f.push(N.x,N.y,N.z),h.push(0,B,0),O.x=le*.5+.5,O.y=J*.5*B+.5,m.push(O.x,O.y),g++}for(let q=0;q<i;q++){const Y=R+q,ee=k+q;M===!0?l.push(ee,ee+1,Y):l.push(ee+1,ee,Y),F+=3}c.addGroup(b,F,M===!0?1:2),b+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ux extends m1{constructor(e=1,t=1,r=32,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,t,r,i,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new ux(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Np extends Xn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const o=[],s=[];a(i),c(r),l(),this.setAttribute("position",new hn(o,3)),this.setAttribute("normal",new hn(o.slice(),3)),this.setAttribute("uv",new hn(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const C=new oe,M=new oe,R=new oe;for(let O=0;O<t.length;O+=3)m(t[O+0],C),m(t[O+1],M),m(t[O+2],R),u(C,M,R,x)}function u(x,C,M,R){const O=R+1,N=[];for(let F=0;F<=O;F++){N[F]=[];const I=x.clone().lerp(M,F/O),B=C.clone().lerp(M,F/O),k=O-F;for(let q=0;q<=k;q++)q===0&&F===O?N[F][q]=I:N[F][q]=I.clone().lerp(B,q/k)}for(let F=0;F<O;F++)for(let I=0;I<2*(O-F)-1;I++){const B=Math.floor(I/2);I%2===0?(h(N[F][B+1]),h(N[F+1][B]),h(N[F][B])):(h(N[F][B+1]),h(N[F+1][B+1]),h(N[F+1][B]))}}function c(x){const C=new oe;for(let M=0;M<o.length;M+=3)C.x=o[M+0],C.y=o[M+1],C.z=o[M+2],C.normalize().multiplyScalar(x),o[M+0]=C.x,o[M+1]=C.y,o[M+2]=C.z}function l(){const x=new oe;for(let C=0;C<o.length;C+=3){x.x=o[C+0],x.y=o[C+1],x.z=o[C+2];const M=y(x)/2/Math.PI+.5,R=b(x)/Math.PI+.5;s.push(M,1-R)}g(),f()}function f(){for(let x=0;x<s.length;x+=6){const C=s[x+0],M=s[x+2],R=s[x+4],O=Math.max(C,M,R),N=Math.min(C,M,R);O>.9&&N<.1&&(C<.2&&(s[x+0]+=1),M<.2&&(s[x+2]+=1),R<.2&&(s[x+4]+=1))}}function h(x){o.push(x.x,x.y,x.z)}function m(x,C){const M=x*3;C.x=e[M+0],C.y=e[M+1],C.z=e[M+2]}function g(){const x=new oe,C=new oe,M=new oe,R=new oe,O=new _t,N=new _t,F=new _t;for(let I=0,B=0;I<o.length;I+=9,B+=6){x.set(o[I+0],o[I+1],o[I+2]),C.set(o[I+3],o[I+4],o[I+5]),M.set(o[I+6],o[I+7],o[I+8]),O.set(s[B+0],s[B+1]),N.set(s[B+2],s[B+3]),F.set(s[B+4],s[B+5]),R.copy(x).add(C).add(M).divideScalar(3);const k=y(R);p(O,B+0,x,k),p(N,B+2,C,k),p(F,B+4,M,k)}}function p(x,C,M,R){R<0&&x.x===1&&(s[C]=x.x-1),M.x===0&&M.z===0&&(s[C]=R/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function b(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Np(e.vertices,e.indices,e.radius,e.details)}}class lx extends Np{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lx(e.radius,e.detail)}}const hA=new oe,pA=new oe,i2=new oe,mA=new Eu;class m4 extends Xn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),o=Math.cos(j0*t),s=e.getIndex(),a=e.getAttribute("position"),u=s?s.count:a.count,c=[0,0,0],l=["a","b","c"],f=new Array(3),h={},m=[];for(let g=0;g<u;g+=3){s?(c[0]=s.getX(g),c[1]=s.getX(g+1),c[2]=s.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:p,b:y,c:b}=mA;if(p.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),b.fromBufferAttribute(a,c[2]),mA.getNormal(i2),f[0]=`${Math.round(p.x*i)},${Math.round(p.y*i)},${Math.round(p.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const C=(x+1)%3,M=f[x],R=f[C],O=mA[l[x]],N=mA[l[C]],F=`${M}_${R}`,I=`${R}_${M}`;I in h&&h[I]?(i2.dot(h[I].normal)<=o&&(m.push(O.x,O.y,O.z),m.push(N.x,N.y,N.z)),h[I]=null):F in h||(h[F]={index0:c[x],index1:c[C],normal:i2.clone()})}}for(const g in h)if(h[g]){const{index0:p,index1:y}=h[g];hA.fromBufferAttribute(a,p),pA.fromBufferAttribute(a,y),m.push(hA.x,hA.y,hA.z),m.push(pA.x,pA.y,pA.z)}this.setAttribute("position",new hn(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class cl extends yy{constructor(e){super(e),this.uuid=ll(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new yy().fromJSON(i))}return this}}const ej={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let o=g4(n,0,i,t,!0);const s=[];if(!o||o.next===o.prev)return s;let a,u,c,l,f,h,m;if(r&&(o=oj(n,e,o,t)),n.length>80*t){a=c=n[0],u=l=n[1];for(let g=t;g<i;g+=t)f=n[g],h=n[g+1],f<a&&(a=f),h<u&&(u=h),f>c&&(c=f),h>l&&(l=h);m=Math.max(c-a,l-u),m=m!==0?32767/m:0}return by(o,s,t,a,u,m,0),s}};function g4(n,e,t,r,i){let o,s;if(i===gj(n,e,t,r)>0)for(o=e;o<t;o+=r)s=OR(o,n[o],n[o+1],s);else for(o=t-r;o>=e;o-=r)s=OR(o,n[o],n[o+1],s);return s&&cx(s,s.next)&&(Ey(s),s=s.next),s}function Z0(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(cx(t,t.next)||$i(t.prev,t,t.next)===0)){if(Ey(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function by(n,e,t,r,i,o,s){if(!n)return;!s&&o&&cj(n,r,i,o);let a=n,u,c;for(;n.prev!==n.next;){if(u=n.prev,c=n.next,o?nj(n,r,i,o):tj(n)){e.push(u.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Ey(n),n=c.next,a=c.next;continue}if(n=c,n===a){s?s===1?(n=rj(Z0(n),e,t),by(n,e,t,r,i,o,2)):s===2&&ij(n,e,t,r,i,o):by(Z0(n),e,t,r,i,o,1);break}}}function tj(n){const e=n.prev,t=n,r=n.next;if($i(e,t,r)>=0)return!1;const i=e.x,o=t.x,s=r.x,a=e.y,u=t.y,c=r.y,l=i<o?i<s?i:s:o<s?o:s,f=a<u?a<c?a:c:u<c?u:c,h=i>o?i>s?i:s:o>s?o:s,m=a>u?a>c?a:c:u>c?u:c;let g=r.next;for(;g!==e;){if(g.x>=l&&g.x<=h&&g.y>=f&&g.y<=m&&Uv(i,a,o,u,s,c,g.x,g.y)&&$i(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function nj(n,e,t,r){const i=n.prev,o=n,s=n.next;if($i(i,o,s)>=0)return!1;const a=i.x,u=o.x,c=s.x,l=i.y,f=o.y,h=s.y,m=a<u?a<c?a:c:u<c?u:c,g=l<f?l<h?l:h:f<h?f:h,p=a>u?a>c?a:c:u>c?u:c,y=l>f?l>h?l:h:f>h?f:h,b=IM(m,g,e,t,r),x=IM(p,y,e,t,r);let C=n.prevZ,M=n.nextZ;for(;C&&C.z>=b&&M&&M.z<=x;){if(C.x>=m&&C.x<=p&&C.y>=g&&C.y<=y&&C!==i&&C!==s&&Uv(a,l,u,f,c,h,C.x,C.y)&&$i(C.prev,C,C.next)>=0||(C=C.prevZ,M.x>=m&&M.x<=p&&M.y>=g&&M.y<=y&&M!==i&&M!==s&&Uv(a,l,u,f,c,h,M.x,M.y)&&$i(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;C&&C.z>=b;){if(C.x>=m&&C.x<=p&&C.y>=g&&C.y<=y&&C!==i&&C!==s&&Uv(a,l,u,f,c,h,C.x,C.y)&&$i(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;M&&M.z<=x;){if(M.x>=m&&M.x<=p&&M.y>=g&&M.y<=y&&M!==i&&M!==s&&Uv(a,l,u,f,c,h,M.x,M.y)&&$i(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function rj(n,e,t){let r=n;do{const i=r.prev,o=r.next.next;!cx(i,o)&&v4(i,r,r.next,o)&&Ay(i,o)&&Ay(o,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(o.i/t|0),Ey(r),Ey(r.next),r=n=o),r=r.next}while(r!==n);return Z0(r)}function ij(n,e,t,r,i,o){let s=n;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&hj(s,a)){let u=_4(s,a);s=Z0(s,s.next),u=Z0(u,u.next),by(s,e,t,r,i,o,0),by(u,e,t,r,i,o,0);return}a=a.next}s=s.next}while(s!==n)}function oj(n,e,t,r){const i=[];let o,s,a,u,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,u=o<s-1?e[o+1]*r:n.length,c=g4(n,a,u,r,!1),c===c.next&&(c.steiner=!0),i.push(dj(c));for(i.sort(sj),o=0;o<i.length;o++)t=aj(i[o],t);return t}function sj(n,e){return n.x-e.x}function aj(n,e){const t=uj(n,e);if(!t)return e;const r=_4(t,n);return Z0(r,r.next),Z0(t,t.next)}function uj(n,e){let t=e,r=-1/0,i;const o=n.x,s=n.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const h=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=o&&h>r&&(r=h,i=t.x<t.next.x?t:t.next,h===o))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,u=i.x,c=i.y;let l=1/0,f;t=i;do o>=t.x&&t.x>=u&&o!==t.x&&Uv(s<c?o:r,s,u,c,s<c?r:o,s,t.x,t.y)&&(f=Math.abs(s-t.y)/(o-t.x),Ay(t,n)&&(f<l||f===l&&(t.x>i.x||t.x===i.x&&lj(i,t)))&&(i=t,l=f)),t=t.next;while(t!==a);return i}function lj(n,e){return $i(n.prev,n,e.prev)<0&&$i(e.next,n,n.next)<0}function cj(n,e,t,r){let i=n;do i.z===0&&(i.z=IM(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,fj(i)}function fj(n){let e,t,r,i,o,s,a,u,c=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(u=c;a>0||u>0&&r;)a!==0&&(u===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,c*=2}while(s>1);return n}function IM(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function dj(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Uv(n,e,t,r,i,o,s,a){return(i-s)*(e-a)>=(n-s)*(o-a)&&(n-s)*(r-a)>=(t-s)*(e-a)&&(t-s)*(o-a)>=(i-s)*(r-a)}function hj(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!pj(n,e)&&(Ay(n,e)&&Ay(e,n)&&mj(n,e)&&($i(n.prev,n,e.prev)||$i(n,e.prev,e))||cx(n,e)&&$i(n.prev,n,n.next)>0&&$i(e.prev,e,e.next)>0)}function $i(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function cx(n,e){return n.x===e.x&&n.y===e.y}function v4(n,e,t,r){const i=vA($i(n,e,t)),o=vA($i(n,e,r)),s=vA($i(t,r,n)),a=vA($i(t,r,e));return!!(i!==o&&s!==a||i===0&&gA(n,t,e)||o===0&&gA(n,r,e)||s===0&&gA(t,n,r)||a===0&&gA(t,e,r))}function gA(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function vA(n){return n>0?1:n<0?-1:0}function pj(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&v4(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ay(n,e){return $i(n.prev,n,n.next)<0?$i(n,e,n.next)>=0&&$i(n,n.prev,e)>=0:$i(n,e,n.prev)<0||$i(n,n.next,e)<0}function mj(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function _4(n,e){const t=new BM(n.i,n.x,n.y),r=new BM(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function OR(n,e,t,r){const i=new BM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ey(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function BM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function gj(n,e,t,r){let i=0;for(let o=e,s=t-r;o<t;o+=r)i+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return i}class zf{static area(e){const t=e.length;let r=0;for(let i=t-1,o=0;o<t;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return zf.area(e)<0}static triangulateShape(e,t){const r=[],i=[],o=[];IR(e),BR(r,e);let s=e.length;t.forEach(IR);for(let u=0;u<t.length;u++)i.push(s),s+=t[u].length,BR(r,t[u]);const a=ej.triangulate(r,i);for(let u=0;u<a.length;u+=3)o.push(a.slice(u,u+3));return o}}function IR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function BR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class $f extends Xn{constructor(e=new cl([new _t(.5,.5),new _t(-.5,.5),new _t(-.5,-.5),new _t(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,u=e.length;a<u;a++){const c=e[a];s(c)}this.setAttribute("position",new hn(i,3)),this.setAttribute("uv",new hn(o,2)),this.computeVertexNormals();function s(a){const u=[],c=t.curveSegments!==void 0?t.curveSegments:12,l=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,p=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:vj;let C,M=!1,R,O,N,F;b&&(C=b.getSpacedPoints(l),M=!0,h=!1,R=b.computeFrenetFrames(l,!1),O=new oe,N=new oe,F=new oe),h||(y=0,m=0,g=0,p=0);const I=a.extractPoints(c);let B=I.shape;const k=I.holes;if(!zf.isClockWise(B)){B=B.reverse();for(let We=0,Ke=k.length;We<Ke;We++){const he=k[We];zf.isClockWise(he)&&(k[We]=he.reverse())}}const Y=zf.triangulateShape(B,k),ee=B;for(let We=0,Ke=k.length;We<Ke;We++){const he=k[We];B=B.concat(he)}function le(We,Ke,he){return Ke||console.error("THREE.ExtrudeGeometry: vec does not exist"),We.clone().addScaledVector(Ke,he)}const J=B.length,fe=Y.length;function V(We,Ke,he){let wt,ft,vt;const yt=We.x-Ke.x,Ht=We.y-Ke.y,$e=he.x-We.x,te=he.y-We.y,K=yt*yt+Ht*Ht,j=yt*te-Ht*$e;if(Math.abs(j)>Number.EPSILON){const re=Math.sqrt(K),me=Math.sqrt($e*$e+te*te),ve=Ke.x-Ht/re,Me=Ke.y+yt/re,xe=he.x-te/me,Ge=he.y+$e/me,et=((xe-ve)*te-(Ge-Me)*$e)/(yt*te-Ht*$e);wt=ve+yt*et-We.x,ft=Me+Ht*et-We.y;const Ne=wt*wt+ft*ft;if(Ne<=2)return new _t(wt,ft);vt=Math.sqrt(Ne/2)}else{let re=!1;yt>Number.EPSILON?$e>Number.EPSILON&&(re=!0):yt<-Number.EPSILON?$e<-Number.EPSILON&&(re=!0):Math.sign(Ht)===Math.sign(te)&&(re=!0),re?(wt=-Ht,ft=yt,vt=Math.sqrt(K)):(wt=yt,ft=Ht,vt=Math.sqrt(K/2))}return new _t(wt/vt,ft/vt)}const ae=[];for(let We=0,Ke=ee.length,he=Ke-1,wt=We+1;We<Ke;We++,he++,wt++)he===Ke&&(he=0),wt===Ke&&(wt=0),ae[We]=V(ee[We],ee[he],ee[wt]);const ue=[];let Q,de=ae.concat();for(let We=0,Ke=k.length;We<Ke;We++){const he=k[We];Q=[];for(let wt=0,ft=he.length,vt=ft-1,yt=wt+1;wt<ft;wt++,vt++,yt++)vt===ft&&(vt=0),yt===ft&&(yt=0),Q[wt]=V(he[wt],he[vt],he[yt]);ue.push(Q),de=de.concat(Q)}for(let We=0;We<y;We++){const Ke=We/y,he=m*Math.cos(Ke*Math.PI/2),wt=g*Math.sin(Ke*Math.PI/2)+p;for(let ft=0,vt=ee.length;ft<vt;ft++){const yt=le(ee[ft],ae[ft],wt);Ie(yt.x,yt.y,-he)}for(let ft=0,vt=k.length;ft<vt;ft++){const yt=k[ft];Q=ue[ft];for(let Ht=0,$e=yt.length;Ht<$e;Ht++){const te=le(yt[Ht],Q[Ht],wt);Ie(te.x,te.y,-he)}}}const we=g+p;for(let We=0;We<J;We++){const Ke=h?le(B[We],de[We],we):B[We];M?(N.copy(R.normals[0]).multiplyScalar(Ke.x),O.copy(R.binormals[0]).multiplyScalar(Ke.y),F.copy(C[0]).add(N).add(O),Ie(F.x,F.y,F.z)):Ie(Ke.x,Ke.y,0)}for(let We=1;We<=l;We++)for(let Ke=0;Ke<J;Ke++){const he=h?le(B[Ke],de[Ke],we):B[Ke];M?(N.copy(R.normals[We]).multiplyScalar(he.x),O.copy(R.binormals[We]).multiplyScalar(he.y),F.copy(C[We]).add(N).add(O),Ie(F.x,F.y,F.z)):Ie(he.x,he.y,f/l*We)}for(let We=y-1;We>=0;We--){const Ke=We/y,he=m*Math.cos(Ke*Math.PI/2),wt=g*Math.sin(Ke*Math.PI/2)+p;for(let ft=0,vt=ee.length;ft<vt;ft++){const yt=le(ee[ft],ae[ft],wt);Ie(yt.x,yt.y,f+he)}for(let ft=0,vt=k.length;ft<vt;ft++){const yt=k[ft];Q=ue[ft];for(let Ht=0,$e=yt.length;Ht<$e;Ht++){const te=le(yt[Ht],Q[Ht],wt);M?Ie(te.x,te.y+C[l-1].y,C[l-1].x+he):Ie(te.x,te.y,f+he)}}}ye(),Ce();function ye(){const We=i.length/3;if(h){let Ke=0,he=J*Ke;for(let wt=0;wt<fe;wt++){const ft=Y[wt];Ze(ft[2]+he,ft[1]+he,ft[0]+he)}Ke=l+y*2,he=J*Ke;for(let wt=0;wt<fe;wt++){const ft=Y[wt];Ze(ft[0]+he,ft[1]+he,ft[2]+he)}}else{for(let Ke=0;Ke<fe;Ke++){const he=Y[Ke];Ze(he[2],he[1],he[0])}for(let Ke=0;Ke<fe;Ke++){const he=Y[Ke];Ze(he[0]+J*l,he[1]+J*l,he[2]+J*l)}}r.addGroup(We,i.length/3-We,0)}function Ce(){const We=i.length/3;let Ke=0;Le(ee,Ke),Ke+=ee.length;for(let he=0,wt=k.length;he<wt;he++){const ft=k[he];Le(ft,Ke),Ke+=ft.length}r.addGroup(We,i.length/3-We,1)}function Le(We,Ke){let he=We.length;for(;--he>=0;){const wt=he;let ft=he-1;ft<0&&(ft=We.length-1);for(let vt=0,yt=l+y*2;vt<yt;vt++){const Ht=J*vt,$e=J*(vt+1),te=Ke+wt+Ht,K=Ke+ft+Ht,j=Ke+ft+$e,re=Ke+wt+$e;tt(te,K,j,re)}}}function Ie(We,Ke,he){u.push(We),u.push(Ke),u.push(he)}function Ze(We,Ke,he){Qe(We),Qe(Ke),Qe(he);const wt=i.length/3,ft=x.generateTopUV(r,i,wt-3,wt-2,wt-1);lt(ft[0]),lt(ft[1]),lt(ft[2])}function tt(We,Ke,he,wt){Qe(We),Qe(Ke),Qe(wt),Qe(Ke),Qe(he),Qe(wt);const ft=i.length/3,vt=x.generateSideWallUV(r,i,ft-6,ft-3,ft-2,ft-1);lt(vt[0]),lt(vt[1]),lt(vt[3]),lt(vt[1]),lt(vt[2]),lt(vt[3])}function Qe(We){i.push(u[We*3+0]),i.push(u[We*3+1]),i.push(u[We*3+2])}function lt(We){o.push(We.x),o.push(We.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return _j(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=t[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new fS[i.type]().fromJSON(i)),new $f(r,e.options)}}const vj={generateTopUV:function(n,e,t,r,i){const o=e[t*3],s=e[t*3+1],a=e[r*3],u=e[r*3+1],c=e[i*3],l=e[i*3+1];return[new _t(o,s),new _t(a,u),new _t(c,l)]},generateSideWallUV:function(n,e,t,r,i,o){const s=e[t*3],a=e[t*3+1],u=e[t*3+2],c=e[r*3],l=e[r*3+1],f=e[r*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],p=e[o*3],y=e[o*3+1],b=e[o*3+2];return Math.abs(a-l)<Math.abs(s-c)?[new _t(s,1-u),new _t(c,1-f),new _t(h,1-g),new _t(p,1-b)]:[new _t(a,1-u),new _t(l,1-f),new _t(m,1-g),new _t(y,1-b)]}};function _j(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class fx extends Np{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fx(e.radius,e.detail)}}class Qy extends Np{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qy(e.radius,e.detail)}}class g1 extends Xn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(r),u=Math.floor(i),c=a+1,l=u+1,f=e/a,h=t/u,m=[],g=[],p=[],y=[];for(let b=0;b<l;b++){const x=b*h-s;for(let C=0;C<c;C++){const M=C*f-o;g.push(M,-x,0),p.push(0,0,1),y.push(C/a),y.push(1-b/u)}}for(let b=0;b<u;b++)for(let x=0;x<a;x++){const C=x+c*b,M=x+c*(b+1),R=x+1+c*(b+1),O=x+1+c*b;m.push(C,M,O),m.push(M,R,O)}this.setIndex(m),this.setAttribute("position",new hn(g,3)),this.setAttribute("normal",new hn(p,3)),this.setAttribute("uv",new hn(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g1(e.width,e.height,e.widthSegments,e.heightSegments)}}class dx extends Xn{constructor(e=.5,t=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const a=[],u=[],c=[],l=[];let f=e;const h=(t-e)/i,m=new oe,g=new _t;for(let p=0;p<=i;p++){for(let y=0;y<=r;y++){const b=o+y/r*s;m.x=f*Math.cos(b),m.y=f*Math.sin(b),u.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,l.push(g.x,g.y)}f+=h}for(let p=0;p<i;p++){const y=p*(r+1);for(let b=0;b<r;b++){const x=b+y,C=x,M=x+r+1,R=x+r+2,O=x+1;a.push(C,M,O),a.push(M,R,O)}}this.setIndex(a),this.setAttribute("position",new hn(u,3)),this.setAttribute("normal",new hn(c,3)),this.setAttribute("uv",new hn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class hx extends Xn{constructor(e=new cl([new _t(0,.5),new _t(-.5,-.5),new _t(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],o=[],s=[];let a=0,u=0;if(Array.isArray(e)===!1)c(e);else for(let l=0;l<e.length;l++)c(e[l]),this.addGroup(a,u,l),a+=u,u=0;this.setIndex(r),this.setAttribute("position",new hn(i,3)),this.setAttribute("normal",new hn(o,3)),this.setAttribute("uv",new hn(s,2));function c(l){const f=i.length/3,h=l.extractPoints(t);let m=h.shape;const g=h.holes;zf.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,b=g.length;y<b;y++){const x=g[y];zf.isClockWise(x)===!0&&(g[y]=x.reverse())}const p=zf.triangulateShape(m,g);for(let y=0,b=g.length;y<b;y++){const x=g[y];m=m.concat(x)}for(let y=0,b=m.length;y<b;y++){const x=m[y];i.push(x.x,x.y,0),o.push(0,0,1),s.push(x.x,x.y)}for(let y=0,b=p.length;y<b;y++){const x=p[y],C=x[0]+f,M=x[1]+f,R=x[2]+f;r.push(C,M,R),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return yj(t,e)}static fromJSON(e,t){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=t[e.shapes[i]];r.push(s)}return new hx(r,e.curveSegments)}}function yj(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Zy extends Xn{constructor(e=1,t=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const u=Math.min(s+a,Math.PI);let c=0;const l=[],f=new oe,h=new oe,m=[],g=[],p=[],y=[];for(let b=0;b<=r;b++){const x=[],C=b/r;let M=0;b===0&&s===0?M=.5/t:b===r&&u===Math.PI&&(M=-.5/t);for(let R=0;R<=t;R++){const O=R/t;f.x=-e*Math.cos(i+O*o)*Math.sin(s+C*a),f.y=e*Math.cos(s+C*a),f.z=e*Math.sin(i+O*o)*Math.sin(s+C*a),g.push(f.x,f.y,f.z),h.copy(f).normalize(),p.push(h.x,h.y,h.z),y.push(O+M,1-C),x.push(c++)}l.push(x)}for(let b=0;b<r;b++)for(let x=0;x<t;x++){const C=l[b][x+1],M=l[b][x],R=l[b+1][x],O=l[b+1][x+1];(b!==0||s>0)&&m.push(C,M,O),(b!==r-1||u<Math.PI)&&m.push(M,R,O)}this.setIndex(m),this.setAttribute("position",new hn(g,3)),this.setAttribute("normal",new hn(p,3)),this.setAttribute("uv",new hn(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class px extends Np{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new px(e.radius,e.detail)}}class mx extends Xn{constructor(e=1,t=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],u=[],c=[],l=new oe,f=new oe,h=new oe;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const p=g/i*o,y=m/r*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(p),f.y=(e+t*Math.cos(y))*Math.sin(p),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),l.x=e*Math.cos(p),l.y=e*Math.sin(p),h.subVectors(f,l).normalize(),u.push(h.x,h.y,h.z),c.push(g/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const p=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,b=(i+1)*(m-1)+g,x=(i+1)*m+g;s.push(p,y,x),s.push(y,b,x)}this.setIndex(s),this.setAttribute("position",new hn(a,3)),this.setAttribute("normal",new hn(u,3)),this.setAttribute("uv",new hn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mx(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class gx extends Xn{constructor(e=1,t=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],u=[],c=[],l=[],f=new oe,h=new oe,m=new oe,g=new oe,p=new oe,y=new oe,b=new oe;for(let C=0;C<=r;++C){const M=C/r*o*Math.PI*2;x(M,o,s,e,m),x(M+.01,o,s,e,g),y.subVectors(g,m),b.addVectors(g,m),p.crossVectors(y,b),b.crossVectors(p,y),p.normalize(),b.normalize();for(let R=0;R<=i;++R){const O=R/i*Math.PI*2,N=-t*Math.cos(O),F=t*Math.sin(O);f.x=m.x+(N*b.x+F*p.x),f.y=m.y+(N*b.y+F*p.y),f.z=m.z+(N*b.z+F*p.z),u.push(f.x,f.y,f.z),h.subVectors(f,m).normalize(),c.push(h.x,h.y,h.z),l.push(C/r),l.push(R/i)}}for(let C=1;C<=r;C++)for(let M=1;M<=i;M++){const R=(i+1)*(C-1)+(M-1),O=(i+1)*C+(M-1),N=(i+1)*C+M,F=(i+1)*(C-1)+M;a.push(R,O,F),a.push(O,N,F)}this.setIndex(a),this.setAttribute("position",new hn(u,3)),this.setAttribute("normal",new hn(c,3)),this.setAttribute("uv",new hn(l,2));function x(C,M,R,O,N){const F=Math.cos(C),I=Math.sin(C),B=R/M*C,k=Math.cos(B);N.x=O*(2+k)*.5*F,N.y=O*(2+k)*I*.5,N.z=O*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gx(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class vx extends Xn{constructor(e=new sP(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),t=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new oe,u=new oe,c=new _t;let l=new oe;const f=[],h=[],m=[],g=[];p(),this.setIndex(g),this.setAttribute("position",new hn(f,3)),this.setAttribute("normal",new hn(h,3)),this.setAttribute("uv",new hn(m,2));function p(){for(let C=0;C<t;C++)y(C);y(o===!1?t:0),x(),b()}function y(C){l=e.getPointAt(C/t,l);const M=s.normals[C],R=s.binormals[C];for(let O=0;O<=i;O++){const N=O/i*Math.PI*2,F=Math.sin(N),I=-Math.cos(N);u.x=I*M.x+F*R.x,u.y=I*M.y+F*R.y,u.z=I*M.z+F*R.z,u.normalize(),h.push(u.x,u.y,u.z),a.x=l.x+r*u.x,a.y=l.y+r*u.y,a.z=l.z+r*u.z,f.push(a.x,a.y,a.z)}}function b(){for(let C=1;C<=t;C++)for(let M=1;M<=i;M++){const R=(i+1)*(C-1)+(M-1),O=(i+1)*C+(M-1),N=(i+1)*C+M,F=(i+1)*(C-1)+M;g.push(R,O,F),g.push(O,N,F)}}function x(){for(let C=0;C<=t;C++)for(let M=0;M<=i;M++)c.x=C/t,c.y=M/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new vx(new fS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class y4 extends Xn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new oe,o=new oe;if(e.index!==null){const s=e.attributes.position,a=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,l=u.length;c<l;++c){const f=u[c],h=f.start,m=f.count;for(let g=h,p=h+m;g<p;g+=3)for(let y=0;y<3;y++){const b=a.getX(g+y),x=a.getX(g+(y+1)%3);i.fromBufferAttribute(s,b),o.fromBufferAttribute(s,x),FR(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,u=s.count/3;a<u;a++)for(let c=0;c<3;c++){const l=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(s,l),o.fromBufferAttribute(s,f),FR(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new hn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function FR(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var LR=Object.freeze({__proto__:null,BoxGeometry:ph,CapsuleGeometry:sx,CircleGeometry:ax,ConeGeometry:ux,CylinderGeometry:m1,DodecahedronGeometry:lx,EdgesGeometry:m4,ExtrudeGeometry:$f,IcosahedronGeometry:fx,LatheGeometry:Yy,OctahedronGeometry:Qy,PlaneGeometry:g1,PolyhedronGeometry:Np,RingGeometry:dx,ShapeGeometry:hx,SphereGeometry:Zy,TetrahedronGeometry:px,TorusGeometry:mx,TorusKnotGeometry:gx,TubeGeometry:vx,WireframeGeometry:y4});class b4 extends jo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new zt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class A4 extends $c{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class eb extends jo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new zt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lp,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new dl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Xl extends eb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _t(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return $n(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new zt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new zt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new zt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class E4 extends jo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new zt(16777215),this.specular=new zt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lp,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new dl,this.combine=jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class S4 extends jo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lp,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class x4 extends jo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lp,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class w4 extends jo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lp,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new dl,this.combine=jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uP extends jo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=HN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class lP extends jo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class C4 extends jo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lp,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class M4 extends pa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function I0(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function T4(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function P4(n){function e(i,o){return n[i]-n[o]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function FM(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){const a=t[o]*e;for(let u=0;u!==e;++u)i[s++]=n[a+u]}return i}function cP(n,e,t,r){let i=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),t.push.apply(t,s)),o=n[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),t.push(s)),o=n[i++];while(o!==void 0)}function bj(n,e,t,r,i=30){const o=n.clone();o.name=e;const s=[];for(let u=0;u<o.tracks.length;++u){const c=o.tracks[u],l=c.getValueSize(),f=[],h=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*i;if(!(g<t||g>=r)){f.push(c.times[m]);for(let p=0;p<l;++p)h.push(c.values[m*l+p])}}f.length!==0&&(c.times=I0(f,c.times.constructor),c.values=I0(h,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let u=0;u<o.tracks.length;++u)a>o.tracks[u].times[0]&&(a=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*a);return o.resetDuration(),o}function Aj(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=t.tracks[s],u=a.ValueTypeName;if(u==="bool"||u==="string")continue;const c=n.tracks.find(function(b){return b.name===a.name&&b.ValueTypeName===u});if(c===void 0)continue;let l=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=f/3);let h=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const g=a.times.length-1;let p;if(o<=a.times[0]){const b=l,x=f-l;p=a.values.slice(b,x)}else if(o>=a.times[g]){const b=g*f+l,x=b+f-l;p=a.values.slice(b,x)}else{const b=a.createInterpolant(),x=l,C=f-l;b.evaluate(o),p=b.resultBuffer.slice(x,C)}u==="quaternion"&&new $s().fromArray(p).normalize().conjugate().toArray(p);const y=c.times.length;for(let b=0;b<y;++b){const x=b*m+h;if(u==="quaternion")$s.multiplyQuaternionsFlat(c.values,x,p,0,c.values,x);else{const C=m-h*2;for(let M=0;M<C;++M)c.values[x+M]-=p[M]}}}return n.blendMode=GT,n}const Ej={convertArray:I0,isTypedArray:T4,getKeyframeOrder:P4,sortedArray:FM,flattenJSON:cP,subclip:bj,makeClipAdditive:Aj};class v1{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=o)){const a=t[1];e<a&&(r=2,o=a);for(let u=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class D4 extends v1{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:D0,endingEnd:D0}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],u=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case R0:o=e,a=2*t-r;break;case py:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(u===void 0)switch(this.getSettings_().endingEnd){case R0:s=e,u=2*r-t;break;case py:s=1,u=r+i[1]-i[0];break;default:s=e-1,u=t}const c=(r-t)*.5,l=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(u-r),this._offsetPrev=o*l,this._offsetNext=s*l}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,l=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),p=g*g,y=p*g,b=-h*y+2*h*p-h*g,x=(1+h)*y+(-1.5-2*h)*p+(-.5+h)*g+1,C=(-1-m)*y+(1.5+m)*p+.5*g,M=m*y-m*p;for(let R=0;R!==a;++R)o[R]=b*s[l+R]+x*s[c+R]+C*s[u+R]+M*s[f+R];return o}}class fP extends v1{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,l=(r-t)/(i-t),f=1-l;for(let h=0;h!==a;++h)o[h]=s[c+h]*f+s[u+h]*l;return o}}class R4 extends v1{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Jc{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=I0(t,this.TimeBufferType),this.values=I0(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:I0(e.times,Array),values:I0(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new R4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new fP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new D4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Kv:t=this.InterpolantFactoryMethodDiscrete;break;case Jv:t=this.InterpolantFactoryMethodLinear;break;case dE:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kv;case this.InterpolantFactoryMethodLinear:return Jv;case this.InterpolantFactoryMethodSmooth:return dE}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>t;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=r.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const u=r[a];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(s!==null&&s>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,s),e=!1;break}s=u}if(i!==void 0&&T4(i))for(let a=0,u=i.length;a!==u;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===dE,o=e.length-1;let s=1;for(let a=1;a<o;++a){let u=!1;const c=e[a],l=e[a+1];if(c!==l&&(a!==1||c!==e[0]))if(i)u=!0;else{const f=a*r,h=f-r,m=f+r;for(let g=0;g!==r;++g){const p=t[f+g];if(p!==t[h+g]||p!==t[m+g]){u=!0;break}}}if(u){if(a!==s){e[s]=e[a];const f=a*r,h=s*r;for(let m=0;m!==r;++m)t[h+m]=t[f+m]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,u=s*r,c=0;c!==r;++c)t[u+c]=t[a+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Jc.prototype.TimeBufferType=Float32Array;Jc.prototype.ValueBufferType=Float32Array;Jc.prototype.DefaultInterpolation=Jv;class sg extends Jc{constructor(e,t,r){super(e,t,r)}}sg.prototype.ValueTypeName="bool";sg.prototype.ValueBufferType=Array;sg.prototype.DefaultInterpolation=Kv;sg.prototype.InterpolantFactoryMethodLinear=void 0;sg.prototype.InterpolantFactoryMethodSmooth=void 0;class dP extends Jc{}dP.prototype.ValueTypeName="color";class eg extends Jc{}eg.prototype.ValueTypeName="number";class O4 extends v1{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=(r-t)/(i-t);let c=e*a;for(let l=c+a;c!==l;c+=4)$s.slerpFlat(o,0,s,c-a,s,c,u);return o}}class tg extends Jc{InterpolantFactoryMethodLinear(e){return new O4(this.times,this.values,this.getValueSize(),e)}}tg.prototype.ValueTypeName="quaternion";tg.prototype.InterpolantFactoryMethodSmooth=void 0;class ag extends Jc{constructor(e,t,r){super(e,t,r)}}ag.prototype.ValueTypeName="string";ag.prototype.ValueBufferType=Array;ag.prototype.DefaultInterpolation=Kv;ag.prototype.InterpolantFactoryMethodLinear=void 0;ag.prototype.InterpolantFactoryMethodSmooth=void 0;class ng extends Jc{}ng.prototype.ValueTypeName="vector";class Zv{constructor(e="",t=-1,r=[],i=ZS){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ll(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)t.push(xj(r[s]).scale(i));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)t.push(Jc.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const o=t.length,s=[];for(let a=0;a<o;a++){let u=[],c=[];u.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);const l=P4(u);u=FM(u,1,l),c=FM(c,1,l),!i&&u[0]===0&&(u.push(o),c.push(c[0])),s.push(new eg(".morphTargetInfluences["+t[a].name+"]",u,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,u=e.length;a<u;a++){const c=e[a],l=c.name.match(o);if(l&&l.length>1){const f=l[1];let h=i[f];h||(i[f]=h=[]),h.push(c)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,m,g,p){if(m.length!==0){const y=[],b=[];cP(m,y,b,g),y.length!==0&&p.push(new f(h,y,b))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let u=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let p=0;p<h[g].morphTargets.length;p++)m[h[g].morphTargets[p]]=-1;for(const p in m){const y=[],b=[];for(let x=0;x!==h[g].morphTargets.length;++x){const C=h[g];y.push(C.time),b.push(C.morphTarget===p?1:0)}i.push(new eg(".morphTargetInfluence["+p+"]",y,b))}u=m.length*s}else{const m=".bones["+t[f].name+"]";r(ng,m+".position",h,"pos",i),r(tg,m+".quaternion",h,"rot",i),r(ng,m+".scale",h,"scl",i)}}return i.length===0?null:new this(o,u,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Sj(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return eg;case"vector":case"vector2":case"vector3":case"vector4":return ng;case"color":return dP;case"quaternion":return tg;case"bool":case"boolean":return sg;case"string":return ag}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function xj(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Sj(n.type);if(n.times===void 0){const t=[],r=[];cP(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const eh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class hP{constructor(e,t,r){const i=this;let o=!1,s=0,a=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(l){a++,o===!1&&i.onStart!==void 0&&i.onStart(l,s,a),o=!0},this.itemEnd=function(l){s++,i.onProgress!==void 0&&i.onProgress(l,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(l){i.onError!==void 0&&i.onError(l)},this.resolveURL=function(l){return u?u(l):l},this.setURLModifier=function(l){return u=l,this},this.addHandler=function(l,f){return c.push(l,f),this},this.removeHandler=function(l){const f=c.indexOf(l);return f!==-1&&c.splice(f,2),this},this.getHandler=function(l){for(let f=0,h=c.length;f<h;f+=2){const m=c[f],g=c[f+1];if(m.global&&(m.lastIndex=0),m.test(l))return g}return null}}}const kv=new hP;let ma=class{constructor(e){this.manager=e!==void 0?e:kv,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,o){r.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};ma.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ld={};class wj extends Error{constructor(e,t){super(e),this.response=t}}class hl extends ma{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=eh.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Ld[e]!==void 0){Ld[e].push({onLoad:t,onProgress:r,onError:i});return}Ld[e]=[],Ld[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,u=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const l=Ld[e],f=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=h?parseInt(h):0,g=m!==0;let p=0;const y=new ReadableStream({start(b){x();function x(){f.read().then(({done:C,value:M})=>{if(C)b.close();else{p+=M.byteLength;const R=new ProgressEvent("progress",{lengthComputable:g,loaded:p,total:m});for(let O=0,N=l.length;O<N;O++){const F=l[O];F.onProgress&&F.onProgress(R)}b.enqueue(M),x()}},C=>{b.error(C)})}}});return new Response(y)}else throw new wj(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(u){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(l=>new DOMParser().parseFromString(l,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(h);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{eh.add(e,c);const l=Ld[e];delete Ld[e];for(let f=0,h=l.length;f<h;f++){const m=l[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const l=Ld[e];if(l===void 0)throw this.manager.itemError(e),c;delete Ld[e];for(let f=0,h=l.length;f<h;f++){const m=l[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Cj extends ma{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new hl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(u){i?i(u):console.error(u),o.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Zv.parse(e[r]);t.push(i)}return t}}class Mj extends ma{constructor(e){super(e)}load(e,t,r,i){const o=this,s=[],a=new ox,u=new hl(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(o.withCredentials);let c=0;function l(f){u.load(e[f],function(h){const m=o.parse(h,!0);s[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Co),a.image=s,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)l(f);else u.load(e,function(f){const h=o.parse(f,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let g=0;g<m;g++){s[g]={mipmaps:[]};for(let p=0;p<h.mipmapCount;p++)s[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+p]),s[g].format=h.format,s[g].width=h.width,s[g].height=h.height}a.image=s}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=Co),a.format=h.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Sy extends ma{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=eh.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a=_y("img");function u(){l(),eh.add(e,this),t&&t(this),o.manager.itemEnd(e)}function c(f){l(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function l(){a.removeEventListener("load",u,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",u,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class Tj extends ma{constructor(e){super(e)}load(e,t,r,i){const o=new qy;o.colorSpace=bu;const s=new Sy(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function u(c){s.load(e[c],function(l){o.images[c]=l,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let c=0;c<e.length;++c)u(c);return o}}class Pj extends ma{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new kf,a=new hl(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(u){let c;try{c=o.parse(u)}catch(l){if(i!==void 0)i(l);else{console.error(l);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:sl,s.wrapT=c.wrapT!==void 0?c.wrapT:sl,s.magFilter=c.magFilter!==void 0?c.magFilter:Co,s.minFilter=c.minFilter!==void 0?c.minFilter:Co,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=ql),c.mipmapCount===1&&(s.minFilter=Co),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c)},r,i),s}}class oy extends ma{constructor(e){super(e)}load(e,t,r,i){const o=new Mi,s=new Sy(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},r,i),o}}class Up extends br{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new zt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class I4 extends Up{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(br.DEFAULT_UP),this.updateMatrix(),this.groundColor=new zt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const o2=new dn,NR=new oe,UR=new oe;class pP{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _t(512,512),this.map=null,this.mapPass=null,this.matrix=new dn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jy,this._frameExtents=new _t(1,1),this._viewportCount=1,this._viewports=[new Mr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;NR.setFromMatrixPosition(e.matrixWorld),t.position.copy(NR),UR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(UR),t.updateMatrixWorld(),o2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o2),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(o2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Dj extends pP{constructor(){super(new wo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Yv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class mP extends Up{constructor(e,t,r=0,i=Math.PI/3,o=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(br.DEFAULT_UP),this.updateMatrix(),this.target=new br,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new Dj}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const kR=new dn,u_=new oe,s2=new oe;class Rj extends pP{constructor(){super(new wo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _t(4,2),this._viewportCount=6,this._viewports=[new Mr(2,1,1,1),new Mr(0,1,1,1),new Mr(3,1,1,1),new Mr(1,1,1,1),new Mr(3,0,1,1),new Mr(1,0,1,1)],this._cubeDirections=[new oe(1,0,0),new oe(-1,0,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,1,0),new oe(0,-1,0)],this._cubeUps=[new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,0,1),new oe(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),u_.setFromMatrixPosition(e.matrixWorld),r.position.copy(u_),s2.copy(r.position),s2.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(s2),r.updateMatrixWorld(),i.makeTranslation(-u_.x,-u_.y,-u_.z),kR.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kR)}}class gP extends Up{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Rj}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kp extends $y{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+t,u=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=l*this.view.offsetY,u=a-l*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Oj extends pP{constructor(){super(new kp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class vP extends Up{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(br.DEFAULT_UP),this.updateMatrix(),this.target=new br,this.shadow=new Oj}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class B4 extends Up{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class F4 extends Up{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class L4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*o),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*o)),t.addScaledVector(s[6],.315392*(3*o*o-1)),t.addScaledVector(s[7],1.092548*(r*o)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*o),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*o),t.addScaledVector(s[6],.743125*o*o-.247708),t.addScaledVector(s[7],2*.429043*r*o),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,o=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-i*i)}}class N4 extends Up{constructor(e=new L4,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class _x extends ma{constructor(e){super(e),this.textures={}}load(e,t,r,i){const o=this,s=new hl(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(u){i?i(u):console.error(u),o.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new zt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new zt().setHex(s.value);break;case"v2":i.uniforms[o].value=new _t().fromArray(s.value);break;case"v3":i.uniforms[o].value=new oe().fromArray(s.value);break;case"v4":i.uniforms[o].value=new Mr().fromArray(s.value);break;case"m3":i.uniforms[o].value=new Qn().fromArray(s.value);break;case"m4":i.uniforms[o].value=new dn().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new _t().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new _t().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return _x.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:b4,SpriteMaterial:JT,RawShaderMaterial:A4,ShaderMaterial:$c,PointsMaterial:ix,MeshPhysicalMaterial:Xl,MeshStandardMaterial:eb,MeshPhongMaterial:E4,MeshToonMaterial:S4,MeshNormalMaterial:x4,MeshLambertMaterial:w4,MeshDepthMaterial:uP,MeshDistanceMaterial:lP,MeshBasicMaterial:al,MeshMatcapMaterial:C4,LineDashedMaterial:M4,LineBasicMaterial:pa,Material:jo};return new t[e]}}class Mp{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class U4 extends Xn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class k4 extends ma{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new hl(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(u){i?i(u):console.error(u),o.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const y=m.interleavedBuffers[g],b=o(m,y.buffer),x=Nv(y.type,b),C=new Xy(x,y.stride);return C.uuid=y.uuid,t[g]=C,C}function o(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],b=new Uint32Array(y).buffer;return r[g]=b,b}const s=e.isInstancedBufferGeometry?new U4:new Xn,a=e.data.index;if(a!==void 0){const m=Nv(a.type,a.array);s.setIndex(new Dr(m,1))}const u=e.data.attributes;for(const m in u){const g=u[m];let p;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);p=new Ip(y,g.itemSize,g.offset,g.normalized)}else{const y=Nv(g.type,g.array),b=g.isInstancedBufferAttribute?Q0:Dr;p=new b(y,g.itemSize,g.normalized)}g.name!==void 0&&(p.name=g.name),g.usage!==void 0&&p.setUsage(g.usage),s.setAttribute(m,p)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],p=[];for(let y=0,b=g.length;y<b;y++){const x=g[y];let C;if(x.isInterleavedBufferAttribute){const M=i(e.data,x.data);C=new Ip(M,x.itemSize,x.offset,x.normalized)}else{const M=Nv(x.type,x.array);C=new Dr(M,x.itemSize,x.normalized)}x.name!==void 0&&(C.name=x.name),p.push(C)}s.morphAttributes[m]=p}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const p=f[m];s.addGroup(p.start,p.count,p.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const m=new oe;h.center!==void 0&&m.fromArray(h.center),s.boundingSphere=new bs(m,h.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Ij extends ma{constructor(e){super(e)}load(e,t,r,i){const o=this,s=this.path===""?Mp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new hl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){let c=null;try{c=JSON.parse(u)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const l=c.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Mp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new hl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,t),a=JSON.parse(s),u=a.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,o,u,a,r),l=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,l),this.bindLightTargets(c),t!==void 0){let f=!1;for(const h in s)if(s[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,i,a,s,t),c=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,c),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new cl().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new Ky().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new k4;for(let o=0,s=e.length;o<s;o++){let a;const u=e[o];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(u);break;default:u.type in LR?a=LR[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}a.uuid=u.uuid,u.name!==void 0&&(a.name=u.name),u.userData!==void 0&&(a.userData=u.userData),r[u.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const o=new _x;o.setTextures(t);for(let s=0,a=e.length;s<a;s++){const u=e[s];r[u.uuid]===void 0&&(r[u.uuid]=o.parse(u)),i[u.uuid]=r[u.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=Zv.parse(i);t[o.uuid]=o}return t}parseImages(e,t){const r=this,i={};let o;function s(u){return r.manager.itemStart(u),o.load(u,function(){r.manager.itemEnd(u)},void 0,function(){r.manager.itemError(u),r.manager.itemEnd(u)})}function a(u){if(typeof u=="string"){const c=u,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(l)}else return u.data?{data:Nv(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new hP(t);o=new Sy(u),o.setCrossOrigin(this.crossOrigin);for(let c=0,l=e.length;c<l;c++){const f=e[c],h=f.url;if(Array.isArray(h)){const m=[];for(let g=0,p=h.length;g<p;g++){const y=h[g],b=a(y);b!==null&&(b instanceof HTMLImageElement?m.push(b):m.push(new kf(b.data,b.width,b.height)))}i[f.uuid]=new O0(m)}else{const m=a(f.url);i[f.uuid]=new O0(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function o(s){if(typeof s=="string"){const a=s,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(u)}else return s.data?{data:Nv(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Sy(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const u=e[s],c=u.url;if(Array.isArray(c)){const l=[];for(let f=0,h=c.length;f<h;f++){const m=c[f],g=await o(m);g!==null&&(g instanceof HTMLImageElement?l.push(g):l.push(new kf(g.data,g.width,g.height)))}r[u.uuid]=new O0(l)}else{const l=await o(u.url);r[u.uuid]=new O0(l)}}}return r}parseTextures(e,t){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const u=t[a.image],c=u.data;let l;Array.isArray(c)?(l=new qy,c.length===6&&(l.needsUpdate=!0)):(c&&c.data?l=new kf:l=new Mi,c&&(l.needsUpdate=!0)),l.source=u,l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.mapping!==void 0&&(l.mapping=r(a.mapping,Bj)),a.channel!==void 0&&(l.channel=a.channel),a.offset!==void 0&&l.offset.fromArray(a.offset),a.repeat!==void 0&&l.repeat.fromArray(a.repeat),a.center!==void 0&&l.center.fromArray(a.center),a.rotation!==void 0&&(l.rotation=a.rotation),a.wrap!==void 0&&(l.wrapS=r(a.wrap[0],zR),l.wrapT=r(a.wrap[1],zR)),a.format!==void 0&&(l.format=a.format),a.internalFormat!==void 0&&(l.internalFormat=a.internalFormat),a.type!==void 0&&(l.type=a.type),a.colorSpace!==void 0&&(l.colorSpace=a.colorSpace),a.minFilter!==void 0&&(l.minFilter=r(a.minFilter,HR)),a.magFilter!==void 0&&(l.magFilter=r(a.magFilter,HR)),a.anisotropy!==void 0&&(l.anisotropy=a.anisotropy),a.flipY!==void 0&&(l.flipY=a.flipY),a.generateMipmaps!==void 0&&(l.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(l.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(l.compareFunction=a.compareFunction),a.userData!==void 0&&(l.userData=a.userData),i[a.uuid]=l}return i}parseObject(e,t,r,i,o){let s;function a(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function u(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let g=0,p=h.length;g<p;g++){const y=h[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let l,f;switch(e.type){case"Scene":s=new uS,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new zt(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new nx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new tx(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new wo(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new kp(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new B4(e.color,e.intensity);break;case"DirectionalLight":s=new vP(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new gP(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new F4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new mP(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new I4(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new N4().fromJSON(e);break;case"SkinnedMesh":l=a(e.geometry),f=u(e.material),s=new YT(l,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":l=a(e.geometry),f=u(e.material),s=new Mo(l,f);break;case"InstancedMesh":l=a(e.geometry),f=u(e.material);const h=e.count,m=e.instanceMatrix,g=e.instanceColor;s=new QT(l,f,h),s.instanceMatrix=new Q0(new Float32Array(m.array),16),g!==void 0&&(s.instanceColor=new Q0(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":l=a(e.geometry),f=u(e.material),s=new l4(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),s.geometry=l,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(p=>{const y=new pi;y.min.fromArray(p.boxMin),y.max.fromArray(p.boxMax);const b=new bs;return b.radius=p.sphereRadius,b.center.fromArray(p.sphereCenter),{boxInitialized:p.boxInitialized,box:y,sphereInitialized:p.sphereInitialized,sphere:b}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":s=new u4;break;case"Line":s=new fh(a(e.geometry),u(e.material));break;case"LineLoop":s=new ZT(a(e.geometry),u(e.material));break;case"LineSegments":s=new Xc(a(e.geometry),u(e.material));break;case"PointCloud":case"Points":s=new eP(a(e.geometry),u(e.material));break;case"Sprite":s=new a4(u(e.material));break;case"Group":s=new Zd;break;case"Bone":s=new rx;break;default:s=new br}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)s.add(this.parseObject(h[m],t,r,i,o))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const g=h[m];s.animations.push(o[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const g=h[m],p=s.getObjectByProperty("uuid",g.object);p!==void 0&&s.addLevel(p,g.distance,g.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new br}})}}const Bj={UVMapping:WS,CubeReflectionMapping:lh,CubeRefractionMapping:Rp,EquirectangularReflectionMapping:dy,EquirectangularRefractionMapping:hy,CubeUVReflectionMapping:d1},zR={RepeatWrapping:Op,ClampToEdgeWrapping:sl,MirroredRepeatWrapping:qv},HR={NearestFilter:ys,NearestMipmapNearestFilter:$S,NearestMipmapLinearFilter:P0,LinearFilter:Co,LinearMipmapNearestFilter:Vv,LinearMipmapLinearFilter:ql};class z4 extends ma{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=eh.get(e);if(s!==void 0){if(o.manager.itemStart(e),s.then){s.then(c=>{t&&t(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const u=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return eh.add(e,c),t&&t(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),eh.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});eh.add(e,u),o.manager.itemStart(e)}}let _A;class _P{static getContext(){return _A===void 0&&(_A=new(window.AudioContext||window.webkitAudioContext)),_A}static setContext(e){_A=e}}class Fj extends ma{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new hl(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){try{const c=u.slice(0);_P.getContext().decodeAudioData(c,function(f){t(f)}).catch(a)}catch(c){a(c)}},r,i);function a(u){i?i(u):console.error(u),o.manager.itemError(e)}}}const GR=new dn,VR=new dn,wm=new dn;class Lj{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new wo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new wo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,wm.copy(e.projectionMatrix);const i=t.eyeSep/2,o=i*t.near/t.focus,s=t.near*Math.tan(j0*t.fov*.5)/t.zoom;let a,u;VR.elements[12]=-i,GR.elements[12]=i,a=-s*t.aspect+o,u=s*t.aspect+o,wm.elements[0]=2*t.near/(u-a),wm.elements[8]=(u+a)/(u-a),this.cameraL.projectionMatrix.copy(wm),a=-s*t.aspect-o,u=s*t.aspect-o,wm.elements[0]=2*t.near/(u-a),wm.elements[8]=(u+a)/(u-a),this.cameraR.projectionMatrix.copy(wm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(VR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(GR)}}class H4 extends wo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class yP{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=jR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=jR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function jR(){return performance.now()}const Cm=new oe,WR=new $s,Nj=new oe,Mm=new oe;class Uj extends br{constructor(){super(),this.type="AudioListener",this.context=_P.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new yP}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Cm,WR,Nj),Mm.set(0,0,-1).applyQuaternion(WR),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Cm.x,i),t.positionY.linearRampToValueAtTime(Cm.y,i),t.positionZ.linearRampToValueAtTime(Cm.z,i),t.forwardX.linearRampToValueAtTime(Mm.x,i),t.forwardY.linearRampToValueAtTime(Mm.y,i),t.forwardZ.linearRampToValueAtTime(Mm.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Cm.x,Cm.y,Cm.z),t.setOrientation(Mm.x,Mm.y,Mm.z,r.x,r.y,r.z)}}class G4 extends br{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Tm=new oe,$R=new $s,kj=new oe,Pm=new oe;class zj extends G4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Tm,$R,kj),Pm.set(0,0,1).applyQuaternion($R);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Tm.x,r),t.positionY.linearRampToValueAtTime(Tm.y,r),t.positionZ.linearRampToValueAtTime(Tm.z,r),t.orientationX.linearRampToValueAtTime(Pm.x,r),t.orientationY.linearRampToValueAtTime(Pm.y,r),t.orientationZ.linearRampToValueAtTime(Pm.z,r)}else t.setPosition(Tm.x,Tm.y,Tm.z),t.setOrientation(Pm.x,Pm.y,Pm.z)}}class Hj{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class V4{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,o,s;switch(t){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=t}else{s+=t;const a=t/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const u=t*this._origIndex;this._mixBufferRegion(r,i,u,1-o,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let u=t,c=t+t;u!==c;++u)if(r[u]!==r[u+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let o=r,s=i;o!==s;++o)t[o]=t[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){$s.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,o){const s=this._workIndex*o;$s.multiplyQuaternionsFlat(e,s,e,t,e,r),$s.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const u=t+a;e[u]=e[u]*s+e[r+a]*i}}_lerpAdditive(e,t,r,i,o){for(let s=0;s!==o;++s){const a=t+s;e[a]=e[a]+e[r+s]*i}}}const bP="\\[\\]\\.:\\/",Gj=new RegExp("["+bP+"]","g"),AP="[^"+bP+"]",Vj="[^"+bP.replace("\\.","")+"]",jj=/((?:WC+[\/:])*)/.source.replace("WC",AP),Wj=/(WCOD+)?/.source.replace("WCOD",Vj),$j=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",AP),qj=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",AP),Xj=new RegExp("^"+jj+Wj+$j+qj+"$"),Kj=["material","materials","bones","map"];class Jj{constructor(e,t,r){const i=r||wr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class wr{constructor(e,t,r){this.path=t,this.parsedPath=r||wr.parseTrackName(t),this.node=wr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new wr.Composite(e,t,r):new wr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Gj,"")}static parseTrackName(e){const t=Xj.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Kj.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===t||a.uuid===t)return a;const u=r(a.children);if(u)return u}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let o=t.propertyIndex;if(e||(e=wr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let l=0;l<e.length;l++)if(e[l].name===c){c=l;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}wr.Composite=Jj;wr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};wr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};wr.prototype.GetterByBindingType=[wr.prototype._getValue_direct,wr.prototype._getValue_array,wr.prototype._getValue_arrayElement,wr.prototype._getValue_toArray];wr.prototype.SetterByBindingTypeAndVersioning=[[wr.prototype._setValue_direct,wr.prototype._setValue_direct_setNeedsUpdate,wr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wr.prototype._setValue_array,wr.prototype._setValue_array_setNeedsUpdate,wr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wr.prototype._setValue_arrayElement,wr.prototype._setValue_arrayElement_setNeedsUpdate,wr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wr.prototype._setValue_fromArray,wr.prototype._setValue_fromArray_setNeedsUpdate,wr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Yj{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ll(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let a,u=e.length,c=this.nCachedObjects_;for(let l=0,f=arguments.length;l!==f;++l){const h=arguments[l],m=h.uuid;let g=t[m];if(g===void 0){g=u++,t[m]=g,e.push(h);for(let p=0,y=s;p!==y;++p)o[p].push(new wr(h,r[p],i[p]))}else if(g<c){a=e[g];const p=--c,y=e[p];t[y.uuid]=g,e[g]=y,t[m]=p,e[p]=h;for(let b=0,x=s;b!==x;++b){const C=o[b],M=C[p];let R=C[g];C[g]=M,R===void 0&&(R=new wr(h,r[b],i[b])),C[p]=R}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const u=arguments[s],c=u.uuid,l=t[c];if(l!==void 0&&l>=o){const f=o++,h=e[f];t[h.uuid]=l,e[l]=h,t[c]=f,e[f]=u;for(let m=0,g=i;m!==g;++m){const p=r[m],y=p[f],b=p[l];p[l]=y,p[f]=b}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,u=arguments.length;a!==u;++a){const c=arguments[a],l=c.uuid,f=t[l];if(f!==void 0)if(delete t[l],f<o){const h=--o,m=e[h],g=--s,p=e[g];t[m.uuid]=f,e[f]=m,t[p.uuid]=h,e[h]=p,e.pop();for(let y=0,b=i;y!==b;++y){const x=r[y],C=x[h],M=x[g];x[f]=C,x[h]=M,x.pop()}}else{const h=--s,m=e[h];h>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let g=0,p=i;g!==p;++g){const y=r[g];y[f]=y[h],y.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,a=this._parsedPaths,u=this._objects,c=u.length,l=this.nCachedObjects_,f=new Array(c);i=o.length,r[e]=i,s.push(e),a.push(t),o.push(f);for(let h=l,m=u.length;h!==m;++h){const g=u[h];f[h]=new wr(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,u=s[a],c=e[a];t[c]=r,s[r]=u,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}}class j4{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const o=t.tracks,s=o.length,a=new Array(s),u={endingStart:D0,endingEnd:D0};for(let c=0;c!==s;++c){const l=o[c].createInterpolant(null);a[c]=l,l.settings=u}this._interpolantSettings=u,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=UN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const u=a.parameterPositions,c=a.sampleValues;return u[0]=o,u[1]=o+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const u=(e-o)*r;u<0||r===0?t=0:(this._startTime=null,t=r*u)}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const u=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case GT:for(let l=0,f=u.length;l!==f;++l)u[l].evaluate(s),c[l].accumulateAdditive(a);break;case ZS:default:for(let l=0,f=u.length;l!==f;++l)u[l].evaluate(s),c[l].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===kN;if(e===0)return o===-1?i:s&&(o&1)===1?t-i:i;if(r===NN){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,o+=Math.abs(a);const u=this.repetitions-o;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=R0,i.endingEnd=R0):(e?i.endingStart=this.zeroSlopeAtStart?R0:D0:i.endingStart=py,t?i.endingEnd=this.zeroSlopeAtEnd?R0:D0:i.endingEnd=py)}_scheduleFading(e,t,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,u=s.sampleValues;return a[0]=o,u[0]=t,a[1]=o+e,u[1]=r,this}}const Qj=new Float32Array(1);class Zj extends Wf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,u=r.uuid,c=this._bindingsByRootAndName;let l=c[u];l===void 0&&(l={},c[u]=l);for(let f=0;f!==o;++f){const h=i[f],m=h.name;let g=l[m];if(g!==void 0)++g.referenceCount,s[f]=g;else{if(g=s[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,u,m));continue}const p=t&&t._propertyBindings[f].binding.parsedPath;g=new V4(wr.create(r,m,p),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,u,m),s[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,o=this._actionsByClip;let s=o[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],u=a.knownActions,c=u[u.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,u[l]=c,u.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],u.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],u=t[t.length-1],c=e._cacheIndex;u._cacheIndex=c,t[c]=u,t.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new fP(new Float32Array(2),new Float32Array(2),1,Qj),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const i=t||this._root,o=i.uuid;let s=typeof e=="string"?Zv.findByName(i,e):e;const a=s!==null?s.uuid:e,u=this._actionsByClip[a];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=ZS),u!==void 0){const f=u.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;c=u.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const l=new j4(this,s,t,r);return this._bindAction(l,c),this._addInactiveAction(l,a,o),l}existingAction(e,t){const r=t||this._root,i=r.uuid,o=typeof e=="string"?Zv.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,o,s);const a=this._bindings,u=this._nActiveBindings;for(let c=0;c!==u;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,u=s.length;a!==u;++a){const c=s[a];this._deactivateAction(c);const l=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=l,t[l]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,u=a[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,o=i[t];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class EP{constructor(e){this.value=e}clone(){return new EP(this.value.clone===void 0?this.value:this.value.clone())}}let eW=0;class tW extends Wf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:eW++}),this.name="",this.usage=gy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const o=Array.isArray(t[r])?t[r]:[t[r]];for(let s=0;s<o.length;s++)this.uniforms.push(o[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class nW extends Xy{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class rW{constructor(e,t,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const qR=new dn;class SP{constructor(e,t,r=0,i=1/0){this.ray=new p1(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new W0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return qR.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(qR),this}intersectObject(e,t=!0,r=[]){return LM(e,this,r,t),r.sort(XR),r}intersectObjects(e,t=!0,r=[]){for(let i=0,o=e.length;i<o;i++)LM(e[i],this,r,t);return r.sort(XR),r}}function XR(n,e){return n.distance-e.distance}function LM(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const o=n.children;for(let s=0,a=o.length;s<a;s++)LM(o[s],e,t,!0)}}class W4{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=$n(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos($n(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class iW{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class xP{constructor(e,t,r,i){xP.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const o=this.elements;return o[0]=e,o[2]=t,o[1]=r,o[3]=i,this}}const KR=new _t;class oW{constructor(e=new _t(1/0,1/0),t=new _t(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=KR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,KR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const JR=new oe,yA=new oe;class NM{constructor(e=new oe,t=new oe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){JR.subVectors(e,this.start),yA.subVectors(this.end,this.start);const r=yA.dot(yA);let o=yA.dot(JR)/r;return t&&(o=$n(o,0,1)),o}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const YR=new oe;class sW extends br{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Xn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,u=32;s<u;s++,a++){const c=s/u*Math.PI*2,l=a/u*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(l),Math.sin(l),1)}r.setAttribute("position",new hn(i,3));const o=new pa({fog:!1,toneMapped:!1});this.cone=new Xc(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),YR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(YR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ap=new oe,bA=new dn,a2=new dn;class aW extends Xc{constructor(e){const t=$4(e),r=new Xn,i=[],o=[],s=new zt(0,0,1),a=new zt(0,1,0);for(let c=0;c<t.length;c++){const l=t[c];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new hn(i,3)),r.setAttribute("color",new hn(o,3));const u=new pa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");a2.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<t.length;o++){const a=t[o];a.parent&&a.parent.isBone&&(bA.multiplyMatrices(a2,a.matrixWorld),ap.setFromMatrixPosition(bA),i.setXYZ(s,ap.x,ap.y,ap.z),bA.multiplyMatrices(a2,a.parent.matrixWorld),ap.setFromMatrixPosition(bA),i.setXYZ(s+1,ap.x,ap.y,ap.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function $4(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,$4(n.children[t]));return e}class uW extends Mo{constructor(e,t,r){const i=new Zy(t,4,2),o=new al({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const lW=new oe,QR=new zt,ZR=new zt;class cW extends br{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Qy(t);i.rotateY(Math.PI*.5),this.material=new al({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new Dr(s,3)),this.add(new Mo(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");QR.copy(this.light.color),ZR.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const o=r<i/2?QR:ZR;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(lW.setFromMatrixPosition(this.light.matrixWorld).negate())}}class fW extends Xc{constructor(e=10,t=10,r=4473924,i=8947848){r=new zt(r),i=new zt(i);const o=t/2,s=e/t,a=e/2,u=[],c=[];for(let h=0,m=0,g=-a;h<=t;h++,g+=s){u.push(-a,0,g,a,0,g),u.push(g,0,-a,g,0,a);const p=h===o?r:i;p.toArray(c,m),m+=3,p.toArray(c,m),m+=3,p.toArray(c,m),m+=3,p.toArray(c,m),m+=3}const l=new Xn;l.setAttribute("position",new hn(u,3)),l.setAttribute("color",new hn(c,3));const f=new pa({vertexColors:!0,toneMapped:!1});super(l,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class dW extends Xc{constructor(e=10,t=16,r=8,i=64,o=4473924,s=8947848){o=new zt(o),s=new zt(s);const a=[],u=[];if(t>1)for(let f=0;f<t;f++){const h=f/t*(Math.PI*2),m=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(m,0,g);const p=f&1?o:s;u.push(p.r,p.g,p.b),u.push(p.r,p.g,p.b)}for(let f=0;f<r;f++){const h=f&1?o:s,m=e-e/r*f;for(let g=0;g<i;g++){let p=g/i*(Math.PI*2),y=Math.sin(p)*m,b=Math.cos(p)*m;a.push(y,0,b),u.push(h.r,h.g,h.b),p=(g+1)/i*(Math.PI*2),y=Math.sin(p)*m,b=Math.cos(p)*m,a.push(y,0,b),u.push(h.r,h.g,h.b)}}const c=new Xn;c.setAttribute("position",new hn(a,3)),c.setAttribute("color",new hn(u,3));const l=new pa({vertexColors:!0,toneMapped:!1});super(c,l),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const eO=new oe,AA=new oe,tO=new oe;class hW extends br{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Xn;i.setAttribute("position",new hn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new pa({fog:!1,toneMapped:!1});this.lightPlane=new fh(i,o),this.add(this.lightPlane),i=new Xn,i.setAttribute("position",new hn([0,0,0,0,0,1],3)),this.targetLine=new fh(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),eO.setFromMatrixPosition(this.light.matrixWorld),AA.setFromMatrixPosition(this.light.target.matrixWorld),tO.subVectors(AA,eO),this.lightPlane.lookAt(AA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(AA),this.targetLine.scale.z=tO.length()}}const EA=new oe,to=new $y;class pW extends Xc{constructor(e){const t=new Xn,r=new pa({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,p){u(g),u(p)}function u(g){i.push(0,0,0),o.push(0,0,0),s[g]===void 0&&(s[g]=[]),s[g].push(i.length/3-1)}t.setAttribute("position",new hn(i,3)),t.setAttribute("color",new hn(o,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new zt(16755200),l=new zt(16711680),f=new zt(43775),h=new zt(16777215),m=new zt(3355443);this.setColors(c,l,f,h,m)}setColors(e,t,r,i,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;to.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),So("c",t,e,to,0,0,-1),So("t",t,e,to,0,0,1),So("n1",t,e,to,-r,-i,-1),So("n2",t,e,to,r,-i,-1),So("n3",t,e,to,-r,i,-1),So("n4",t,e,to,r,i,-1),So("f1",t,e,to,-r,-i,1),So("f2",t,e,to,r,-i,1),So("f3",t,e,to,-r,i,1),So("f4",t,e,to,r,i,1),So("u1",t,e,to,r*.7,i*1.1,-1),So("u2",t,e,to,-r*.7,i*1.1,-1),So("u3",t,e,to,0,i*2,-1),So("cf1",t,e,to,-r,0,1),So("cf2",t,e,to,r,0,1),So("cf3",t,e,to,0,-i,1),So("cf4",t,e,to,0,i,1),So("cn1",t,e,to,-r,0,-1),So("cn2",t,e,to,r,0,-1),So("cn3",t,e,to,0,-i,-1),So("cn4",t,e,to,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function So(n,e,t,r,i,o,s){EA.set(i,o,s).unproject(r);const a=e[n];if(a!==void 0){const u=t.getAttribute("position");for(let c=0,l=a.length;c<l;c++)u.setXYZ(a[c],EA.x,EA.y,EA.z)}}const SA=new pi;class mW extends Xc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Xn;o.setIndex(new Dr(r,1)),o.setAttribute("position",new Dr(i,3)),super(o,new pa({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&SA.setFromObject(this.object),SA.isEmpty())return;const t=SA.min,r=SA.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=t.x,o[4]=r.y,o[5]=r.z,o[6]=t.x,o[7]=t.y,o[8]=r.z,o[9]=r.x,o[10]=t.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=t.z,o[15]=t.x,o[16]=r.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=r.x,o[22]=t.y,o[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gW extends Xc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Xn;o.setIndex(new Dr(r,1)),o.setAttribute("position",new hn(i,3)),super(o,new pa({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class vW extends fh{constructor(e,t=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Xn;s.setAttribute("position",new hn(o,3)),s.computeBoundingSphere(),super(s,new pa({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new Xn;u.setAttribute("position",new hn(a,3)),u.computeBoundingSphere(),this.add(new Mo(u,new al({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const nO=new oe;let xA,u2;class _W extends br{constructor(e=new oe(0,0,1),t=new oe(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",xA===void 0&&(xA=new Xn,xA.setAttribute("position",new hn([0,0,0,0,1,0],3)),u2=new m1(0,.5,1,5,1),u2.translate(0,-.5,0)),this.position.copy(t),this.line=new fh(xA,new pa({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mo(u2,new al({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{nO.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(nO,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class yW extends Xc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Xn;i.setAttribute("position",new hn(t,3)),i.setAttribute("color",new hn(r,3));const o=new pa({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,t,r){const i=new zt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(t),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bW{constructor(){this.type="ShapePath",this.color=new zt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new yy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,o,s){return this.currentPath.bezierCurveTo(e,t,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const x=[];for(let C=0,M=b.length;C<M;C++){const R=b[C],O=new cl;O.curves=R.curves,x.push(O)}return x}function r(b,x){const C=x.length;let M=!1;for(let R=C-1,O=0;O<C;R=O++){let N=x[R],F=x[O],I=F.x-N.x,B=F.y-N.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(N=x[O],I=-I,F=x[R],B=-B),b.y<N.y||b.y>F.y)continue;if(b.y===N.y){if(b.x===N.x)return!0}else{const k=B*(b.x-N.x)-I*(b.y-N.y);if(k===0)return!0;if(k<0)continue;M=!M}}else{if(b.y!==N.y)continue;if(F.x<=b.x&&b.x<=N.x||N.x<=b.x&&b.x<=F.x)return!0}}return M}const i=zf.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,u;const c=[];if(o.length===1)return a=o[0],u=new cl,u.curves=a.curves,c.push(u),c;let l=!i(o[0].getPoints());l=e?!l:l;const f=[],h=[];let m=[],g=0,p;h[g]=void 0,m[g]=[];for(let b=0,x=o.length;b<x;b++)a=o[b],p=a.getPoints(),s=i(p),s=e?!s:s,s?(!l&&h[g]&&g++,h[g]={s:new cl,p},h[g].s.curves=a.curves,l&&g++,m[g]=[]):m[g].push({h:a,p:p[0]});if(!h[0])return t(o);if(h.length>1){let b=!1,x=0;for(let C=0,M=h.length;C<M;C++)f[C]=[];for(let C=0,M=h.length;C<M;C++){const R=m[C];for(let O=0;O<R.length;O++){const N=R[O];let F=!0;for(let I=0;I<h.length;I++)r(N.p,h[I].p)&&(C!==I&&x++,F?(F=!1,f[I].push(N)):b=!0);F&&f[C].push(N)}}x>0&&b===!1&&(m=f)}let y;for(let b=0,x=h.length;b<x;b++){u=h[b].s,c.push(u),y=m[b];for(let C=0,M=y.length;C<M;C++)u.holes.push(y[C].h)}return c}}class AW extends Wf{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function EW(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function SW(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function xW(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function UM(n,e,t,r){const i=wW(r);switch(t){case LT:return n*e;case UT:return n*e;case kT:return n*e*2;case JS:return n*e/i.components*i.byteLength;case Wy:return n*e/i.components*i.byteLength;case zT:return n*e*2/i.components*i.byteLength;case YS:return n*e*2/i.components*i.byteLength;case NT:return n*e*3/i.components*i.byteLength;case da:return n*e*4/i.components*i.byteLength;case QS:return n*e*4/i.components*i.byteLength;case Y_:case Q_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Z_:case ey:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case LE:case UE:return Math.max(n,16)*Math.max(e,8)/4;case FE:case NE:return Math.max(n,8)*Math.max(e,8)/2;case kE:case zE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case HE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case GE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case VE:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case jE:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case WE:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case $E:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case qE:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case XE:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case KE:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case JE:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case YE:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case QE:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case ZE:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case eS:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case tS:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case ty:case nS:case rS:return Math.ceil(n/4)*Math.ceil(e/4)*16;case HT:case iS:return Math.ceil(n/4)*Math.ceil(e/4)*8;case oS:case sS:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function wW(n){switch(n){case jc:case IT:return{byteLength:1,components:1};case Xv:case BT:case h1:return{byteLength:2,components:1};case XS:case KS:return{byteLength:2,components:4};case ch:case qS:case Su:return{byteLength:4,components:1};case FT:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const CW={contain:EW,cover:SW,fill:xW,getByteLength:UM};class MW extends Wc{constructor(e=1,t=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Vy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Vy);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function q4(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function TW(n){const e=new WeakMap;function t(a,u){const c=a.array,l=a.usage,f=c.byteLength,h=n.createBuffer();n.bindBuffer(u,h),n.bufferData(u,c,l),a.onUploadCallback();let m;if(c instanceof Float32Array)m=n.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=n.SHORT;else if(c instanceof Uint32Array)m=n.UNSIGNED_INT;else if(c instanceof Int32Array)m=n.INT;else if(c instanceof Int8Array)m=n.BYTE;else if(c instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:f}}function r(a,u,c){const l=u.array,f=u.updateRanges;if(n.bindBuffer(c,a),f.length===0)n.bufferSubData(c,0,l);else{f.sort((m,g)=>m.start-g.start);let h=0;for(let m=1;m<f.length;m++){const g=f[h],p=f[m];p.start<=g.start+g.count+1?g.count=Math.max(g.count,p.start+p.count-g.start):(++h,f[h]=p)}f.length=h+1;for(let m=0,g=f.length;m<g;m++){const p=f[m];n.bufferSubData(c,p.start*l.BYTES_PER_ELEMENT,l,p.start,p.count)}u.clearUpdateRanges()}u.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const u=e.get(a);u&&(n.deleteBuffer(u.buffer),e.delete(a))}function s(a,u){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const l=e.get(a);(!l||l.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,t(a,u));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,u),c.version=a.version}}return{get:i,remove:o,update:s}}var PW=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,DW=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,RW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,OW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,IW=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,BW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,FW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,LW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,NW=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,UW=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,kW=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,zW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,HW=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,GW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,VW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,WW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,$W=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,qW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,XW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,KW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,JW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,YW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,QW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ZW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,e$=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,t$=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,n$=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,r$=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,i$=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,o$="gl_FragColor = linearToOutputTexel( gl_FragColor );",s$=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,a$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,u$=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,l$=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,c$=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,f$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,d$=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,h$=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,p$=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,m$=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,g$=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,v$=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,_$=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,y$=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,b$=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,A$=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,E$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,S$=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,x$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,w$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,C$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,M$=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,T$=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,P$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,D$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,R$=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,O$=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,I$=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,B$=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,F$=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,L$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,N$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,U$=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,k$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,z$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,H$=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,G$=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,V$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,j$=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,W$=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,$$=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,q$=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,X$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,K$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,J$=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Y$=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Q$=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Z$=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,eq=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,tq=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nq=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rq=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,iq=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,oq=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,sq=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,aq=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,uq=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,lq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,cq=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,fq=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,dq=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,hq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,gq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,vq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_q=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,yq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Aq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Eq=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Sq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,wq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Cq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Mq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Tq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Pq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Dq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Rq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Oq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Iq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Fq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Lq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Nq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Uq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,kq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Hq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Gq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Vq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$q=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,qq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Kq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Jq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Zq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eX=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tX=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nX=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,rX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,iX=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oX=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sX=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,aX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ir={alphahash_fragment:PW,alphahash_pars_fragment:DW,alphamap_fragment:RW,alphamap_pars_fragment:OW,alphatest_fragment:IW,alphatest_pars_fragment:BW,aomap_fragment:FW,aomap_pars_fragment:LW,batching_pars_vertex:NW,batching_vertex:UW,begin_vertex:kW,beginnormal_vertex:zW,bsdfs:HW,iridescence_fragment:GW,bumpmap_pars_fragment:VW,clipping_planes_fragment:jW,clipping_planes_pars_fragment:WW,clipping_planes_pars_vertex:$W,clipping_planes_vertex:qW,color_fragment:XW,color_pars_fragment:KW,color_pars_vertex:JW,color_vertex:YW,common:QW,cube_uv_reflection_fragment:ZW,defaultnormal_vertex:e$,displacementmap_pars_vertex:t$,displacementmap_vertex:n$,emissivemap_fragment:r$,emissivemap_pars_fragment:i$,colorspace_fragment:o$,colorspace_pars_fragment:s$,envmap_fragment:a$,envmap_common_pars_fragment:u$,envmap_pars_fragment:l$,envmap_pars_vertex:c$,envmap_physical_pars_fragment:A$,envmap_vertex:f$,fog_vertex:d$,fog_pars_vertex:h$,fog_fragment:p$,fog_pars_fragment:m$,gradientmap_pars_fragment:g$,lightmap_pars_fragment:v$,lights_lambert_fragment:_$,lights_lambert_pars_fragment:y$,lights_pars_begin:b$,lights_toon_fragment:E$,lights_toon_pars_fragment:S$,lights_phong_fragment:x$,lights_phong_pars_fragment:w$,lights_physical_fragment:C$,lights_physical_pars_fragment:M$,lights_fragment_begin:T$,lights_fragment_maps:P$,lights_fragment_end:D$,logdepthbuf_fragment:R$,logdepthbuf_pars_fragment:O$,logdepthbuf_pars_vertex:I$,logdepthbuf_vertex:B$,map_fragment:F$,map_pars_fragment:L$,map_particle_fragment:N$,map_particle_pars_fragment:U$,metalnessmap_fragment:k$,metalnessmap_pars_fragment:z$,morphinstance_vertex:H$,morphcolor_vertex:G$,morphnormal_vertex:V$,morphtarget_pars_vertex:j$,morphtarget_vertex:W$,normal_fragment_begin:$$,normal_fragment_maps:q$,normal_pars_fragment:X$,normal_pars_vertex:K$,normal_vertex:J$,normalmap_pars_fragment:Y$,clearcoat_normal_fragment_begin:Q$,clearcoat_normal_fragment_maps:Z$,clearcoat_pars_fragment:eq,iridescence_pars_fragment:tq,opaque_fragment:nq,packing:rq,premultiplied_alpha_fragment:iq,project_vertex:oq,dithering_fragment:sq,dithering_pars_fragment:aq,roughnessmap_fragment:uq,roughnessmap_pars_fragment:lq,shadowmap_pars_fragment:cq,shadowmap_pars_vertex:fq,shadowmap_vertex:dq,shadowmask_pars_fragment:hq,skinbase_vertex:pq,skinning_pars_vertex:mq,skinning_vertex:gq,skinnormal_vertex:vq,specularmap_fragment:_q,specularmap_pars_fragment:yq,tonemapping_fragment:bq,tonemapping_pars_fragment:Aq,transmission_fragment:Eq,transmission_pars_fragment:Sq,uv_pars_fragment:xq,uv_pars_vertex:wq,uv_vertex:Cq,worldpos_vertex:Mq,background_vert:Tq,background_frag:Pq,backgroundCube_vert:Dq,backgroundCube_frag:Rq,cube_vert:Oq,cube_frag:Iq,depth_vert:Bq,depth_frag:Fq,distanceRGBA_vert:Lq,distanceRGBA_frag:Nq,equirect_vert:Uq,equirect_frag:kq,linedashed_vert:zq,linedashed_frag:Hq,meshbasic_vert:Gq,meshbasic_frag:Vq,meshlambert_vert:jq,meshlambert_frag:Wq,meshmatcap_vert:$q,meshmatcap_frag:qq,meshnormal_vert:Xq,meshnormal_frag:Kq,meshphong_vert:Jq,meshphong_frag:Yq,meshphysical_vert:Qq,meshphysical_frag:Zq,meshtoon_vert:eX,meshtoon_frag:tX,points_vert:nX,points_frag:rX,shadow_vert:iX,shadow_frag:oX,sprite_vert:sX,sprite_frag:aX},$t={common:{diffuse:{value:new zt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Qn},alphaMap:{value:null},alphaMapTransform:{value:new Qn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Qn}},envmap:{envMap:{value:null},envMapRotation:{value:new Qn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Qn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Qn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Qn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Qn},normalScale:{value:new _t(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Qn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Qn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Qn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Qn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Qn},alphaTest:{value:0},uvTransform:{value:new Qn}},sprite:{diffuse:{value:new zt(16777215)},opacity:{value:1},center:{value:new _t(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Qn},alphaMap:{value:null},alphaMapTransform:{value:new Qn},alphaTest:{value:0}}},Hc={basic:{uniforms:za([$t.common,$t.specularmap,$t.envmap,$t.aomap,$t.lightmap,$t.fog]),vertexShader:ir.meshbasic_vert,fragmentShader:ir.meshbasic_frag},lambert:{uniforms:za([$t.common,$t.specularmap,$t.envmap,$t.aomap,$t.lightmap,$t.emissivemap,$t.bumpmap,$t.normalmap,$t.displacementmap,$t.fog,$t.lights,{emissive:{value:new zt(0)}}]),vertexShader:ir.meshlambert_vert,fragmentShader:ir.meshlambert_frag},phong:{uniforms:za([$t.common,$t.specularmap,$t.envmap,$t.aomap,$t.lightmap,$t.emissivemap,$t.bumpmap,$t.normalmap,$t.displacementmap,$t.fog,$t.lights,{emissive:{value:new zt(0)},specular:{value:new zt(1118481)},shininess:{value:30}}]),vertexShader:ir.meshphong_vert,fragmentShader:ir.meshphong_frag},standard:{uniforms:za([$t.common,$t.envmap,$t.aomap,$t.lightmap,$t.emissivemap,$t.bumpmap,$t.normalmap,$t.displacementmap,$t.roughnessmap,$t.metalnessmap,$t.fog,$t.lights,{emissive:{value:new zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ir.meshphysical_vert,fragmentShader:ir.meshphysical_frag},toon:{uniforms:za([$t.common,$t.aomap,$t.lightmap,$t.emissivemap,$t.bumpmap,$t.normalmap,$t.displacementmap,$t.gradientmap,$t.fog,$t.lights,{emissive:{value:new zt(0)}}]),vertexShader:ir.meshtoon_vert,fragmentShader:ir.meshtoon_frag},matcap:{uniforms:za([$t.common,$t.bumpmap,$t.normalmap,$t.displacementmap,$t.fog,{matcap:{value:null}}]),vertexShader:ir.meshmatcap_vert,fragmentShader:ir.meshmatcap_frag},points:{uniforms:za([$t.points,$t.fog]),vertexShader:ir.points_vert,fragmentShader:ir.points_frag},dashed:{uniforms:za([$t.common,$t.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ir.linedashed_vert,fragmentShader:ir.linedashed_frag},depth:{uniforms:za([$t.common,$t.displacementmap]),vertexShader:ir.depth_vert,fragmentShader:ir.depth_frag},normal:{uniforms:za([$t.common,$t.bumpmap,$t.normalmap,$t.displacementmap,{opacity:{value:1}}]),vertexShader:ir.meshnormal_vert,fragmentShader:ir.meshnormal_frag},sprite:{uniforms:za([$t.sprite,$t.fog]),vertexShader:ir.sprite_vert,fragmentShader:ir.sprite_frag},background:{uniforms:{uvTransform:{value:new Qn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ir.background_vert,fragmentShader:ir.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Qn}},vertexShader:ir.backgroundCube_vert,fragmentShader:ir.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ir.cube_vert,fragmentShader:ir.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ir.equirect_vert,fragmentShader:ir.equirect_frag},distanceRGBA:{uniforms:za([$t.common,$t.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ir.distanceRGBA_vert,fragmentShader:ir.distanceRGBA_frag},shadow:{uniforms:za([$t.lights,$t.fog,{color:{value:new zt(0)},opacity:{value:1}}]),vertexShader:ir.shadow_vert,fragmentShader:ir.shadow_frag}};Hc.physical={uniforms:za([Hc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Qn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Qn},clearcoatNormalScale:{value:new _t(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Qn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Qn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Qn},sheen:{value:0},sheenColor:{value:new zt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Qn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Qn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Qn},transmissionSamplerSize:{value:new _t},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Qn},attenuationDistance:{value:0},attenuationColor:{value:new zt(0)},specularColor:{value:new zt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Qn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Qn},anisotropyVector:{value:new _t},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Qn}}]),vertexShader:ir.meshphysical_vert,fragmentShader:ir.meshphysical_frag};const wA={r:0,b:0,g:0},Dm=new dl,uX=new dn;function lX(n,e,t,r,i,o,s){const a=new zt(0);let u=o===!0?0:1,c,l,f=null,h=0,m=null;function g(C){let M=C.isScene===!0?C.background:null;return M&&M.isTexture&&(M=(C.backgroundBlurriness>0?t:e).get(M)),M}function p(C){let M=!1;const R=g(C);R===null?b(a,u):R&&R.isColor&&(b(R,1),M=!0);const O=n.xr.getEnvironmentBlendMode();O==="additive"?r.buffers.color.setClear(0,0,0,1,s):O==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(n.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(C,M){const R=g(M);R&&(R.isCubeTexture||R.mapping===d1)?(l===void 0&&(l=new Mo(new ph(1,1,1),new $c({name:"BackgroundCubeMaterial",uniforms:Qv(Hc.backgroundCube.uniforms),vertexShader:Hc.backgroundCube.vertexShader,fragmentShader:Hc.backgroundCube.fragmentShader,side:ja,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(O,N,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),Dm.copy(M.backgroundRotation),Dm.x*=-1,Dm.y*=-1,Dm.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Dm.y*=-1,Dm.z*=-1),l.material.uniforms.envMap.value=R,l.material.uniforms.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,l.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,l.material.uniforms.backgroundRotation.value.setFromMatrix4(uX.makeRotationFromEuler(Dm)),l.material.toneMapped=Cr.getTransfer(R.colorSpace)!==ni,(f!==R||h!==R.version||m!==n.toneMapping)&&(l.material.needsUpdate=!0,f=R,h=R.version,m=n.toneMapping),l.layers.enableAll(),C.unshift(l,l.geometry,l.material,0,0,null)):R&&R.isTexture&&(c===void 0&&(c=new Mo(new g1(2,2),new $c({name:"BackgroundMaterial",uniforms:Qv(Hc.background.uniforms),vertexShader:Hc.background.vertexShader,fragmentShader:Hc.background.fragmentShader,side:Gf,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=R,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.toneMapped=Cr.getTransfer(R.colorSpace)!==ni,R.matrixAutoUpdate===!0&&R.updateMatrix(),c.material.uniforms.uvTransform.value.copy(R.matrix),(f!==R||h!==R.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=R,h=R.version,m=n.toneMapping),c.layers.enableAll(),C.unshift(c,c.geometry,c.material,0,0,null))}function b(C,M){C.getRGB(wA,n4(n)),r.buffers.color.setClear(wA.r,wA.g,wA.b,M,s)}function x(){l!==void 0&&(l.geometry.dispose(),l.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return a},setClearColor:function(C,M=1){a.set(C),u=M,b(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(C){u=C,b(a,u)},render:p,addToRenderList:y,dispose:x}}function cX(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=h(null);let o=i,s=!1;function a(B,k,q,Y,ee){let le=!1;const J=f(Y,q,k);o!==J&&(o=J,c(o.object)),le=m(B,Y,q,ee),le&&g(B,Y,q,ee),ee!==null&&e.update(ee,n.ELEMENT_ARRAY_BUFFER),(le||s)&&(s=!1,M(B,k,q,Y),ee!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ee).buffer))}function u(){return n.createVertexArray()}function c(B){return n.bindVertexArray(B)}function l(B){return n.deleteVertexArray(B)}function f(B,k,q){const Y=q.wireframe===!0;let ee=r[B.id];ee===void 0&&(ee={},r[B.id]=ee);let le=ee[k.id];le===void 0&&(le={},ee[k.id]=le);let J=le[Y];return J===void 0&&(J=h(u()),le[Y]=J),J}function h(B){const k=[],q=[],Y=[];for(let ee=0;ee<t;ee++)k[ee]=0,q[ee]=0,Y[ee]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:q,attributeDivisors:Y,object:B,attributes:{},index:null}}function m(B,k,q,Y){const ee=o.attributes,le=k.attributes;let J=0;const fe=q.getAttributes();for(const V in fe)if(fe[V].location>=0){const ue=ee[V];let Q=le[V];if(Q===void 0&&(V==="instanceMatrix"&&B.instanceMatrix&&(Q=B.instanceMatrix),V==="instanceColor"&&B.instanceColor&&(Q=B.instanceColor)),ue===void 0||ue.attribute!==Q||Q&&ue.data!==Q.data)return!0;J++}return o.attributesNum!==J||o.index!==Y}function g(B,k,q,Y){const ee={},le=k.attributes;let J=0;const fe=q.getAttributes();for(const V in fe)if(fe[V].location>=0){let ue=le[V];ue===void 0&&(V==="instanceMatrix"&&B.instanceMatrix&&(ue=B.instanceMatrix),V==="instanceColor"&&B.instanceColor&&(ue=B.instanceColor));const Q={};Q.attribute=ue,ue&&ue.data&&(Q.data=ue.data),ee[V]=Q,J++}o.attributes=ee,o.attributesNum=J,o.index=Y}function p(){const B=o.newAttributes;for(let k=0,q=B.length;k<q;k++)B[k]=0}function y(B){b(B,0)}function b(B,k){const q=o.newAttributes,Y=o.enabledAttributes,ee=o.attributeDivisors;q[B]=1,Y[B]===0&&(n.enableVertexAttribArray(B),Y[B]=1),ee[B]!==k&&(n.vertexAttribDivisor(B,k),ee[B]=k)}function x(){const B=o.newAttributes,k=o.enabledAttributes;for(let q=0,Y=k.length;q<Y;q++)k[q]!==B[q]&&(n.disableVertexAttribArray(q),k[q]=0)}function C(B,k,q,Y,ee,le,J){J===!0?n.vertexAttribIPointer(B,k,q,ee,le):n.vertexAttribPointer(B,k,q,Y,ee,le)}function M(B,k,q,Y){p();const ee=Y.attributes,le=q.getAttributes(),J=k.defaultAttributeValues;for(const fe in le){const V=le[fe];if(V.location>=0){let ae=ee[fe];if(ae===void 0&&(fe==="instanceMatrix"&&B.instanceMatrix&&(ae=B.instanceMatrix),fe==="instanceColor"&&B.instanceColor&&(ae=B.instanceColor)),ae!==void 0){const ue=ae.normalized,Q=ae.itemSize,de=e.get(ae);if(de===void 0)continue;const we=de.buffer,ye=de.type,Ce=de.bytesPerElement,Le=ye===n.INT||ye===n.UNSIGNED_INT||ae.gpuType===qS;if(ae.isInterleavedBufferAttribute){const Ie=ae.data,Ze=Ie.stride,tt=ae.offset;if(Ie.isInstancedInterleavedBuffer){for(let Qe=0;Qe<V.locationSize;Qe++)b(V.location+Qe,Ie.meshPerAttribute);B.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=Ie.meshPerAttribute*Ie.count)}else for(let Qe=0;Qe<V.locationSize;Qe++)y(V.location+Qe);n.bindBuffer(n.ARRAY_BUFFER,we);for(let Qe=0;Qe<V.locationSize;Qe++)C(V.location+Qe,Q/V.locationSize,ye,ue,Ze*Ce,(tt+Q/V.locationSize*Qe)*Ce,Le)}else{if(ae.isInstancedBufferAttribute){for(let Ie=0;Ie<V.locationSize;Ie++)b(V.location+Ie,ae.meshPerAttribute);B.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let Ie=0;Ie<V.locationSize;Ie++)y(V.location+Ie);n.bindBuffer(n.ARRAY_BUFFER,we);for(let Ie=0;Ie<V.locationSize;Ie++)C(V.location+Ie,Q/V.locationSize,ye,ue,Q*Ce,Q/V.locationSize*Ie*Ce,Le)}}else if(J!==void 0){const ue=J[fe];if(ue!==void 0)switch(ue.length){case 2:n.vertexAttrib2fv(V.location,ue);break;case 3:n.vertexAttrib3fv(V.location,ue);break;case 4:n.vertexAttrib4fv(V.location,ue);break;default:n.vertexAttrib1fv(V.location,ue)}}}}x()}function R(){F();for(const B in r){const k=r[B];for(const q in k){const Y=k[q];for(const ee in Y)l(Y[ee].object),delete Y[ee];delete k[q]}delete r[B]}}function O(B){if(r[B.id]===void 0)return;const k=r[B.id];for(const q in k){const Y=k[q];for(const ee in Y)l(Y[ee].object),delete Y[ee];delete k[q]}delete r[B.id]}function N(B){for(const k in r){const q=r[k];if(q[B.id]===void 0)continue;const Y=q[B.id];for(const ee in Y)l(Y[ee].object),delete Y[ee];delete q[B.id]}}function F(){I(),s=!0,o!==i&&(o=i,c(o.object))}function I(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:F,resetDefaultState:I,dispose:R,releaseStatesOfGeometry:O,releaseStatesOfProgram:N,initAttributes:p,enableAttribute:y,disableUnusedAttributes:x}}function fX(n,e,t){let r;function i(c){r=c}function o(c,l){n.drawArrays(r,c,l),t.update(l,r,1)}function s(c,l,f){f!==0&&(n.drawArraysInstanced(r,c,l,f),t.update(l,r,f))}function a(c,l,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,l,0,f);let m=0;for(let g=0;g<f;g++)m+=l[g];t.update(m,r,1)}function u(c,l,f,h){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<c.length;g++)s(c[g],l[g],h[g]);else{m.multiDrawArraysInstancedWEBGL(r,c,0,l,0,h,0,f);let g=0;for(let p=0;p<f;p++)g+=l[p]*h[p];t.update(g,r,1)}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=u}function dX(n,e,t,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(N){return!(N!==da&&r.convert(N)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(N){const F=N===h1&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==jc&&r.convert(N)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==Su&&!F)}function u(N){if(N==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const l=u(c);l!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",l,"instead."),c=l);const f=t.logarithmicDepthBuffer===!0,h=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),x=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),C=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),R=g>0,O=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:u,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:m,maxVertexTextures:g,maxTextureSize:p,maxCubemapSize:y,maxAttributes:b,maxVertexUniforms:x,maxVaryings:C,maxFragmentUniforms:M,vertexTextures:R,maxSamples:O}}function hX(n){const e=this;let t=null,r=0,i=!1,o=!1;const s=new yp,a=new Qn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const m=f.length!==0||h||r!==0||i;return i=h,r=f.length,m},this.beginShadows=function(){o=!0,l(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,h){t=l(f,h,0)},this.setState=function(f,h,m){const g=f.clippingPlanes,p=f.clipIntersection,y=f.clipShadows,b=n.get(f);if(!i||g===null||g.length===0||o&&!y)o?l(null):c();else{const x=o?0:r,C=x*4;let M=b.clippingState||null;u.value=M,M=l(g,h,C,m);for(let R=0;R!==C;++R)M[R]=t[R];b.clippingState=M,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=x}};function c(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function l(f,h,m,g){const p=f!==null?f.length:0;let y=null;if(p!==0){if(y=u.value,g!==!0||y===null){const b=m+p*4,x=h.matrixWorldInverse;a.getNormalMatrix(x),(y===null||y.length<b)&&(y=new Float32Array(b));for(let C=0,M=m;C!==p;++C,M+=4)s.copy(f[C]).applyMatrix4(x,a),s.normal.toArray(y,M),y[M+3]=s.constant}u.value=y,u.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,y}}function pX(n){let e=new WeakMap;function t(s,a){return a===dy?s.mapping=lh:a===hy&&(s.mapping=Rp),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===dy||a===hy)if(e.has(s)){const u=e.get(s).texture;return t(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const c=new o4(u.height);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const u=e.get(a);u!==void 0&&(e.delete(a),u.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const zv=4,rO=[.125,.215,.35,.446,.526,.582],M0=20,l2=new kp,iO=new zt;let c2=null,f2=0,d2=0,h2=!1;const w0=(1+Math.sqrt(5))/2,lv=1/w0,oO=[new oe(-w0,lv,0),new oe(w0,lv,0),new oe(-lv,0,w0),new oe(lv,0,w0),new oe(0,w0,-lv),new oe(0,w0,lv),new oe(-1,1,-1),new oe(1,1,-1),new oe(-1,1,1),new oe(1,1,1)];class kM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){c2=this._renderer.getRenderTarget(),f2=this._renderer.getActiveCubeFace(),d2=this._renderer.getActiveMipmapLevel(),h2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=uO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=aO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(c2,f2,d2),this._renderer.xr.enabled=h2,e.scissorTest=!1,CA(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===lh||e.mapping===Rp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),c2=this._renderer.getRenderTarget(),f2=this._renderer.getActiveCubeFace(),d2=this._renderer.getActiveMipmapLevel(),h2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Co,minFilter:Co,generateMipmaps:!1,type:h1,format:da,colorSpace:Y0,depthBuffer:!1},i=sO(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=sO(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=mX(o)),this._blurMaterial=gX(o,e,t)}return i}_compileMaterial(e){const t=new Mo(this._lodPlanes[0],e);this._renderer.compile(t,l2)}_sceneToCubeUV(e,t,r,i){const a=new wo(90,1,t,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],l=this._renderer,f=l.autoClear,h=l.toneMapping;l.getClearColor(iO),l.toneMapping=Uf,l.autoClear=!1;const m=new al({name:"PMREM.Background",side:ja,depthWrite:!1,depthTest:!1}),g=new Mo(new ph,m);let p=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,p=!0):(m.color.copy(iO),p=!0);for(let b=0;b<6;b++){const x=b%3;x===0?(a.up.set(0,u[b],0),a.lookAt(c[b],0,0)):x===1?(a.up.set(0,0,u[b]),a.lookAt(0,c[b],0)):(a.up.set(0,u[b],0),a.lookAt(0,0,c[b]));const C=this._cubeSize;CA(i,x*C,b>2?C:0,C,C),l.setRenderTarget(i),p&&l.render(g,a),l.render(e,a)}g.geometry.dispose(),g.material.dispose(),l.toneMapping=h,l.autoClear=f,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===lh||e.mapping===Rp;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=uO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=aO());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new Mo(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const u=this._cubeSize;CA(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(s,l2)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=oO[(i-o-1)%oO.length];this._blur(e,o-1,o,s,a)}t.autoClear=r}_blur(e,t,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){const u=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const l=3,f=new Mo(this._lodPlanes[i],c),h=c.uniforms,m=this._sizeLods[r]-1,g=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*M0-1),p=o/g,y=isFinite(o)?1+Math.floor(l*p):M0;y>M0&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${M0}`);const b=[];let x=0;for(let N=0;N<M0;++N){const F=N/p,I=Math.exp(-F*F/2);b.push(I),N===0?x+=I:N<y&&(x+=2*I)}for(let N=0;N<b.length;N++)b[N]=b[N]/x;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=b,h.latitudinal.value=s==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:C}=this;h.dTheta.value=g,h.mipInt.value=C-r;const M=this._sizeLods[i],R=3*M*(i>C-zv?i-C+zv:0),O=4*(this._cubeSize-M);CA(t,R,O,3*M,2*M),u.setRenderTarget(t),u.render(f,l2)}}function mX(n){const e=[],t=[],r=[];let i=n;const o=n-zv+1+rO.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);t.push(a);let u=1/a;s>n-zv?u=rO[s-n+zv-1]:s===0&&(u=0),r.push(u);const c=1/(a-2),l=-c,f=1+c,h=[l,l,f,l,f,f,l,l,f,f,l,f],m=6,g=6,p=3,y=2,b=1,x=new Float32Array(p*g*m),C=new Float32Array(y*g*m),M=new Float32Array(b*g*m);for(let O=0;O<m;O++){const N=O%3*2/3-1,F=O>2?0:-1,I=[N,F,0,N+2/3,F,0,N+2/3,F+1,0,N,F,0,N+2/3,F+1,0,N,F+1,0];x.set(I,p*g*O),C.set(h,y*g*O);const B=[O,O,O,O,O,O];M.set(B,b*g*O)}const R=new Xn;R.setAttribute("position",new Dr(x,p)),R.setAttribute("uv",new Dr(C,y)),R.setAttribute("faceIndex",new Dr(M,b)),e.push(R),i>zv&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function sO(n,e,t){const r=new Wc(n,e,t);return r.texture.mapping=d1,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function CA(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function gX(n,e,t){const r=new Float32Array(M0),i=new oe(0,1,0);return new $c({name:"SphericalGaussianBlur",defines:{n:M0,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:wP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:oh,depthTest:!1,depthWrite:!1})}function aO(){return new $c({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:wP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:oh,depthTest:!1,depthWrite:!1})}function uO(){return new $c({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:wP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:oh,depthTest:!1,depthWrite:!1})}function wP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function vX(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const u=a.mapping,c=u===dy||u===hy,l=u===lh||u===Rp;if(c||l){let f=e.get(a);const h=f!==void 0?f.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return t===null&&(t=new kM(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),f.texture;if(f!==void 0)return f.texture;{const m=a.image;return c&&m&&m.height>0||l&&m&&i(m)?(t===null&&(t=new kM(n)),f=c?t.fromEquirectangular(a):t.fromCubemap(a),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),a.addEventListener("dispose",o),f.texture):null}}}return a}function i(a){let u=0;const c=6;for(let l=0;l<c;l++)a[l]!==void 0&&u++;return u===c}function o(a){const u=a.target;u.removeEventListener("dispose",o);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function _X(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&Bv("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function yX(n,e,t,r){const i={},o=new WeakMap;function s(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",s),delete i[h.id];const m=o.get(h);m&&(e.remove(m),o.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(f,h){return i[h.id]===!0||(h.addEventListener("dispose",s),i[h.id]=!0,t.memory.geometries++),h}function u(f){const h=f.attributes;for(const m in h)e.update(h[m],n.ARRAY_BUFFER)}function c(f){const h=[],m=f.index,g=f.attributes.position;let p=0;if(m!==null){const x=m.array;p=m.version;for(let C=0,M=x.length;C<M;C+=3){const R=x[C+0],O=x[C+1],N=x[C+2];h.push(R,O,O,N,N,R)}}else if(g!==void 0){const x=g.array;p=g.version;for(let C=0,M=x.length/3-1;C<M;C+=3){const R=C+0,O=C+1,N=C+2;h.push(R,O,O,N,N,R)}}else return;const y=new(YN(h)?KT:XT)(h,1);y.version=p;const b=o.get(f);b&&e.remove(b),o.set(f,y)}function l(f){const h=o.get(f);if(h){const m=f.index;m!==null&&h.version<m.version&&c(f)}else c(f);return o.get(f)}return{get:a,update:u,getWireframeAttribute:l}}function bX(n,e,t){let r;function i(h){r=h}let o,s;function a(h){o=h.type,s=h.bytesPerElement}function u(h,m){n.drawElements(r,m,o,h*s),t.update(m,r,1)}function c(h,m,g){g!==0&&(n.drawElementsInstanced(r,m,o,h*s,g),t.update(m,r,g))}function l(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,o,h,0,g);let y=0;for(let b=0;b<g;b++)y+=m[b];t.update(y,r,1)}function f(h,m,g,p){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let b=0;b<h.length;b++)c(h[b]/s,m[b],p[b]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,o,h,0,p,0,g);let b=0;for(let x=0;x<g;x++)b+=m[x]*p[x];t.update(b,r,1)}}this.setMode=i,this.setIndex=a,this.render=u,this.renderInstances=c,this.renderMultiDraw=l,this.renderMultiDrawInstances=f}function AX(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=a*(o/3);break;case n.LINES:t.lines+=a*(o/2);break;case n.LINE_STRIP:t.lines+=a*(o-1);break;case n.LINE_LOOP:t.lines+=a*o;break;case n.POINTS:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function EX(n,e,t){const r=new WeakMap,i=new Mr;function o(s,a,u){const c=s.morphTargetInfluences,l=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,f=l!==void 0?l.length:0;let h=r.get(a);if(h===void 0||h.count!==f){let B=function(){F.dispose(),r.delete(a),a.removeEventListener("dispose",B)};var m=B;h!==void 0&&h.texture.dispose();const g=a.morphAttributes.position!==void 0,p=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,b=a.morphAttributes.position||[],x=a.morphAttributes.normal||[],C=a.morphAttributes.color||[];let M=0;g===!0&&(M=1),p===!0&&(M=2),y===!0&&(M=3);let R=a.attributes.position.count*M,O=1;R>e.maxTextureSize&&(O=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const N=new Float32Array(R*O*4*f),F=new ex(N,R,O,f);F.type=Su,F.needsUpdate=!0;const I=M*4;for(let k=0;k<f;k++){const q=b[k],Y=x[k],ee=C[k],le=R*O*4*k;for(let J=0;J<q.count;J++){const fe=J*I;g===!0&&(i.fromBufferAttribute(q,J),N[le+fe+0]=i.x,N[le+fe+1]=i.y,N[le+fe+2]=i.z,N[le+fe+3]=0),p===!0&&(i.fromBufferAttribute(Y,J),N[le+fe+4]=i.x,N[le+fe+5]=i.y,N[le+fe+6]=i.z,N[le+fe+7]=0),y===!0&&(i.fromBufferAttribute(ee,J),N[le+fe+8]=i.x,N[le+fe+9]=i.y,N[le+fe+10]=i.z,N[le+fe+11]=ee.itemSize===4?i.w:1)}}h={count:f,texture:F,size:new _t(R,O)},r.set(a,h),a.addEventListener("dispose",B)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let g=0;for(let y=0;y<c.length;y++)g+=c[y];const p=a.morphTargetsRelative?1:1-g;u.getUniforms().setValue(n,"morphTargetBaseInfluence",p),u.getUniforms().setValue(n,"morphTargetInfluences",c)}u.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:o}}function SX(n,e,t,r){let i=new WeakMap;function o(u){const c=r.render.frame,l=u.geometry,f=e.get(u,l);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",a)===!1&&u.addEventListener("dispose",a),i.get(u)!==c&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),i.set(u,c))),u.isSkinnedMesh){const h=u.skeleton;i.get(h)!==c&&(h.update(),i.set(h,c))}return f}function s(){i=new WeakMap}function a(u){const c=u.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:o,dispose:s}}const X4=new Mi,lO=new tP(1,1),K4=new ex,J4=new qT,Y4=new qy,cO=[],fO=[],dO=new Float32Array(16),hO=new Float32Array(9),pO=new Float32Array(4);function _1(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=cO[i];if(o===void 0&&(o=new Float32Array(i),cO[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function ss(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function as(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function yx(n,e){let t=fO[e];t===void 0&&(t=new Int32Array(e),fO[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function xX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function wX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ss(t,e))return;n.uniform2fv(this.addr,e),as(t,e)}}function CX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ss(t,e))return;n.uniform3fv(this.addr,e),as(t,e)}}function MX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ss(t,e))return;n.uniform4fv(this.addr,e),as(t,e)}}function TX(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ss(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),as(t,e)}else{if(ss(t,r))return;pO.set(r),n.uniformMatrix2fv(this.addr,!1,pO),as(t,r)}}function PX(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ss(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),as(t,e)}else{if(ss(t,r))return;hO.set(r),n.uniformMatrix3fv(this.addr,!1,hO),as(t,r)}}function DX(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ss(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),as(t,e)}else{if(ss(t,r))return;dO.set(r),n.uniformMatrix4fv(this.addr,!1,dO),as(t,r)}}function RX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function OX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ss(t,e))return;n.uniform2iv(this.addr,e),as(t,e)}}function IX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ss(t,e))return;n.uniform3iv(this.addr,e),as(t,e)}}function BX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ss(t,e))return;n.uniform4iv(this.addr,e),as(t,e)}}function FX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function LX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ss(t,e))return;n.uniform2uiv(this.addr,e),as(t,e)}}function NX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ss(t,e))return;n.uniform3uiv(this.addr,e),as(t,e)}}function UX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ss(t,e))return;n.uniform4uiv(this.addr,e),as(t,e)}}function kX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let o;this.type===n.SAMPLER_2D_SHADOW?(lO.compareFunction=jT,o=lO):o=X4,t.setTexture2D(e||o,i)}function zX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||J4,i)}function HX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Y4,i)}function GX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||K4,i)}function VX(n){switch(n){case 5126:return xX;case 35664:return wX;case 35665:return CX;case 35666:return MX;case 35674:return TX;case 35675:return PX;case 35676:return DX;case 5124:case 35670:return RX;case 35667:case 35671:return OX;case 35668:case 35672:return IX;case 35669:case 35673:return BX;case 5125:return FX;case 36294:return LX;case 36295:return NX;case 36296:return UX;case 35678:case 36198:case 36298:case 36306:case 35682:return kX;case 35679:case 36299:case 36307:return zX;case 35680:case 36300:case 36308:case 36293:return HX;case 36289:case 36303:case 36311:case 36292:return GX}}function jX(n,e){n.uniform1fv(this.addr,e)}function WX(n,e){const t=_1(e,this.size,2);n.uniform2fv(this.addr,t)}function $X(n,e){const t=_1(e,this.size,3);n.uniform3fv(this.addr,t)}function qX(n,e){const t=_1(e,this.size,4);n.uniform4fv(this.addr,t)}function XX(n,e){const t=_1(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function KX(n,e){const t=_1(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function JX(n,e){const t=_1(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function YX(n,e){n.uniform1iv(this.addr,e)}function QX(n,e){n.uniform2iv(this.addr,e)}function ZX(n,e){n.uniform3iv(this.addr,e)}function eK(n,e){n.uniform4iv(this.addr,e)}function tK(n,e){n.uniform1uiv(this.addr,e)}function nK(n,e){n.uniform2uiv(this.addr,e)}function rK(n,e){n.uniform3uiv(this.addr,e)}function iK(n,e){n.uniform4uiv(this.addr,e)}function oK(n,e,t){const r=this.cache,i=e.length,o=yx(t,i);ss(r,o)||(n.uniform1iv(this.addr,o),as(r,o));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||X4,o[s])}function sK(n,e,t){const r=this.cache,i=e.length,o=yx(t,i);ss(r,o)||(n.uniform1iv(this.addr,o),as(r,o));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||J4,o[s])}function aK(n,e,t){const r=this.cache,i=e.length,o=yx(t,i);ss(r,o)||(n.uniform1iv(this.addr,o),as(r,o));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||Y4,o[s])}function uK(n,e,t){const r=this.cache,i=e.length,o=yx(t,i);ss(r,o)||(n.uniform1iv(this.addr,o),as(r,o));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||K4,o[s])}function lK(n){switch(n){case 5126:return jX;case 35664:return WX;case 35665:return $X;case 35666:return qX;case 35674:return XX;case 35675:return KX;case 35676:return JX;case 5124:case 35670:return YX;case 35667:case 35671:return QX;case 35668:case 35672:return ZX;case 35669:case 35673:return eK;case 5125:return tK;case 36294:return nK;case 36295:return rK;case 36296:return iK;case 35678:case 36198:case 36298:case 36306:case 35682:return oK;case 35679:case 36299:case 36307:return sK;case 35680:case 36300:case 36308:case 36293:return aK;case 36289:case 36303:case 36311:case 36292:return uK}}class cK{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=VX(t.type)}}class fK{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=lK(t.type)}}class dK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,t[a.id],r)}}}const p2=/(\w+)(\])?(\[|\.)?/g;function mO(n,e){n.seq.push(e),n.map[e.id]=e}function hK(n,e,t){const r=n.name,i=r.length;for(p2.lastIndex=0;;){const o=p2.exec(r),s=p2.lastIndex;let a=o[1];const u=o[2]==="]",c=o[3];if(u&&(a=a|0),c===void 0||c==="["&&s+2===i){mO(t,c===void 0?new cK(a,n,e):new fK(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new dK(a),mO(t,f)),t=f}}}class hE{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(t,i),s=e.getUniformLocation(t,o.name);hK(o,s,this)}}setValue(e,t,r,i){const o=this.map[t];o!==void 0&&o.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let o=0,s=t.length;o!==s;++o){const a=t[o],u=r[a.id];u.needsUpdate!==!1&&a.setValue(e,u.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function gO(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const pK=37297;let mK=0;function gK(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return r.join(`
`)}const vO=new Qn;function vK(n){Cr._getMatrix(vO,Cr.workingColorSpace,n);const e=`mat3( ${vO.elements.map(t=>t.toFixed(4))} )`;switch(Cr.getTransfer(n)){case my:return[e,"LinearTransferOETF"];case ni:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function _O(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return t.toUpperCase()+`

`+i+`

`+gK(n.getShaderSource(e),s)}else return i}function _K(n,e){const t=vK(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function yK(n,e){let t;switch(e){case DN:t="Linear";break;case RN:t="Reinhard";break;case ON:t="Cineon";break;case OT:t="ACESFilmic";break;case BN:t="AgX";break;case FN:t="Neutral";break;case IN:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const MA=new oe;function bK(){Cr.getLuminanceCoefficients(MA);const n=MA.x.toFixed(4),e=MA.y.toFixed(4),t=MA.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function AK(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(W_).join(`
`)}function EK(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function SK(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),s=o.name;let a=1;o.type===n.FLOAT_MAT2&&(a=2),o.type===n.FLOAT_MAT3&&(a=3),o.type===n.FLOAT_MAT4&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}function W_(n){return n!==""}function yO(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function bO(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const xK=/^[ \t]*#include +<([\w\d./]+)>/gm;function zM(n){return n.replace(xK,CK)}const wK=new Map;function CK(n,e){let t=ir[e];if(t===void 0){const r=wK.get(e);if(r!==void 0)t=ir[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return zM(t)}const MK=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function AO(n){return n.replace(MK,TK)}function TK(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function EO(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function PK(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===jS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===J_?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===kc&&(e="SHADOWMAP_TYPE_VSM"),e}function DK(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case lh:case Rp:e="ENVMAP_TYPE_CUBE";break;case d1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function RK(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Rp:e="ENVMAP_MODE_REFRACTION";break}return e}function OK(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case jy:e="ENVMAP_BLENDING_MULTIPLY";break;case TN:e="ENVMAP_BLENDING_MIX";break;case PN:e="ENVMAP_BLENDING_ADD";break}return e}function IK(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function BK(n,e,t,r){const i=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const u=PK(t),c=DK(t),l=RK(t),f=OK(t),h=IK(t),m=AK(t),g=EK(o),p=i.createProgram();let y,b,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(W_).join(`
`),y.length>0&&(y+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(W_).join(`
`),b.length>0&&(b+=`
`)):(y=[EO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(W_).join(`
`),b=[EO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+l:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Uf?"#define TONE_MAPPING":"",t.toneMapping!==Uf?ir.tonemapping_pars_fragment:"",t.toneMapping!==Uf?yK("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ir.colorspace_pars_fragment,_K("linearToOutputTexel",t.outputColorSpace),bK(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(W_).join(`
`)),s=zM(s),s=yO(s,t),s=bO(s,t),a=zM(a),a=yO(a,t),a=bO(a,t),s=AO(s),a=AO(a),t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,b=["#define varying in",t.glslVersion===RM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===RM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const C=x+y+s,M=x+b+a,R=gO(i,i.VERTEX_SHADER,C),O=gO(i,i.FRAGMENT_SHADER,M);i.attachShader(p,R),i.attachShader(p,O),t.index0AttributeName!==void 0?i.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(p,0,"position"),i.linkProgram(p);function N(k){if(n.debug.checkShaderErrors){const q=i.getProgramInfoLog(p).trim(),Y=i.getShaderInfoLog(R).trim(),ee=i.getShaderInfoLog(O).trim();let le=!0,J=!0;if(i.getProgramParameter(p,i.LINK_STATUS)===!1)if(le=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,p,R,O);else{const fe=_O(i,R,"vertex"),V=_O(i,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(p,i.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+q+`
`+fe+`
`+V)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):(Y===""||ee==="")&&(J=!1);J&&(k.diagnostics={runnable:le,programLog:q,vertexShader:{log:Y,prefix:y},fragmentShader:{log:ee,prefix:b}})}i.deleteShader(R),i.deleteShader(O),F=new hE(i,p),I=SK(i,p)}let F;this.getUniforms=function(){return F===void 0&&N(this),F};let I;this.getAttributes=function(){return I===void 0&&N(this),I};let B=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=i.getProgramParameter(p,pK)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=mK++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=R,this.fragmentShader=O,this}let FK=0;class LK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new NK(e),t.set(e,r)),r}}class NK{constructor(e){this.id=FK++,this.code=e,this.usedTimes=0}}function UK(n,e,t,r,i,o,s){const a=new W0,u=new LK,c=new Set,l=[],f=i.logarithmicDepthBuffer,h=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(I){return c.add(I),I===0?"uv":`uv${I}`}function y(I,B,k,q,Y){const ee=q.fog,le=Y.geometry,J=I.isMeshStandardMaterial?q.environment:null,fe=(I.isMeshStandardMaterial?t:e).get(I.envMap||J),V=fe&&fe.mapping===d1?fe.image.height:null,ae=g[I.type];I.precision!==null&&(m=i.getMaxPrecision(I.precision),m!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",m,"instead."));const ue=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,Q=ue!==void 0?ue.length:0;let de=0;le.morphAttributes.position!==void 0&&(de=1),le.morphAttributes.normal!==void 0&&(de=2),le.morphAttributes.color!==void 0&&(de=3);let we,ye,Ce,Le;if(ae){const Gn=Hc[ae];we=Gn.vertexShader,ye=Gn.fragmentShader}else we=I.vertexShader,ye=I.fragmentShader,u.update(I),Ce=u.getVertexShaderID(I),Le=u.getFragmentShaderID(I);const Ie=n.getRenderTarget(),Ze=n.state.buffers.depth.getReversed(),tt=Y.isInstancedMesh===!0,Qe=Y.isBatchedMesh===!0,lt=!!I.map,We=!!I.matcap,Ke=!!fe,he=!!I.aoMap,wt=!!I.lightMap,ft=!!I.bumpMap,vt=!!I.normalMap,yt=!!I.displacementMap,Ht=!!I.emissiveMap,$e=!!I.metalnessMap,te=!!I.roughnessMap,K=I.anisotropy>0,j=I.clearcoat>0,re=I.dispersion>0,me=I.iridescence>0,ve=I.sheen>0,Me=I.transmission>0,xe=K&&!!I.anisotropyMap,Ge=j&&!!I.clearcoatMap,et=j&&!!I.clearcoatNormalMap,Ne=j&&!!I.clearcoatRoughnessMap,Ve=me&&!!I.iridescenceMap,Bt=me&&!!I.iridescenceThicknessMap,Nt=ve&&!!I.sheenColorMap,Pt=ve&&!!I.sheenRoughnessMap,tn=!!I.specularMap,Jt=!!I.specularColorMap,Mn=!!I.specularIntensityMap,Re=Me&&!!I.transmissionMap,Ft=Me&&!!I.thicknessMap,rt=!!I.gradientMap,dt=!!I.alphaMap,bt=I.alphaTest>0,kt=!!I.alphaHash,vn=!!I.extensions;let fr=Uf;I.toneMapped&&(Ie===null||Ie.isXRRenderTarget===!0)&&(fr=n.toneMapping);const Ar={shaderID:ae,shaderType:I.type,shaderName:I.name,vertexShader:we,fragmentShader:ye,defines:I.defines,customVertexShaderID:Ce,customFragmentShaderID:Le,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:m,batching:Qe,batchingColor:Qe&&Y._colorsTexture!==null,instancing:tt,instancingColor:tt&&Y.instanceColor!==null,instancingMorph:tt&&Y.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:Ie===null?n.outputColorSpace:Ie.isXRRenderTarget===!0?Ie.texture.colorSpace:Y0,alphaToCoverage:!!I.alphaToCoverage,map:lt,matcap:We,envMap:Ke,envMapMode:Ke&&fe.mapping,envMapCubeUVHeight:V,aoMap:he,lightMap:wt,bumpMap:ft,normalMap:vt,displacementMap:h&&yt,emissiveMap:Ht,normalMapObjectSpace:vt&&I.normalMapType===VN,normalMapTangentSpace:vt&&I.normalMapType===Lp,metalnessMap:$e,roughnessMap:te,anisotropy:K,anisotropyMap:xe,clearcoat:j,clearcoatMap:Ge,clearcoatNormalMap:et,clearcoatRoughnessMap:Ne,dispersion:re,iridescence:me,iridescenceMap:Ve,iridescenceThicknessMap:Bt,sheen:ve,sheenColorMap:Nt,sheenRoughnessMap:Pt,specularMap:tn,specularColorMap:Jt,specularIntensityMap:Mn,transmission:Me,transmissionMap:Re,thicknessMap:Ft,gradientMap:rt,opaque:I.transparent===!1&&I.blending===G0&&I.alphaToCoverage===!1,alphaMap:dt,alphaTest:bt,alphaHash:kt,combine:I.combine,mapUv:lt&&p(I.map.channel),aoMapUv:he&&p(I.aoMap.channel),lightMapUv:wt&&p(I.lightMap.channel),bumpMapUv:ft&&p(I.bumpMap.channel),normalMapUv:vt&&p(I.normalMap.channel),displacementMapUv:yt&&p(I.displacementMap.channel),emissiveMapUv:Ht&&p(I.emissiveMap.channel),metalnessMapUv:$e&&p(I.metalnessMap.channel),roughnessMapUv:te&&p(I.roughnessMap.channel),anisotropyMapUv:xe&&p(I.anisotropyMap.channel),clearcoatMapUv:Ge&&p(I.clearcoatMap.channel),clearcoatNormalMapUv:et&&p(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ne&&p(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Ve&&p(I.iridescenceMap.channel),iridescenceThicknessMapUv:Bt&&p(I.iridescenceThicknessMap.channel),sheenColorMapUv:Nt&&p(I.sheenColorMap.channel),sheenRoughnessMapUv:Pt&&p(I.sheenRoughnessMap.channel),specularMapUv:tn&&p(I.specularMap.channel),specularColorMapUv:Jt&&p(I.specularColorMap.channel),specularIntensityMapUv:Mn&&p(I.specularIntensityMap.channel),transmissionMapUv:Re&&p(I.transmissionMap.channel),thicknessMapUv:Ft&&p(I.thicknessMap.channel),alphaMapUv:dt&&p(I.alphaMap.channel),vertexTangents:!!le.attributes.tangent&&(vt||K),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!le.attributes.uv&&(lt||dt),fog:!!ee,useFog:I.fog===!0,fogExp2:!!ee&&ee.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:Ze,skinning:Y.isSkinnedMesh===!0,morphTargets:le.morphAttributes.position!==void 0,morphNormals:le.morphAttributes.normal!==void 0,morphColors:le.morphAttributes.color!==void 0,morphTargetsCount:Q,morphTextureStride:de,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:fr,decodeVideoTexture:lt&&I.map.isVideoTexture===!0&&Cr.getTransfer(I.map.colorSpace)===ni,decodeVideoTextureEmissive:Ht&&I.emissiveMap.isVideoTexture===!0&&Cr.getTransfer(I.emissiveMap.colorSpace)===ni,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Gs,flipSided:I.side===ja,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:vn&&I.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(vn&&I.extensions.multiDraw===!0||Qe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return Ar.vertexUv1s=c.has(1),Ar.vertexUv2s=c.has(2),Ar.vertexUv3s=c.has(3),c.clear(),Ar}function b(I){const B=[];if(I.shaderID?B.push(I.shaderID):(B.push(I.customVertexShaderID),B.push(I.customFragmentShaderID)),I.defines!==void 0)for(const k in I.defines)B.push(k),B.push(I.defines[k]);return I.isRawShaderMaterial===!1&&(x(B,I),C(B,I),B.push(n.outputColorSpace)),B.push(I.customProgramCacheKey),B.join()}function x(I,B){I.push(B.precision),I.push(B.outputColorSpace),I.push(B.envMapMode),I.push(B.envMapCubeUVHeight),I.push(B.mapUv),I.push(B.alphaMapUv),I.push(B.lightMapUv),I.push(B.aoMapUv),I.push(B.bumpMapUv),I.push(B.normalMapUv),I.push(B.displacementMapUv),I.push(B.emissiveMapUv),I.push(B.metalnessMapUv),I.push(B.roughnessMapUv),I.push(B.anisotropyMapUv),I.push(B.clearcoatMapUv),I.push(B.clearcoatNormalMapUv),I.push(B.clearcoatRoughnessMapUv),I.push(B.iridescenceMapUv),I.push(B.iridescenceThicknessMapUv),I.push(B.sheenColorMapUv),I.push(B.sheenRoughnessMapUv),I.push(B.specularMapUv),I.push(B.specularColorMapUv),I.push(B.specularIntensityMapUv),I.push(B.transmissionMapUv),I.push(B.thicknessMapUv),I.push(B.combine),I.push(B.fogExp2),I.push(B.sizeAttenuation),I.push(B.morphTargetsCount),I.push(B.morphAttributeCount),I.push(B.numDirLights),I.push(B.numPointLights),I.push(B.numSpotLights),I.push(B.numSpotLightMaps),I.push(B.numHemiLights),I.push(B.numRectAreaLights),I.push(B.numDirLightShadows),I.push(B.numPointLightShadows),I.push(B.numSpotLightShadows),I.push(B.numSpotLightShadowsWithMaps),I.push(B.numLightProbes),I.push(B.shadowMapType),I.push(B.toneMapping),I.push(B.numClippingPlanes),I.push(B.numClipIntersection),I.push(B.depthPacking)}function C(I,B){a.disableAll(),B.supportsVertexTextures&&a.enable(0),B.instancing&&a.enable(1),B.instancingColor&&a.enable(2),B.instancingMorph&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),B.alphaHash&&a.enable(18),B.batching&&a.enable(19),B.dispersion&&a.enable(20),B.batchingColor&&a.enable(21),I.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.reverseDepthBuffer&&a.enable(4),B.skinning&&a.enable(5),B.morphTargets&&a.enable(6),B.morphNormals&&a.enable(7),B.morphColors&&a.enable(8),B.premultipliedAlpha&&a.enable(9),B.shadowMapEnabled&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),B.decodeVideoTexture&&a.enable(19),B.decodeVideoTextureEmissive&&a.enable(20),B.alphaToCoverage&&a.enable(21),I.push(a.mask)}function M(I){const B=g[I.type];let k;if(B){const q=Hc[B];k=r4.clone(q.uniforms)}else k=I.uniforms;return k}function R(I,B){let k;for(let q=0,Y=l.length;q<Y;q++){const ee=l[q];if(ee.cacheKey===B){k=ee,++k.usedTimes;break}}return k===void 0&&(k=new BK(n,B,I,o),l.push(k)),k}function O(I){if(--I.usedTimes===0){const B=l.indexOf(I);l[B]=l[l.length-1],l.pop(),I.destroy()}}function N(I){u.remove(I)}function F(){u.dispose()}return{getParameters:y,getProgramCacheKey:b,getUniforms:M,acquireProgram:R,releaseProgram:O,releaseShaderCache:N,programs:l,dispose:F}}function kK(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let a=n.get(s);return a===void 0&&(a={},n.set(s,a)),a}function r(s){n.delete(s)}function i(s,a,u){n.get(s)[a]=u}function o(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:o}}function zK(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function SO(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function xO(){const n=[];let e=0;const t=[],r=[],i=[];function o(){e=0,t.length=0,r.length=0,i.length=0}function s(f,h,m,g,p,y){let b=n[e];return b===void 0?(b={id:f.id,object:f,geometry:h,material:m,groupOrder:g,renderOrder:f.renderOrder,z:p,group:y},n[e]=b):(b.id=f.id,b.object=f,b.geometry=h,b.material=m,b.groupOrder=g,b.renderOrder=f.renderOrder,b.z=p,b.group=y),e++,b}function a(f,h,m,g,p,y){const b=s(f,h,m,g,p,y);m.transmission>0?r.push(b):m.transparent===!0?i.push(b):t.push(b)}function u(f,h,m,g,p,y){const b=s(f,h,m,g,p,y);m.transmission>0?r.unshift(b):m.transparent===!0?i.unshift(b):t.unshift(b)}function c(f,h){t.length>1&&t.sort(f||zK),r.length>1&&r.sort(h||SO),i.length>1&&i.sort(h||SO)}function l(){for(let f=e,h=n.length;f<h;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:o,push:a,unshift:u,finish:l,sort:c}}function HK(){let n=new WeakMap;function e(r,i){const o=n.get(r);let s;return o===void 0?(s=new xO,n.set(r,[s])):i>=o.length?(s=new xO,o.push(s)):s=o[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function GK(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new oe,color:new zt};break;case"SpotLight":t={position:new oe,direction:new oe,color:new zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new oe,color:new zt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new oe,skyColor:new zt,groundColor:new zt};break;case"RectAreaLight":t={color:new zt,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return n[e.id]=t,t}}}function VK(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let jK=0;function WK(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function $K(n){const e=new GK,t=VK(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new oe);const i=new oe,o=new dn,s=new dn;function a(c){let l=0,f=0,h=0;for(let I=0;I<9;I++)r.probe[I].set(0,0,0);let m=0,g=0,p=0,y=0,b=0,x=0,C=0,M=0,R=0,O=0,N=0;c.sort(WK);for(let I=0,B=c.length;I<B;I++){const k=c[I],q=k.color,Y=k.intensity,ee=k.distance,le=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)l+=q.r*Y,f+=q.g*Y,h+=q.b*Y;else if(k.isLightProbe){for(let J=0;J<9;J++)r.probe[J].addScaledVector(k.sh.coefficients[J],Y);N++}else if(k.isDirectionalLight){const J=e.get(k);if(J.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const fe=k.shadow,V=t.get(k);V.shadowIntensity=fe.intensity,V.shadowBias=fe.bias,V.shadowNormalBias=fe.normalBias,V.shadowRadius=fe.radius,V.shadowMapSize=fe.mapSize,r.directionalShadow[m]=V,r.directionalShadowMap[m]=le,r.directionalShadowMatrix[m]=k.shadow.matrix,x++}r.directional[m]=J,m++}else if(k.isSpotLight){const J=e.get(k);J.position.setFromMatrixPosition(k.matrixWorld),J.color.copy(q).multiplyScalar(Y),J.distance=ee,J.coneCos=Math.cos(k.angle),J.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),J.decay=k.decay,r.spot[p]=J;const fe=k.shadow;if(k.map&&(r.spotLightMap[R]=k.map,R++,fe.updateMatrices(k),k.castShadow&&O++),r.spotLightMatrix[p]=fe.matrix,k.castShadow){const V=t.get(k);V.shadowIntensity=fe.intensity,V.shadowBias=fe.bias,V.shadowNormalBias=fe.normalBias,V.shadowRadius=fe.radius,V.shadowMapSize=fe.mapSize,r.spotShadow[p]=V,r.spotShadowMap[p]=le,M++}p++}else if(k.isRectAreaLight){const J=e.get(k);J.color.copy(q).multiplyScalar(Y),J.halfWidth.set(k.width*.5,0,0),J.halfHeight.set(0,k.height*.5,0),r.rectArea[y]=J,y++}else if(k.isPointLight){const J=e.get(k);if(J.color.copy(k.color).multiplyScalar(k.intensity),J.distance=k.distance,J.decay=k.decay,k.castShadow){const fe=k.shadow,V=t.get(k);V.shadowIntensity=fe.intensity,V.shadowBias=fe.bias,V.shadowNormalBias=fe.normalBias,V.shadowRadius=fe.radius,V.shadowMapSize=fe.mapSize,V.shadowCameraNear=fe.camera.near,V.shadowCameraFar=fe.camera.far,r.pointShadow[g]=V,r.pointShadowMap[g]=le,r.pointShadowMatrix[g]=k.shadow.matrix,C++}r.point[g]=J,g++}else if(k.isHemisphereLight){const J=e.get(k);J.skyColor.copy(k.color).multiplyScalar(Y),J.groundColor.copy(k.groundColor).multiplyScalar(Y),r.hemi[b]=J,b++}}y>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=$t.LTC_FLOAT_1,r.rectAreaLTC2=$t.LTC_FLOAT_2):(r.rectAreaLTC1=$t.LTC_HALF_1,r.rectAreaLTC2=$t.LTC_HALF_2)),r.ambient[0]=l,r.ambient[1]=f,r.ambient[2]=h;const F=r.hash;(F.directionalLength!==m||F.pointLength!==g||F.spotLength!==p||F.rectAreaLength!==y||F.hemiLength!==b||F.numDirectionalShadows!==x||F.numPointShadows!==C||F.numSpotShadows!==M||F.numSpotMaps!==R||F.numLightProbes!==N)&&(r.directional.length=m,r.spot.length=p,r.rectArea.length=y,r.point.length=g,r.hemi.length=b,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=M+R-O,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=O,r.numLightProbes=N,F.directionalLength=m,F.pointLength=g,F.spotLength=p,F.rectAreaLength=y,F.hemiLength=b,F.numDirectionalShadows=x,F.numPointShadows=C,F.numSpotShadows=M,F.numSpotMaps=R,F.numLightProbes=N,r.version=jK++)}function u(c,l){let f=0,h=0,m=0,g=0,p=0;const y=l.matrixWorldInverse;for(let b=0,x=c.length;b<x;b++){const C=c[b];if(C.isDirectionalLight){const M=r.directional[f];M.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),f++}else if(C.isSpotLight){const M=r.spot[m];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),m++}else if(C.isRectAreaLight){const M=r.rectArea[g];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(y),s.identity(),o.copy(C.matrixWorld),o.premultiply(y),s.extractRotation(o),M.halfWidth.set(C.width*.5,0,0),M.halfHeight.set(0,C.height*.5,0),M.halfWidth.applyMatrix4(s),M.halfHeight.applyMatrix4(s),g++}else if(C.isPointLight){const M=r.point[h];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(y),h++}else if(C.isHemisphereLight){const M=r.hemi[p];M.direction.setFromMatrixPosition(C.matrixWorld),M.direction.transformDirection(y),p++}}}return{setup:a,setupView:u,state:r}}function wO(n){const e=new $K(n),t=[],r=[];function i(l){c.camera=l,t.length=0,r.length=0}function o(l){t.push(l)}function s(l){r.push(l)}function a(){e.setup(t)}function u(l){e.setupView(t,l)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:u,pushLight:o,pushShadow:s}}function qK(n){let e=new WeakMap;function t(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new wO(n),e.set(i,[a])):o>=s.length?(a=new wO(n),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:t,dispose:r}}const XK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,KK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function JK(n,e,t){let r=new Jy;const i=new _t,o=new _t,s=new Mr,a=new uP({depthPacking:GN}),u=new lP,c={},l=t.maxTextureSize,f={[Gf]:ja,[ja]:Gf,[Gs]:Gs},h=new $c({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _t},radius:{value:4}},vertexShader:XK,fragmentShader:KK}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const g=new Xn;g.setAttribute("position",new Dr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Mo(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jS;let b=this.type;this.render=function(O,N,F){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||O.length===0)return;const I=n.getRenderTarget(),B=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),q=n.state;q.setBlending(oh),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);const Y=b!==kc&&this.type===kc,ee=b===kc&&this.type!==kc;for(let le=0,J=O.length;le<J;le++){const fe=O[le],V=fe.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",fe,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;i.copy(V.mapSize);const ae=V.getFrameExtents();if(i.multiply(ae),o.copy(V.mapSize),(i.x>l||i.y>l)&&(i.x>l&&(o.x=Math.floor(l/ae.x),i.x=o.x*ae.x,V.mapSize.x=o.x),i.y>l&&(o.y=Math.floor(l/ae.y),i.y=o.y*ae.y,V.mapSize.y=o.y)),V.map===null||Y===!0||ee===!0){const Q=this.type!==kc?{minFilter:ys,magFilter:ys}:{};V.map!==null&&V.map.dispose(),V.map=new Wc(i.x,i.y,Q),V.map.texture.name=fe.name+".shadowMap",V.camera.updateProjectionMatrix()}n.setRenderTarget(V.map),n.clear();const ue=V.getViewportCount();for(let Q=0;Q<ue;Q++){const de=V.getViewport(Q);s.set(o.x*de.x,o.y*de.y,o.x*de.z,o.y*de.w),q.viewport(s),V.updateMatrices(fe,Q),r=V.getFrustum(),M(N,F,V.camera,fe,this.type)}V.isPointLightShadow!==!0&&this.type===kc&&x(V,F),V.needsUpdate=!1}b=this.type,y.needsUpdate=!1,n.setRenderTarget(I,B,k)};function x(O,N){const F=e.update(p);h.defines.VSM_SAMPLES!==O.blurSamples&&(h.defines.VSM_SAMPLES=O.blurSamples,m.defines.VSM_SAMPLES=O.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new Wc(i.x,i.y)),h.uniforms.shadow_pass.value=O.map.texture,h.uniforms.resolution.value=O.mapSize,h.uniforms.radius.value=O.radius,n.setRenderTarget(O.mapPass),n.clear(),n.renderBufferDirect(N,null,F,h,p,null),m.uniforms.shadow_pass.value=O.mapPass.texture,m.uniforms.resolution.value=O.mapSize,m.uniforms.radius.value=O.radius,n.setRenderTarget(O.map),n.clear(),n.renderBufferDirect(N,null,F,m,p,null)}function C(O,N,F,I){let B=null;const k=F.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(k!==void 0)B=k;else if(B=F.isPointLight===!0?u:a,n.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0){const q=B.uuid,Y=N.uuid;let ee=c[q];ee===void 0&&(ee={},c[q]=ee);let le=ee[Y];le===void 0&&(le=B.clone(),ee[Y]=le,N.addEventListener("dispose",R)),B=le}if(B.visible=N.visible,B.wireframe=N.wireframe,I===kc?B.side=N.shadowSide!==null?N.shadowSide:N.side:B.side=N.shadowSide!==null?N.shadowSide:f[N.side],B.alphaMap=N.alphaMap,B.alphaTest=N.alphaTest,B.map=N.map,B.clipShadows=N.clipShadows,B.clippingPlanes=N.clippingPlanes,B.clipIntersection=N.clipIntersection,B.displacementMap=N.displacementMap,B.displacementScale=N.displacementScale,B.displacementBias=N.displacementBias,B.wireframeLinewidth=N.wireframeLinewidth,B.linewidth=N.linewidth,F.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const q=n.properties.get(B);q.light=F}return B}function M(O,N,F,I,B){if(O.visible===!1)return;if(O.layers.test(N.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&B===kc)&&(!O.frustumCulled||r.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,O.matrixWorld);const Y=e.update(O),ee=O.material;if(Array.isArray(ee)){const le=Y.groups;for(let J=0,fe=le.length;J<fe;J++){const V=le[J],ae=ee[V.materialIndex];if(ae&&ae.visible){const ue=C(O,ae,I,B);O.onBeforeShadow(n,O,N,F,Y,ue,V),n.renderBufferDirect(F,null,Y,ue,O,V),O.onAfterShadow(n,O,N,F,Y,ue,V)}}}else if(ee.visible){const le=C(O,ee,I,B);O.onBeforeShadow(n,O,N,F,Y,le,null),n.renderBufferDirect(F,null,Y,le,O,null),O.onAfterShadow(n,O,N,F,Y,le,null)}}const q=O.children;for(let Y=0,ee=q.length;Y<ee;Y++)M(q[Y],N,F,I,B)}function R(O){O.target.removeEventListener("dispose",R);for(const F in c){const I=c[F],B=O.target.uuid;B in I&&(I[B].dispose(),delete I[B])}}}const YK={[TE]:PE,[DE]:IE,[RE]:BE,[X0]:OE,[PE]:TE,[IE]:DE,[BE]:RE,[OE]:X0};function QK(n,e){function t(){let Re=!1;const Ft=new Mr;let rt=null;const dt=new Mr(0,0,0,0);return{setMask:function(bt){rt!==bt&&!Re&&(n.colorMask(bt,bt,bt,bt),rt=bt)},setLocked:function(bt){Re=bt},setClear:function(bt,kt,vn,fr,Ar){Ar===!0&&(bt*=fr,kt*=fr,vn*=fr),Ft.set(bt,kt,vn,fr),dt.equals(Ft)===!1&&(n.clearColor(bt,kt,vn,fr),dt.copy(Ft))},reset:function(){Re=!1,rt=null,dt.set(-1,0,0,0)}}}function r(){let Re=!1,Ft=!1,rt=null,dt=null,bt=null;return{setReversed:function(kt){if(Ft!==kt){const vn=e.get("EXT_clip_control");Ft?vn.clipControlEXT(vn.LOWER_LEFT_EXT,vn.ZERO_TO_ONE_EXT):vn.clipControlEXT(vn.LOWER_LEFT_EXT,vn.NEGATIVE_ONE_TO_ONE_EXT);const fr=bt;bt=null,this.setClear(fr)}Ft=kt},getReversed:function(){return Ft},setTest:function(kt){kt?Ie(n.DEPTH_TEST):Ze(n.DEPTH_TEST)},setMask:function(kt){rt!==kt&&!Re&&(n.depthMask(kt),rt=kt)},setFunc:function(kt){if(Ft&&(kt=YK[kt]),dt!==kt){switch(kt){case TE:n.depthFunc(n.NEVER);break;case PE:n.depthFunc(n.ALWAYS);break;case DE:n.depthFunc(n.LESS);break;case X0:n.depthFunc(n.LEQUAL);break;case RE:n.depthFunc(n.EQUAL);break;case OE:n.depthFunc(n.GEQUAL);break;case IE:n.depthFunc(n.GREATER);break;case BE:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}dt=kt}},setLocked:function(kt){Re=kt},setClear:function(kt){bt!==kt&&(Ft&&(kt=1-kt),n.clearDepth(kt),bt=kt)},reset:function(){Re=!1,rt=null,dt=null,bt=null,Ft=!1}}}function i(){let Re=!1,Ft=null,rt=null,dt=null,bt=null,kt=null,vn=null,fr=null,Ar=null;return{setTest:function(Gn){Re||(Gn?Ie(n.STENCIL_TEST):Ze(n.STENCIL_TEST))},setMask:function(Gn){Ft!==Gn&&!Re&&(n.stencilMask(Gn),Ft=Gn)},setFunc:function(Gn,li,Zr){(rt!==Gn||dt!==li||bt!==Zr)&&(n.stencilFunc(Gn,li,Zr),rt=Gn,dt=li,bt=Zr)},setOp:function(Gn,li,Zr){(kt!==Gn||vn!==li||fr!==Zr)&&(n.stencilOp(Gn,li,Zr),kt=Gn,vn=li,fr=Zr)},setLocked:function(Gn){Re=Gn},setClear:function(Gn){Ar!==Gn&&(n.clearStencil(Gn),Ar=Gn)},reset:function(){Re=!1,Ft=null,rt=null,dt=null,bt=null,kt=null,vn=null,fr=null,Ar=null}}}const o=new t,s=new r,a=new i,u=new WeakMap,c=new WeakMap;let l={},f={},h=new WeakMap,m=[],g=null,p=!1,y=null,b=null,x=null,C=null,M=null,R=null,O=null,N=new zt(0,0,0),F=0,I=!1,B=null,k=null,q=null,Y=null,ee=null;const le=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,fe=0;const V=n.getParameter(n.VERSION);V.indexOf("WebGL")!==-1?(fe=parseFloat(/^WebGL (\d)/.exec(V)[1]),J=fe>=1):V.indexOf("OpenGL ES")!==-1&&(fe=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),J=fe>=2);let ae=null,ue={};const Q=n.getParameter(n.SCISSOR_BOX),de=n.getParameter(n.VIEWPORT),we=new Mr().fromArray(Q),ye=new Mr().fromArray(de);function Ce(Re,Ft,rt,dt){const bt=new Uint8Array(4),kt=n.createTexture();n.bindTexture(Re,kt),n.texParameteri(Re,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Re,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let vn=0;vn<rt;vn++)Re===n.TEXTURE_3D||Re===n.TEXTURE_2D_ARRAY?n.texImage3D(Ft,0,n.RGBA,1,1,dt,0,n.RGBA,n.UNSIGNED_BYTE,bt):n.texImage2D(Ft+vn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,bt);return kt}const Le={};Le[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),Le[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Le[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Le[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),Ie(n.DEPTH_TEST),s.setFunc(X0),ft(!1),vt(wM),Ie(n.CULL_FACE),he(oh);function Ie(Re){l[Re]!==!0&&(n.enable(Re),l[Re]=!0)}function Ze(Re){l[Re]!==!1&&(n.disable(Re),l[Re]=!1)}function tt(Re,Ft){return f[Re]!==Ft?(n.bindFramebuffer(Re,Ft),f[Re]=Ft,Re===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=Ft),Re===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=Ft),!0):!1}function Qe(Re,Ft){let rt=m,dt=!1;if(Re){rt=h.get(Ft),rt===void 0&&(rt=[],h.set(Ft,rt));const bt=Re.textures;if(rt.length!==bt.length||rt[0]!==n.COLOR_ATTACHMENT0){for(let kt=0,vn=bt.length;kt<vn;kt++)rt[kt]=n.COLOR_ATTACHMENT0+kt;rt.length=bt.length,dt=!0}}else rt[0]!==n.BACK&&(rt[0]=n.BACK,dt=!0);dt&&n.drawBuffers(rt)}function lt(Re){return g!==Re?(n.useProgram(Re),g=Re,!0):!1}const We={[Sp]:n.FUNC_ADD,[fN]:n.FUNC_SUBTRACT,[dN]:n.FUNC_REVERSE_SUBTRACT};We[hN]=n.MIN,We[pN]=n.MAX;const Ke={[mN]:n.ZERO,[gN]:n.ONE,[vN]:n.SRC_COLOR,[CE]:n.SRC_ALPHA,[SN]:n.SRC_ALPHA_SATURATE,[AN]:n.DST_COLOR,[yN]:n.DST_ALPHA,[_N]:n.ONE_MINUS_SRC_COLOR,[ME]:n.ONE_MINUS_SRC_ALPHA,[EN]:n.ONE_MINUS_DST_COLOR,[bN]:n.ONE_MINUS_DST_ALPHA,[xN]:n.CONSTANT_COLOR,[wN]:n.ONE_MINUS_CONSTANT_COLOR,[CN]:n.CONSTANT_ALPHA,[MN]:n.ONE_MINUS_CONSTANT_ALPHA};function he(Re,Ft,rt,dt,bt,kt,vn,fr,Ar,Gn){if(Re===oh){p===!0&&(Ze(n.BLEND),p=!1);return}if(p===!1&&(Ie(n.BLEND),p=!0),Re!==cN){if(Re!==y||Gn!==I){if((b!==Sp||M!==Sp)&&(n.blendEquation(n.FUNC_ADD),b=Sp,M=Sp),Gn)switch(Re){case G0:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case CM:n.blendFunc(n.ONE,n.ONE);break;case MM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case TM:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Re);break}else switch(Re){case G0:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case CM:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case MM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case TM:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Re);break}x=null,C=null,R=null,O=null,N.set(0,0,0),F=0,y=Re,I=Gn}return}bt=bt||Ft,kt=kt||rt,vn=vn||dt,(Ft!==b||bt!==M)&&(n.blendEquationSeparate(We[Ft],We[bt]),b=Ft,M=bt),(rt!==x||dt!==C||kt!==R||vn!==O)&&(n.blendFuncSeparate(Ke[rt],Ke[dt],Ke[kt],Ke[vn]),x=rt,C=dt,R=kt,O=vn),(fr.equals(N)===!1||Ar!==F)&&(n.blendColor(fr.r,fr.g,fr.b,Ar),N.copy(fr),F=Ar),y=Re,I=!1}function wt(Re,Ft){Re.side===Gs?Ze(n.CULL_FACE):Ie(n.CULL_FACE);let rt=Re.side===ja;Ft&&(rt=!rt),ft(rt),Re.blending===G0&&Re.transparent===!1?he(oh):he(Re.blending,Re.blendEquation,Re.blendSrc,Re.blendDst,Re.blendEquationAlpha,Re.blendSrcAlpha,Re.blendDstAlpha,Re.blendColor,Re.blendAlpha,Re.premultipliedAlpha),s.setFunc(Re.depthFunc),s.setTest(Re.depthTest),s.setMask(Re.depthWrite),o.setMask(Re.colorWrite);const dt=Re.stencilWrite;a.setTest(dt),dt&&(a.setMask(Re.stencilWriteMask),a.setFunc(Re.stencilFunc,Re.stencilRef,Re.stencilFuncMask),a.setOp(Re.stencilFail,Re.stencilZFail,Re.stencilZPass)),Ht(Re.polygonOffset,Re.polygonOffsetFactor,Re.polygonOffsetUnits),Re.alphaToCoverage===!0?Ie(n.SAMPLE_ALPHA_TO_COVERAGE):Ze(n.SAMPLE_ALPHA_TO_COVERAGE)}function ft(Re){B!==Re&&(Re?n.frontFace(n.CW):n.frontFace(n.CCW),B=Re)}function vt(Re){Re!==aN?(Ie(n.CULL_FACE),Re!==k&&(Re===wM?n.cullFace(n.BACK):Re===uN?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ze(n.CULL_FACE),k=Re}function yt(Re){Re!==q&&(J&&n.lineWidth(Re),q=Re)}function Ht(Re,Ft,rt){Re?(Ie(n.POLYGON_OFFSET_FILL),(Y!==Ft||ee!==rt)&&(n.polygonOffset(Ft,rt),Y=Ft,ee=rt)):Ze(n.POLYGON_OFFSET_FILL)}function $e(Re){Re?Ie(n.SCISSOR_TEST):Ze(n.SCISSOR_TEST)}function te(Re){Re===void 0&&(Re=n.TEXTURE0+le-1),ae!==Re&&(n.activeTexture(Re),ae=Re)}function K(Re,Ft,rt){rt===void 0&&(ae===null?rt=n.TEXTURE0+le-1:rt=ae);let dt=ue[rt];dt===void 0&&(dt={type:void 0,texture:void 0},ue[rt]=dt),(dt.type!==Re||dt.texture!==Ft)&&(ae!==rt&&(n.activeTexture(rt),ae=rt),n.bindTexture(Re,Ft||Le[Re]),dt.type=Re,dt.texture=Ft)}function j(){const Re=ue[ae];Re!==void 0&&Re.type!==void 0&&(n.bindTexture(Re.type,null),Re.type=void 0,Re.texture=void 0)}function re(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function me(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function ve(){try{n.texSubImage2D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function Me(){try{n.texSubImage3D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function xe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function Ge(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function et(){try{n.texStorage2D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function Ne(){try{n.texStorage3D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function Ve(){try{n.texImage2D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function Bt(){try{n.texImage3D.apply(n,arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function Nt(Re){we.equals(Re)===!1&&(n.scissor(Re.x,Re.y,Re.z,Re.w),we.copy(Re))}function Pt(Re){ye.equals(Re)===!1&&(n.viewport(Re.x,Re.y,Re.z,Re.w),ye.copy(Re))}function tn(Re,Ft){let rt=c.get(Ft);rt===void 0&&(rt=new WeakMap,c.set(Ft,rt));let dt=rt.get(Re);dt===void 0&&(dt=n.getUniformBlockIndex(Ft,Re.name),rt.set(Re,dt))}function Jt(Re,Ft){const dt=c.get(Ft).get(Re);u.get(Ft)!==dt&&(n.uniformBlockBinding(Ft,dt,Re.__bindingPointIndex),u.set(Ft,dt))}function Mn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),l={},ae=null,ue={},f={},h=new WeakMap,m=[],g=null,p=!1,y=null,b=null,x=null,C=null,M=null,R=null,O=null,N=new zt(0,0,0),F=0,I=!1,B=null,k=null,q=null,Y=null,ee=null,we.set(0,0,n.canvas.width,n.canvas.height),ye.set(0,0,n.canvas.width,n.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:Ie,disable:Ze,bindFramebuffer:tt,drawBuffers:Qe,useProgram:lt,setBlending:he,setMaterial:wt,setFlipSided:ft,setCullFace:vt,setLineWidth:yt,setPolygonOffset:Ht,setScissorTest:$e,activeTexture:te,bindTexture:K,unbindTexture:j,compressedTexImage2D:re,compressedTexImage3D:me,texImage2D:Ve,texImage3D:Bt,updateUBOMapping:tn,uniformBlockBinding:Jt,texStorage2D:et,texStorage3D:Ne,texSubImage2D:ve,texSubImage3D:Me,compressedTexSubImage2D:xe,compressedTexSubImage3D:Ge,scissor:Nt,viewport:Pt,reset:Mn}}function ZK(n,e,t,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new _t,l=new WeakMap;let f;const h=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(te,K){return m?new OffscreenCanvas(te,K):_y("canvas")}function p(te,K,j){let re=1;const me=$e(te);if((me.width>j||me.height>j)&&(re=j/Math.max(me.width,me.height)),re<1)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap||typeof VideoFrame<"u"&&te instanceof VideoFrame){const ve=Math.floor(re*me.width),Me=Math.floor(re*me.height);f===void 0&&(f=g(ve,Me));const xe=K?g(ve,Me):f;return xe.width=ve,xe.height=Me,xe.getContext("2d").drawImage(te,0,0,ve,Me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+me.width+"x"+me.height+") to ("+ve+"x"+Me+")."),xe}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+me.width+"x"+me.height+")."),te;return te}function y(te){return te.generateMipmaps}function b(te){n.generateMipmap(te)}function x(te){return te.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:te.isWebGL3DRenderTarget?n.TEXTURE_3D:te.isWebGLArrayRenderTarget||te.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C(te,K,j,re,me=!1){if(te!==null){if(n[te]!==void 0)return n[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let ve=K;if(K===n.RED&&(j===n.FLOAT&&(ve=n.R32F),j===n.HALF_FLOAT&&(ve=n.R16F),j===n.UNSIGNED_BYTE&&(ve=n.R8)),K===n.RED_INTEGER&&(j===n.UNSIGNED_BYTE&&(ve=n.R8UI),j===n.UNSIGNED_SHORT&&(ve=n.R16UI),j===n.UNSIGNED_INT&&(ve=n.R32UI),j===n.BYTE&&(ve=n.R8I),j===n.SHORT&&(ve=n.R16I),j===n.INT&&(ve=n.R32I)),K===n.RG&&(j===n.FLOAT&&(ve=n.RG32F),j===n.HALF_FLOAT&&(ve=n.RG16F),j===n.UNSIGNED_BYTE&&(ve=n.RG8)),K===n.RG_INTEGER&&(j===n.UNSIGNED_BYTE&&(ve=n.RG8UI),j===n.UNSIGNED_SHORT&&(ve=n.RG16UI),j===n.UNSIGNED_INT&&(ve=n.RG32UI),j===n.BYTE&&(ve=n.RG8I),j===n.SHORT&&(ve=n.RG16I),j===n.INT&&(ve=n.RG32I)),K===n.RGB_INTEGER&&(j===n.UNSIGNED_BYTE&&(ve=n.RGB8UI),j===n.UNSIGNED_SHORT&&(ve=n.RGB16UI),j===n.UNSIGNED_INT&&(ve=n.RGB32UI),j===n.BYTE&&(ve=n.RGB8I),j===n.SHORT&&(ve=n.RGB16I),j===n.INT&&(ve=n.RGB32I)),K===n.RGBA_INTEGER&&(j===n.UNSIGNED_BYTE&&(ve=n.RGBA8UI),j===n.UNSIGNED_SHORT&&(ve=n.RGBA16UI),j===n.UNSIGNED_INT&&(ve=n.RGBA32UI),j===n.BYTE&&(ve=n.RGBA8I),j===n.SHORT&&(ve=n.RGBA16I),j===n.INT&&(ve=n.RGBA32I)),K===n.RGB&&j===n.UNSIGNED_INT_5_9_9_9_REV&&(ve=n.RGB9_E5),K===n.RGBA){const Me=me?my:Cr.getTransfer(re);j===n.FLOAT&&(ve=n.RGBA32F),j===n.HALF_FLOAT&&(ve=n.RGBA16F),j===n.UNSIGNED_BYTE&&(ve=Me===ni?n.SRGB8_ALPHA8:n.RGBA8),j===n.UNSIGNED_SHORT_4_4_4_4&&(ve=n.RGBA4),j===n.UNSIGNED_SHORT_5_5_5_1&&(ve=n.RGB5_A1)}return(ve===n.R16F||ve===n.R32F||ve===n.RG16F||ve===n.RG32F||ve===n.RGBA16F||ve===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ve}function M(te,K){let j;return te?K===null||K===ch||K===K0?j=n.DEPTH24_STENCIL8:K===Su?j=n.DEPTH32F_STENCIL8:K===Xv&&(j=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):K===null||K===ch||K===K0?j=n.DEPTH_COMPONENT24:K===Su?j=n.DEPTH_COMPONENT32F:K===Xv&&(j=n.DEPTH_COMPONENT16),j}function R(te,K){return y(te)===!0||te.isFramebufferTexture&&te.minFilter!==ys&&te.minFilter!==Co?Math.log2(Math.max(K.width,K.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?K.mipmaps.length:1}function O(te){const K=te.target;K.removeEventListener("dispose",O),F(K),K.isVideoTexture&&l.delete(K)}function N(te){const K=te.target;K.removeEventListener("dispose",N),B(K)}function F(te){const K=r.get(te);if(K.__webglInit===void 0)return;const j=te.source,re=h.get(j);if(re){const me=re[K.__cacheKey];me.usedTimes--,me.usedTimes===0&&I(te),Object.keys(re).length===0&&h.delete(j)}r.remove(te)}function I(te){const K=r.get(te);n.deleteTexture(K.__webglTexture);const j=te.source,re=h.get(j);delete re[K.__cacheKey],s.memory.textures--}function B(te){const K=r.get(te);if(te.depthTexture&&(te.depthTexture.dispose(),r.remove(te.depthTexture)),te.isWebGLCubeRenderTarget)for(let re=0;re<6;re++){if(Array.isArray(K.__webglFramebuffer[re]))for(let me=0;me<K.__webglFramebuffer[re].length;me++)n.deleteFramebuffer(K.__webglFramebuffer[re][me]);else n.deleteFramebuffer(K.__webglFramebuffer[re]);K.__webglDepthbuffer&&n.deleteRenderbuffer(K.__webglDepthbuffer[re])}else{if(Array.isArray(K.__webglFramebuffer))for(let re=0;re<K.__webglFramebuffer.length;re++)n.deleteFramebuffer(K.__webglFramebuffer[re]);else n.deleteFramebuffer(K.__webglFramebuffer);if(K.__webglDepthbuffer&&n.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&n.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let re=0;re<K.__webglColorRenderbuffer.length;re++)K.__webglColorRenderbuffer[re]&&n.deleteRenderbuffer(K.__webglColorRenderbuffer[re]);K.__webglDepthRenderbuffer&&n.deleteRenderbuffer(K.__webglDepthRenderbuffer)}const j=te.textures;for(let re=0,me=j.length;re<me;re++){const ve=r.get(j[re]);ve.__webglTexture&&(n.deleteTexture(ve.__webglTexture),s.memory.textures--),r.remove(j[re])}r.remove(te)}let k=0;function q(){k=0}function Y(){const te=k;return te>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+i.maxTextures),k+=1,te}function ee(te){const K=[];return K.push(te.wrapS),K.push(te.wrapT),K.push(te.wrapR||0),K.push(te.magFilter),K.push(te.minFilter),K.push(te.anisotropy),K.push(te.internalFormat),K.push(te.format),K.push(te.type),K.push(te.generateMipmaps),K.push(te.premultiplyAlpha),K.push(te.flipY),K.push(te.unpackAlignment),K.push(te.colorSpace),K.join()}function le(te,K){const j=r.get(te);if(te.isVideoTexture&&yt(te),te.isRenderTargetTexture===!1&&te.version>0&&j.__version!==te.version){const re=te.image;if(re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ye(j,te,K);return}}t.bindTexture(n.TEXTURE_2D,j.__webglTexture,n.TEXTURE0+K)}function J(te,K){const j=r.get(te);if(te.version>0&&j.__version!==te.version){ye(j,te,K);return}t.bindTexture(n.TEXTURE_2D_ARRAY,j.__webglTexture,n.TEXTURE0+K)}function fe(te,K){const j=r.get(te);if(te.version>0&&j.__version!==te.version){ye(j,te,K);return}t.bindTexture(n.TEXTURE_3D,j.__webglTexture,n.TEXTURE0+K)}function V(te,K){const j=r.get(te);if(te.version>0&&j.__version!==te.version){Ce(j,te,K);return}t.bindTexture(n.TEXTURE_CUBE_MAP,j.__webglTexture,n.TEXTURE0+K)}const ae={[Op]:n.REPEAT,[sl]:n.CLAMP_TO_EDGE,[qv]:n.MIRRORED_REPEAT},ue={[ys]:n.NEAREST,[$S]:n.NEAREST_MIPMAP_NEAREST,[P0]:n.NEAREST_MIPMAP_LINEAR,[Co]:n.LINEAR,[Vv]:n.LINEAR_MIPMAP_NEAREST,[ql]:n.LINEAR_MIPMAP_LINEAR},Q={[jN]:n.NEVER,[JN]:n.ALWAYS,[WN]:n.LESS,[jT]:n.LEQUAL,[$N]:n.EQUAL,[KN]:n.GEQUAL,[qN]:n.GREATER,[XN]:n.NOTEQUAL};function de(te,K){if(K.type===Su&&e.has("OES_texture_float_linear")===!1&&(K.magFilter===Co||K.magFilter===Vv||K.magFilter===P0||K.magFilter===ql||K.minFilter===Co||K.minFilter===Vv||K.minFilter===P0||K.minFilter===ql)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(te,n.TEXTURE_WRAP_S,ae[K.wrapS]),n.texParameteri(te,n.TEXTURE_WRAP_T,ae[K.wrapT]),(te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY)&&n.texParameteri(te,n.TEXTURE_WRAP_R,ae[K.wrapR]),n.texParameteri(te,n.TEXTURE_MAG_FILTER,ue[K.magFilter]),n.texParameteri(te,n.TEXTURE_MIN_FILTER,ue[K.minFilter]),K.compareFunction&&(n.texParameteri(te,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(te,n.TEXTURE_COMPARE_FUNC,Q[K.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(K.magFilter===ys||K.minFilter!==P0&&K.minFilter!==ql||K.type===Su&&e.has("OES_texture_float_linear")===!1)return;if(K.anisotropy>1||r.get(K).__currentAnisotropy){const j=e.get("EXT_texture_filter_anisotropic");n.texParameterf(te,j.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,i.getMaxAnisotropy())),r.get(K).__currentAnisotropy=K.anisotropy}}}function we(te,K){let j=!1;te.__webglInit===void 0&&(te.__webglInit=!0,K.addEventListener("dispose",O));const re=K.source;let me=h.get(re);me===void 0&&(me={},h.set(re,me));const ve=ee(K);if(ve!==te.__cacheKey){me[ve]===void 0&&(me[ve]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,j=!0),me[ve].usedTimes++;const Me=me[te.__cacheKey];Me!==void 0&&(me[te.__cacheKey].usedTimes--,Me.usedTimes===0&&I(K)),te.__cacheKey=ve,te.__webglTexture=me[ve].texture}return j}function ye(te,K,j){let re=n.TEXTURE_2D;(K.isDataArrayTexture||K.isCompressedArrayTexture)&&(re=n.TEXTURE_2D_ARRAY),K.isData3DTexture&&(re=n.TEXTURE_3D);const me=we(te,K),ve=K.source;t.bindTexture(re,te.__webglTexture,n.TEXTURE0+j);const Me=r.get(ve);if(ve.version!==Me.__version||me===!0){t.activeTexture(n.TEXTURE0+j);const xe=Cr.getPrimaries(Cr.workingColorSpace),Ge=K.colorSpace===Kd?null:Cr.getPrimaries(K.colorSpace),et=K.colorSpace===Kd||xe===Ge?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,K.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,K.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,et);let Ne=p(K.image,!1,i.maxTextureSize);Ne=Ht(K,Ne);const Ve=o.convert(K.format,K.colorSpace),Bt=o.convert(K.type);let Nt=C(K.internalFormat,Ve,Bt,K.colorSpace,K.isVideoTexture);de(re,K);let Pt;const tn=K.mipmaps,Jt=K.isVideoTexture!==!0,Mn=Me.__version===void 0||me===!0,Re=ve.dataReady,Ft=R(K,Ne);if(K.isDepthTexture)Nt=M(K.format===J0,K.type),Mn&&(Jt?t.texStorage2D(n.TEXTURE_2D,1,Nt,Ne.width,Ne.height):t.texImage2D(n.TEXTURE_2D,0,Nt,Ne.width,Ne.height,0,Ve,Bt,null));else if(K.isDataTexture)if(tn.length>0){Jt&&Mn&&t.texStorage2D(n.TEXTURE_2D,Ft,Nt,tn[0].width,tn[0].height);for(let rt=0,dt=tn.length;rt<dt;rt++)Pt=tn[rt],Jt?Re&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,Pt.width,Pt.height,Ve,Bt,Pt.data):t.texImage2D(n.TEXTURE_2D,rt,Nt,Pt.width,Pt.height,0,Ve,Bt,Pt.data);K.generateMipmaps=!1}else Jt?(Mn&&t.texStorage2D(n.TEXTURE_2D,Ft,Nt,Ne.width,Ne.height),Re&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ne.width,Ne.height,Ve,Bt,Ne.data)):t.texImage2D(n.TEXTURE_2D,0,Nt,Ne.width,Ne.height,0,Ve,Bt,Ne.data);else if(K.isCompressedTexture)if(K.isCompressedArrayTexture){Jt&&Mn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ft,Nt,tn[0].width,tn[0].height,Ne.depth);for(let rt=0,dt=tn.length;rt<dt;rt++)if(Pt=tn[rt],K.format!==da)if(Ve!==null)if(Jt){if(Re)if(K.layerUpdates.size>0){const bt=UM(Pt.width,Pt.height,K.format,K.type);for(const kt of K.layerUpdates){const vn=Pt.data.subarray(kt*bt/Pt.data.BYTES_PER_ELEMENT,(kt+1)*bt/Pt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,kt,Pt.width,Pt.height,1,Ve,vn)}K.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,0,Pt.width,Pt.height,Ne.depth,Ve,Pt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,rt,Nt,Pt.width,Pt.height,Ne.depth,0,Pt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Jt?Re&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,0,Pt.width,Pt.height,Ne.depth,Ve,Bt,Pt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,rt,Nt,Pt.width,Pt.height,Ne.depth,0,Ve,Bt,Pt.data)}else{Jt&&Mn&&t.texStorage2D(n.TEXTURE_2D,Ft,Nt,tn[0].width,tn[0].height);for(let rt=0,dt=tn.length;rt<dt;rt++)Pt=tn[rt],K.format!==da?Ve!==null?Jt?Re&&t.compressedTexSubImage2D(n.TEXTURE_2D,rt,0,0,Pt.width,Pt.height,Ve,Pt.data):t.compressedTexImage2D(n.TEXTURE_2D,rt,Nt,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Jt?Re&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,Pt.width,Pt.height,Ve,Bt,Pt.data):t.texImage2D(n.TEXTURE_2D,rt,Nt,Pt.width,Pt.height,0,Ve,Bt,Pt.data)}else if(K.isDataArrayTexture)if(Jt){if(Mn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ft,Nt,Ne.width,Ne.height,Ne.depth),Re)if(K.layerUpdates.size>0){const rt=UM(Ne.width,Ne.height,K.format,K.type);for(const dt of K.layerUpdates){const bt=Ne.data.subarray(dt*rt/Ne.data.BYTES_PER_ELEMENT,(dt+1)*rt/Ne.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,dt,Ne.width,Ne.height,1,Ve,Bt,bt)}K.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ne.width,Ne.height,Ne.depth,Ve,Bt,Ne.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Nt,Ne.width,Ne.height,Ne.depth,0,Ve,Bt,Ne.data);else if(K.isData3DTexture)Jt?(Mn&&t.texStorage3D(n.TEXTURE_3D,Ft,Nt,Ne.width,Ne.height,Ne.depth),Re&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ne.width,Ne.height,Ne.depth,Ve,Bt,Ne.data)):t.texImage3D(n.TEXTURE_3D,0,Nt,Ne.width,Ne.height,Ne.depth,0,Ve,Bt,Ne.data);else if(K.isFramebufferTexture){if(Mn)if(Jt)t.texStorage2D(n.TEXTURE_2D,Ft,Nt,Ne.width,Ne.height);else{let rt=Ne.width,dt=Ne.height;for(let bt=0;bt<Ft;bt++)t.texImage2D(n.TEXTURE_2D,bt,Nt,rt,dt,0,Ve,Bt,null),rt>>=1,dt>>=1}}else if(tn.length>0){if(Jt&&Mn){const rt=$e(tn[0]);t.texStorage2D(n.TEXTURE_2D,Ft,Nt,rt.width,rt.height)}for(let rt=0,dt=tn.length;rt<dt;rt++)Pt=tn[rt],Jt?Re&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,Ve,Bt,Pt):t.texImage2D(n.TEXTURE_2D,rt,Nt,Ve,Bt,Pt);K.generateMipmaps=!1}else if(Jt){if(Mn){const rt=$e(Ne);t.texStorage2D(n.TEXTURE_2D,Ft,Nt,rt.width,rt.height)}Re&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ve,Bt,Ne)}else t.texImage2D(n.TEXTURE_2D,0,Nt,Ve,Bt,Ne);y(K)&&b(re),Me.__version=ve.version,K.onUpdate&&K.onUpdate(K)}te.__version=K.version}function Ce(te,K,j){if(K.image.length!==6)return;const re=we(te,K),me=K.source;t.bindTexture(n.TEXTURE_CUBE_MAP,te.__webglTexture,n.TEXTURE0+j);const ve=r.get(me);if(me.version!==ve.__version||re===!0){t.activeTexture(n.TEXTURE0+j);const Me=Cr.getPrimaries(Cr.workingColorSpace),xe=K.colorSpace===Kd?null:Cr.getPrimaries(K.colorSpace),Ge=K.colorSpace===Kd||Me===xe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,K.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,K.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ge);const et=K.isCompressedTexture||K.image[0].isCompressedTexture,Ne=K.image[0]&&K.image[0].isDataTexture,Ve=[];for(let dt=0;dt<6;dt++)!et&&!Ne?Ve[dt]=p(K.image[dt],!0,i.maxCubemapSize):Ve[dt]=Ne?K.image[dt].image:K.image[dt],Ve[dt]=Ht(K,Ve[dt]);const Bt=Ve[0],Nt=o.convert(K.format,K.colorSpace),Pt=o.convert(K.type),tn=C(K.internalFormat,Nt,Pt,K.colorSpace),Jt=K.isVideoTexture!==!0,Mn=ve.__version===void 0||re===!0,Re=me.dataReady;let Ft=R(K,Bt);de(n.TEXTURE_CUBE_MAP,K);let rt;if(et){Jt&&Mn&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ft,tn,Bt.width,Bt.height);for(let dt=0;dt<6;dt++){rt=Ve[dt].mipmaps;for(let bt=0;bt<rt.length;bt++){const kt=rt[bt];K.format!==da?Nt!==null?Jt?Re&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,bt,0,0,kt.width,kt.height,Nt,kt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,bt,tn,kt.width,kt.height,0,kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Jt?Re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,bt,0,0,kt.width,kt.height,Nt,Pt,kt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,bt,tn,kt.width,kt.height,0,Nt,Pt,kt.data)}}}else{if(rt=K.mipmaps,Jt&&Mn){rt.length>0&&Ft++;const dt=$e(Ve[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Ft,tn,dt.width,dt.height)}for(let dt=0;dt<6;dt++)if(Ne){Jt?Re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,0,0,Ve[dt].width,Ve[dt].height,Nt,Pt,Ve[dt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,tn,Ve[dt].width,Ve[dt].height,0,Nt,Pt,Ve[dt].data);for(let bt=0;bt<rt.length;bt++){const vn=rt[bt].image[dt].image;Jt?Re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,bt+1,0,0,vn.width,vn.height,Nt,Pt,vn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,bt+1,tn,vn.width,vn.height,0,Nt,Pt,vn.data)}}else{Jt?Re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,0,0,Nt,Pt,Ve[dt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,tn,Nt,Pt,Ve[dt]);for(let bt=0;bt<rt.length;bt++){const kt=rt[bt];Jt?Re&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,bt+1,0,0,Nt,Pt,kt.image[dt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+dt,bt+1,tn,Nt,Pt,kt.image[dt])}}}y(K)&&b(n.TEXTURE_CUBE_MAP),ve.__version=me.version,K.onUpdate&&K.onUpdate(K)}te.__version=K.version}function Le(te,K,j,re,me,ve){const Me=o.convert(j.format,j.colorSpace),xe=o.convert(j.type),Ge=C(j.internalFormat,Me,xe,j.colorSpace),et=r.get(K),Ne=r.get(j);if(Ne.__renderTarget=K,!et.__hasExternalTextures){const Ve=Math.max(1,K.width>>ve),Bt=Math.max(1,K.height>>ve);me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY?t.texImage3D(me,ve,Ge,Ve,Bt,K.depth,0,Me,xe,null):t.texImage2D(me,ve,Ge,Ve,Bt,0,Me,xe,null)}t.bindFramebuffer(n.FRAMEBUFFER,te),vt(K)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,re,me,Ne.__webglTexture,0,ft(K)):(me===n.TEXTURE_2D||me>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&me<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,re,me,Ne.__webglTexture,ve),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ie(te,K,j){if(n.bindRenderbuffer(n.RENDERBUFFER,te),K.depthBuffer){const re=K.depthTexture,me=re&&re.isDepthTexture?re.type:null,ve=M(K.stencilBuffer,me),Me=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,xe=ft(K);vt(K)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,xe,ve,K.width,K.height):j?n.renderbufferStorageMultisample(n.RENDERBUFFER,xe,ve,K.width,K.height):n.renderbufferStorage(n.RENDERBUFFER,ve,K.width,K.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Me,n.RENDERBUFFER,te)}else{const re=K.textures;for(let me=0;me<re.length;me++){const ve=re[me],Me=o.convert(ve.format,ve.colorSpace),xe=o.convert(ve.type),Ge=C(ve.internalFormat,Me,xe,ve.colorSpace),et=ft(K);j&&vt(K)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,et,Ge,K.width,K.height):vt(K)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,et,Ge,K.width,K.height):n.renderbufferStorage(n.RENDERBUFFER,Ge,K.width,K.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ze(te,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,te),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const re=r.get(K.depthTexture);re.__renderTarget=K,(!re.__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),le(K.depthTexture,0);const me=re.__webglTexture,ve=ft(K);if(K.depthTexture.format===V0)vt(K)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,me,0,ve):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,me,0);else if(K.depthTexture.format===J0)vt(K)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,me,0,ve):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,me,0);else throw new Error("Unknown depthTexture format")}function tt(te){const K=r.get(te),j=te.isWebGLCubeRenderTarget===!0;if(K.__boundDepthTexture!==te.depthTexture){const re=te.depthTexture;if(K.__depthDisposeCallback&&K.__depthDisposeCallback(),re){const me=()=>{delete K.__boundDepthTexture,delete K.__depthDisposeCallback,re.removeEventListener("dispose",me)};re.addEventListener("dispose",me),K.__depthDisposeCallback=me}K.__boundDepthTexture=re}if(te.depthTexture&&!K.__autoAllocateDepthBuffer){if(j)throw new Error("target.depthTexture not supported in Cube render targets");Ze(K.__webglFramebuffer,te)}else if(j){K.__webglDepthbuffer=[];for(let re=0;re<6;re++)if(t.bindFramebuffer(n.FRAMEBUFFER,K.__webglFramebuffer[re]),K.__webglDepthbuffer[re]===void 0)K.__webglDepthbuffer[re]=n.createRenderbuffer(),Ie(K.__webglDepthbuffer[re],te,!1);else{const me=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ve=K.__webglDepthbuffer[re];n.bindRenderbuffer(n.RENDERBUFFER,ve),n.framebufferRenderbuffer(n.FRAMEBUFFER,me,n.RENDERBUFFER,ve)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer===void 0)K.__webglDepthbuffer=n.createRenderbuffer(),Ie(K.__webglDepthbuffer,te,!1);else{const re=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,me=K.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,me),n.framebufferRenderbuffer(n.FRAMEBUFFER,re,n.RENDERBUFFER,me)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(te,K,j){const re=r.get(te);K!==void 0&&Le(re.__webglFramebuffer,te,te.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),j!==void 0&&tt(te)}function lt(te){const K=te.texture,j=r.get(te),re=r.get(K);te.addEventListener("dispose",N);const me=te.textures,ve=te.isWebGLCubeRenderTarget===!0,Me=me.length>1;if(Me||(re.__webglTexture===void 0&&(re.__webglTexture=n.createTexture()),re.__version=K.version,s.memory.textures++),ve){j.__webglFramebuffer=[];for(let xe=0;xe<6;xe++)if(K.mipmaps&&K.mipmaps.length>0){j.__webglFramebuffer[xe]=[];for(let Ge=0;Ge<K.mipmaps.length;Ge++)j.__webglFramebuffer[xe][Ge]=n.createFramebuffer()}else j.__webglFramebuffer[xe]=n.createFramebuffer()}else{if(K.mipmaps&&K.mipmaps.length>0){j.__webglFramebuffer=[];for(let xe=0;xe<K.mipmaps.length;xe++)j.__webglFramebuffer[xe]=n.createFramebuffer()}else j.__webglFramebuffer=n.createFramebuffer();if(Me)for(let xe=0,Ge=me.length;xe<Ge;xe++){const et=r.get(me[xe]);et.__webglTexture===void 0&&(et.__webglTexture=n.createTexture(),s.memory.textures++)}if(te.samples>0&&vt(te)===!1){j.__webglMultisampledFramebuffer=n.createFramebuffer(),j.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,j.__webglMultisampledFramebuffer);for(let xe=0;xe<me.length;xe++){const Ge=me[xe];j.__webglColorRenderbuffer[xe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,j.__webglColorRenderbuffer[xe]);const et=o.convert(Ge.format,Ge.colorSpace),Ne=o.convert(Ge.type),Ve=C(Ge.internalFormat,et,Ne,Ge.colorSpace,te.isXRRenderTarget===!0),Bt=ft(te);n.renderbufferStorageMultisample(n.RENDERBUFFER,Bt,Ve,te.width,te.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+xe,n.RENDERBUFFER,j.__webglColorRenderbuffer[xe])}n.bindRenderbuffer(n.RENDERBUFFER,null),te.depthBuffer&&(j.__webglDepthRenderbuffer=n.createRenderbuffer(),Ie(j.__webglDepthRenderbuffer,te,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ve){t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture),de(n.TEXTURE_CUBE_MAP,K);for(let xe=0;xe<6;xe++)if(K.mipmaps&&K.mipmaps.length>0)for(let Ge=0;Ge<K.mipmaps.length;Ge++)Le(j.__webglFramebuffer[xe][Ge],te,K,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Ge);else Le(j.__webglFramebuffer[xe],te,K,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0);y(K)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Me){for(let xe=0,Ge=me.length;xe<Ge;xe++){const et=me[xe],Ne=r.get(et);t.bindTexture(n.TEXTURE_2D,Ne.__webglTexture),de(n.TEXTURE_2D,et),Le(j.__webglFramebuffer,te,et,n.COLOR_ATTACHMENT0+xe,n.TEXTURE_2D,0),y(et)&&b(n.TEXTURE_2D)}t.unbindTexture()}else{let xe=n.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(xe=te.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(xe,re.__webglTexture),de(xe,K),K.mipmaps&&K.mipmaps.length>0)for(let Ge=0;Ge<K.mipmaps.length;Ge++)Le(j.__webglFramebuffer[Ge],te,K,n.COLOR_ATTACHMENT0,xe,Ge);else Le(j.__webglFramebuffer,te,K,n.COLOR_ATTACHMENT0,xe,0);y(K)&&b(xe),t.unbindTexture()}te.depthBuffer&&tt(te)}function We(te){const K=te.textures;for(let j=0,re=K.length;j<re;j++){const me=K[j];if(y(me)){const ve=x(te),Me=r.get(me).__webglTexture;t.bindTexture(ve,Me),b(ve),t.unbindTexture()}}}const Ke=[],he=[];function wt(te){if(te.samples>0){if(vt(te)===!1){const K=te.textures,j=te.width,re=te.height;let me=n.COLOR_BUFFER_BIT;const ve=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Me=r.get(te),xe=K.length>1;if(xe)for(let Ge=0;Ge<K.length;Ge++)t.bindFramebuffer(n.FRAMEBUFFER,Me.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Me.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Me.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Me.__webglFramebuffer);for(let Ge=0;Ge<K.length;Ge++){if(te.resolveDepthBuffer&&(te.depthBuffer&&(me|=n.DEPTH_BUFFER_BIT),te.stencilBuffer&&te.resolveStencilBuffer&&(me|=n.STENCIL_BUFFER_BIT)),xe){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Me.__webglColorRenderbuffer[Ge]);const et=r.get(K[Ge]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,et,0)}n.blitFramebuffer(0,0,j,re,0,0,j,re,me,n.NEAREST),u===!0&&(Ke.length=0,he.length=0,Ke.push(n.COLOR_ATTACHMENT0+Ge),te.depthBuffer&&te.resolveDepthBuffer===!1&&(Ke.push(ve),he.push(ve),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,he)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ke))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),xe)for(let Ge=0;Ge<K.length;Ge++){t.bindFramebuffer(n.FRAMEBUFFER,Me.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.RENDERBUFFER,Me.__webglColorRenderbuffer[Ge]);const et=r.get(K[Ge]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Me.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.TEXTURE_2D,et,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Me.__webglMultisampledFramebuffer)}else if(te.depthBuffer&&te.resolveDepthBuffer===!1&&u){const K=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[K])}}}function ft(te){return Math.min(i.maxSamples,te.samples)}function vt(te){const K=r.get(te);return te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function yt(te){const K=s.render.frame;l.get(te)!==K&&(l.set(te,K),te.update())}function Ht(te,K){const j=te.colorSpace,re=te.format,me=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||j!==Y0&&j!==Kd&&(Cr.getTransfer(j)===ni?(re!==da||me!==jc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",j)),K}function $e(te){return typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement?(c.width=te.naturalWidth||te.width,c.height=te.naturalHeight||te.height):typeof VideoFrame<"u"&&te instanceof VideoFrame?(c.width=te.displayWidth,c.height=te.displayHeight):(c.width=te.width,c.height=te.height),c}this.allocateTextureUnit=Y,this.resetTextureUnits=q,this.setTexture2D=le,this.setTexture2DArray=J,this.setTexture3D=fe,this.setTextureCube=V,this.rebindTextures=Qe,this.setupRenderTarget=lt,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=wt,this.setupDepthRenderbuffer=tt,this.setupFrameBufferTexture=Le,this.useMultisampledRTT=vt}function Q4(n,e){function t(r,i=Kd){let o;const s=Cr.getTransfer(i);if(r===jc)return n.UNSIGNED_BYTE;if(r===XS)return n.UNSIGNED_SHORT_4_4_4_4;if(r===KS)return n.UNSIGNED_SHORT_5_5_5_1;if(r===FT)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===IT)return n.BYTE;if(r===BT)return n.SHORT;if(r===Xv)return n.UNSIGNED_SHORT;if(r===qS)return n.INT;if(r===ch)return n.UNSIGNED_INT;if(r===Su)return n.FLOAT;if(r===h1)return n.HALF_FLOAT;if(r===LT)return n.ALPHA;if(r===NT)return n.RGB;if(r===da)return n.RGBA;if(r===UT)return n.LUMINANCE;if(r===kT)return n.LUMINANCE_ALPHA;if(r===V0)return n.DEPTH_COMPONENT;if(r===J0)return n.DEPTH_STENCIL;if(r===JS)return n.RED;if(r===Wy)return n.RED_INTEGER;if(r===zT)return n.RG;if(r===YS)return n.RG_INTEGER;if(r===QS)return n.RGBA_INTEGER;if(r===Y_||r===Q_||r===Z_||r===ey)if(s===ni)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Y_)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Q_)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Z_)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===ey)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Y_)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Q_)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Z_)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===ey)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===FE||r===LE||r===NE||r===UE)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===FE)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===LE)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===NE)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===UE)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===kE||r===zE||r===HE)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===kE||r===zE)return s===ni?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===HE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===GE||r===VE||r===jE||r===WE||r===$E||r===qE||r===XE||r===KE||r===JE||r===YE||r===QE||r===ZE||r===eS||r===tS)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===GE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===VE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===jE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===WE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===$E)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===qE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===XE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===KE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===JE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===YE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===QE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===ZE)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===eS)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===tS)return s===ni?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===ty||r===nS||r===rS)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===ty)return s===ni?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===nS)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===rS)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===HT||r===iS||r===oS||r===sS)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===ty)return o.COMPRESSED_RED_RGTC1_EXT;if(r===iS)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===oS)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===sS)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===K0?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const eJ={type:"move"};class m2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Zd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Zd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Zd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null;const a=this._targetRay,u=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const p of e.hand.values()){const y=t.getJointPose(p,r),b=this._getHandJoint(c,p);y!==null&&(b.matrix.fromArray(y.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=y.radius),b.visible=y!==null}const l=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=l.position.distanceTo(f.position),m=.02,g=.005;c.inputState.pinching&&h>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(eJ)))}return a!==null&&(a.visible=i!==null),u!==null&&(u.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Zd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const tJ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,nJ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class rJ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new Mi,o=e.properties.get(i);o.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new $c({vertexShader:tJ,fragmentShader:nJ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Mo(new g1(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class iJ extends Wf{constructor(e,t){super();const r=this;let i=null,o=1,s=null,a="local-floor",u=1,c=null,l=null,f=null,h=null,m=null,g=null;const p=new rJ,y=t.getContextAttributes();let b=null,x=null;const C=[],M=[],R=new _t;let O=null;const N=new wo;N.viewport=new Mr;const F=new wo;F.viewport=new Mr;const I=[N,F],B=new H4;let k=null,q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ye){let Ce=C[ye];return Ce===void 0&&(Ce=new m2,C[ye]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(ye){let Ce=C[ye];return Ce===void 0&&(Ce=new m2,C[ye]=Ce),Ce.getGripSpace()},this.getHand=function(ye){let Ce=C[ye];return Ce===void 0&&(Ce=new m2,C[ye]=Ce),Ce.getHandSpace()};function Y(ye){const Ce=M.indexOf(ye.inputSource);if(Ce===-1)return;const Le=C[Ce];Le!==void 0&&(Le.update(ye.inputSource,ye.frame,c||s),Le.dispatchEvent({type:ye.type,data:ye.inputSource}))}function ee(){i.removeEventListener("select",Y),i.removeEventListener("selectstart",Y),i.removeEventListener("selectend",Y),i.removeEventListener("squeeze",Y),i.removeEventListener("squeezestart",Y),i.removeEventListener("squeezeend",Y),i.removeEventListener("end",ee),i.removeEventListener("inputsourceschange",le);for(let ye=0;ye<C.length;ye++){const Ce=M[ye];Ce!==null&&(M[ye]=null,C[ye].disconnect(Ce))}k=null,q=null,p.reset(),e.setRenderTarget(b),m=null,h=null,f=null,i=null,x=null,we.stop(),r.isPresenting=!1,e.setPixelRatio(O),e.setSize(R.width,R.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ye){o=ye,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ye){a=ye,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(ye){c=ye},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(ye){if(i=ye,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",Y),i.addEventListener("selectstart",Y),i.addEventListener("selectend",Y),i.addEventListener("squeeze",Y),i.addEventListener("squeezestart",Y),i.addEventListener("squeezeend",Y),i.addEventListener("end",ee),i.addEventListener("inputsourceschange",le),y.xrCompatible!==!0&&await t.makeXRCompatible(),O=e.getPixelRatio(),e.getSize(R),i.renderState.layers===void 0){const Ce={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(i,t,Ce),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),x=new Wc(m.framebufferWidth,m.framebufferHeight,{format:da,type:jc,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let Ce=null,Le=null,Ie=null;y.depth&&(Ie=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ce=y.stencil?J0:V0,Le=y.stencil?K0:ch);const Ze={colorFormat:t.RGBA8,depthFormat:Ie,scaleFactor:o};f=new XRWebGLBinding(i,t),h=f.createProjectionLayer(Ze),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),x=new Wc(h.textureWidth,h.textureHeight,{format:da,type:jc,depthTexture:new tP(h.textureWidth,h.textureHeight,Le,void 0,void 0,void 0,void 0,void 0,void 0,Ce),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}x.isXRRenderTarget=!0,this.setFoveation(u),c=null,s=await i.requestReferenceSpace(a),we.setContext(i),we.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};function le(ye){for(let Ce=0;Ce<ye.removed.length;Ce++){const Le=ye.removed[Ce],Ie=M.indexOf(Le);Ie>=0&&(M[Ie]=null,C[Ie].disconnect(Le))}for(let Ce=0;Ce<ye.added.length;Ce++){const Le=ye.added[Ce];let Ie=M.indexOf(Le);if(Ie===-1){for(let tt=0;tt<C.length;tt++)if(tt>=M.length){M.push(Le),Ie=tt;break}else if(M[tt]===null){M[tt]=Le,Ie=tt;break}if(Ie===-1)break}const Ze=C[Ie];Ze&&Ze.connect(Le)}}const J=new oe,fe=new oe;function V(ye,Ce,Le){J.setFromMatrixPosition(Ce.matrixWorld),fe.setFromMatrixPosition(Le.matrixWorld);const Ie=J.distanceTo(fe),Ze=Ce.projectionMatrix.elements,tt=Le.projectionMatrix.elements,Qe=Ze[14]/(Ze[10]-1),lt=Ze[14]/(Ze[10]+1),We=(Ze[9]+1)/Ze[5],Ke=(Ze[9]-1)/Ze[5],he=(Ze[8]-1)/Ze[0],wt=(tt[8]+1)/tt[0],ft=Qe*he,vt=Qe*wt,yt=Ie/(-he+wt),Ht=yt*-he;if(Ce.matrixWorld.decompose(ye.position,ye.quaternion,ye.scale),ye.translateX(Ht),ye.translateZ(yt),ye.matrixWorld.compose(ye.position,ye.quaternion,ye.scale),ye.matrixWorldInverse.copy(ye.matrixWorld).invert(),Ze[10]===-1)ye.projectionMatrix.copy(Ce.projectionMatrix),ye.projectionMatrixInverse.copy(Ce.projectionMatrixInverse);else{const $e=Qe+yt,te=lt+yt,K=ft-Ht,j=vt+(Ie-Ht),re=We*lt/te*$e,me=Ke*lt/te*$e;ye.projectionMatrix.makePerspective(K,j,re,me,$e,te),ye.projectionMatrixInverse.copy(ye.projectionMatrix).invert()}}function ae(ye,Ce){Ce===null?ye.matrixWorld.copy(ye.matrix):ye.matrixWorld.multiplyMatrices(Ce.matrixWorld,ye.matrix),ye.matrixWorldInverse.copy(ye.matrixWorld).invert()}this.updateCamera=function(ye){if(i===null)return;let Ce=ye.near,Le=ye.far;p.texture!==null&&(p.depthNear>0&&(Ce=p.depthNear),p.depthFar>0&&(Le=p.depthFar)),B.near=F.near=N.near=Ce,B.far=F.far=N.far=Le,(k!==B.near||q!==B.far)&&(i.updateRenderState({depthNear:B.near,depthFar:B.far}),k=B.near,q=B.far),N.layers.mask=ye.layers.mask|2,F.layers.mask=ye.layers.mask|4,B.layers.mask=N.layers.mask|F.layers.mask;const Ie=ye.parent,Ze=B.cameras;ae(B,Ie);for(let tt=0;tt<Ze.length;tt++)ae(Ze[tt],Ie);Ze.length===2?V(B,N,F):B.projectionMatrix.copy(N.projectionMatrix),ue(ye,B,Ie)};function ue(ye,Ce,Le){Le===null?ye.matrix.copy(Ce.matrixWorld):(ye.matrix.copy(Le.matrixWorld),ye.matrix.invert(),ye.matrix.multiply(Ce.matrixWorld)),ye.matrix.decompose(ye.position,ye.quaternion,ye.scale),ye.updateMatrixWorld(!0),ye.projectionMatrix.copy(Ce.projectionMatrix),ye.projectionMatrixInverse.copy(Ce.projectionMatrixInverse),ye.isPerspectiveCamera&&(ye.fov=Yv*2*Math.atan(1/ye.projectionMatrix.elements[5]),ye.zoom=1)}this.getCamera=function(){return B},this.getFoveation=function(){if(!(h===null&&m===null))return u},this.setFoveation=function(ye){u=ye,h!==null&&(h.fixedFoveation=ye),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ye)},this.hasDepthSensing=function(){return p.texture!==null},this.getDepthSensingMesh=function(){return p.getMesh(B)};let Q=null;function de(ye,Ce){if(l=Ce.getViewerPose(c||s),g=Ce,l!==null){const Le=l.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let Ie=!1;Le.length!==B.cameras.length&&(B.cameras.length=0,Ie=!0);for(let tt=0;tt<Le.length;tt++){const Qe=Le[tt];let lt=null;if(m!==null)lt=m.getViewport(Qe);else{const Ke=f.getViewSubImage(h,Qe);lt=Ke.viewport,tt===0&&(e.setRenderTargetTextures(x,Ke.colorTexture,h.ignoreDepthValues?void 0:Ke.depthStencilTexture),e.setRenderTarget(x))}let We=I[tt];We===void 0&&(We=new wo,We.layers.enable(tt),We.viewport=new Mr,I[tt]=We),We.matrix.fromArray(Qe.transform.matrix),We.matrix.decompose(We.position,We.quaternion,We.scale),We.projectionMatrix.fromArray(Qe.projectionMatrix),We.projectionMatrixInverse.copy(We.projectionMatrix).invert(),We.viewport.set(lt.x,lt.y,lt.width,lt.height),tt===0&&(B.matrix.copy(We.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),Ie===!0&&B.cameras.push(We)}const Ze=i.enabledFeatures;if(Ze&&Ze.includes("depth-sensing")){const tt=f.getDepthInformation(Le[0]);tt&&tt.isValid&&tt.texture&&p.init(e,tt,i.renderState)}}for(let Le=0;Le<C.length;Le++){const Ie=M[Le],Ze=C[Le];Ie!==null&&Ze!==void 0&&Ze.update(Ie,Ce,c||s)}Q&&Q(ye,Ce),Ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ce}),g=null}const we=new q4;we.setAnimationLoop(de),this.setAnimationLoop=function(ye){Q=ye},this.dispose=function(){}}}const Rm=new dl,oJ=new dn;function sJ(n,e){function t(y,b){y.matrixAutoUpdate===!0&&y.updateMatrix(),b.value.copy(y.matrix)}function r(y,b){b.color.getRGB(y.fogColor.value,n4(n)),b.isFog?(y.fogNear.value=b.near,y.fogFar.value=b.far):b.isFogExp2&&(y.fogDensity.value=b.density)}function i(y,b,x,C,M){b.isMeshBasicMaterial||b.isMeshLambertMaterial?o(y,b):b.isMeshToonMaterial?(o(y,b),f(y,b)):b.isMeshPhongMaterial?(o(y,b),l(y,b)):b.isMeshStandardMaterial?(o(y,b),h(y,b),b.isMeshPhysicalMaterial&&m(y,b,M)):b.isMeshMatcapMaterial?(o(y,b),g(y,b)):b.isMeshDepthMaterial?o(y,b):b.isMeshDistanceMaterial?(o(y,b),p(y,b)):b.isMeshNormalMaterial?o(y,b):b.isLineBasicMaterial?(s(y,b),b.isLineDashedMaterial&&a(y,b)):b.isPointsMaterial?u(y,b,x,C):b.isSpriteMaterial?c(y,b):b.isShadowMaterial?(y.color.value.copy(b.color),y.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function o(y,b){y.opacity.value=b.opacity,b.color&&y.diffuse.value.copy(b.color),b.emissive&&y.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(y.map.value=b.map,t(b.map,y.mapTransform)),b.alphaMap&&(y.alphaMap.value=b.alphaMap,t(b.alphaMap,y.alphaMapTransform)),b.bumpMap&&(y.bumpMap.value=b.bumpMap,t(b.bumpMap,y.bumpMapTransform),y.bumpScale.value=b.bumpScale,b.side===ja&&(y.bumpScale.value*=-1)),b.normalMap&&(y.normalMap.value=b.normalMap,t(b.normalMap,y.normalMapTransform),y.normalScale.value.copy(b.normalScale),b.side===ja&&y.normalScale.value.negate()),b.displacementMap&&(y.displacementMap.value=b.displacementMap,t(b.displacementMap,y.displacementMapTransform),y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias),b.emissiveMap&&(y.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,y.emissiveMapTransform)),b.specularMap&&(y.specularMap.value=b.specularMap,t(b.specularMap,y.specularMapTransform)),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest);const x=e.get(b),C=x.envMap,M=x.envMapRotation;C&&(y.envMap.value=C,Rm.copy(M),Rm.x*=-1,Rm.y*=-1,Rm.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Rm.y*=-1,Rm.z*=-1),y.envMapRotation.value.setFromMatrix4(oJ.makeRotationFromEuler(Rm)),y.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=b.reflectivity,y.ior.value=b.ior,y.refractionRatio.value=b.refractionRatio),b.lightMap&&(y.lightMap.value=b.lightMap,y.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,y.lightMapTransform)),b.aoMap&&(y.aoMap.value=b.aoMap,y.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,y.aoMapTransform))}function s(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,b.map&&(y.map.value=b.map,t(b.map,y.mapTransform))}function a(y,b){y.dashSize.value=b.dashSize,y.totalSize.value=b.dashSize+b.gapSize,y.scale.value=b.scale}function u(y,b,x,C){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.size.value=b.size*x,y.scale.value=C*.5,b.map&&(y.map.value=b.map,t(b.map,y.uvTransform)),b.alphaMap&&(y.alphaMap.value=b.alphaMap,t(b.alphaMap,y.alphaMapTransform)),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest)}function c(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.rotation.value=b.rotation,b.map&&(y.map.value=b.map,t(b.map,y.mapTransform)),b.alphaMap&&(y.alphaMap.value=b.alphaMap,t(b.alphaMap,y.alphaMapTransform)),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest)}function l(y,b){y.specular.value.copy(b.specular),y.shininess.value=Math.max(b.shininess,1e-4)}function f(y,b){b.gradientMap&&(y.gradientMap.value=b.gradientMap)}function h(y,b){y.metalness.value=b.metalness,b.metalnessMap&&(y.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,y.metalnessMapTransform)),y.roughness.value=b.roughness,b.roughnessMap&&(y.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,y.roughnessMapTransform)),b.envMap&&(y.envMapIntensity.value=b.envMapIntensity)}function m(y,b,x){y.ior.value=b.ior,b.sheen>0&&(y.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),y.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(y.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,y.sheenColorMapTransform)),b.sheenRoughnessMap&&(y.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,y.sheenRoughnessMapTransform))),b.clearcoat>0&&(y.clearcoat.value=b.clearcoat,y.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(y.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,y.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(y.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===ja&&y.clearcoatNormalScale.value.negate())),b.dispersion>0&&(y.dispersion.value=b.dispersion),b.iridescence>0&&(y.iridescence.value=b.iridescence,y.iridescenceIOR.value=b.iridescenceIOR,y.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(y.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,y.iridescenceMapTransform)),b.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),b.transmission>0&&(y.transmission.value=b.transmission,y.transmissionSamplerMap.value=x.texture,y.transmissionSamplerSize.value.set(x.width,x.height),b.transmissionMap&&(y.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,y.transmissionMapTransform)),y.thickness.value=b.thickness,b.thicknessMap&&(y.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=b.attenuationDistance,y.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(y.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(y.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=b.specularIntensity,y.specularColor.value.copy(b.specularColor),b.specularColorMap&&(y.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,y.specularColorMapTransform)),b.specularIntensityMap&&(y.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,b){b.matcap&&(y.matcap.value=b.matcap)}function p(y,b){const x=e.get(b).light;y.referencePosition.value.setFromMatrixPosition(x.matrixWorld),y.nearDistance.value=x.shadow.camera.near,y.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function aJ(n,e,t,r){let i={},o={},s=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(x,C){const M=C.program;r.uniformBlockBinding(x,M)}function c(x,C){let M=i[x.id];M===void 0&&(g(x),M=l(x),i[x.id]=M,x.addEventListener("dispose",y));const R=C.program;r.updateUBOMapping(x,R);const O=e.render.frame;o[x.id]!==O&&(h(x),o[x.id]=O)}function l(x){const C=f();x.__bindingPointIndex=C;const M=n.createBuffer(),R=x.__size,O=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,R,O),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,M),M}function f(){for(let x=0;x<a;x++)if(s.indexOf(x)===-1)return s.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const C=i[x.id],M=x.uniforms,R=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,C);for(let O=0,N=M.length;O<N;O++){const F=Array.isArray(M[O])?M[O]:[M[O]];for(let I=0,B=F.length;I<B;I++){const k=F[I];if(m(k,O,I,R)===!0){const q=k.__offset,Y=Array.isArray(k.value)?k.value:[k.value];let ee=0;for(let le=0;le<Y.length;le++){const J=Y[le],fe=p(J);typeof J=="number"||typeof J=="boolean"?(k.__data[0]=J,n.bufferSubData(n.UNIFORM_BUFFER,q+ee,k.__data)):J.isMatrix3?(k.__data[0]=J.elements[0],k.__data[1]=J.elements[1],k.__data[2]=J.elements[2],k.__data[3]=0,k.__data[4]=J.elements[3],k.__data[5]=J.elements[4],k.__data[6]=J.elements[5],k.__data[7]=0,k.__data[8]=J.elements[6],k.__data[9]=J.elements[7],k.__data[10]=J.elements[8],k.__data[11]=0):(J.toArray(k.__data,ee),ee+=fe.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,q,k.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,C,M,R){const O=x.value,N=C+"_"+M;if(R[N]===void 0)return typeof O=="number"||typeof O=="boolean"?R[N]=O:R[N]=O.clone(),!0;{const F=R[N];if(typeof O=="number"||typeof O=="boolean"){if(F!==O)return R[N]=O,!0}else if(F.equals(O)===!1)return F.copy(O),!0}return!1}function g(x){const C=x.uniforms;let M=0;const R=16;for(let N=0,F=C.length;N<F;N++){const I=Array.isArray(C[N])?C[N]:[C[N]];for(let B=0,k=I.length;B<k;B++){const q=I[B],Y=Array.isArray(q.value)?q.value:[q.value];for(let ee=0,le=Y.length;ee<le;ee++){const J=Y[ee],fe=p(J),V=M%R,ae=V%fe.boundary,ue=V+ae;M+=ae,ue!==0&&R-ue<fe.storage&&(M+=R-ue),q.__data=new Float32Array(fe.storage/Float32Array.BYTES_PER_ELEMENT),q.__offset=M,M+=fe.storage}}}const O=M%R;return O>0&&(M+=R-O),x.__size=M,x.__cache={},this}function p(x){const C={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(C.boundary=4,C.storage=4):x.isVector2?(C.boundary=8,C.storage=8):x.isVector3||x.isColor?(C.boundary=16,C.storage=12):x.isVector4?(C.boundary=16,C.storage=16):x.isMatrix3?(C.boundary=48,C.storage=48):x.isMatrix4?(C.boundary=64,C.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),C}function y(x){const C=x.target;C.removeEventListener("dispose",y);const M=s.indexOf(C.__bindingPointIndex);s.splice(M,1),n.deleteBuffer(i[C.id]),delete i[C.id],delete o[C.id]}function b(){for(const x in i)n.deleteBuffer(i[x]);s=[],i={},o={}}return{bind:u,update:c,dispose:b}}class Z4{constructor(e={}){const{canvas:t=QN(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:l="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=s;const g=new Uint32Array(4),p=new Int32Array(4);let y=null,b=null;const x=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=bu,this.toneMapping=Uf,this.toneMappingExposure=1;const M=this;let R=!1,O=0,N=0,F=null,I=-1,B=null;const k=new Mr,q=new Mr;let Y=null;const ee=new zt(0);let le=0,J=t.width,fe=t.height,V=1,ae=null,ue=null;const Q=new Mr(0,0,J,fe),de=new Mr(0,0,J,fe);let we=!1;const ye=new Jy;let Ce=!1,Le=!1;const Ie=new dn,Ze=new dn,tt=new oe,Qe=new Mr,lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let We=!1;function Ke(){return F===null?V:1}let he=r;function wt(se,Oe){return t.getContext(se,Oe)}try{const se={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Vy}`),t.addEventListener("webglcontextlost",dt,!1),t.addEventListener("webglcontextrestored",bt,!1),t.addEventListener("webglcontextcreationerror",kt,!1),he===null){const Oe="webgl2";if(he=wt(Oe,se),he===null)throw wt(Oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(se){throw console.error("THREE.WebGLRenderer: "+se.message),se}let ft,vt,yt,Ht,$e,te,K,j,re,me,ve,Me,xe,Ge,et,Ne,Ve,Bt,Nt,Pt,tn,Jt,Mn,Re;function Ft(){ft=new _X(he),ft.init(),Jt=new Q4(he,ft),vt=new dX(he,ft,e,Jt),yt=new QK(he,ft),vt.reverseDepthBuffer&&h&&yt.buffers.depth.setReversed(!0),Ht=new AX(he),$e=new kK,te=new ZK(he,ft,yt,$e,vt,Jt,Ht),K=new pX(M),j=new vX(M),re=new TW(he),Mn=new cX(he,re),me=new yX(he,re,Ht,Mn),ve=new SX(he,me,re,Ht),Nt=new EX(he,vt,te),Ne=new hX($e),Me=new UK(M,K,j,ft,vt,Mn,Ne),xe=new sJ(M,$e),Ge=new HK,et=new qK(ft),Bt=new lX(M,K,j,yt,ve,m,u),Ve=new JK(M,ve,vt),Re=new aJ(he,Ht,vt,yt),Pt=new fX(he,ft,Ht),tn=new bX(he,ft,Ht),Ht.programs=Me.programs,M.capabilities=vt,M.extensions=ft,M.properties=$e,M.renderLists=Ge,M.shadowMap=Ve,M.state=yt,M.info=Ht}Ft();const rt=new iJ(M,he);this.xr=rt,this.getContext=function(){return he},this.getContextAttributes=function(){return he.getContextAttributes()},this.forceContextLoss=function(){const se=ft.get("WEBGL_lose_context");se&&se.loseContext()},this.forceContextRestore=function(){const se=ft.get("WEBGL_lose_context");se&&se.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(se){se!==void 0&&(V=se,this.setSize(J,fe,!1))},this.getSize=function(se){return se.set(J,fe)},this.setSize=function(se,Oe,ke=!0){if(rt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=se,fe=Oe,t.width=Math.floor(se*V),t.height=Math.floor(Oe*V),ke===!0&&(t.style.width=se+"px",t.style.height=Oe+"px"),this.setViewport(0,0,se,Oe)},this.getDrawingBufferSize=function(se){return se.set(J*V,fe*V).floor()},this.setDrawingBufferSize=function(se,Oe,ke){J=se,fe=Oe,V=ke,t.width=Math.floor(se*ke),t.height=Math.floor(Oe*ke),this.setViewport(0,0,se,Oe)},this.getCurrentViewport=function(se){return se.copy(k)},this.getViewport=function(se){return se.copy(Q)},this.setViewport=function(se,Oe,ke,je){se.isVector4?Q.set(se.x,se.y,se.z,se.w):Q.set(se,Oe,ke,je),yt.viewport(k.copy(Q).multiplyScalar(V).round())},this.getScissor=function(se){return se.copy(de)},this.setScissor=function(se,Oe,ke,je){se.isVector4?de.set(se.x,se.y,se.z,se.w):de.set(se,Oe,ke,je),yt.scissor(q.copy(de).multiplyScalar(V).round())},this.getScissorTest=function(){return we},this.setScissorTest=function(se){yt.setScissorTest(we=se)},this.setOpaqueSort=function(se){ae=se},this.setTransparentSort=function(se){ue=se},this.getClearColor=function(se){return se.copy(Bt.getClearColor())},this.setClearColor=function(){Bt.setClearColor.apply(Bt,arguments)},this.getClearAlpha=function(){return Bt.getClearAlpha()},this.setClearAlpha=function(){Bt.setClearAlpha.apply(Bt,arguments)},this.clear=function(se=!0,Oe=!0,ke=!0){let je=0;if(se){let be=!1;if(F!==null){const st=F.texture.format;be=st===QS||st===YS||st===Wy}if(be){const st=F.texture.type,St=st===jc||st===ch||st===Xv||st===K0||st===XS||st===KS,Ct=Bt.getClearColor(),Lt=Bt.getClearAlpha(),fn=Ct.r,an=Ct.g,Xt=Ct.b;St?(g[0]=fn,g[1]=an,g[2]=Xt,g[3]=Lt,he.clearBufferuiv(he.COLOR,0,g)):(p[0]=fn,p[1]=an,p[2]=Xt,p[3]=Lt,he.clearBufferiv(he.COLOR,0,p))}else je|=he.COLOR_BUFFER_BIT}Oe&&(je|=he.DEPTH_BUFFER_BIT),ke&&(je|=he.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),he.clear(je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",dt,!1),t.removeEventListener("webglcontextrestored",bt,!1),t.removeEventListener("webglcontextcreationerror",kt,!1),Bt.dispose(),Ge.dispose(),et.dispose(),$e.dispose(),K.dispose(),j.dispose(),ve.dispose(),Mn.dispose(),Re.dispose(),Me.dispose(),rt.dispose(),rt.removeEventListener("sessionstart",Po),rt.removeEventListener("sessionend",us),Xi.stop()};function dt(se){se.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function bt(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;const se=Ht.autoReset,Oe=Ve.enabled,ke=Ve.autoUpdate,je=Ve.needsUpdate,be=Ve.type;Ft(),Ht.autoReset=se,Ve.enabled=Oe,Ve.autoUpdate=ke,Ve.needsUpdate=je,Ve.type=be}function kt(se){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",se.statusMessage)}function vn(se){const Oe=se.target;Oe.removeEventListener("dispose",vn),fr(Oe)}function fr(se){Ar(se),$e.remove(se)}function Ar(se){const Oe=$e.get(se).programs;Oe!==void 0&&(Oe.forEach(function(ke){Me.releaseProgram(ke)}),se.isShaderMaterial&&Me.releaseShaderCache(se))}this.renderBufferDirect=function(se,Oe,ke,je,be,st){Oe===null&&(Oe=lt);const St=be.isMesh&&be.matrixWorld.determinant()<0,Ct=Gr(se,Oe,ke,je,be);yt.setMaterial(je,St);let Lt=ke.index,fn=1;if(je.wireframe===!0){if(Lt=me.getWireframeAttribute(ke),Lt===void 0)return;fn=2}const an=ke.drawRange,Xt=ke.attributes.position;let ot=an.start*fn,Dt=(an.start+an.count)*fn;st!==null&&(ot=Math.max(ot,st.start*fn),Dt=Math.min(Dt,(st.start+st.count)*fn)),Lt!==null?(ot=Math.max(ot,0),Dt=Math.min(Dt,Lt.count)):Xt!=null&&(ot=Math.max(ot,0),Dt=Math.min(Dt,Xt.count));const un=Dt-ot;if(un<0||un===1/0)return;Mn.setup(be,je,Ct,ke,Lt);let ln,rn=Pt;if(Lt!==null&&(ln=re.get(Lt),rn=tn,rn.setIndex(ln)),be.isMesh)je.wireframe===!0?(yt.setLineWidth(je.wireframeLinewidth*Ke()),rn.setMode(he.LINES)):rn.setMode(he.TRIANGLES);else if(be.isLine){let Yt=je.linewidth;Yt===void 0&&(Yt=1),yt.setLineWidth(Yt*Ke()),be.isLineSegments?rn.setMode(he.LINES):be.isLineLoop?rn.setMode(he.LINE_LOOP):rn.setMode(he.LINE_STRIP)}else be.isPoints?rn.setMode(he.POINTS):be.isSprite&&rn.setMode(he.TRIANGLES);if(be.isBatchedMesh)if(be._multiDrawInstances!==null)rn.renderMultiDrawInstances(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount,be._multiDrawInstances);else if(ft.get("WEBGL_multi_draw"))rn.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else{const Yt=be._multiDrawStarts,dr=be._multiDrawCounts,En=be._multiDrawCount,ci=Lt?re.get(Lt).bytesPerElement:1,oo=$e.get(je).currentProgram.getUniforms();for(let so=0;so<En;so++)oo.setValue(he,"_gl_DrawID",so),rn.render(Yt[so]/ci,dr[so])}else if(be.isInstancedMesh)rn.renderInstances(ot,un,be.count);else if(ke.isInstancedBufferGeometry){const Yt=ke._maxInstanceCount!==void 0?ke._maxInstanceCount:1/0,dr=Math.min(ke.instanceCount,Yt);rn.renderInstances(ot,un,dr)}else rn.render(ot,un)};function Gn(se,Oe,ke){se.transparent===!0&&se.side===Gs&&se.forceSinglePass===!1?(se.side=ja,se.needsUpdate=!0,ii(se,Oe,ke),se.side=Gf,se.needsUpdate=!0,ii(se,Oe,ke),se.side=Gs):ii(se,Oe,ke)}this.compile=function(se,Oe,ke=null){ke===null&&(ke=se),b=et.get(ke),b.init(Oe),C.push(b),ke.traverseVisible(function(be){be.isLight&&be.layers.test(Oe.layers)&&(b.pushLight(be),be.castShadow&&b.pushShadow(be))}),se!==ke&&se.traverseVisible(function(be){be.isLight&&be.layers.test(Oe.layers)&&(b.pushLight(be),be.castShadow&&b.pushShadow(be))}),b.setupLights();const je=new Set;return se.traverse(function(be){if(!(be.isMesh||be.isPoints||be.isLine||be.isSprite))return;const st=be.material;if(st)if(Array.isArray(st))for(let St=0;St<st.length;St++){const Ct=st[St];Gn(Ct,ke,be),je.add(Ct)}else Gn(st,ke,be),je.add(st)}),C.pop(),b=null,je},this.compileAsync=function(se,Oe,ke=null){const je=this.compile(se,Oe,ke);return new Promise(be=>{function st(){if(je.forEach(function(St){$e.get(St).currentProgram.isReady()&&je.delete(St)}),je.size===0){be(se);return}setTimeout(st,10)}ft.get("KHR_parallel_shader_compile")!==null?st():setTimeout(st,10)})};let li=null;function Zr(se){li&&li(se)}function Po(){Xi.stop()}function us(){Xi.start()}const Xi=new q4;Xi.setAnimationLoop(Zr),typeof self<"u"&&Xi.setContext(self),this.setAnimationLoop=function(se){li=se,rt.setAnimationLoop(se),se===null?Xi.stop():Xi.start()},rt.addEventListener("sessionstart",Po),rt.addEventListener("sessionend",us),this.render=function(se,Oe){if(Oe!==void 0&&Oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;if(se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),Oe.parent===null&&Oe.matrixWorldAutoUpdate===!0&&Oe.updateMatrixWorld(),rt.enabled===!0&&rt.isPresenting===!0&&(rt.cameraAutoUpdate===!0&&rt.updateCamera(Oe),Oe=rt.getCamera()),se.isScene===!0&&se.onBeforeRender(M,se,Oe,F),b=et.get(se,C.length),b.init(Oe),C.push(b),Ze.multiplyMatrices(Oe.projectionMatrix,Oe.matrixWorldInverse),ye.setFromProjectionMatrix(Ze),Le=this.localClippingEnabled,Ce=Ne.init(this.clippingPlanes,Le),y=Ge.get(se,x.length),y.init(),x.push(y),rt.enabled===!0&&rt.isPresenting===!0){const st=M.xr.getDepthSensingMesh();st!==null&&ro(st,Oe,-1/0,M.sortObjects)}ro(se,Oe,0,M.sortObjects),y.finish(),M.sortObjects===!0&&y.sort(ae,ue),We=rt.enabled===!1||rt.isPresenting===!1||rt.hasDepthSensing()===!1,We&&Bt.addToRenderList(y,se),this.info.render.frame++,Ce===!0&&Ne.beginShadows();const ke=b.state.shadowsArray;Ve.render(ke,se,Oe),Ce===!0&&Ne.endShadows(),this.info.autoReset===!0&&this.info.reset();const je=y.opaque,be=y.transmissive;if(b.setupLights(),Oe.isArrayCamera){const st=Oe.cameras;if(be.length>0)for(let St=0,Ct=st.length;St<Ct;St++){const Lt=st[St];io(je,be,se,Lt)}We&&Bt.render(se);for(let St=0,Ct=st.length;St<Ct;St++){const Lt=st[St];As(y,se,Lt,Lt.viewport)}}else be.length>0&&io(je,be,se,Oe),We&&Bt.render(se),As(y,se,Oe);F!==null&&(te.updateMultisampleRenderTarget(F),te.updateRenderTargetMipmap(F)),se.isScene===!0&&se.onAfterRender(M,se,Oe),Mn.resetDefaultState(),I=-1,B=null,C.pop(),C.length>0?(b=C[C.length-1],Ce===!0&&Ne.setGlobalState(M.clippingPlanes,b.state.camera)):b=null,x.pop(),x.length>0?y=x[x.length-1]:y=null};function ro(se,Oe,ke,je){if(se.visible===!1)return;if(se.layers.test(Oe.layers)){if(se.isGroup)ke=se.renderOrder;else if(se.isLOD)se.autoUpdate===!0&&se.update(Oe);else if(se.isLight)b.pushLight(se),se.castShadow&&b.pushShadow(se);else if(se.isSprite){if(!se.frustumCulled||ye.intersectsSprite(se)){je&&Qe.setFromMatrixPosition(se.matrixWorld).applyMatrix4(Ze);const St=ve.update(se),Ct=se.material;Ct.visible&&y.push(se,St,Ct,ke,Qe.z,null)}}else if((se.isMesh||se.isLine||se.isPoints)&&(!se.frustumCulled||ye.intersectsObject(se))){const St=ve.update(se),Ct=se.material;if(je&&(se.boundingSphere!==void 0?(se.boundingSphere===null&&se.computeBoundingSphere(),Qe.copy(se.boundingSphere.center)):(St.boundingSphere===null&&St.computeBoundingSphere(),Qe.copy(St.boundingSphere.center)),Qe.applyMatrix4(se.matrixWorld).applyMatrix4(Ze)),Array.isArray(Ct)){const Lt=St.groups;for(let fn=0,an=Lt.length;fn<an;fn++){const Xt=Lt[fn],ot=Ct[Xt.materialIndex];ot&&ot.visible&&y.push(se,St,ot,ke,Qe.z,Xt)}}else Ct.visible&&y.push(se,St,Ct,ke,Qe.z,null)}}const st=se.children;for(let St=0,Ct=st.length;St<Ct;St++)ro(st[St],Oe,ke,je)}function As(se,Oe,ke,je){const be=se.opaque,st=se.transmissive,St=se.transparent;b.setupLightsView(ke),Ce===!0&&Ne.setGlobalState(M.clippingPlanes,ke),je&&yt.viewport(k.copy(je)),be.length>0&&Ai(be,Oe,ke),st.length>0&&Ai(st,Oe,ke),St.length>0&&Ai(St,Oe,ke),yt.buffers.depth.setTest(!0),yt.buffers.depth.setMask(!0),yt.buffers.color.setMask(!0),yt.setPolygonOffset(!1)}function io(se,Oe,ke,je){if((ke.isScene===!0?ke.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[je.id]===void 0&&(b.state.transmissionRenderTarget[je.id]=new Wc(1,1,{generateMipmaps:!0,type:ft.has("EXT_color_buffer_half_float")||ft.has("EXT_color_buffer_float")?h1:jc,minFilter:ql,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Cr.workingColorSpace}));const st=b.state.transmissionRenderTarget[je.id],St=je.viewport||k;st.setSize(St.z,St.w);const Ct=M.getRenderTarget();M.setRenderTarget(st),M.getClearColor(ee),le=M.getClearAlpha(),le<1&&M.setClearColor(16777215,.5),M.clear(),We&&Bt.render(ke);const Lt=M.toneMapping;M.toneMapping=Uf;const fn=je.viewport;if(je.viewport!==void 0&&(je.viewport=void 0),b.setupLightsView(je),Ce===!0&&Ne.setGlobalState(M.clippingPlanes,je),Ai(se,ke,je),te.updateMultisampleRenderTarget(st),te.updateRenderTargetMipmap(st),ft.has("WEBGL_multisampled_render_to_texture")===!1){let an=!1;for(let Xt=0,ot=Oe.length;Xt<ot;Xt++){const Dt=Oe[Xt],un=Dt.object,ln=Dt.geometry,rn=Dt.material,Yt=Dt.group;if(rn.side===Gs&&un.layers.test(je.layers)){const dr=rn.side;rn.side=ja,rn.needsUpdate=!0,Ui(un,ke,je,ln,rn,Yt),rn.side=dr,rn.needsUpdate=!0,an=!0}}an===!0&&(te.updateMultisampleRenderTarget(st),te.updateRenderTargetMipmap(st))}M.setRenderTarget(Ct),M.setClearColor(ee,le),fn!==void 0&&(je.viewport=fn),M.toneMapping=Lt}function Ai(se,Oe,ke){const je=Oe.isScene===!0?Oe.overrideMaterial:null;for(let be=0,st=se.length;be<st;be++){const St=se[be],Ct=St.object,Lt=St.geometry,fn=je===null?St.material:je,an=St.group;Ct.layers.test(ke.layers)&&Ui(Ct,Oe,ke,Lt,fn,an)}}function Ui(se,Oe,ke,je,be,st){se.onBeforeRender(M,Oe,ke,je,be,st),se.modelViewMatrix.multiplyMatrices(ke.matrixWorldInverse,se.matrixWorld),se.normalMatrix.getNormalMatrix(se.modelViewMatrix),be.onBeforeRender(M,Oe,ke,je,se,st),be.transparent===!0&&be.side===Gs&&be.forceSinglePass===!1?(be.side=ja,be.needsUpdate=!0,M.renderBufferDirect(ke,Oe,je,be,se,st),be.side=Gf,be.needsUpdate=!0,M.renderBufferDirect(ke,Oe,je,be,se,st),be.side=Gs):M.renderBufferDirect(ke,Oe,je,be,se,st),se.onAfterRender(M,Oe,ke,je,be,st)}function ii(se,Oe,ke){Oe.isScene!==!0&&(Oe=lt);const je=$e.get(se),be=b.state.lights,st=b.state.shadowsArray,St=be.state.version,Ct=Me.getParameters(se,be.state,st,Oe,ke),Lt=Me.getProgramCacheKey(Ct);let fn=je.programs;je.environment=se.isMeshStandardMaterial?Oe.environment:null,je.fog=Oe.fog,je.envMap=(se.isMeshStandardMaterial?j:K).get(se.envMap||je.environment),je.envMapRotation=je.environment!==null&&se.envMap===null?Oe.environmentRotation:se.envMapRotation,fn===void 0&&(se.addEventListener("dispose",vn),fn=new Map,je.programs=fn);let an=fn.get(Lt);if(an!==void 0){if(je.currentProgram===an&&je.lightsStateVersion===St)return Do(se,Ct),an}else Ct.uniforms=Me.getUniforms(se),se.onBeforeCompile(Ct,M),an=Me.acquireProgram(Ct,Lt),fn.set(Lt,an),je.uniforms=Ct.uniforms;const Xt=je.uniforms;return(!se.isShaderMaterial&&!se.isRawShaderMaterial||se.clipping===!0)&&(Xt.clippingPlanes=Ne.uniform),Do(se,Ct),je.needsLights=_a(se),je.lightsStateVersion=St,je.needsLights&&(Xt.ambientLightColor.value=be.state.ambient,Xt.lightProbe.value=be.state.probe,Xt.directionalLights.value=be.state.directional,Xt.directionalLightShadows.value=be.state.directionalShadow,Xt.spotLights.value=be.state.spot,Xt.spotLightShadows.value=be.state.spotShadow,Xt.rectAreaLights.value=be.state.rectArea,Xt.ltc_1.value=be.state.rectAreaLTC1,Xt.ltc_2.value=be.state.rectAreaLTC2,Xt.pointLights.value=be.state.point,Xt.pointLightShadows.value=be.state.pointShadow,Xt.hemisphereLights.value=be.state.hemi,Xt.directionalShadowMap.value=be.state.directionalShadowMap,Xt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,Xt.spotShadowMap.value=be.state.spotShadowMap,Xt.spotLightMatrix.value=be.state.spotLightMatrix,Xt.spotLightMap.value=be.state.spotLightMap,Xt.pointShadowMap.value=be.state.pointShadowMap,Xt.pointShadowMatrix.value=be.state.pointShadowMatrix),je.currentProgram=an,je.uniformsList=null,an}function va(se){if(se.uniformsList===null){const Oe=se.currentProgram.getUniforms();se.uniformsList=hE.seqWithValue(Oe.seq,se.uniforms)}return se.uniformsList}function Do(se,Oe){const ke=$e.get(se);ke.outputColorSpace=Oe.outputColorSpace,ke.batching=Oe.batching,ke.batchingColor=Oe.batchingColor,ke.instancing=Oe.instancing,ke.instancingColor=Oe.instancingColor,ke.instancingMorph=Oe.instancingMorph,ke.skinning=Oe.skinning,ke.morphTargets=Oe.morphTargets,ke.morphNormals=Oe.morphNormals,ke.morphColors=Oe.morphColors,ke.morphTargetsCount=Oe.morphTargetsCount,ke.numClippingPlanes=Oe.numClippingPlanes,ke.numIntersection=Oe.numClipIntersection,ke.vertexAlphas=Oe.vertexAlphas,ke.vertexTangents=Oe.vertexTangents,ke.toneMapping=Oe.toneMapping}function Gr(se,Oe,ke,je,be){Oe.isScene!==!0&&(Oe=lt),te.resetTextureUnits();const st=Oe.fog,St=je.isMeshStandardMaterial?Oe.environment:null,Ct=F===null?M.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:Y0,Lt=(je.isMeshStandardMaterial?j:K).get(je.envMap||St),fn=je.vertexColors===!0&&!!ke.attributes.color&&ke.attributes.color.itemSize===4,an=!!ke.attributes.tangent&&(!!je.normalMap||je.anisotropy>0),Xt=!!ke.morphAttributes.position,ot=!!ke.morphAttributes.normal,Dt=!!ke.morphAttributes.color;let un=Uf;je.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(un=M.toneMapping);const ln=ke.morphAttributes.position||ke.morphAttributes.normal||ke.morphAttributes.color,rn=ln!==void 0?ln.length:0,Yt=$e.get(je),dr=b.state.lights;if(Ce===!0&&(Le===!0||se!==B)){const Ei=se===B&&je.id===I;Ne.setState(je,se,Ei)}let En=!1;je.version===Yt.__version?(Yt.needsLights&&Yt.lightsStateVersion!==dr.state.version||Yt.outputColorSpace!==Ct||be.isBatchedMesh&&Yt.batching===!1||!be.isBatchedMesh&&Yt.batching===!0||be.isBatchedMesh&&Yt.batchingColor===!0&&be.colorTexture===null||be.isBatchedMesh&&Yt.batchingColor===!1&&be.colorTexture!==null||be.isInstancedMesh&&Yt.instancing===!1||!be.isInstancedMesh&&Yt.instancing===!0||be.isSkinnedMesh&&Yt.skinning===!1||!be.isSkinnedMesh&&Yt.skinning===!0||be.isInstancedMesh&&Yt.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&Yt.instancingColor===!1&&be.instanceColor!==null||be.isInstancedMesh&&Yt.instancingMorph===!0&&be.morphTexture===null||be.isInstancedMesh&&Yt.instancingMorph===!1&&be.morphTexture!==null||Yt.envMap!==Lt||je.fog===!0&&Yt.fog!==st||Yt.numClippingPlanes!==void 0&&(Yt.numClippingPlanes!==Ne.numPlanes||Yt.numIntersection!==Ne.numIntersection)||Yt.vertexAlphas!==fn||Yt.vertexTangents!==an||Yt.morphTargets!==Xt||Yt.morphNormals!==ot||Yt.morphColors!==Dt||Yt.toneMapping!==un||Yt.morphTargetsCount!==rn)&&(En=!0):(En=!0,Yt.__version=je.version);let ci=Yt.currentProgram;En===!0&&(ci=ii(je,Oe,be));let oo=!1,so=!1,qa=!1;const Er=ci.getUniforms(),Vr=Yt.uniforms;if(yt.useProgram(ci.program)&&(oo=!0,so=!0,qa=!0),je.id!==I&&(I=je.id,so=!0),oo||B!==se){yt.buffers.depth.getReversed()?(Ie.copy(se.projectionMatrix),rV(Ie),iV(Ie),Er.setValue(he,"projectionMatrix",Ie)):Er.setValue(he,"projectionMatrix",se.projectionMatrix),Er.setValue(he,"viewMatrix",se.matrixWorldInverse);const ao=Er.map.cameraPosition;ao!==void 0&&ao.setValue(he,tt.setFromMatrixPosition(se.matrixWorld)),vt.logarithmicDepthBuffer&&Er.setValue(he,"logDepthBufFC",2/(Math.log(se.far+1)/Math.LN2)),(je.isMeshPhongMaterial||je.isMeshToonMaterial||je.isMeshLambertMaterial||je.isMeshBasicMaterial||je.isMeshStandardMaterial||je.isShaderMaterial)&&Er.setValue(he,"isOrthographic",se.isOrthographicCamera===!0),B!==se&&(B=se,so=!0,qa=!0)}if(be.isSkinnedMesh){Er.setOptional(he,be,"bindMatrix"),Er.setOptional(he,be,"bindMatrixInverse");const Ei=be.skeleton;Ei&&(Ei.boneTexture===null&&Ei.computeBoneTexture(),Er.setValue(he,"boneTexture",Ei.boneTexture,te))}be.isBatchedMesh&&(Er.setOptional(he,be,"batchingTexture"),Er.setValue(he,"batchingTexture",be._matricesTexture,te),Er.setOptional(he,be,"batchingIdTexture"),Er.setValue(he,"batchingIdTexture",be._indirectTexture,te),Er.setOptional(he,be,"batchingColorTexture"),be._colorsTexture!==null&&Er.setValue(he,"batchingColorTexture",be._colorsTexture,te));const Ki=ke.morphAttributes;if((Ki.position!==void 0||Ki.normal!==void 0||Ki.color!==void 0)&&Nt.update(be,ke,ci),(so||Yt.receiveShadow!==be.receiveShadow)&&(Yt.receiveShadow=be.receiveShadow,Er.setValue(he,"receiveShadow",be.receiveShadow)),je.isMeshGouraudMaterial&&je.envMap!==null&&(Vr.envMap.value=Lt,Vr.flipEnvMap.value=Lt.isCubeTexture&&Lt.isRenderTargetTexture===!1?-1:1),je.isMeshStandardMaterial&&je.envMap===null&&Oe.environment!==null&&(Vr.envMapIntensity.value=Oe.environmentIntensity),so&&(Er.setValue(he,"toneMappingExposure",M.toneMappingExposure),Yt.needsLights&&$a(Vr,qa),st&&je.fog===!0&&xe.refreshFogUniforms(Vr,st),xe.refreshMaterialUniforms(Vr,je,V,fe,b.state.transmissionRenderTarget[se.id]),hE.upload(he,va(Yt),Vr,te)),je.isShaderMaterial&&je.uniformsNeedUpdate===!0&&(hE.upload(he,va(Yt),Vr,te),je.uniformsNeedUpdate=!1),je.isSpriteMaterial&&Er.setValue(he,"center",be.center),Er.setValue(he,"modelViewMatrix",be.modelViewMatrix),Er.setValue(he,"normalMatrix",be.normalMatrix),Er.setValue(he,"modelMatrix",be.matrixWorld),je.isShaderMaterial||je.isRawShaderMaterial){const Ei=je.uniformsGroups;for(let ao=0,qs=Ei.length;ao<qs;ao++){const Ln=Ei[ao];Re.update(Ln,ci),Re.bind(Ln,ci)}}return ci}function $a(se,Oe){se.ambientLightColor.needsUpdate=Oe,se.lightProbe.needsUpdate=Oe,se.directionalLights.needsUpdate=Oe,se.directionalLightShadows.needsUpdate=Oe,se.pointLights.needsUpdate=Oe,se.pointLightShadows.needsUpdate=Oe,se.spotLights.needsUpdate=Oe,se.spotLightShadows.needsUpdate=Oe,se.rectAreaLights.needsUpdate=Oe,se.hemisphereLights.needsUpdate=Oe}function _a(se){return se.isMeshLambertMaterial||se.isMeshToonMaterial||se.isMeshPhongMaterial||se.isMeshStandardMaterial||se.isShadowMaterial||se.isShaderMaterial&&se.lights===!0}this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(se,Oe,ke){$e.get(se.texture).__webglTexture=Oe,$e.get(se.depthTexture).__webglTexture=ke;const je=$e.get(se);je.__hasExternalTextures=!0,je.__autoAllocateDepthBuffer=ke===void 0,je.__autoAllocateDepthBuffer||ft.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),je.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(se,Oe){const ke=$e.get(se);ke.__webglFramebuffer=Oe,ke.__useDefaultFramebuffer=Oe===void 0},this.setRenderTarget=function(se,Oe=0,ke=0){F=se,O=Oe,N=ke;let je=!0,be=null,st=!1,St=!1;if(se){const Lt=$e.get(se);if(Lt.__useDefaultFramebuffer!==void 0)yt.bindFramebuffer(he.FRAMEBUFFER,null),je=!1;else if(Lt.__webglFramebuffer===void 0)te.setupRenderTarget(se);else if(Lt.__hasExternalTextures)te.rebindTextures(se,$e.get(se.texture).__webglTexture,$e.get(se.depthTexture).__webglTexture);else if(se.depthBuffer){const Xt=se.depthTexture;if(Lt.__boundDepthTexture!==Xt){if(Xt!==null&&$e.has(Xt)&&(se.width!==Xt.image.width||se.height!==Xt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");te.setupDepthRenderbuffer(se)}}const fn=se.texture;(fn.isData3DTexture||fn.isDataArrayTexture||fn.isCompressedArrayTexture)&&(St=!0);const an=$e.get(se).__webglFramebuffer;se.isWebGLCubeRenderTarget?(Array.isArray(an[Oe])?be=an[Oe][ke]:be=an[Oe],st=!0):se.samples>0&&te.useMultisampledRTT(se)===!1?be=$e.get(se).__webglMultisampledFramebuffer:Array.isArray(an)?be=an[ke]:be=an,k.copy(se.viewport),q.copy(se.scissor),Y=se.scissorTest}else k.copy(Q).multiplyScalar(V).floor(),q.copy(de).multiplyScalar(V).floor(),Y=we;if(yt.bindFramebuffer(he.FRAMEBUFFER,be)&&je&&yt.drawBuffers(se,be),yt.viewport(k),yt.scissor(q),yt.setScissorTest(Y),st){const Lt=$e.get(se.texture);he.framebufferTexture2D(he.FRAMEBUFFER,he.COLOR_ATTACHMENT0,he.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,Lt.__webglTexture,ke)}else if(St){const Lt=$e.get(se.texture),fn=Oe||0;he.framebufferTextureLayer(he.FRAMEBUFFER,he.COLOR_ATTACHMENT0,Lt.__webglTexture,ke||0,fn)}I=-1},this.readRenderTargetPixels=function(se,Oe,ke,je,be,st,St){if(!(se&&se.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ct=$e.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&St!==void 0&&(Ct=Ct[St]),Ct){yt.bindFramebuffer(he.FRAMEBUFFER,Ct);try{const Lt=se.texture,fn=Lt.format,an=Lt.type;if(!vt.textureFormatReadable(fn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!vt.textureTypeReadable(an)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Oe>=0&&Oe<=se.width-je&&ke>=0&&ke<=se.height-be&&he.readPixels(Oe,ke,je,be,Jt.convert(fn),Jt.convert(an),st)}finally{const Lt=F!==null?$e.get(F).__webglFramebuffer:null;yt.bindFramebuffer(he.FRAMEBUFFER,Lt)}}},this.readRenderTargetPixelsAsync=async function(se,Oe,ke,je,be,st,St){if(!(se&&se.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ct=$e.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&St!==void 0&&(Ct=Ct[St]),Ct){const Lt=se.texture,fn=Lt.format,an=Lt.type;if(!vt.textureFormatReadable(fn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!vt.textureTypeReadable(an))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Oe>=0&&Oe<=se.width-je&&ke>=0&&ke<=se.height-be){yt.bindFramebuffer(he.FRAMEBUFFER,Ct);const Xt=he.createBuffer();he.bindBuffer(he.PIXEL_PACK_BUFFER,Xt),he.bufferData(he.PIXEL_PACK_BUFFER,st.byteLength,he.STREAM_READ),he.readPixels(Oe,ke,je,be,Jt.convert(fn),Jt.convert(an),0);const ot=F!==null?$e.get(F).__webglFramebuffer:null;yt.bindFramebuffer(he.FRAMEBUFFER,ot);const Dt=he.fenceSync(he.SYNC_GPU_COMMANDS_COMPLETE,0);return he.flush(),await nV(he,Dt,4),he.bindBuffer(he.PIXEL_PACK_BUFFER,Xt),he.getBufferSubData(he.PIXEL_PACK_BUFFER,0,st),he.deleteBuffer(Xt),he.deleteSync(Dt),st}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(se,Oe=null,ke=0){se.isTexture!==!0&&(Bv("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Oe=arguments[0]||null,se=arguments[1]);const je=Math.pow(2,-ke),be=Math.floor(se.image.width*je),st=Math.floor(se.image.height*je),St=Oe!==null?Oe.x:0,Ct=Oe!==null?Oe.y:0;te.setTexture2D(se,0),he.copyTexSubImage2D(he.TEXTURE_2D,ke,0,0,St,Ct,be,st),yt.unbindTexture()};const Qt=he.createFramebuffer(),Kn=he.createFramebuffer();this.copyTextureToTexture=function(se,Oe,ke=null,je=null,be=0,st=null){se.isTexture!==!0&&(Bv("WebGLRenderer: copyTextureToTexture function signature has changed."),je=arguments[0]||null,se=arguments[1],Oe=arguments[2],st=arguments[3]||0,ke=null),st===null&&(be!==0?(Bv("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),st=be,be=0):st=0);let St,Ct,Lt,fn,an,Xt,ot,Dt,un;const ln=se.isCompressedTexture?se.mipmaps[st]:se.image;if(ke!==null)St=ke.max.x-ke.min.x,Ct=ke.max.y-ke.min.y,Lt=ke.isBox3?ke.max.z-ke.min.z:1,fn=ke.min.x,an=ke.min.y,Xt=ke.isBox3?ke.min.z:0;else{const Ki=Math.pow(2,-be);St=Math.floor(ln.width*Ki),Ct=Math.floor(ln.height*Ki),se.isDataArrayTexture?Lt=ln.depth:se.isData3DTexture?Lt=Math.floor(ln.depth*Ki):Lt=1,fn=0,an=0,Xt=0}je!==null?(ot=je.x,Dt=je.y,un=je.z):(ot=0,Dt=0,un=0);const rn=Jt.convert(Oe.format),Yt=Jt.convert(Oe.type);let dr;Oe.isData3DTexture?(te.setTexture3D(Oe,0),dr=he.TEXTURE_3D):Oe.isDataArrayTexture||Oe.isCompressedArrayTexture?(te.setTexture2DArray(Oe,0),dr=he.TEXTURE_2D_ARRAY):(te.setTexture2D(Oe,0),dr=he.TEXTURE_2D),he.pixelStorei(he.UNPACK_FLIP_Y_WEBGL,Oe.flipY),he.pixelStorei(he.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Oe.premultiplyAlpha),he.pixelStorei(he.UNPACK_ALIGNMENT,Oe.unpackAlignment);const En=he.getParameter(he.UNPACK_ROW_LENGTH),ci=he.getParameter(he.UNPACK_IMAGE_HEIGHT),oo=he.getParameter(he.UNPACK_SKIP_PIXELS),so=he.getParameter(he.UNPACK_SKIP_ROWS),qa=he.getParameter(he.UNPACK_SKIP_IMAGES);he.pixelStorei(he.UNPACK_ROW_LENGTH,ln.width),he.pixelStorei(he.UNPACK_IMAGE_HEIGHT,ln.height),he.pixelStorei(he.UNPACK_SKIP_PIXELS,fn),he.pixelStorei(he.UNPACK_SKIP_ROWS,an),he.pixelStorei(he.UNPACK_SKIP_IMAGES,Xt);const Er=se.isDataArrayTexture||se.isData3DTexture,Vr=Oe.isDataArrayTexture||Oe.isData3DTexture;if(se.isDepthTexture){const Ki=$e.get(se),Ei=$e.get(Oe),ao=$e.get(Ki.__renderTarget),qs=$e.get(Ei.__renderTarget);yt.bindFramebuffer(he.READ_FRAMEBUFFER,ao.__webglFramebuffer),yt.bindFramebuffer(he.DRAW_FRAMEBUFFER,qs.__webglFramebuffer);for(let Ln=0;Ln<Lt;Ln++)Er&&(he.framebufferTextureLayer(he.READ_FRAMEBUFFER,he.COLOR_ATTACHMENT0,$e.get(se).__webglTexture,be,Xt+Ln),he.framebufferTextureLayer(he.DRAW_FRAMEBUFFER,he.COLOR_ATTACHMENT0,$e.get(Oe).__webglTexture,st,un+Ln)),he.blitFramebuffer(fn,an,St,Ct,ot,Dt,St,Ct,he.DEPTH_BUFFER_BIT,he.NEAREST);yt.bindFramebuffer(he.READ_FRAMEBUFFER,null),yt.bindFramebuffer(he.DRAW_FRAMEBUFFER,null)}else if(be!==0||se.isRenderTargetTexture||$e.has(se)){const Ki=$e.get(se),Ei=$e.get(Oe);yt.bindFramebuffer(he.READ_FRAMEBUFFER,Qt),yt.bindFramebuffer(he.DRAW_FRAMEBUFFER,Kn);for(let ao=0;ao<Lt;ao++)Er?he.framebufferTextureLayer(he.READ_FRAMEBUFFER,he.COLOR_ATTACHMENT0,Ki.__webglTexture,be,Xt+ao):he.framebufferTexture2D(he.READ_FRAMEBUFFER,he.COLOR_ATTACHMENT0,he.TEXTURE_2D,Ki.__webglTexture,be),Vr?he.framebufferTextureLayer(he.DRAW_FRAMEBUFFER,he.COLOR_ATTACHMENT0,Ei.__webglTexture,st,un+ao):he.framebufferTexture2D(he.DRAW_FRAMEBUFFER,he.COLOR_ATTACHMENT0,he.TEXTURE_2D,Ei.__webglTexture,st),be!==0?he.blitFramebuffer(fn,an,St,Ct,ot,Dt,St,Ct,he.COLOR_BUFFER_BIT,he.NEAREST):Vr?he.copyTexSubImage3D(dr,st,ot,Dt,un+ao,fn,an,St,Ct):he.copyTexSubImage2D(dr,st,ot,Dt,fn,an,St,Ct);yt.bindFramebuffer(he.READ_FRAMEBUFFER,null),yt.bindFramebuffer(he.DRAW_FRAMEBUFFER,null)}else Vr?se.isDataTexture||se.isData3DTexture?he.texSubImage3D(dr,st,ot,Dt,un,St,Ct,Lt,rn,Yt,ln.data):Oe.isCompressedArrayTexture?he.compressedTexSubImage3D(dr,st,ot,Dt,un,St,Ct,Lt,rn,ln.data):he.texSubImage3D(dr,st,ot,Dt,un,St,Ct,Lt,rn,Yt,ln):se.isDataTexture?he.texSubImage2D(he.TEXTURE_2D,st,ot,Dt,St,Ct,rn,Yt,ln.data):se.isCompressedTexture?he.compressedTexSubImage2D(he.TEXTURE_2D,st,ot,Dt,ln.width,ln.height,rn,ln.data):he.texSubImage2D(he.TEXTURE_2D,st,ot,Dt,St,Ct,rn,Yt,ln);he.pixelStorei(he.UNPACK_ROW_LENGTH,En),he.pixelStorei(he.UNPACK_IMAGE_HEIGHT,ci),he.pixelStorei(he.UNPACK_SKIP_PIXELS,oo),he.pixelStorei(he.UNPACK_SKIP_ROWS,so),he.pixelStorei(he.UNPACK_SKIP_IMAGES,qa),st===0&&Oe.generateMipmaps&&he.generateMipmap(dr),yt.unbindTexture()},this.copyTextureToTexture3D=function(se,Oe,ke=null,je=null,be=0){return se.isTexture!==!0&&(Bv("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ke=arguments[0]||null,je=arguments[1]||null,se=arguments[2],Oe=arguments[3],be=arguments[4]||0),Bv('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(se,Oe,ke,je,be)},this.initRenderTarget=function(se){$e.get(se).__webglFramebuffer===void 0&&te.setupRenderTarget(se)},this.initTexture=function(se){se.isCubeTexture?te.setTextureCube(se,0):se.isData3DTexture?te.setTexture3D(se,0):se.isDataArrayTexture||se.isCompressedArrayTexture?te.setTexture2DArray(se,0):te.setTexture2D(se,0),yt.unbindTexture()},this.resetState=function(){O=0,N=0,F=null,yt.reset(),Mn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ff}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Cr._getDrawingBufferColorSpace(e),t.unpackColorSpace=Cr._getUnpackColorSpace()}}const uJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:OT,AddEquation:Sp,AddOperation:PN,AdditiveAnimationBlendMode:GT,AdditiveBlending:CM,AgXToneMapping:BN,AlphaFormat:LT,AlwaysCompare:JN,AlwaysDepth:PE,AlwaysStencilFunc:DM,AmbientLight:B4,AnimationAction:j4,AnimationClip:Zv,AnimationLoader:Cj,AnimationMixer:Zj,AnimationObjectGroup:Yj,AnimationUtils:Ej,ArcCurve:c4,ArrayCamera:H4,ArrowHelper:_W,AttachedBindMode:PM,Audio:G4,AudioAnalyser:Hj,AudioContext:_P,AudioListener:Uj,AudioLoader:Fj,AxesHelper:yW,BackSide:ja,BasicDepthPacking:HN,BasicShadowMap:lN,BatchedMesh:l4,Bone:rx,BooleanKeyframeTrack:sg,Box2:oW,Box3:pi,Box3Helper:gW,BoxGeometry:ph,BoxHelper:mW,BufferAttribute:Dr,BufferGeometry:Xn,BufferGeometryLoader:k4,ByteType:IT,Cache:eh,Camera:$y,CameraHelper:pW,CanvasTexture:$V,CapsuleGeometry:sx,CatmullRomCurve3:f4,CineonToneMapping:ON,CircleGeometry:ax,ClampToEdgeWrapping:sl,Clock:yP,Color:zt,ColorKeyframeTrack:dP,ColorManagement:Cr,CompressedArrayTexture:jV,CompressedCubeTexture:WV,CompressedTexture:ox,CompressedTextureLoader:Mj,ConeGeometry:ux,ConstantAlphaFactor:CN,ConstantColorFactor:xN,Controls:AW,CubeCamera:i4,CubeReflectionMapping:lh,CubeRefractionMapping:Rp,CubeTexture:qy,CubeTextureLoader:Tj,CubeUVReflectionMapping:d1,CubicBezierCurve:rP,CubicBezierCurve3:d4,CubicInterpolant:D4,CullFaceBack:wM,CullFaceFront:uN,CullFaceFrontBack:uG,CullFaceNone:aN,Curve:Kc,CurvePath:p4,CustomBlending:cN,CustomToneMapping:IN,CylinderGeometry:m1,Cylindrical:iW,Data3DTexture:qT,DataArrayTexture:ex,DataTexture:kf,DataTextureLoader:Pj,DataUtils:yV,DecrementStencilOp:yG,DecrementWrapStencilOp:AG,DefaultLoadingManager:kv,DepthFormat:V0,DepthStencilFormat:J0,DepthTexture:tP,DetachedBindMode:LN,DirectionalLight:vP,DirectionalLightHelper:hW,DiscreteInterpolant:R4,DodecahedronGeometry:lx,DoubleSide:Gs,DstAlphaFactor:yN,DstColorFactor:AN,DynamicCopyUsage:LG,DynamicDrawUsage:DG,DynamicReadUsage:IG,EdgesGeometry:m4,EllipseCurve:Li,EqualCompare:$N,EqualDepth:RE,EqualStencilFunc:wG,EquirectangularReflectionMapping:dy,EquirectangularRefractionMapping:hy,Euler:dl,EventDispatcher:Wf,ExtrudeGeometry:$f,FileLoader:hl,Float16BufferAttribute:wV,Float32BufferAttribute:hn,FloatType:Su,Fog:nx,FogExp2:tx,FramebufferTexture:VV,FrontSide:Gf,Frustum:Jy,GLBufferAttribute:rW,GLSL1:UG,GLSL3:RM,GreaterCompare:qN,GreaterDepth:IE,GreaterEqualCompare:KN,GreaterEqualDepth:OE,GreaterEqualStencilFunc:PG,GreaterStencilFunc:MG,GridHelper:fW,Group:Zd,HalfFloatType:h1,HemisphereLight:I4,HemisphereLightHelper:cW,IcosahedronGeometry:fx,ImageBitmapLoader:z4,ImageLoader:Sy,ImageUtils:ZN,IncrementStencilOp:_G,IncrementWrapStencilOp:bG,InstancedBufferAttribute:Q0,InstancedBufferGeometry:U4,InstancedInterleavedBuffer:nW,InstancedMesh:QT,Int16BufferAttribute:SV,Int32BufferAttribute:xV,Int8BufferAttribute:bV,IntType:qS,InterleavedBuffer:Xy,InterleavedBufferAttribute:Ip,Interpolant:v1,InterpolateDiscrete:Kv,InterpolateLinear:Jv,InterpolateSmooth:dE,InvertStencilOp:EG,KeepStencilOp:x0,KeyframeTrack:Jc,LOD:u4,LatheGeometry:Yy,Layers:W0,LessCompare:WN,LessDepth:DE,LessEqualCompare:jT,LessEqualDepth:X0,LessEqualStencilFunc:CG,LessStencilFunc:xG,Light:Up,LightProbe:N4,Line:fh,Line3:NM,LineBasicMaterial:pa,LineCurve:iP,LineCurve3:h4,LineDashedMaterial:M4,LineLoop:ZT,LineSegments:Xc,LinearFilter:Co,LinearInterpolant:fP,LinearMipMapLinearFilter:dG,LinearMipMapNearestFilter:fG,LinearMipmapLinearFilter:ql,LinearMipmapNearestFilter:Vv,LinearSRGBColorSpace:Y0,LinearToneMapping:DN,LinearTransfer:my,Loader:ma,LoaderUtils:Mp,LoadingManager:hP,LoopOnce:NN,LoopPingPong:kN,LoopRepeat:UN,LuminanceAlphaFormat:kT,LuminanceFormat:UT,MOUSE:sG,Material:jo,MaterialLoader:_x,MathUtils:$T,Matrix2:xP,Matrix3:Qn,Matrix4:dn,MaxEquation:pN,Mesh:Mo,MeshBasicMaterial:al,MeshDepthMaterial:uP,MeshDistanceMaterial:lP,MeshLambertMaterial:w4,MeshMatcapMaterial:C4,MeshNormalMaterial:x4,MeshPhongMaterial:E4,MeshPhysicalMaterial:Xl,MeshStandardMaterial:eb,MeshToonMaterial:S4,MinEquation:hN,MirroredRepeatWrapping:qv,MixOperation:TN,MultiplyBlending:TM,MultiplyOperation:jy,NearestFilter:ys,NearestMipMapLinearFilter:cG,NearestMipMapNearestFilter:lG,NearestMipmapLinearFilter:P0,NearestMipmapNearestFilter:$S,NeutralToneMapping:FN,NeverCompare:jN,NeverDepth:TE,NeverStencilFunc:SG,NoBlending:oh,NoColorSpace:Kd,NoToneMapping:Uf,NormalAnimationBlendMode:ZS,NormalBlending:G0,NotEqualCompare:XN,NotEqualDepth:BE,NotEqualStencilFunc:TG,NumberKeyframeTrack:eg,Object3D:br,ObjectLoader:Ij,ObjectSpaceNormalMap:VN,OctahedronGeometry:Qy,OneFactor:gN,OneMinusConstantAlphaFactor:MN,OneMinusConstantColorFactor:wN,OneMinusDstAlphaFactor:bN,OneMinusDstColorFactor:EN,OneMinusSrcAlphaFactor:ME,OneMinusSrcColorFactor:_N,OrthographicCamera:kp,PCFShadowMap:jS,PCFSoftShadowMap:J_,PMREMGenerator:kM,Path:yy,PerspectiveCamera:wo,Plane:yp,PlaneGeometry:g1,PlaneHelper:vW,PointLight:gP,PointLightHelper:uW,Points:eP,PointsMaterial:ix,PolarGridHelper:dW,PolyhedronGeometry:Np,PositionalAudio:zj,PropertyBinding:wr,PropertyMixer:V4,QuadraticBezierCurve:oP,QuadraticBezierCurve3:sP,Quaternion:$s,QuaternionKeyframeTrack:tg,QuaternionLinearInterpolant:O4,RED_GREEN_RGTC2_Format:oS,RED_RGTC1_Format:HT,REVISION:Vy,RGBADepthPacking:GN,RGBAFormat:da,RGBAIntegerFormat:QS,RGBA_ASTC_10x10_Format:ZE,RGBA_ASTC_10x5_Format:JE,RGBA_ASTC_10x6_Format:YE,RGBA_ASTC_10x8_Format:QE,RGBA_ASTC_12x10_Format:eS,RGBA_ASTC_12x12_Format:tS,RGBA_ASTC_4x4_Format:GE,RGBA_ASTC_5x4_Format:VE,RGBA_ASTC_5x5_Format:jE,RGBA_ASTC_6x5_Format:WE,RGBA_ASTC_6x6_Format:$E,RGBA_ASTC_8x5_Format:qE,RGBA_ASTC_8x6_Format:XE,RGBA_ASTC_8x8_Format:KE,RGBA_BPTC_Format:ty,RGBA_ETC2_EAC_Format:HE,RGBA_PVRTC_2BPPV1_Format:UE,RGBA_PVRTC_4BPPV1_Format:NE,RGBA_S3TC_DXT1_Format:Q_,RGBA_S3TC_DXT3_Format:Z_,RGBA_S3TC_DXT5_Format:ey,RGBDepthPacking:pG,RGBFormat:NT,RGBIntegerFormat:hG,RGB_BPTC_SIGNED_Format:nS,RGB_BPTC_UNSIGNED_Format:rS,RGB_ETC1_Format:kE,RGB_ETC2_Format:zE,RGB_PVRTC_2BPPV1_Format:LE,RGB_PVRTC_4BPPV1_Format:FE,RGB_S3TC_DXT1_Format:Y_,RGDepthPacking:mG,RGFormat:zT,RGIntegerFormat:YS,RawShaderMaterial:A4,Ray:p1,Raycaster:SP,RectAreaLight:F4,RedFormat:JS,RedIntegerFormat:Wy,ReinhardToneMapping:RN,RenderTarget:e4,RepeatWrapping:Op,ReplaceStencilOp:vG,ReverseSubtractEquation:dN,RingGeometry:dx,SIGNED_RED_GREEN_RGTC2_Format:sS,SIGNED_RED_RGTC1_Format:iS,SRGBColorSpace:bu,SRGBTransfer:ni,Scene:uS,ShaderChunk:ir,ShaderLib:Hc,ShaderMaterial:$c,ShadowMaterial:b4,Shape:cl,ShapeGeometry:hx,ShapePath:bW,ShapeUtils:zf,ShortType:BT,Skeleton:Ky,SkeletonHelper:aW,SkinnedMesh:YT,Source:O0,Sphere:bs,SphereGeometry:Zy,Spherical:W4,SphericalHarmonics3:L4,SplineCurve:aP,SpotLight:mP,SpotLightHelper:sW,Sprite:a4,SpriteMaterial:JT,SrcAlphaFactor:CE,SrcAlphaSaturateFactor:SN,SrcColorFactor:vN,StaticCopyUsage:FG,StaticDrawUsage:gy,StaticReadUsage:OG,StereoCamera:Lj,StreamCopyUsage:NG,StreamDrawUsage:RG,StreamReadUsage:BG,StringKeyframeTrack:ag,SubtractEquation:fN,SubtractiveBlending:MM,TOUCH:aG,TangentSpaceNormalMap:Lp,TetrahedronGeometry:px,Texture:Mi,TextureLoader:oy,TextureUtils:CW,TorusGeometry:mx,TorusKnotGeometry:gx,Triangle:Eu,TriangleFanDrawMode:aS,TriangleStripDrawMode:VT,TrianglesDrawMode:zN,TubeGeometry:vx,UVMapping:WS,Uint16BufferAttribute:XT,Uint32BufferAttribute:KT,Uint8BufferAttribute:AV,Uint8ClampedBufferAttribute:EV,Uniform:EP,UniformsGroup:tW,UniformsLib:$t,UniformsUtils:r4,UnsignedByteType:jc,UnsignedInt248Type:K0,UnsignedInt5999Type:FT,UnsignedIntType:ch,UnsignedShort4444Type:XS,UnsignedShort5551Type:KS,UnsignedShortType:Xv,VSMShadowMap:kc,Vector2:_t,Vector3:oe,Vector4:Mr,VectorKeyframeTrack:ng,VideoTexture:GV,WebGL3DRenderTarget:lV,WebGLArrayRenderTarget:uV,WebGLCoordinateSystem:Ff,WebGLCubeRenderTarget:o4,WebGLMultipleRenderTargets:MW,WebGLRenderTarget:Wc,WebGLRenderer:Z4,WebGLUtils:Q4,WebGPUCoordinateSystem:vy,WireframeGeometry:y4,WrapAroundEnding:py,ZeroCurvatureEnding:D0,ZeroFactor:mN,ZeroSlopeEnding:R0,ZeroStencilOp:gG,createCanvasElement:QN},Symbol.toStringTag,{value:"Module"}));var g2={exports:{}},up={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO;function lJ(){return CO||(CO=1,up.ConcurrentRoot=1,up.ContinuousEventPriority=4,up.DefaultEventPriority=16,up.DiscreteEventPriority=1,up.IdleEventPriority=536870912,up.LegacyRoot=0),up}var MO;function cJ(){return MO||(MO=1,g2.exports=lJ()),g2.exports}var Hv=cJ();function fJ(n){let e;const t=new Set,r=(c,l)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const h=e;e=l?f:Object.assign({},e,f),t.forEach(m=>m(e,h))}},i=()=>e,o=(c,l=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=l(e);function m(){const g=l(e);if(!f(h,g)){const p=h;c(h=g,p)}}return t.add(m),()=>t.delete(m)},u={setState:r,getState:i,subscribe:(c,l,f)=>l||f?o(c,l,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,u),u}const dJ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),TO=dJ?W.useEffect:W.useLayoutEffect;function hJ(n){const e=typeof n=="function"?fJ(n):n,t=(r=e.getState,i=Object.is)=>{const[,o]=W.useReducer(y=>y+1,0),s=e.getState(),a=W.useRef(s),u=W.useRef(r),c=W.useRef(i),l=W.useRef(!1),f=W.useRef();f.current===void 0&&(f.current=r(s));let h,m=!1;(a.current!==s||u.current!==r||c.current!==i||l.current)&&(h=r(s),m=!i(f.current,h)),TO(()=>{m&&(f.current=h),a.current=s,u.current=r,c.current=i,l.current=!1});const g=W.useRef(s);TO(()=>{const y=()=>{try{const x=e.getState(),C=u.current(x);c.current(f.current,C)||(a.current=x,f.current=C,o())}catch{l.current=!0,o()}},b=e.subscribe(y);return e.getState()!==g.current&&y(),b},[]);const p=m?h:f.current;return W.useDebugValue(p),p};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const pJ=n=>typeof n=="object"&&typeof n.then=="function",B0=[];function eU(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function tU(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const o of B0)if(eU(e,o.keys,o.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!t)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=B0.indexOf(i);o!==-1&&B0.splice(o,1)},promise:(pJ(n)?n:n(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(B0.push(i),!t)throw i.promise}const mJ=(n,e,t)=>tU(n,e,!1,t),gJ=(n,e,t)=>void tU(n,e,!0,t),vJ=n=>{if(n===void 0||n.length===0)B0.splice(0,B0.length);else{const e=B0.find(t=>eU(n,t.keys,t.equal));e&&e.remove()}};var v2={exports:{}},_2={exports:{}},y2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO;function _J(){return PO||(PO=1,function(n){function e(V,ae){var ue=V.length;V.push(ae);e:for(;0<ue;){var Q=ue-1>>>1,de=V[Q];if(0<i(de,ae))V[Q]=ae,V[ue]=de,ue=Q;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ae=V[0],ue=V.pop();if(ue!==ae){V[0]=ue;e:for(var Q=0,de=V.length,we=de>>>1;Q<we;){var ye=2*(Q+1)-1,Ce=V[ye],Le=ye+1,Ie=V[Le];if(0>i(Ce,ue))Le<de&&0>i(Ie,Ce)?(V[Q]=Ie,V[Le]=ue,Q=Le):(V[Q]=Ce,V[ye]=ue,Q=ye);else if(Le<de&&0>i(Ie,ue))V[Q]=Ie,V[Le]=ue,Q=Le;else break e}}return ae}function i(V,ae){var ue=V.sortIndex-ae.sortIndex;return ue!==0?ue:V.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var u=[],c=[],l=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var ae=t(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=V)r(c),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(c)}}function M(V){if(p=!1,C(V),!g)if(t(u)!==null)g=!0,J(R);else{var ae=t(c);ae!==null&&fe(M,ae.startTime-V)}}function R(V,ae){g=!1,p&&(p=!1,b(F),F=-1),m=!0;var ue=h;try{for(C(ae),f=t(u);f!==null&&(!(f.expirationTime>ae)||V&&!k());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var de=Q(f.expirationTime<=ae);ae=n.unstable_now(),typeof de=="function"?f.callback=de:f===t(u)&&r(u),C(ae)}else r(u);f=t(u)}if(f!==null)var we=!0;else{var ye=t(c);ye!==null&&fe(M,ye.startTime-ae),we=!1}return we}finally{f=null,h=ue,m=!1}}var O=!1,N=null,F=-1,I=5,B=-1;function k(){return!(n.unstable_now()-B<I)}function q(){if(N!==null){var V=n.unstable_now();B=V;var ae=!0;try{ae=N(!0,V)}finally{ae?Y():(O=!1,N=null)}}else O=!1}var Y;if(typeof x=="function")Y=function(){x(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,le=ee.port2;ee.port1.onmessage=q,Y=function(){le.postMessage(null)}}else Y=function(){y(q,0)};function J(V){N=V,O||(O=!0,Y())}function fe(V,ae){F=y(function(){V(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,J(R))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(V){switch(h){case 1:case 2:case 3:var ae=3;break;default:ae=h}var ue=h;h=ae;try{return V()}finally{h=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,ae){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ue=h;h=V;try{return ae()}finally{h=ue}},n.unstable_scheduleCallback=function(V,ae,ue){var Q=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Q+ue:Q):ue=Q,V){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ue+de,V={id:l++,callback:ae,priorityLevel:V,startTime:ue,expirationTime:de,sortIndex:-1},ue>Q?(V.sortIndex=ue,e(c,V),t(u)===null&&V===t(c)&&(p?(b(F),F=-1):p=!0,fe(M,ue-Q))):(V.sortIndex=de,e(u,V),g||m||(g=!0,J(R))),V},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(V){var ae=h;return function(){var ue=h;h=ae;try{return V.apply(this,arguments)}finally{h=ue}}}}(y2)),y2}var DO;function yJ(){return DO||(DO=1,_2.exports=_J()),_2.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2,RO;function bJ(){return RO||(RO=1,b2=function(e){var t={},r=ri(),i=yJ(),o=Object.assign;function s(A){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+A,T=1;T<arguments.length;T++)E+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+A+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),c=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),R=Symbol.iterator;function O(A){return A===null||typeof A!="object"?null:(A=R&&A[R]||A["@@iterator"],typeof A=="function"?A:null)}function N(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case l:return"Fragment";case c:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case g:return(A.displayName||"Context")+".Consumer";case m:return(A._context.displayName||"Context")+".Provider";case p:var E=A.render;return A=A.displayName,A||(A=E.displayName||E.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case x:return E=A.displayName||null,E!==null?E:N(A.type)||"Memo";case C:E=A._payload,A=A._init;try{return N(A(E))}catch{}}return null}function F(A){var E=A.type;switch(A.tag){case 24:return"Cache";case 9:return(E.displayName||"Context")+".Consumer";case 10:return(E._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=E.render,A=A.displayName||A.name||"",E.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return E;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(E);case 8:return E===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E}return null}function I(A){var E=A,T=A;if(A.alternate)for(;E.return;)E=E.return;else{A=E;do E=A,E.flags&4098&&(T=E.return),A=E.return;while(A)}return E.tag===3?T:null}function B(A){if(I(A)!==A)throw Error(s(188))}function k(A){var E=A.alternate;if(!E){if(E=I(A),E===null)throw Error(s(188));return E!==A?null:A}for(var T=A,L=E;;){var z=T.return;if(z===null)break;var $=z.alternate;if($===null){if(L=z.return,L!==null){T=L;continue}break}if(z.child===$.child){for($=z.child;$;){if($===T)return B(z),A;if($===L)return B(z),E;$=$.sibling}throw Error(s(188))}if(T.return!==L.return)T=z,L=$;else{for(var _e=!1,Be=z.child;Be;){if(Be===T){_e=!0,T=z,L=$;break}if(Be===L){_e=!0,L=z,T=$;break}Be=Be.sibling}if(!_e){for(Be=$.child;Be;){if(Be===T){_e=!0,T=$,L=z;break}if(Be===L){_e=!0,L=$,T=z;break}Be=Be.sibling}if(!_e)throw Error(s(189))}}if(T.alternate!==L)throw Error(s(190))}if(T.tag!==3)throw Error(s(188));return T.stateNode.current===T?A:E}function q(A){return A=k(A),A!==null?Y(A):null}function Y(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var E=Y(A);if(E!==null)return E;A=A.sibling}return null}function ee(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){if(A.tag!==4){var E=ee(A);if(E!==null)return E}A=A.sibling}return null}var le=Array.isArray,J=e.getPublicInstance,fe=e.getRootHostContext,V=e.getChildHostContext,ae=e.prepareForCommit,ue=e.resetAfterCommit,Q=e.createInstance,de=e.appendInitialChild,we=e.finalizeInitialChildren,ye=e.prepareUpdate,Ce=e.shouldSetTextContent,Le=e.createTextInstance,Ie=e.scheduleTimeout,Ze=e.cancelTimeout,tt=e.noTimeout,Qe=e.isPrimaryRenderer,lt=e.supportsMutation,We=e.supportsPersistence,Ke=e.supportsHydration,he=e.getInstanceFromNode,wt=e.preparePortalMount,ft=e.getCurrentEventPriority,vt=e.detachDeletedInstance,yt=e.supportsMicrotasks,Ht=e.scheduleMicrotask,$e=e.supportsTestSelectors,te=e.findFiberRoot,K=e.getBoundingRect,j=e.getTextContent,re=e.isHiddenSubtree,me=e.matchAccessibilityRole,ve=e.setFocusIfFocusable,Me=e.setupIntersectionObserver,xe=e.appendChild,Ge=e.appendChildToContainer,et=e.commitTextUpdate,Ne=e.commitMount,Ve=e.commitUpdate,Bt=e.insertBefore,Nt=e.insertInContainerBefore,Pt=e.removeChild,tn=e.removeChildFromContainer,Jt=e.resetTextContent,Mn=e.hideInstance,Re=e.hideTextInstance,Ft=e.unhideInstance,rt=e.unhideTextInstance,dt=e.clearContainer,bt=e.cloneInstance,kt=e.createContainerChildSet,vn=e.appendChildToContainerChildSet,fr=e.finalizeContainerChildren,Ar=e.replaceContainerChildren,Gn=e.cloneHiddenInstance,li=e.cloneHiddenTextInstance,Zr=e.canHydrateInstance,Po=e.canHydrateTextInstance,us=e.canHydrateSuspenseInstance,Xi=e.isSuspenseInstancePending,ro=e.isSuspenseInstanceFallback,As=e.registerSuspenseInstanceRetry,io=e.getNextHydratableSibling,Ai=e.getFirstHydratableChild,Ui=e.getFirstHydratableChildWithinContainer,ii=e.getFirstHydratableChildWithinSuspenseInstance,va=e.hydrateInstance,Do=e.hydrateTextInstance,Gr=e.hydrateSuspenseInstance,$a=e.getNextHydratableInstanceAfterSuspenseInstance,_a=e.commitHydratedContainer,Qt=e.commitHydratedSuspenseInstance,Kn=e.clearSuspenseBoundary,se=e.clearSuspenseBoundaryFromContainer,Oe=e.shouldDeleteUnhydratedTailInstances,ke=e.didNotMatchHydratedContainerTextInstance,je=e.didNotMatchHydratedTextInstance,be;function st(A){if(be===void 0)try{throw Error()}catch(T){var E=T.stack.trim().match(/\n( *(at )?)/);be=E&&E[1]||""}return`
`+be+A}var St=!1;function Ct(A,E){if(!A||St)return"";St=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(Ot){var L=Ot}Reflect.construct(A,[],E)}else{try{E.call()}catch(Ot){L=Ot}A.call(E.prototype)}else{try{throw Error()}catch(Ot){L=Ot}A()}}catch(Ot){if(Ot&&L&&typeof Ot.stack=="string"){for(var z=Ot.stack.split(`
`),$=L.stack.split(`
`),_e=z.length-1,Be=$.length-1;1<=_e&&0<=Be&&z[_e]!==$[Be];)Be--;for(;1<=_e&&0<=Be;_e--,Be--)if(z[_e]!==$[Be]){if(_e!==1||Be!==1)do if(_e--,Be--,0>Be||z[_e]!==$[Be]){var at=`
`+z[_e].replace(" at new "," at ");return A.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",A.displayName)),at}while(1<=_e&&0<=Be);break}}}finally{St=!1,Error.prepareStackTrace=T}return(A=A?A.displayName||A.name:"")?st(A):""}var Lt=Object.prototype.hasOwnProperty,fn=[],an=-1;function Xt(A){return{current:A}}function ot(A){0>an||(A.current=fn[an],fn[an]=null,an--)}function Dt(A,E){an++,fn[an]=A.current,A.current=E}var un={},ln=Xt(un),rn=Xt(!1),Yt=un;function dr(A,E){var T=A.type.contextTypes;if(!T)return un;var L=A.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===E)return L.__reactInternalMemoizedMaskedChildContext;var z={},$;for($ in T)z[$]=E[$];return L&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=E,A.__reactInternalMemoizedMaskedChildContext=z),z}function En(A){return A=A.childContextTypes,A!=null}function ci(){ot(rn),ot(ln)}function oo(A,E,T){if(ln.current!==un)throw Error(s(168));Dt(ln,E),Dt(rn,T)}function so(A,E,T){var L=A.stateNode;if(E=E.childContextTypes,typeof L.getChildContext!="function")return T;L=L.getChildContext();for(var z in L)if(!(z in E))throw Error(s(108,F(A)||"Unknown",z));return o({},T,L)}function qa(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||un,Yt=ln.current,Dt(ln,A),Dt(rn,rn.current),!0}function Er(A,E,T){var L=A.stateNode;if(!L)throw Error(s(169));T?(A=so(A,E,Yt),L.__reactInternalMemoizedMergedChildContext=A,ot(rn),ot(ln),Dt(ln,A)):ot(rn),Dt(rn,T)}var Vr=Math.clz32?Math.clz32:ao,Ki=Math.log,Ei=Math.LN2;function ao(A){return A>>>=0,A===0?32:31-(Ki(A)/Ei|0)|0}var qs=64,Ln=4194304;function ya(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function Qc(A,E){var T=A.pendingLanes;if(T===0)return 0;var L=0,z=A.suspendedLanes,$=A.pingedLanes,_e=T&268435455;if(_e!==0){var Be=_e&~z;Be!==0?L=ya(Be):($&=_e,$!==0&&(L=ya($)))}else _e=T&~z,_e!==0?L=ya(_e):$!==0&&(L=ya($));if(L===0)return 0;if(E!==0&&E!==L&&!(E&z)&&(z=L&-L,$=E&-E,z>=$||z===16&&($&4194240)!==0))return E;if(L&4&&(L|=T&16),E=A.entangledLanes,E!==0)for(A=A.entanglements,E&=L;0<E;)T=31-Vr(E),z=1<<T,L|=A[T],E&=~z;return L}function mh(A,E){switch(A){case 1:case 2:case 4:return E+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cg(A,E){for(var T=A.suspendedLanes,L=A.pingedLanes,z=A.expirationTimes,$=A.pendingLanes;0<$;){var _e=31-Vr($),Be=1<<_e,at=z[_e];at===-1?(!(Be&T)||Be&L)&&(z[_e]=mh(Be,E)):at<=E&&(A.expiredLanes|=Be),$&=~Be}}function Xf(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function Kf(A){for(var E=[],T=0;31>T;T++)E.push(A);return E}function ml(A,E,T){A.pendingLanes|=E,E!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,E=31-Vr(E),A[E]=T}function Jf(A,E){var T=A.pendingLanes&~E;A.pendingLanes=E,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=E,A.mutableReadLanes&=E,A.entangledLanes&=E,E=A.entanglements;var L=A.eventTimes;for(A=A.expirationTimes;0<T;){var z=31-Vr(T),$=1<<z;E[z]=0,L[z]=-1,A[z]=-1,T&=~$}}function Xa(A,E){var T=A.entangledLanes|=E;for(A=A.entanglements;T;){var L=31-Vr(T),z=1<<L;z&E|A[L]&E&&(A[L]|=E),T&=~z}}var Jn=0;function Mu(A){return A&=-A,1<A?4<A?A&268435455?16:536870912:4:1}var gl=i.unstable_scheduleCallback,Zc=i.unstable_cancelCallback,vl=i.unstable_shouldYield,w1=i.unstable_requestPaint,ki=i.unstable_now,Tu=i.unstable_ImmediatePriority,C1=i.unstable_UserBlockingPriority,gh=i.unstable_NormalPriority,vh=i.unstable_IdlePriority,Yf=null,Ka=null;function Tr(A){if(Ka&&typeof Ka.onCommitFiberRoot=="function")try{Ka.onCommitFiberRoot(Yf,A,void 0,(A.current.flags&128)===128)}catch{}}function Sr(A,E){return A===E&&(A!==0||1/A===1/E)||A!==A&&E!==E}var Wo=typeof Object.is=="function"?Object.is:Sr,Xs=null,_h=!1,Vp=!1;function yh(A){Xs===null?Xs=[A]:Xs.push(A)}function bh(A){_h=!0,yh(A)}function Es(){if(!Vp&&Xs!==null){Vp=!0;var A=0,E=Jn;try{var T=Xs;for(Jn=1;A<T.length;A++){var L=T[A];do L=L(!0);while(L!==null)}Xs=null,_h=!1}catch(z){throw Xs!==null&&(Xs=Xs.slice(A+1)),gl(Tu,Es),z}finally{Jn=E,Vp=!1}}return null}var fg=a.ReactCurrentBatchConfig;function Fr(A,E){if(Wo(A,E))return!0;if(typeof A!="object"||A===null||typeof E!="object"||E===null)return!1;var T=Object.keys(A),L=Object.keys(E);if(T.length!==L.length)return!1;for(L=0;L<T.length;L++){var z=T[L];if(!Lt.call(E,z)||!Wo(A[z],E[z]))return!1}return!0}function Qf(A){switch(A.tag){case 5:return st(A.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 2:case 15:return A=Ct(A.type,!1),A;case 11:return A=Ct(A.type.render,!1),A;case 1:return A=Ct(A.type,!0),A;default:return""}}function Pi(A,E){if(A&&A.defaultProps){E=o({},E),A=A.defaultProps;for(var T in A)E[T]===void 0&&(E[T]=A[T]);return E}return E}var ef=Xt(null),Pu=null,Di=null,Zf=null;function Ro(){Zf=Di=Pu=null}function _l(A,E,T){Qe?(Dt(ef,E._currentValue),E._currentValue=T):(Dt(ef,E._currentValue2),E._currentValue2=T)}function tf(A){var E=ef.current;ot(ef),Qe?A._currentValue=E:A._currentValue2=E}function yl(A,E,T){for(;A!==null;){var L=A.alternate;if((A.childLanes&E)!==E?(A.childLanes|=E,L!==null&&(L.childLanes|=E)):L!==null&&(L.childLanes&E)!==E&&(L.childLanes|=E),A===T)break;A=A.return}}function Jl(A,E){Pu=A,Zf=Di=null,A=A.dependencies,A!==null&&A.firstContext!==null&&(A.lanes&E&&(Yi=!0),A.firstContext=null)}function jr(A){var E=Qe?A._currentValue:A._currentValue2;if(Zf!==A)if(A={context:A,memoizedValue:E,next:null},Di===null){if(Pu===null)throw Error(s(308));Di=A,Pu.dependencies={lanes:0,firstContext:A}}else Di=Di.next=A;return E}var Ks=null,fi=!1;function nf(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(A,E){A=A.updateQueue,E.updateQueue===A&&(E.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function Oo(A,E){return{eventTime:A,lane:E,tag:0,payload:null,callback:null,next:null}}function ba(A,E){var T=A.updateQueue;T!==null&&(T=T.shared,wi!==null&&A.mode&1&&!(Nn&2)?(A=T.interleaved,A===null?(E.next=E,Ks===null?Ks=[T]:Ks.push(T)):(E.next=A.next,A.next=E),T.interleaved=E):(A=T.pending,A===null?E.next=E:(E.next=A.next,A.next=E),T.pending=E))}function rf(A,E,T){if(E=E.updateQueue,E!==null&&(E=E.shared,(T&4194240)!==0)){var L=E.lanes;L&=A.pendingLanes,T|=L,E.lanes=T,Xa(A,T)}}function Lr(A,E){var T=A.updateQueue,L=A.alternate;if(L!==null&&(L=L.updateQueue,T===L)){var z=null,$=null;if(T=T.firstBaseUpdate,T!==null){do{var _e={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};$===null?z=$=_e:$=$.next=_e,T=T.next}while(T!==null);$===null?z=$=E:$=$.next=E}else z=$=E;T={baseState:L.baseState,firstBaseUpdate:z,lastBaseUpdate:$,shared:L.shared,effects:L.effects},A.updateQueue=T;return}A=T.lastBaseUpdate,A===null?T.firstBaseUpdate=E:A.next=E,T.lastBaseUpdate=E}function Aa(A,E,T,L){var z=A.updateQueue;fi=!1;var $=z.firstBaseUpdate,_e=z.lastBaseUpdate,Be=z.shared.pending;if(Be!==null){z.shared.pending=null;var at=Be,Ot=at.next;at.next=null,_e===null?$=Ot:_e.next=Ot,_e=at;var Zt=A.alternate;Zt!==null&&(Zt=Zt.updateQueue,Be=Zt.lastBaseUpdate,Be!==_e&&(Be===null?Zt.firstBaseUpdate=Ot:Be.next=Ot,Zt.lastBaseUpdate=at))}if($!==null){var On=z.baseState;_e=0,Zt=Ot=at=null,Be=$;do{var gn=Be.lane,Vn=Be.eventTime;if((L&gn)===gn){Zt!==null&&(Zt=Zt.next={eventTime:Vn,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var jt=A,yo=Be;switch(gn=E,Vn=T,yo.tag){case 1:if(jt=yo.payload,typeof jt=="function"){On=jt.call(Vn,On,gn);break e}On=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=yo.payload,gn=typeof jt=="function"?jt.call(Vn,On,gn):jt,gn==null)break e;On=o({},On,gn);break e;case 2:fi=!0}}Be.callback!==null&&Be.lane!==0&&(A.flags|=64,gn=z.effects,gn===null?z.effects=[Be]:gn.push(Be))}else Vn={eventTime:Vn,lane:gn,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},Zt===null?(Ot=Zt=Vn,at=On):Zt=Zt.next=Vn,_e|=gn;if(Be=Be.next,Be===null){if(Be=z.shared.pending,Be===null)break;gn=Be,Be=gn.next,gn.next=null,z.lastBaseUpdate=gn,z.shared.pending=null}}while(!0);if(Zt===null&&(at=On),z.baseState=at,z.firstBaseUpdate=Ot,z.lastBaseUpdate=Zt,E=z.shared.interleaved,E!==null){z=E;do _e|=z.lane,z=z.next;while(z!==E)}else $===null&&(z.shared.lanes=0);ru|=_e,A.lanes=_e,A.memoizedState=On}}function Eh(A,E,T){if(A=E.effects,E.effects=null,A!==null)for(E=0;E<A.length;E++){var L=A[E],z=L.callback;if(z!==null){if(L.callback=null,L=T,typeof z!="function")throw Error(s(191,z));z.call(L)}}}var dg=new r.Component().refs;function ed(A,E,T,L){E=A.memoizedState,T=T(L,E),T=T==null?E:o({},E,T),A.memoizedState=T,A.lanes===0&&(A.updateQueue.baseState=T)}var Sh={isMounted:function(A){return(A=A._reactInternals)?I(A)===A:!1},enqueueSetState:function(A,E,T){A=A._reactInternals;var L=hr(),z=Ds(A),$=Oo(L,z);$.payload=E,T!=null&&($.callback=T),ba(A,$),E=No(A,z,L),E!==null&&rf(E,A,z)},enqueueReplaceState:function(A,E,T){A=A._reactInternals;var L=hr(),z=Ds(A),$=Oo(L,z);$.tag=1,$.payload=E,T!=null&&($.callback=T),ba(A,$),E=No(A,z,L),E!==null&&rf(E,A,z)},enqueueForceUpdate:function(A,E){A=A._reactInternals;var T=hr(),L=Ds(A),z=Oo(T,L);z.tag=2,E!=null&&(z.callback=E),ba(A,z),E=No(A,L,T),E!==null&&rf(E,A,L)}};function jp(A,E,T,L,z,$,_e){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(L,$,_e):E.prototype&&E.prototype.isPureReactComponent?!Fr(T,L)||!Fr(z,$):!0}function hg(A,E,T){var L=!1,z=un,$=E.contextType;return typeof $=="object"&&$!==null?$=jr($):(z=En(E)?Yt:ln.current,L=E.contextTypes,$=(L=L!=null)?dr(A,z):un),E=new E(T,$),A.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Sh,A.stateNode=E,E._reactInternals=A,L&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=z,A.__reactInternalMemoizedMaskedChildContext=$),E}function Wp(A,E,T,L){A=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(T,L),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(T,L),E.state!==A&&Sh.enqueueReplaceState(E,E.state,null)}function of(A,E,T,L){var z=A.stateNode;z.props=T,z.state=A.memoizedState,z.refs=dg,nf(A);var $=E.contextType;typeof $=="object"&&$!==null?z.context=jr($):($=En(E)?Yt:ln.current,z.context=dr(A,$)),z.state=A.memoizedState,$=E.getDerivedStateFromProps,typeof $=="function"&&(ed(A,E,$,T),z.state=A.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(E=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),E!==z.state&&Sh.enqueueReplaceState(z,z.state,null),Aa(A,T,z,L),z.state=A.memoizedState),typeof z.componentDidMount=="function"&&(A.flags|=4194308)}var Ea=[],bl=0,td=null,nd=0,ls=[],$o=0,Al=null,Du=1,Sa="";function Ru(A,E){Ea[bl++]=nd,Ea[bl++]=td,td=A,nd=E}function pg(A,E,T){ls[$o++]=Du,ls[$o++]=Sa,ls[$o++]=Al,Al=A;var L=Du;A=Sa;var z=32-Vr(L)-1;L&=~(1<<z),T+=1;var $=32-Vr(E)+z;if(30<$){var _e=z-z%5;$=(L&(1<<_e)-1).toString(32),L>>=_e,z-=_e,Du=1<<32-Vr(E)+z|T<<z|L,Sa=$+A}else Du=1<<$|T<<z|L,Sa=A}function xh(A){A.return!==null&&(Ru(A,1),pg(A,1,0))}function qo(A){for(;A===td;)td=Ea[--bl],Ea[bl]=null,nd=Ea[--bl],Ea[bl]=null;for(;A===Al;)Al=ls[--$o],ls[$o]=null,Sa=ls[--$o],ls[$o]=null,Du=ls[--$o],ls[$o]=null}var uo=null,Si=null,ei=!1,Yl=!1,Js=null;function $p(A,E){var T=Os(5,null,null,0);T.elementType="DELETED",T.stateNode=E,T.return=A,E=A.deletions,E===null?(A.deletions=[T],A.flags|=16):E.push(T)}function qp(A,E){switch(A.tag){case 5:return E=Zr(E,A.type,A.pendingProps),E!==null?(A.stateNode=E,uo=A,Si=Ai(E),!0):!1;case 6:return E=Po(E,A.pendingProps),E!==null?(A.stateNode=E,uo=A,Si=null,!0):!1;case 13:if(E=us(E),E!==null){var T=Al!==null?{id:Du,overflow:Sa}:null;return A.memoizedState={dehydrated:E,treeContext:T,retryLane:1073741824},T=Os(18,null,null,0),T.stateNode=E,T.return=A,A.child=T,uo=A,Si=null,!0}return!1;default:return!1}}function wh(A){return(A.mode&1)!==0&&(A.flags&128)===0}function El(A){if(ei){var E=Si;if(E){var T=E;if(!qp(A,E)){if(wh(A))throw Error(s(418));E=io(T);var L=uo;E&&qp(A,E)?$p(L,T):(A.flags=A.flags&-4097|2,ei=!1,uo=A)}}else{if(wh(A))throw Error(s(418));A.flags=A.flags&-4097|2,ei=!1,uo=A}}}function Ql(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;uo=A}function rd(A){if(!Ke||A!==uo)return!1;if(!ei)return Ql(A),ei=!0,!1;if(A.tag!==3&&(A.tag!==5||Oe(A.type)&&!Ce(A.type,A.memoizedProps))){var E=Si;if(E){if(wh(A)){for(A=Si;A;)A=io(A);throw Error(s(418))}for(;E;)$p(A,E),E=io(E)}}if(Ql(A),A.tag===13){if(!Ke)throw Error(s(316));if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(s(317));Si=$a(A)}else Si=uo?io(A.stateNode):null;return!0}function sf(){Ke&&(Si=uo=null,Yl=ei=!1)}function af(A){Js===null?Js=[A]:Js.push(A)}function Zl(A,E,T){if(A=T.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(s(309));var L=T.stateNode}if(!L)throw Error(s(147,A));var z=L,$=""+A;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===$?E.ref:(E=function(_e){var Be=z.refs;Be===dg&&(Be=z.refs={}),_e===null?delete Be[$]:Be[$]=_e},E._stringRef=$,E)}if(typeof A!="string")throw Error(s(284));if(!T._owner)throw Error(s(290,A))}return A}function Xo(A,E){throw A=Object.prototype.toString.call(E),Error(s(31,A==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":A))}function Ou(A){var E=A._init;return E(A._payload)}function mg(A){function E(Xe,Ue){if(A){var it=Xe.deletions;it===null?(Xe.deletions=[Ue],Xe.flags|=16):it.push(Ue)}}function T(Xe,Ue){if(!A)return null;for(;Ue!==null;)E(Xe,Ue),Ue=Ue.sibling;return null}function L(Xe,Ue){for(Xe=new Map;Ue!==null;)Ue.key!==null?Xe.set(Ue.key,Ue):Xe.set(Ue.index,Ue),Ue=Ue.sibling;return Xe}function z(Xe,Ue){return Xe=lu(Xe,Ue),Xe.index=0,Xe.sibling=null,Xe}function $(Xe,Ue,it){return Xe.index=it,A?(it=Xe.alternate,it!==null?(it=it.index,it<Ue?(Xe.flags|=2,Ue):it):(Xe.flags|=2,Ue)):(Xe.flags|=1048576,Ue)}function _e(Xe){return A&&Xe.alternate===null&&(Xe.flags|=2),Xe}function Be(Xe,Ue,it,Gt){return Ue===null||Ue.tag!==6?(Ue=_o(it,Xe.mode,Gt),Ue.return=Xe,Ue):(Ue=z(Ue,it),Ue.return=Xe,Ue)}function at(Xe,Ue,it,Gt){var sn=it.type;return sn===l?Zt(Xe,Ue,it.props.children,Gt,it.key):Ue!==null&&(Ue.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===C&&Ou(sn)===Ue.type)?(Gt=z(Ue,it.props),Gt.ref=Zl(Xe,Ue,it),Gt.return=Xe,Gt):(Gt=qh(it.type,it.key,it.props,null,Xe.mode,Gt),Gt.ref=Zl(Xe,Ue,it),Gt.return=Xe,Gt)}function Ot(Xe,Ue,it,Gt){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==it.containerInfo||Ue.stateNode.implementation!==it.implementation?(Ue=Is(it,Xe.mode,Gt),Ue.return=Xe,Ue):(Ue=z(Ue,it.children||[]),Ue.return=Xe,Ue)}function Zt(Xe,Ue,it,Gt,sn){return Ue===null||Ue.tag!==7?(Ue=Nl(it,Xe.mode,Gt,sn),Ue.return=Xe,Ue):(Ue=z(Ue,it),Ue.return=Xe,Ue)}function On(Xe,Ue,it){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Ue=_o(""+Ue,Xe.mode,it),Ue.return=Xe,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case u:return it=qh(Ue.type,Ue.key,Ue.props,null,Xe.mode,it),it.ref=Zl(Xe,null,Ue),it.return=Xe,it;case c:return Ue=Is(Ue,Xe.mode,it),Ue.return=Xe,Ue;case C:var Gt=Ue._init;return On(Xe,Gt(Ue._payload),it)}if(le(Ue)||O(Ue))return Ue=Nl(Ue,Xe.mode,it,null),Ue.return=Xe,Ue;Xo(Xe,Ue)}return null}function gn(Xe,Ue,it,Gt){var sn=Ue!==null?Ue.key:null;if(typeof it=="string"&&it!==""||typeof it=="number")return sn!==null?null:Be(Xe,Ue,""+it,Gt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case u:return it.key===sn?at(Xe,Ue,it,Gt):null;case c:return it.key===sn?Ot(Xe,Ue,it,Gt):null;case C:return sn=it._init,gn(Xe,Ue,sn(it._payload),Gt)}if(le(it)||O(it))return sn!==null?null:Zt(Xe,Ue,it,Gt,null);Xo(Xe,it)}return null}function Vn(Xe,Ue,it,Gt,sn){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number")return Xe=Xe.get(it)||null,Be(Ue,Xe,""+Gt,sn);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case u:return Xe=Xe.get(Gt.key===null?it:Gt.key)||null,at(Ue,Xe,Gt,sn);case c:return Xe=Xe.get(Gt.key===null?it:Gt.key)||null,Ot(Ue,Xe,Gt,sn);case C:var Un=Gt._init;return Vn(Xe,Ue,it,Un(Gt._payload),sn)}if(le(Gt)||O(Gt))return Xe=Xe.get(it)||null,Zt(Ue,Xe,Gt,sn,null);Xo(Ue,Gt)}return null}function jt(Xe,Ue,it,Gt){for(var sn=null,Un=null,In=Ue,jn=Ue=0,gi=null;In!==null&&jn<it.length;jn++){In.index>jn?(gi=In,In=null):gi=In.sibling;var sr=gn(Xe,In,it[jn],Gt);if(sr===null){In===null&&(In=gi);break}A&&In&&sr.alternate===null&&E(Xe,In),Ue=$(sr,Ue,jn),Un===null?sn=sr:Un.sibling=sr,Un=sr,In=gi}if(jn===it.length)return T(Xe,In),ei&&Ru(Xe,jn),sn;if(In===null){for(;jn<it.length;jn++)In=On(Xe,it[jn],Gt),In!==null&&(Ue=$(In,Ue,jn),Un===null?sn=In:Un.sibling=In,Un=In);return ei&&Ru(Xe,jn),sn}for(In=L(Xe,In);jn<it.length;jn++)gi=Vn(In,Xe,jn,it[jn],Gt),gi!==null&&(A&&gi.alternate!==null&&In.delete(gi.key===null?jn:gi.key),Ue=$(gi,Ue,jn),Un===null?sn=gi:Un.sibling=gi,Un=gi);return A&&In.forEach(function(Ia){return E(Xe,Ia)}),ei&&Ru(Xe,jn),sn}function yo(Xe,Ue,it,Gt){var sn=O(it);if(typeof sn!="function")throw Error(s(150));if(it=sn.call(it),it==null)throw Error(s(151));for(var Un=sn=null,In=Ue,jn=Ue=0,gi=null,sr=it.next();In!==null&&!sr.done;jn++,sr=it.next()){In.index>jn?(gi=In,In=null):gi=In.sibling;var Ia=gn(Xe,In,sr.value,Gt);if(Ia===null){In===null&&(In=gi);break}A&&In&&Ia.alternate===null&&E(Xe,In),Ue=$(Ia,Ue,jn),Un===null?sn=Ia:Un.sibling=Ia,Un=Ia,In=gi}if(sr.done)return T(Xe,In),ei&&Ru(Xe,jn),sn;if(In===null){for(;!sr.done;jn++,sr=it.next())sr=On(Xe,sr.value,Gt),sr!==null&&(Ue=$(sr,Ue,jn),Un===null?sn=sr:Un.sibling=sr,Un=sr);return ei&&Ru(Xe,jn),sn}for(In=L(Xe,In);!sr.done;jn++,sr=it.next())sr=Vn(In,Xe,jn,sr.value,Gt),sr!==null&&(A&&sr.alternate!==null&&In.delete(sr.key===null?jn:sr.key),Ue=$(sr,Ue,jn),Un===null?sn=sr:Un.sibling=sr,Un=sr);return A&&In.forEach(function(Af){return E(Xe,Af)}),ei&&Ru(Xe,jn),sn}function ds(Xe,Ue,it,Gt){if(typeof it=="object"&&it!==null&&it.type===l&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case u:e:{for(var sn=it.key,Un=Ue;Un!==null;){if(Un.key===sn){if(sn=it.type,sn===l){if(Un.tag===7){T(Xe,Un.sibling),Ue=z(Un,it.props.children),Ue.return=Xe,Xe=Ue;break e}}else if(Un.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===C&&Ou(sn)===Un.type){T(Xe,Un.sibling),Ue=z(Un,it.props),Ue.ref=Zl(Xe,Un,it),Ue.return=Xe,Xe=Ue;break e}T(Xe,Un);break}else E(Xe,Un);Un=Un.sibling}it.type===l?(Ue=Nl(it.props.children,Xe.mode,Gt,it.key),Ue.return=Xe,Xe=Ue):(Gt=qh(it.type,it.key,it.props,null,Xe.mode,Gt),Gt.ref=Zl(Xe,Ue,it),Gt.return=Xe,Xe=Gt)}return _e(Xe);case c:e:{for(Un=it.key;Ue!==null;){if(Ue.key===Un)if(Ue.tag===4&&Ue.stateNode.containerInfo===it.containerInfo&&Ue.stateNode.implementation===it.implementation){T(Xe,Ue.sibling),Ue=z(Ue,it.children||[]),Ue.return=Xe,Xe=Ue;break e}else{T(Xe,Ue);break}else E(Xe,Ue);Ue=Ue.sibling}Ue=Is(it,Xe.mode,Gt),Ue.return=Xe,Xe=Ue}return _e(Xe);case C:return Un=it._init,ds(Xe,Ue,Un(it._payload),Gt)}if(le(it))return jt(Xe,Ue,it,Gt);if(O(it))return yo(Xe,Ue,it,Gt);Xo(Xe,it)}return typeof it=="string"&&it!==""||typeof it=="number"?(it=""+it,Ue!==null&&Ue.tag===6?(T(Xe,Ue.sibling),Ue=z(Ue,it),Ue.return=Xe,Xe=Ue):(T(Xe,Ue),Ue=_o(it,Xe.mode,Gt),Ue.return=Xe,Xe=Ue),_e(Xe)):T(Xe,Ue)}return ds}var Iu=mg(!0),gg=mg(!1),xa={},oi=Xt(xa),Sl=Xt(xa),ec=Xt(xa);function wa(A){if(A===xa)throw Error(s(174));return A}function Ch(A,E){Dt(ec,E),Dt(Sl,A),Dt(oi,xa),A=fe(E),ot(oi),Dt(oi,A)}function uf(){ot(oi),ot(Sl),ot(ec)}function vg(A){var E=wa(ec.current),T=wa(oi.current);E=V(T,A.type,E),T!==E&&(Dt(Sl,A),Dt(oi,E))}function xl(A){Sl.current===A&&(ot(oi),ot(Sl))}var Pe=Xt(0);function ct(A){for(var E=A;E!==null;){if(E.tag===13){var T=E.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||Xi(T)||ro(T)))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(E.flags&128)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===A)break;for(;E.sibling===null;){if(E.return===null||E.return===A)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var Ye=[];function Vt(){for(var A=0;A<Ye.length;A++){var E=Ye[A];Qe?E._workInProgressVersionPrimary=null:E._workInProgressVersionSecondary=null}Ye.length=0}var Cn=a.ReactCurrentDispatcher,Bn=a.ReactCurrentBatchConfig,ti=0,xn=null,Ri=null,Ji=null,Ko=!1,Ss=!1,tc=0,Ja=0;function xi(){throw Error(s(321))}function nc(A,E){if(E===null)return!1;for(var T=0;T<E.length&&T<A.length;T++)if(!Wo(A[T],E[T]))return!1;return!0}function lr(A,E,T,L,z,$){if(ti=$,xn=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,Cn.current=A===null||A.memoizedState===null?sc:ud,A=T(L,z),Ss){$=0;do{if(Ss=!1,tc=0,25<=$)throw Error(s(301));$+=1,Ji=Ri=null,E.updateQueue=null,Cn.current=Pl,A=T(L,z)}while(Ss)}if(Cn.current=Tl,E=Ri!==null&&Ri.next!==null,ti=0,Ji=Ri=xn=null,Ko=!1,E)throw Error(s(300));return A}function wl(){var A=tc!==0;return tc=0,A}function Ys(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ji===null?xn.memoizedState=Ji=A:Ji=Ji.next=A,Ji}function cs(){if(Ri===null){var A=xn.alternate;A=A!==null?A.memoizedState:null}else A=Ri.next;var E=Ji===null?xn.memoizedState:Ji.next;if(E!==null)Ji=E,Ri=A;else{if(A===null)throw Error(s(310));Ri=A,A={memoizedState:Ri.memoizedState,baseState:Ri.baseState,baseQueue:Ri.baseQueue,queue:Ri.queue,next:null},Ji===null?xn.memoizedState=Ji=A:Ji=Ji.next=A}return Ji}function Ya(A,E){return typeof E=="function"?E(A):E}function id(A){var E=cs(),T=E.queue;if(T===null)throw Error(s(311));T.lastRenderedReducer=A;var L=Ri,z=L.baseQueue,$=T.pending;if($!==null){if(z!==null){var _e=z.next;z.next=$.next,$.next=_e}L.baseQueue=z=$,T.pending=null}if(z!==null){$=z.next,L=L.baseState;var Be=_e=null,at=null,Ot=$;do{var Zt=Ot.lane;if((ti&Zt)===Zt)at!==null&&(at=at.next={lane:0,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null}),L=Ot.hasEagerState?Ot.eagerState:A(L,Ot.action);else{var On={lane:Zt,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null};at===null?(Be=at=On,_e=L):at=at.next=On,xn.lanes|=Zt,ru|=Zt}Ot=Ot.next}while(Ot!==null&&Ot!==$);at===null?_e=L:at.next=Be,Wo(L,E.memoizedState)||(Yi=!0),E.memoizedState=L,E.baseState=_e,E.baseQueue=at,T.lastRenderedState=L}if(A=T.interleaved,A!==null){z=A;do $=z.lane,xn.lanes|=$,ru|=$,z=z.next;while(z!==A)}else z===null&&(T.lanes=0);return[E.memoizedState,T.dispatch]}function od(A){var E=cs(),T=E.queue;if(T===null)throw Error(s(311));T.lastRenderedReducer=A;var L=T.dispatch,z=T.pending,$=E.memoizedState;if(z!==null){T.pending=null;var _e=z=z.next;do $=A($,_e.action),_e=_e.next;while(_e!==z);Wo($,E.memoizedState)||(Yi=!0),E.memoizedState=$,E.baseQueue===null&&(E.baseState=$),T.lastRenderedState=$}return[$,L]}function lf(){}function Qa(A,E){var T=xn,L=cs(),z=E(),$=!Wo(L.memoizedState,z);if($&&(L.memoizedState=z,Yi=!0),L=L.queue,df(Qs.bind(null,T,L,A),[A]),L.getSnapshot!==E||$||Ji!==null&&Ji.memoizedState.tag&1){if(T.flags|=2048,Cl(9,Mh.bind(null,T,L,z,E),void 0,null),wi===null)throw Error(s(349));ti&30||cf(T,E,z)}return z}function cf(A,E,T){A.flags|=16384,A={getSnapshot:E,value:T},E=xn.updateQueue,E===null?(E={lastEffect:null,stores:null},xn.updateQueue=E,E.stores=[A]):(T=E.stores,T===null?E.stores=[A]:T.push(A))}function Mh(A,E,T,L){E.value=T,E.getSnapshot=L,sd(E)&&No(A,1,-1)}function Qs(A,E,T){return T(function(){sd(E)&&No(A,1,-1)})}function sd(A){var E=A.getSnapshot;A=A.value;try{var T=E();return!Wo(A,T)}catch{return!0}}function ff(A){var E=Ys();return typeof A=="function"&&(A=A()),E.memoizedState=E.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:A},E.queue=A,A=A.dispatch=Io.bind(null,xn,A),[E.memoizedState,A]}function Cl(A,E,T,L){return A={tag:A,create:E,destroy:T,deps:L,next:null},E=xn.updateQueue,E===null?(E={lastEffect:null,stores:null},xn.updateQueue=E,E.lastEffect=A.next=A):(T=E.lastEffect,T===null?E.lastEffect=A.next=A:(L=T.next,T.next=A,A.next=L,E.lastEffect=A)),A}function Xp(){return cs().memoizedState}function Zs(A,E,T,L){var z=Ys();xn.flags|=A,z.memoizedState=Cl(1|E,T,void 0,L===void 0?null:L)}function Za(A,E,T,L){var z=cs();L=L===void 0?null:L;var $=void 0;if(Ri!==null){var _e=Ri.memoizedState;if($=_e.destroy,L!==null&&nc(L,_e.deps)){z.memoizedState=Cl(E,T,$,L);return}}xn.flags|=A,z.memoizedState=Cl(1|E,T,$,L)}function rc(A,E){return Zs(8390656,8,A,E)}function df(A,E){return Za(2048,8,A,E)}function Wr(A,E){return Za(4,2,A,E)}function Th(A,E){return Za(4,4,A,E)}function Ml(A,E){if(typeof E=="function")return A=A(),E(A),function(){E(null)};if(E!=null)return A=A(),E.current=A,function(){E.current=null}}function Bu(A,E,T){return T=T!=null?T.concat([A]):null,Za(4,4,Ml.bind(null,E,A),T)}function hf(){}function Ph(A,E){var T=cs();E=E===void 0?null:E;var L=T.memoizedState;return L!==null&&E!==null&&nc(E,L[1])?L[0]:(T.memoizedState=[A,E],A)}function ic(A,E){var T=cs();E=E===void 0?null:E;var L=T.memoizedState;return L!==null&&E!==null&&nc(E,L[1])?L[0]:(A=A(),T.memoizedState=[A,E],A)}function Dh(A,E){var T=Jn;Jn=T!==0&&4>T?T:4,A(!0);var L=Bn.transition;Bn.transition={};try{A(!1),E()}finally{Jn=T,Bn.transition=L}}function oc(){return cs().memoizedState}function Oi(A,E,T){var L=Ds(A);T={lane:L,action:T,hasEagerState:!1,eagerState:null,next:null},_g(A)?Kp(E,T):(pf(A,E,T),T=hr(),A=No(A,L,T),A!==null&&ad(A,E,L))}function Io(A,E,T){var L=Ds(A),z={lane:L,action:T,hasEagerState:!1,eagerState:null,next:null};if(_g(A))Kp(E,z);else{pf(A,E,z);var $=A.alternate;if(A.lanes===0&&($===null||$.lanes===0)&&($=E.lastRenderedReducer,$!==null))try{var _e=E.lastRenderedState,Be=$(_e,T);if(z.hasEagerState=!0,z.eagerState=Be,Wo(Be,_e))return}catch{}finally{}T=hr(),A=No(A,L,T),A!==null&&ad(A,E,L)}}function _g(A){var E=A.alternate;return A===xn||E!==null&&E===xn}function Kp(A,E){Ss=Ko=!0;var T=A.pending;T===null?E.next=E:(E.next=T.next,T.next=E),A.pending=E}function pf(A,E,T){wi!==null&&A.mode&1&&!(Nn&2)?(A=E.interleaved,A===null?(T.next=T,Ks===null?Ks=[E]:Ks.push(E)):(T.next=A.next,A.next=T),E.interleaved=T):(A=E.pending,A===null?T.next=T:(T.next=A.next,A.next=T),E.pending=T)}function ad(A,E,T){if(T&4194240){var L=E.lanes;L&=A.pendingLanes,T|=L,E.lanes=T,Xa(A,T)}}var Tl={readContext:jr,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},sc={readContext:jr,useCallback:function(A,E){return Ys().memoizedState=[A,E===void 0?null:E],A},useContext:jr,useEffect:rc,useImperativeHandle:function(A,E,T){return T=T!=null?T.concat([A]):null,Zs(4194308,4,Ml.bind(null,E,A),T)},useLayoutEffect:function(A,E){return Zs(4194308,4,A,E)},useInsertionEffect:function(A,E){return Zs(4,2,A,E)},useMemo:function(A,E){var T=Ys();return E=E===void 0?null:E,A=A(),T.memoizedState=[A,E],A},useReducer:function(A,E,T){var L=Ys();return E=T!==void 0?T(E):E,L.memoizedState=L.baseState=E,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:E},L.queue=A,A=A.dispatch=Oi.bind(null,xn,A),[L.memoizedState,A]},useRef:function(A){var E=Ys();return A={current:A},E.memoizedState=A},useState:ff,useDebugValue:hf,useDeferredValue:function(A){var E=ff(A),T=E[0],L=E[1];return rc(function(){var z=Bn.transition;Bn.transition={};try{L(A)}finally{Bn.transition=z}},[A]),T},useTransition:function(){var A=ff(!1),E=A[0];return A=Dh.bind(null,A[1]),Ys().memoizedState=A,[E,A]},useMutableSource:function(){},useSyncExternalStore:function(A,E,T){var L=xn,z=Ys();if(ei){if(T===void 0)throw Error(s(407));T=T()}else{if(T=E(),wi===null)throw Error(s(349));ti&30||cf(L,E,T)}z.memoizedState=T;var $={value:T,getSnapshot:E};return z.queue=$,rc(Qs.bind(null,L,$,A),[A]),L.flags|=2048,Cl(9,Mh.bind(null,L,$,T,E),void 0,null),T},useId:function(){var A=Ys(),E=wi.identifierPrefix;if(ei){var T=Sa,L=Du;T=(L&~(1<<32-Vr(L)-1)).toString(32)+T,E=":"+E+"R"+T,T=tc++,0<T&&(E+="H"+T.toString(32)),E+=":"}else T=Ja++,E=":"+E+"r"+T.toString(32)+":";return A.memoizedState=E},unstable_isNewReconciler:!1},ud={readContext:jr,useCallback:Ph,useContext:jr,useEffect:df,useImperativeHandle:Bu,useInsertionEffect:Wr,useLayoutEffect:Th,useMemo:ic,useReducer:id,useRef:Xp,useState:function(){return id(Ya)},useDebugValue:hf,useDeferredValue:function(A){var E=id(Ya),T=E[0],L=E[1];return df(function(){var z=Bn.transition;Bn.transition={};try{L(A)}finally{Bn.transition=z}},[A]),T},useTransition:function(){var A=id(Ya)[0],E=cs().memoizedState;return[A,E]},useMutableSource:lf,useSyncExternalStore:Qa,useId:oc,unstable_isNewReconciler:!1},Pl={readContext:jr,useCallback:Ph,useContext:jr,useEffect:df,useImperativeHandle:Bu,useInsertionEffect:Wr,useLayoutEffect:Th,useMemo:ic,useReducer:od,useRef:Xp,useState:function(){return od(Ya)},useDebugValue:hf,useDeferredValue:function(A){var E=od(Ya),T=E[0],L=E[1];return df(function(){var z=Bn.transition;Bn.transition={};try{L(A)}finally{Bn.transition=z}},[A]),T},useTransition:function(){var A=od(Ya)[0],E=cs().memoizedState;return[A,E]},useMutableSource:lf,useSyncExternalStore:Qa,useId:oc,unstable_isNewReconciler:!1};function ac(A,E){try{var T="",L=E;do T+=Qf(L),L=L.return;while(L);var z=T}catch($){z=`
Error generating stack: `+$.message+`
`+$.stack}return{value:A,source:E,stack:z}}function Dl(A,E){try{console.error(E.value)}catch(T){setTimeout(function(){throw T})}}var Rh=typeof WeakMap=="function"?WeakMap:Map;function uc(A,E,T){T=Oo(-1,T),T.tag=3,T.payload={element:null};var L=E.value;return T.callback=function(){yc||(yc=!0,Xr=L),Dl(A,E)},T}function Oh(A,E,T){T=Oo(-1,T),T.tag=3;var L=A.type.getDerivedStateFromError;if(typeof L=="function"){var z=E.value;T.payload=function(){return L(z)},T.callback=function(){Dl(A,E)}}var $=A.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(T.callback=function(){Dl(A,E),typeof L!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var _e=E.stack;this.componentDidCatch(E.value,{componentStack:_e!==null?_e:""})}),T}function Fu(A,E,T){var L=A.pingCache;if(L===null){L=A.pingCache=new Rh;var z=new Set;L.set(E,z)}else z=L.get(E),z===void 0&&(z=new Set,L.set(E,z));z.has(T)||(z.add(T),A=uu.bind(null,A,E,T),E.then(A,A))}function Jp(A){do{var E;if((E=A.tag===13)&&(E=A.memoizedState,E=E!==null?E.dehydrated!==null:!0),E)return A;A=A.return}while(A!==null);return null}function lc(A,E,T,L,z){return A.mode&1?(A.flags|=65536,A.lanes=z,A):(A===E?A.flags|=65536:(A.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(E=Oo(-1,1),E.tag=2,ba(T,E))),T.lanes|=1),A)}function zi(A){A.flags|=4}function Lu(A,E){if(A!==null&&A.child===E.child)return!0;if(E.flags&16)return!1;for(A=E.child;A!==null;){if(A.flags&12854||A.subtreeFlags&12854)return!1;A=A.sibling}return!0}var lo,Rl,ce,Nu;if(lt)lo=function(A,E){for(var T=E.child;T!==null;){if(T.tag===5||T.tag===6)de(A,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===E)break;for(;T.sibling===null;){if(T.return===null||T.return===E)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},Rl=function(){},ce=function(A,E,T,L,z){if(A=A.memoizedProps,A!==L){var $=E.stateNode,_e=wa(oi.current);T=ye($,T,A,L,z,_e),(E.updateQueue=T)&&zi(E)}},Nu=function(A,E,T,L){T!==L&&zi(E)};else if(We){lo=function(A,E,T,L){for(var z=E.child;z!==null;){if(z.tag===5){var $=z.stateNode;T&&L&&($=Gn($,z.type,z.memoizedProps,z)),de(A,$)}else if(z.tag===6)$=z.stateNode,T&&L&&($=li($,z.memoizedProps,z)),de(A,$);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)$=z.child,$!==null&&($.return=z),lo(A,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===E)break;for(;z.sibling===null;){if(z.return===null||z.return===E)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};var Ca=function(A,E,T,L){for(var z=E.child;z!==null;){if(z.tag===5){var $=z.stateNode;T&&L&&($=Gn($,z.type,z.memoizedProps,z)),vn(A,$)}else if(z.tag===6)$=z.stateNode,T&&L&&($=li($,z.memoizedProps,z)),vn(A,$);else if(z.tag!==4){if(z.tag===22&&z.memoizedState!==null)$=z.child,$!==null&&($.return=z),Ca(A,z,!0,!0);else if(z.child!==null){z.child.return=z,z=z.child;continue}}if(z===E)break;for(;z.sibling===null;){if(z.return===null||z.return===E)return;z=z.return}z.sibling.return=z.return,z=z.sibling}};Rl=function(A,E){var T=E.stateNode;if(!Lu(A,E)){A=T.containerInfo;var L=kt(A);Ca(L,E,!1,!1),T.pendingChildren=L,zi(E),fr(A,L)}},ce=function(A,E,T,L,z){var $=A.stateNode,_e=A.memoizedProps;if((A=Lu(A,E))&&_e===L)E.stateNode=$;else{var Be=E.stateNode,at=wa(oi.current),Ot=null;_e!==L&&(Ot=ye(Be,T,_e,L,z,at)),A&&Ot===null?E.stateNode=$:($=bt($,Ot,T,_e,L,E,A,Be),we($,T,L,z,at)&&zi(E),E.stateNode=$,A?zi(E):lo($,E,!1,!1))}},Nu=function(A,E,T,L){T!==L?(A=wa(ec.current),T=wa(oi.current),E.stateNode=Le(L,A,T,E),zi(E)):E.stateNode=A.stateNode}}else Rl=function(){},ce=function(){},Nu=function(){};function Ii(A,E){if(!ei)switch(A.tailMode){case"hidden":E=A.tail;for(var T=null;E!==null;)E.alternate!==null&&(T=E),E=E.sibling;T===null?A.tail=null:T.sibling=null;break;case"collapsed":T=A.tail;for(var L=null;T!==null;)T.alternate!==null&&(L=T),T=T.sibling;L===null?E||A.tail===null?A.tail=null:A.tail.sibling=null:L.sibling=null}}function pn(A){var E=A.alternate!==null&&A.alternate.child===A.child,T=0,L=0;if(E)for(var z=A.child;z!==null;)T|=z.lanes|z.childLanes,L|=z.subtreeFlags&14680064,L|=z.flags&14680064,z.return=A,z=z.sibling;else for(z=A.child;z!==null;)T|=z.lanes|z.childLanes,L|=z.subtreeFlags,L|=z.flags,z.return=A,z=z.sibling;return A.subtreeFlags|=L,A.childLanes=T,E}function Ih(A,E,T){var L=E.pendingProps;switch(qo(E),E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(E),null;case 1:return En(E.type)&&ci(),pn(E),null;case 3:return L=E.stateNode,uf(),ot(rn),ot(ln),Vt(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(A===null||A.child===null)&&(rd(E)?zi(E):A===null||A.memoizedState.isDehydrated&&!(E.flags&256)||(E.flags|=1024,Js!==null&&(Gu(Js),Js=null))),Rl(A,E),pn(E),null;case 5:xl(E),T=wa(ec.current);var z=E.type;if(A!==null&&E.stateNode!=null)ce(A,E,z,L,T),A.ref!==E.ref&&(E.flags|=512,E.flags|=2097152);else{if(!L){if(E.stateNode===null)throw Error(s(166));return pn(E),null}if(A=wa(oi.current),rd(E)){if(!Ke)throw Error(s(175));A=va(E.stateNode,E.type,E.memoizedProps,T,A,E,!Yl),E.updateQueue=A,A!==null&&zi(E)}else{var $=Q(z,L,T,A,E);lo($,E,!1,!1),E.stateNode=$,we($,z,L,T,A)&&zi(E)}E.ref!==null&&(E.flags|=512,E.flags|=2097152)}return pn(E),null;case 6:if(A&&E.stateNode!=null)Nu(A,E,A.memoizedProps,L);else{if(typeof L!="string"&&E.stateNode===null)throw Error(s(166));if(A=wa(ec.current),T=wa(oi.current),rd(E)){if(!Ke)throw Error(s(176));if(A=E.stateNode,L=E.memoizedProps,(T=Do(A,L,E,!Yl))&&(z=uo,z!==null))switch($=(z.mode&1)!==0,z.tag){case 3:ke(z.stateNode.containerInfo,A,L,$);break;case 5:je(z.type,z.memoizedProps,z.stateNode,A,L,$)}T&&zi(E)}else E.stateNode=Le(L,A,T,E)}return pn(E),null;case 13:if(ot(Pe),L=E.memoizedState,ei&&Si!==null&&E.mode&1&&!(E.flags&128)){for(A=Si;A;)A=io(A);return sf(),E.flags|=98560,E}if(L!==null&&L.dehydrated!==null){if(L=rd(E),A===null){if(!L)throw Error(s(318));if(!Ke)throw Error(s(344));if(A=E.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(s(317));Gr(A,E)}else sf(),!(E.flags&128)&&(E.memoizedState=null),E.flags|=4;return pn(E),null}return Js!==null&&(Gu(Js),Js=null),E.flags&128?(E.lanes=T,E):(L=L!==null,T=!1,A===null?rd(E):T=A.memoizedState!==null,L&&!T&&(E.child.flags|=8192,E.mode&1&&(A===null||Pe.current&1?ai===0&&(ai=3):bd())),E.updateQueue!==null&&(E.flags|=4),pn(E),null);case 4:return uf(),Rl(A,E),A===null&&wt(E.stateNode.containerInfo),pn(E),null;case 10:return tf(E.type._context),pn(E),null;case 17:return En(E.type)&&ci(),pn(E),null;case 19:if(ot(Pe),z=E.memoizedState,z===null)return pn(E),null;if(L=(E.flags&128)!==0,$=z.rendering,$===null)if(L)Ii(z,!1);else{if(ai!==0||A!==null&&A.flags&128)for(A=E.child;A!==null;){if($=ct(A),$!==null){for(E.flags|=128,Ii(z,!1),A=$.updateQueue,A!==null&&(E.updateQueue=A,E.flags|=4),E.subtreeFlags=0,A=T,L=E.child;L!==null;)T=L,z=A,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=z,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,z=$.dependencies,T.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext}),L=L.sibling;return Dt(Pe,Pe.current&1|2),E.child}A=A.sibling}z.tail!==null&&ki()>ou&&(E.flags|=128,L=!0,Ii(z,!1),E.lanes=4194304)}else{if(!L)if(A=ct($),A!==null){if(E.flags|=128,L=!0,A=A.updateQueue,A!==null&&(E.updateQueue=A,E.flags|=4),Ii(z,!0),z.tail===null&&z.tailMode==="hidden"&&!$.alternate&&!ei)return pn(E),null}else 2*ki()-z.renderingStartTime>ou&&T!==1073741824&&(E.flags|=128,L=!0,Ii(z,!1),E.lanes=4194304);z.isBackwards?($.sibling=E.child,E.child=$):(A=z.last,A!==null?A.sibling=$:E.child=$,z.last=$)}return z.tail!==null?(E=z.tail,z.rendering=E,z.tail=E.sibling,z.renderingStartTime=ki(),E.sibling=null,A=Pe.current,Dt(Pe,L?A&1|2:A&1),E):(pn(E),null);case 22:case 23:return _d(),L=E.memoizedState!==null,A!==null&&A.memoizedState!==null!==L&&(E.flags|=8192),L&&E.mode&1?Lo&1073741824&&(pn(E),lt&&E.subtreeFlags&6&&(E.flags|=8192)):pn(E),null;case 24:return null;case 25:return null}throw Error(s(156,E.tag))}var Yp=a.ReactCurrentOwner,Yi=!1;function Rr(A,E,T,L){E.child=A===null?gg(E,null,T,L):Iu(E,A.child,T,L)}function $r(A,E,T,L,z){T=T.render;var $=E.ref;return Jl(E,z),L=lr(A,E,T,L,$,z),T=wl(),A!==null&&!Yi?(E.updateQueue=A.updateQueue,E.flags&=-2053,A.lanes&=~z,si(A,E,z)):(ei&&T&&xh(E),E.flags|=1,Rr(A,E,L,z),E.child)}function Nr(A,E,T,L,z){if(A===null){var $=T.type;return typeof $=="function"&&!$h($)&&$.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(E.tag=15,E.type=$,Uu(A,E,$,L,z)):(A=qh(T.type,null,L,E,E.mode,z),A.ref=E.ref,A.return=E,E.child=A)}if($=A.child,!(A.lanes&z)){var _e=$.memoizedProps;if(T=T.compare,T=T!==null?T:Fr,T(_e,L)&&A.ref===E.ref)return si(A,E,z)}return E.flags|=1,A=lu($,L),A.ref=E.ref,A.return=E,E.child=A}function Uu(A,E,T,L,z){if(A!==null&&Fr(A.memoizedProps,L)&&A.ref===E.ref)if(Yi=!1,(A.lanes&z)!==0)A.flags&131072&&(Yi=!0);else return E.lanes=A.lanes,si(A,E,z);return fo(A,E,T,L,z)}function co(A,E,T){var L=E.pendingProps,z=L.children,$=A!==null?A.memoizedState:null;if(L.mode==="hidden")if(!(E.mode&1))E.memoizedState={baseLanes:0,cachePool:null},Dt(gc,Lo),Lo|=T;else if(T&1073741824)E.memoizedState={baseLanes:0,cachePool:null},L=$!==null?$.baseLanes:T,Dt(gc,Lo),Lo|=L;else return A=$!==null?$.baseLanes|T:T,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:A,cachePool:null},E.updateQueue=null,Dt(gc,Lo),Lo|=A,null;else $!==null?(L=$.baseLanes|T,E.memoizedState=null):L=T,Dt(gc,Lo),Lo|=L;return Rr(A,E,z,T),E.child}function Jo(A,E){var T=E.ref;(A===null&&T!==null||A!==null&&A.ref!==T)&&(E.flags|=512,E.flags|=2097152)}function fo(A,E,T,L,z){var $=En(T)?Yt:ln.current;return $=dr(E,$),Jl(E,z),T=lr(A,E,T,L,$,z),L=wl(),A!==null&&!Yi?(E.updateQueue=A.updateQueue,E.flags&=-2053,A.lanes&=~z,si(A,E,z)):(ei&&L&&xh(E),E.flags|=1,Rr(A,E,T,z),E.child)}function cc(A,E,T,L,z){if(En(T)){var $=!0;qa(E)}else $=!1;if(Jl(E,z),E.stateNode===null)A!==null&&(A.alternate=null,E.alternate=null,E.flags|=2),hg(E,T,L),of(E,T,L,z),L=!0;else if(A===null){var _e=E.stateNode,Be=E.memoizedProps;_e.props=Be;var at=_e.context,Ot=T.contextType;typeof Ot=="object"&&Ot!==null?Ot=jr(Ot):(Ot=En(T)?Yt:ln.current,Ot=dr(E,Ot));var Zt=T.getDerivedStateFromProps,On=typeof Zt=="function"||typeof _e.getSnapshotBeforeUpdate=="function";On||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(Be!==L||at!==Ot)&&Wp(E,_e,L,Ot),fi=!1;var gn=E.memoizedState;_e.state=gn,Aa(E,L,_e,z),at=E.memoizedState,Be!==L||gn!==at||rn.current||fi?(typeof Zt=="function"&&(ed(E,T,Zt,L),at=E.memoizedState),(Be=fi||jp(E,T,Be,L,gn,at,Ot))?(On||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount()),typeof _e.componentDidMount=="function"&&(E.flags|=4194308)):(typeof _e.componentDidMount=="function"&&(E.flags|=4194308),E.memoizedProps=L,E.memoizedState=at),_e.props=L,_e.state=at,_e.context=Ot,L=Be):(typeof _e.componentDidMount=="function"&&(E.flags|=4194308),L=!1)}else{_e=E.stateNode,Ah(A,E),Be=E.memoizedProps,Ot=E.type===E.elementType?Be:Pi(E.type,Be),_e.props=Ot,On=E.pendingProps,gn=_e.context,at=T.contextType,typeof at=="object"&&at!==null?at=jr(at):(at=En(T)?Yt:ln.current,at=dr(E,at));var Vn=T.getDerivedStateFromProps;(Zt=typeof Vn=="function"||typeof _e.getSnapshotBeforeUpdate=="function")||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(Be!==On||gn!==at)&&Wp(E,_e,L,at),fi=!1,gn=E.memoizedState,_e.state=gn,Aa(E,L,_e,z);var jt=E.memoizedState;Be!==On||gn!==jt||rn.current||fi?(typeof Vn=="function"&&(ed(E,T,Vn,L),jt=E.memoizedState),(Ot=fi||jp(E,T,Ot,L,gn,jt,at)||!1)?(Zt||typeof _e.UNSAFE_componentWillUpdate!="function"&&typeof _e.componentWillUpdate!="function"||(typeof _e.componentWillUpdate=="function"&&_e.componentWillUpdate(L,jt,at),typeof _e.UNSAFE_componentWillUpdate=="function"&&_e.UNSAFE_componentWillUpdate(L,jt,at)),typeof _e.componentDidUpdate=="function"&&(E.flags|=4),typeof _e.getSnapshotBeforeUpdate=="function"&&(E.flags|=1024)):(typeof _e.componentDidUpdate!="function"||Be===A.memoizedProps&&gn===A.memoizedState||(E.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||Be===A.memoizedProps&&gn===A.memoizedState||(E.flags|=1024),E.memoizedProps=L,E.memoizedState=jt),_e.props=L,_e.state=jt,_e.context=at,L=Ot):(typeof _e.componentDidUpdate!="function"||Be===A.memoizedProps&&gn===A.memoizedState||(E.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||Be===A.memoizedProps&&gn===A.memoizedState||(E.flags|=1024),L=!1)}return Bo(A,E,T,L,$,z)}function Bo(A,E,T,L,z,$){Jo(A,E);var _e=(E.flags&128)!==0;if(!L&&!_e)return z&&Er(E,T,!1),si(A,E,$);L=E.stateNode,Yp.current=E;var Be=_e&&typeof T.getDerivedStateFromError!="function"?null:L.render();return E.flags|=1,A!==null&&_e?(E.child=Iu(E,A.child,null,$),E.child=Iu(E,null,Be,$)):Rr(A,E,Be,$),E.memoizedState=L.state,z&&Er(E,T,!0),E.child}function ld(A){var E=A.stateNode;E.pendingContext?oo(A,E.pendingContext,E.pendingContext!==E.context):E.context&&oo(A,E.context,!1),Ch(A,E.containerInfo)}function Qp(A,E,T,L,z){return sf(),af(z),E.flags|=256,Rr(A,E,T,L),E.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function Yo(A){return{baseLanes:A,cachePool:null}}function Zp(A,E,T){var L=E.pendingProps,z=Pe.current,$=!1,_e=(E.flags&128)!==0,Be;if((Be=_e)||(Be=A!==null&&A.memoizedState===null?!1:(z&2)!==0),Be?($=!0,E.flags&=-129):(A===null||A.memoizedState!==null)&&(z|=1),Dt(Pe,z&1),A===null)return El(E),A=E.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?(E.mode&1?ro(A)?E.lanes=8:E.lanes=1073741824:E.lanes=1,null):(z=L.children,A=L.fallback,$?(L=E.mode,$=E.child,z={mode:"hidden",children:z},!(L&1)&&$!==null?($.childLanes=0,$.pendingProps=z):$=yf(z,L,0,null),A=Nl(A,L,T,null),$.return=E,A.return=E,$.sibling=A,E.child=$,E.child.memoizedState=Yo(T),E.memoizedState=cd,A):Ma(E,z));if(z=A.memoizedState,z!==null){if(Be=z.dehydrated,Be!==null){if(_e)return E.flags&256?(E.flags&=-257,dd(A,E,T,Error(s(422)))):E.memoizedState!==null?(E.child=A.child,E.flags|=128,null):($=L.fallback,z=E.mode,L=yf({mode:"visible",children:L.children},z,0,null),$=Nl($,z,T,null),$.flags|=2,L.return=E,$.return=E,L.sibling=$,E.child=L,E.mode&1&&Iu(E,A.child,null,T),E.child.memoizedState=Yo(T),E.memoizedState=cd,$);if(!(E.mode&1))E=dd(A,E,T,null);else if(ro(Be))E=dd(A,E,T,Error(s(419)));else if(L=(T&A.childLanes)!==0,Yi||L){if(L=wi,L!==null){switch(T&-T){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}L=$&(L.suspendedLanes|T)?0:$,L!==0&&L!==z.retryLane&&(z.retryLane=L,No(A,L,-1))}bd(),E=dd(A,E,T,Error(s(421)))}else Xi(Be)?(E.flags|=128,E.child=A.child,E=ju.bind(null,A),As(Be,E),E=null):(T=z.treeContext,Ke&&(Si=ii(Be),uo=E,ei=!0,Js=null,Yl=!1,T!==null&&(ls[$o++]=Du,ls[$o++]=Sa,ls[$o++]=Al,Du=T.id,Sa=T.overflow,Al=E)),E=Ma(E,E.pendingProps.children),E.flags|=4096);return E}return $?(L=Bh(A,E,L.children,L.fallback,T),$=E.child,z=A.child.memoizedState,$.memoizedState=z===null?Yo(T):{baseLanes:z.baseLanes|T,cachePool:null},$.childLanes=A.childLanes&~T,E.memoizedState=cd,L):(T=fd(A,E,L.children,T),E.memoizedState=null,T)}return $?(L=Bh(A,E,L.children,L.fallback,T),$=E.child,z=A.child.memoizedState,$.memoizedState=z===null?Yo(T):{baseLanes:z.baseLanes|T,cachePool:null},$.childLanes=A.childLanes&~T,E.memoizedState=cd,L):(T=fd(A,E,L.children,T),E.memoizedState=null,T)}function Ma(A,E){return E=yf({mode:"visible",children:E},A.mode,0,null),E.return=A,A.child=E}function fd(A,E,T,L){var z=A.child;return A=z.sibling,T=lu(z,{mode:"visible",children:T}),!(E.mode&1)&&(T.lanes=L),T.return=E,T.sibling=null,A!==null&&(L=E.deletions,L===null?(E.deletions=[A],E.flags|=16):L.push(A)),E.child=T}function Bh(A,E,T,L,z){var $=E.mode;A=A.child;var _e=A.sibling,Be={mode:"hidden",children:T};return!($&1)&&E.child!==A?(T=E.child,T.childLanes=0,T.pendingProps=Be,E.deletions=null):(T=lu(A,Be),T.subtreeFlags=A.subtreeFlags&14680064),_e!==null?L=lu(_e,L):(L=Nl(L,$,z,null),L.flags|=2),L.return=E,T.return=E,T.sibling=L,E.child=T,L}function dd(A,E,T,L){return L!==null&&af(L),Iu(E,A.child,null,T),A=Ma(E,E.pendingProps.children),A.flags|=2,E.memoizedState=null,A}function Ol(A,E,T){A.lanes|=E;var L=A.alternate;L!==null&&(L.lanes|=E),yl(A.return,E,T)}function eu(A,E,T,L,z){var $=A.memoizedState;$===null?A.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:L,tail:T,tailMode:z}:($.isBackwards=E,$.rendering=null,$.renderingStartTime=0,$.last=L,$.tail=T,$.tailMode=z)}function fc(A,E,T){var L=E.pendingProps,z=L.revealOrder,$=L.tail;if(Rr(A,E,L.children,T),L=Pe.current,L&2)L=L&1|2,E.flags|=128;else{if(A!==null&&A.flags&128)e:for(A=E.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&Ol(A,T,E);else if(A.tag===19)Ol(A,T,E);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===E)break e;for(;A.sibling===null;){if(A.return===null||A.return===E)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}L&=1}if(Dt(Pe,L),!(E.mode&1))E.memoizedState=null;else switch(z){case"forwards":for(T=E.child,z=null;T!==null;)A=T.alternate,A!==null&&ct(A)===null&&(z=T),T=T.sibling;T=z,T===null?(z=E.child,E.child=null):(z=T.sibling,T.sibling=null),eu(E,!1,z,T,$);break;case"backwards":for(T=null,z=E.child,E.child=null;z!==null;){if(A=z.alternate,A!==null&&ct(A)===null){E.child=z;break}A=z.sibling,z.sibling=T,T=z,z=A}eu(E,!0,T,null,$);break;case"together":eu(E,!1,null,null,void 0);break;default:E.memoizedState=null}return E.child}function si(A,E,T){if(A!==null&&(E.dependencies=A.dependencies),ru|=E.lanes,!(T&E.childLanes))return null;if(A!==null&&E.child!==A.child)throw Error(s(153));if(E.child!==null){for(A=E.child,T=lu(A,A.pendingProps),E.child=T,T.return=E;A.sibling!==null;)A=A.sibling,T=T.sibling=lu(A,A.pendingProps),T.return=E;T.sibling=null}return E.child}function Fh(A,E,T){switch(E.tag){case 3:ld(E),sf();break;case 5:vg(E);break;case 1:En(E.type)&&qa(E);break;case 4:Ch(E,E.stateNode.containerInfo);break;case 10:_l(E,E.type._context,E.memoizedProps.value);break;case 13:var L=E.memoizedState;if(L!==null)return L.dehydrated!==null?(Dt(Pe,Pe.current&1),E.flags|=128,null):T&E.child.childLanes?Zp(A,E,T):(Dt(Pe,Pe.current&1),A=si(A,E,T),A!==null?A.sibling:null);Dt(Pe,Pe.current&1);break;case 19:if(L=(T&E.childLanes)!==0,A.flags&128){if(L)return fc(A,E,T);E.flags|=128}var z=E.memoizedState;if(z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Dt(Pe,Pe.current),L)break;return null;case 22:case 23:return E.lanes=0,co(A,E,T)}return si(A,E,T)}function Lh(A,E){switch(qo(E),E.tag){case 1:return En(E.type)&&ci(),A=E.flags,A&65536?(E.flags=A&-65537|128,E):null;case 3:return uf(),ot(rn),ot(ln),Vt(),A=E.flags,A&65536&&!(A&128)?(E.flags=A&-65537|128,E):null;case 5:return xl(E),null;case 13:if(ot(Pe),A=E.memoizedState,A!==null&&A.dehydrated!==null){if(E.alternate===null)throw Error(s(340));sf()}return A=E.flags,A&65536?(E.flags=A&-65537|128,E):null;case 19:return ot(Pe),null;case 4:return uf(),null;case 10:return tf(E.type._context),null;case 22:case 23:return _d(),null;case 24:return null;default:return null}}var Qo=!1,Qi=!1,dc=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function xs(A,E){var T=A.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(L){vo(A,E,L)}else T.current=null}function ku(A,E,T){try{T()}catch(L){vo(A,E,L)}}var em=!1;function hd(A,E){for(ae(A.containerInfo),Ut=E;Ut!==null;)if(A=Ut,E=A.child,(A.subtreeFlags&1028)!==0&&E!==null)E.return=A,Ut=E;else for(;Ut!==null;){A=Ut;try{var T=A.alternate;if(A.flags&1024)switch(A.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var L=T.memoizedProps,z=T.memoizedState,$=A.stateNode,_e=$.getSnapshotBeforeUpdate(A.elementType===A.type?L:Pi(A.type,L),z);$.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:lt&&dt(A.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Be){vo(A,A.return,Be)}if(E=A.sibling,E!==null){E.return=A.return,Ut=E;break}Ut=A.return}return T=em,em=!1,T}function ws(A,E,T){var L=E.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var z=L=L.next;do{if((z.tag&A)===A){var $=z.destroy;z.destroy=void 0,$!==void 0&&ku(E,T,$)}z=z.next}while(z!==L)}}function Bi(A,E){if(E=E.updateQueue,E=E!==null?E.lastEffect:null,E!==null){var T=E=E.next;do{if((T.tag&A)===A){var L=T.create;T.destroy=L()}T=T.next}while(T!==E)}}function Zo(A){var E=A.ref;if(E!==null){var T=A.stateNode;switch(A.tag){case 5:A=J(T);break;default:A=T}typeof E=="function"?E(A):E.current=A}}function qr(A,E,T){if(Ka&&typeof Ka.onCommitFiberUnmount=="function")try{Ka.onCommitFiberUnmount(Yf,E)}catch{}switch(E.tag){case 0:case 11:case 14:case 15:if(A=E.updateQueue,A!==null&&(A=A.lastEffect,A!==null)){var L=A=A.next;do{var z=L,$=z.destroy;z=z.tag,$!==void 0&&(z&2||z&4)&&ku(E,T,$),L=L.next}while(L!==A)}break;case 1:if(xs(E,T),A=E.stateNode,typeof A.componentWillUnmount=="function")try{A.props=E.memoizedProps,A.state=E.memoizedState,A.componentWillUnmount()}catch(_e){vo(E,T,_e)}break;case 5:xs(E,T);break;case 4:lt?Uh(A,E,T):We&&We&&(E=E.stateNode.containerInfo,T=kt(E),Ar(E,T))}}function ea(A,E,T){for(var L=E;;)if(qr(A,L,T),L.child===null||lt&&L.tag===4){if(L===E)break;for(;L.sibling===null;){if(L.return===null||L.return===E)return;L=L.return}L.sibling.return=L.return,L=L.sibling}else L.child.return=L,L=L.child}function Ta(A){var E=A.alternate;E!==null&&(A.alternate=null,Ta(E)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(E=A.stateNode,E!==null&&vt(E)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function pd(A){return A.tag===5||A.tag===3||A.tag===4}function tu(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||pd(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function es(A){if(lt){e:{for(var E=A.return;E!==null;){if(pd(E))break e;E=E.return}throw Error(s(160))}var T=E;switch(T.tag){case 5:E=T.stateNode,T.flags&32&&(Jt(E),T.flags&=-33),T=tu(A),hc(A,T,E);break;case 3:case 4:E=T.stateNode.containerInfo,T=tu(A),Nh(A,T,E);break;default:throw Error(s(161))}}}function Nh(A,E,T){var L=A.tag;if(L===5||L===6)A=A.stateNode,E?Nt(T,A,E):Ge(T,A);else if(L!==4&&(A=A.child,A!==null))for(Nh(A,E,T),A=A.sibling;A!==null;)Nh(A,E,T),A=A.sibling}function hc(A,E,T){var L=A.tag;if(L===5||L===6)A=A.stateNode,E?Bt(T,A,E):xe(T,A);else if(L!==4&&(A=A.child,A!==null))for(hc(A,E,T),A=A.sibling;A!==null;)hc(A,E,T),A=A.sibling}function Uh(A,E,T){for(var L=E,z=!1,$,_e;;){if(!z){z=L.return;e:for(;;){if(z===null)throw Error(s(160));switch($=z.stateNode,z.tag){case 5:_e=!1;break e;case 3:$=$.containerInfo,_e=!0;break e;case 4:$=$.containerInfo,_e=!0;break e}z=z.return}z=!0}if(L.tag===5||L.tag===6)ea(A,L,T),_e?tn($,L.stateNode):Pt($,L.stateNode);else if(L.tag===18)_e?se($,L.stateNode):Kn($,L.stateNode);else if(L.tag===4){if(L.child!==null){$=L.stateNode.containerInfo,_e=!0,L.child.return=L,L=L.child;continue}}else if(qr(A,L,T),L.child!==null){L.child.return=L,L=L.child;continue}if(L===E)break;for(;L.sibling===null;){if(L.return===null||L.return===E)return;L=L.return,L.tag===4&&(z=!1)}L.sibling.return=L.return,L=L.sibling}}function ta(A,E){if(lt){switch(E.tag){case 0:case 11:case 14:case 15:ws(3,E,E.return),Bi(3,E),ws(5,E,E.return);return;case 1:return;case 5:var T=E.stateNode;if(T!=null){var L=E.memoizedProps;A=A!==null?A.memoizedProps:L;var z=E.type,$=E.updateQueue;E.updateQueue=null,$!==null&&Ve(T,$,z,A,L,E)}return;case 6:if(E.stateNode===null)throw Error(s(162));T=E.memoizedProps,et(E.stateNode,A!==null?A.memoizedProps:T,T);return;case 3:Ke&&A!==null&&A.memoizedState.isDehydrated&&_a(E.stateNode.containerInfo);return;case 12:return;case 13:Cs(E);return;case 19:Cs(E);return;case 17:return}throw Error(s(163))}switch(E.tag){case 0:case 11:case 14:case 15:ws(3,E,E.return),Bi(3,E),ws(5,E,E.return);return;case 12:return;case 13:Cs(E);return;case 19:Cs(E);return;case 3:Ke&&A!==null&&A.memoizedState.isDehydrated&&_a(E.stateNode.containerInfo);break;case 22:case 23:return}e:if(We){switch(E.tag){case 1:case 5:case 6:break e;case 3:case 4:E=E.stateNode,Ar(E.containerInfo,E.pendingChildren);break e}throw Error(s(163))}}function Cs(A){var E=A.updateQueue;if(E!==null){A.updateQueue=null;var T=A.stateNode;T===null&&(T=A.stateNode=new dc),E.forEach(function(L){var z=im.bind(null,A,L);T.has(L)||(T.add(L),L.then(z,z))})}}function yg(A,E){for(Ut=E;Ut!==null;){E=Ut;var T=E.deletions;if(T!==null)for(var L=0;L<T.length;L++){var z=T[L];try{var $=A;lt?Uh($,z,E):ea($,z,E);var _e=z.alternate;_e!==null&&(_e.return=null),z.return=null}catch(sn){vo(z,E,sn)}}if(T=E.child,E.subtreeFlags&12854&&T!==null)T.return=E,Ut=T;else for(;Ut!==null;){E=Ut;try{var Be=E.flags;if(Be&32&&lt&&Jt(E.stateNode),Be&512){var at=E.alternate;if(at!==null){var Ot=at.ref;Ot!==null&&(typeof Ot=="function"?Ot(null):Ot.current=null)}}if(Be&8192)switch(E.tag){case 13:if(E.memoizedState!==null){var Zt=E.alternate;(Zt===null||Zt.memoizedState===null)&&(gd=ki())}break;case 22:var On=E.memoizedState!==null,gn=E.alternate,Vn=gn!==null&&gn.memoizedState!==null;if(T=E,lt){e:if(L=T,z=On,$=null,lt)for(var jt=L;;){if(jt.tag===5){if($===null){$=jt;var yo=jt.stateNode;z?Mn(yo):Ft(jt.stateNode,jt.memoizedProps)}}else if(jt.tag===6){if($===null){var ds=jt.stateNode;z?Re(ds):rt(ds,jt.memoizedProps)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===L)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===L)break;for(;jt.sibling===null;){if(jt.return===null||jt.return===L)break e;$===jt&&($=null),jt=jt.return}$===jt&&($=null),jt.sibling.return=jt.return,jt=jt.sibling}}if(On&&!Vn&&T.mode&1){Ut=T;for(var Xe=T.child;Xe!==null;){for(T=Ut=Xe;Ut!==null;){L=Ut;var Ue=L.child;switch(L.tag){case 0:case 11:case 14:case 15:ws(4,L,L.return);break;case 1:xs(L,L.return);var it=L.stateNode;if(typeof it.componentWillUnmount=="function"){var Gt=L.return;try{it.props=L.memoizedProps,it.state=L.memoizedState,it.componentWillUnmount()}catch(sn){vo(L,Gt,sn)}}break;case 5:xs(L,L.return);break;case 22:if(L.memoizedState!==null){kh(T);continue}}Ue!==null?(Ue.return=L,Ut=Ue):kh(T)}Xe=Xe.sibling}}}switch(Be&4102){case 2:es(E),E.flags&=-3;break;case 6:es(E),E.flags&=-3,ta(E.alternate,E);break;case 4096:E.flags&=-4097;break;case 4100:E.flags&=-4097,ta(E.alternate,E);break;case 4:ta(E.alternate,E)}}catch(sn){vo(E,E.return,sn)}if(T=E.sibling,T!==null){T.return=E.return,Ut=T;break}Ut=E.return}}}function md(A,E,T){Ut=A,Il(A)}function Il(A,E,T){for(var L=(A.mode&1)!==0;Ut!==null;){var z=Ut,$=z.child;if(z.tag===22&&L){var _e=z.memoizedState!==null||Qo;if(!_e){var Be=z.alternate,at=Be!==null&&Be.memoizedState!==null||Qi;Be=Qo;var Ot=Qi;if(Qo=_e,(Qi=at)&&!Ot)for(Ut=z;Ut!==null;)_e=Ut,at=_e.child,_e.tag===22&&_e.memoizedState!==null?di(z):at!==null?(at.return=_e,Ut=at):di(z);for(;$!==null;)Ut=$,Il($),$=$.sibling;Ut=z,Qo=Be,Qi=Ot}tm(A)}else z.subtreeFlags&8772&&$!==null?($.return=z,Ut=$):tm(A)}}function tm(A){for(;Ut!==null;){var E=Ut;if(E.flags&8772){var T=E.alternate;try{if(E.flags&8772)switch(E.tag){case 0:case 11:case 15:Qi||Bi(5,E);break;case 1:var L=E.stateNode;if(E.flags&4&&!Qi)if(T===null)L.componentDidMount();else{var z=E.elementType===E.type?T.memoizedProps:Pi(E.type,T.memoizedProps);L.componentDidUpdate(z,T.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var $=E.updateQueue;$!==null&&Eh(E,$,L);break;case 3:var _e=E.updateQueue;if(_e!==null){if(T=null,E.child!==null)switch(E.child.tag){case 5:T=J(E.child.stateNode);break;case 1:T=E.child.stateNode}Eh(E,_e,T)}break;case 5:var Be=E.stateNode;T===null&&E.flags&4&&Ne(Be,E.type,E.memoizedProps,E);break;case 6:break;case 4:break;case 12:break;case 13:if(Ke&&E.memoizedState===null){var at=E.alternate;if(at!==null){var Ot=at.memoizedState;if(Ot!==null){var Zt=Ot.dehydrated;Zt!==null&&Qt(Zt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}Qi||E.flags&512&&Zo(E)}catch(On){vo(E,E.return,On)}}if(E===A){Ut=null;break}if(T=E.sibling,T!==null){T.return=E.return,Ut=T;break}Ut=E.return}}function kh(A){for(;Ut!==null;){var E=Ut;if(E===A){Ut=null;break}var T=E.sibling;if(T!==null){T.return=E.return,Ut=T;break}Ut=E.return}}function di(A){for(;Ut!==null;){var E=Ut;try{switch(E.tag){case 0:case 11:case 15:var T=E.return;try{Bi(4,E)}catch(at){vo(E,T,at)}break;case 1:var L=E.stateNode;if(typeof L.componentDidMount=="function"){var z=E.return;try{L.componentDidMount()}catch(at){vo(E,z,at)}}var $=E.return;try{Zo(E)}catch(at){vo(E,$,at)}break;case 5:var _e=E.return;try{Zo(E)}catch(at){vo(E,_e,at)}}}catch(at){vo(E,E.return,at)}if(E===A){Ut=null;break}var Be=E.sibling;if(Be!==null){Be.return=E.return,Ut=Be;break}Ut=E.return}}var pc=0,Bl=1,Fo=2,Pa=3,zu=4;if(typeof Symbol=="function"&&Symbol.for){var Ms=Symbol.for;pc=Ms("selector.component"),Bl=Ms("selector.has_pseudo_class"),Fo=Ms("selector.role"),Pa=Ms("selector.test_id"),zu=Ms("selector.text")}function mf(A){var E=he(A);if(E!=null){if(typeof E.memoizedProps["data-testname"]!="string")throw Error(s(364));return E}if(A=te(A),A===null)throw Error(s(362));return A.stateNode.current}function Hi(A,E){switch(E.$$typeof){case pc:if(A.type===E.value)return!0;break;case Bl:e:{E=E.value,A=[A,0];for(var T=0;T<A.length;){var L=A[T++],z=A[T++],$=E[z];if(L.tag!==5||!re(L)){for(;$!=null&&Hi(L,$);)z++,$=E[z];if(z===E.length){E=!0;break e}else for(L=L.child;L!==null;)A.push(L,z),L=L.sibling}}E=!1}return E;case Fo:if(A.tag===5&&me(A.stateNode,E.value))return!0;break;case zu:if((A.tag===5||A.tag===6)&&(A=j(A),A!==null&&0<=A.indexOf(E.value)))return!0;break;case Pa:if(A.tag===5&&(A=A.memoizedProps["data-testname"],typeof A=="string"&&A.toLowerCase()===E.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function nu(A){switch(A.$$typeof){case pc:return"<"+(N(A.value)||"Unknown")+">";case Bl:return":has("+(nu(A)||"")+")";case Fo:return'[role="'+A.value+'"]';case zu:return'"'+A.value+'"';case Pa:return'[data-testname="'+A.value+'"]';default:throw Error(s(365))}}function Ts(A,E){var T=[];A=[A,0];for(var L=0;L<A.length;){var z=A[L++],$=A[L++],_e=E[$];if(z.tag!==5||!re(z)){for(;_e!=null&&Hi(z,_e);)$++,_e=E[$];if($===E.length)T.push(z);else for(z=z.child;z!==null;)A.push(z,$),z=z.sibling}}return T}function Hu(A,E){if(!$e)throw Error(s(363));A=mf(A),A=Ts(A,E),E=[],A=Array.from(A);for(var T=0;T<A.length;){var L=A[T++];if(L.tag===5)re(L)||E.push(L.stateNode);else for(L=L.child;L!==null;)A.push(L),L=L.sibling}return E}var nm=Math.ceil,mc=a.ReactCurrentDispatcher,Da=a.ReactCurrentOwner,gr=a.ReactCurrentBatchConfig,Nn=0,wi=null,Or=null,Ir=0,Lo=0,gc=Xt(0),ai=0,vc=null,ru=0,Ps=0,_c=0,iu=null,mi=null,gd=0,ou=1/0;function Fl(){ou=ki()+500}var yc=!1,Xr=null,fs=null,gf=!1,Ra=null,Ll=0,bc=0,su=null,Kr=-1,ui=0;function hr(){return Nn&6?ki():Kr!==-1?Kr:Kr=ki()}function Ds(A){return A.mode&1?Nn&2&&Ir!==0?Ir&-Ir:fg.transition!==null?(ui===0&&(A=qs,qs<<=1,!(qs&4194240)&&(qs=64),ui=A),ui):(A=Jn,A!==0?A:ft()):1}function No(A,E,T){if(50<bc)throw bc=0,su=null,Error(s(185));var L=au(A,E);return L===null?null:(ml(L,E,T),(!(Nn&2)||L!==wi)&&(L===wi&&(!(Nn&2)&&(Ps|=E),ai===4&&po(L,Ir)),_n(L,T),E===1&&Nn===0&&!(A.mode&1)&&(Fl(),_h&&Es())),L)}function au(A,E){A.lanes|=E;var T=A.alternate;for(T!==null&&(T.lanes|=E),T=A,A=A.return;A!==null;)A.childLanes|=E,T=A.alternate,T!==null&&(T.childLanes|=E),T=A,A=A.return;return T.tag===3?T.stateNode:null}function _n(A,E){var T=A.callbackNode;cg(A,E);var L=Qc(A,A===wi?Ir:0);if(L===0)T!==null&&Zc(T),A.callbackNode=null,A.callbackPriority=0;else if(E=L&-L,A.callbackPriority!==E){if(T!=null&&Zc(T),E===1)A.tag===0?bh(Rs.bind(null,A)):yh(Rs.bind(null,A)),yt?Ht(function(){Nn===0&&Es()}):gl(Tu,Es),T=null;else{switch(Mu(L)){case 1:T=Tu;break;case 4:T=C1;break;case 16:T=gh;break;case 536870912:T=vh;break;default:T=gh}T=_f(T,ho.bind(null,A))}A.callbackPriority=E,A.callbackNode=T}}function ho(A,E){if(Kr=-1,ui=0,Nn&6)throw Error(s(327));var T=A.callbackNode;if(Oa()&&A.callbackNode!==T)return null;var L=Qc(A,A===wi?Ir:0);if(L===0)return null;if(L&30||L&A.expiredLanes||E)E=go(A,L);else{E=L;var z=Nn;Nn|=2;var $=Hh();(wi!==A||Ir!==E)&&(Fl(),na(A,E));do try{Gh();break}catch(Be){yd(A,Be)}while(!0);Ro(),mc.current=$,Nn=z,Or!==null?E=0:(wi=null,Ir=0,E=ai)}if(E!==0){if(E===2&&(z=Xf(A),z!==0&&(L=z,E=vd(A,z))),E===1)throw T=vc,na(A,0),po(A,L),_n(A,ki()),T;if(E===6)po(A,L);else{if(z=A.current.alternate,!(L&30)&&!zh(z)&&(E=go(A,L),E===2&&($=Xf(A),$!==0&&(L=$,E=vd(A,$))),E===1))throw T=vc,na(A,0),po(A,L),_n(A,ki()),T;switch(A.finishedWork=z,A.finishedLanes=L,E){case 0:case 1:throw Error(s(345));case 2:ra(A,mi);break;case 3:if(po(A,L),(L&130023424)===L&&(E=gd+500-ki(),10<E)){if(Qc(A,0)!==0)break;if(z=A.suspendedLanes,(z&L)!==L){hr(),A.pingedLanes|=A.suspendedLanes&z;break}A.timeoutHandle=Ie(ra.bind(null,A,mi),E);break}ra(A,mi);break;case 4:if(po(A,L),(L&4194240)===L)break;for(E=A.eventTimes,z=-1;0<L;){var _e=31-Vr(L);$=1<<_e,_e=E[_e],_e>z&&(z=_e),L&=~$}if(L=z,L=ki()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*nm(L/1960))-L,10<L){A.timeoutHandle=Ie(ra.bind(null,A,mi),L);break}ra(A,mi);break;case 5:ra(A,mi);break;default:throw Error(s(329))}}}return _n(A,ki()),A.callbackNode===T?ho.bind(null,A):null}function vd(A,E){var T=iu;return A.current.memoizedState.isDehydrated&&(na(A,E).flags|=256),A=go(A,E),A!==2&&(E=mi,mi=T,E!==null&&Gu(E)),A}function Gu(A){mi===null?mi=A:mi.push.apply(mi,A)}function zh(A){for(var E=A;;){if(E.flags&16384){var T=E.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var L=0;L<T.length;L++){var z=T[L],$=z.getSnapshot;z=z.value;try{if(!Wo($(),z))return!1}catch{return!1}}}if(T=E.child,E.subtreeFlags&16384&&T!==null)T.return=E,E=T;else{if(E===A)break;for(;E.sibling===null;){if(E.return===null||E.return===A)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function po(A,E){for(E&=~_c,E&=~Ps,A.suspendedLanes|=E,A.pingedLanes&=~E,A=A.expirationTimes;0<E;){var T=31-Vr(E),L=1<<T;A[T]=-1,E&=~L}}function Rs(A){if(Nn&6)throw Error(s(327));Oa();var E=Qc(A,0);if(!(E&1))return _n(A,ki()),null;var T=go(A,E);if(A.tag!==0&&T===2){var L=Xf(A);L!==0&&(E=L,T=vd(A,L))}if(T===1)throw T=vc,na(A,0),po(A,E),_n(A,ki()),T;if(T===6)throw Error(s(345));return A.finishedWork=A.current.alternate,A.finishedLanes=E,ra(A,mi),_n(A,ki()),null}function mo(A){Ra!==null&&Ra.tag===0&&!(Nn&6)&&Oa();var E=Nn;Nn|=1;var T=gr.transition,L=Jn;try{if(gr.transition=null,Jn=1,A)return A()}finally{Jn=L,gr.transition=T,Nn=E,!(Nn&6)&&Es()}}function _d(){Lo=gc.current,ot(gc)}function na(A,E){A.finishedWork=null,A.finishedLanes=0;var T=A.timeoutHandle;if(T!==tt&&(A.timeoutHandle=tt,Ze(T)),Or!==null)for(T=Or.return;T!==null;){var L=T;switch(qo(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&ci();break;case 3:uf(),ot(rn),ot(ln),Vt();break;case 5:xl(L);break;case 4:uf();break;case 13:ot(Pe);break;case 19:ot(Pe);break;case 10:tf(L.type._context);break;case 22:case 23:_d()}T=T.return}if(wi=A,Or=A=lu(A.current,null),Ir=Lo=E,ai=0,vc=null,_c=Ps=ru=0,mi=iu=null,Ks!==null){for(E=0;E<Ks.length;E++)if(T=Ks[E],L=T.interleaved,L!==null){T.interleaved=null;var z=L.next,$=T.pending;if($!==null){var _e=$.next;$.next=z,L.next=_e}T.pending=L}Ks=null}return A}function yd(A,E){do{var T=Or;try{if(Ro(),Cn.current=Tl,Ko){for(var L=xn.memoizedState;L!==null;){var z=L.queue;z!==null&&(z.pending=null),L=L.next}Ko=!1}if(ti=0,Ji=Ri=xn=null,Ss=!1,tc=0,Da.current=null,T===null||T.return===null){ai=1,vc=E,Or=null;break}e:{var $=A,_e=T.return,Be=T,at=E;if(E=Ir,Be.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var Ot=at,Zt=Be,On=Zt.tag;if(!(Zt.mode&1)&&(On===0||On===11||On===15)){var gn=Zt.alternate;gn?(Zt.updateQueue=gn.updateQueue,Zt.memoizedState=gn.memoizedState,Zt.lanes=gn.lanes):(Zt.updateQueue=null,Zt.memoizedState=null)}var Vn=Jp(_e);if(Vn!==null){Vn.flags&=-257,lc(Vn,_e,Be,$,E),Vn.mode&1&&Fu($,Ot,E),E=Vn,at=Ot;var jt=E.updateQueue;if(jt===null){var yo=new Set;yo.add(at),E.updateQueue=yo}else jt.add(at);break e}else{if(!(E&1)){Fu($,Ot,E),bd();break e}at=Error(s(426))}}else if(ei&&Be.mode&1){var ds=Jp(_e);if(ds!==null){!(ds.flags&65536)&&(ds.flags|=256),lc(ds,_e,Be,$,E),af(at);break e}}$=at,ai!==4&&(ai=2),iu===null?iu=[$]:iu.push($),at=ac(at,Be),Be=_e;do{switch(Be.tag){case 3:Be.flags|=65536,E&=-E,Be.lanes|=E;var Xe=uc(Be,at,E);Lr(Be,Xe);break e;case 1:$=at;var Ue=Be.type,it=Be.stateNode;if(!(Be.flags&128)&&(typeof Ue.getDerivedStateFromError=="function"||it!==null&&typeof it.componentDidCatch=="function"&&(fs===null||!fs.has(it)))){Be.flags|=65536,E&=-E,Be.lanes|=E;var Gt=Oh(Be,$,E);Lr(Be,Gt);break e}}Be=Be.return}while(Be!==null)}vf(T)}catch(sn){E=sn,Or===T&&T!==null&&(Or=T=T.return);continue}break}while(!0)}function Hh(){var A=mc.current;return mc.current=Tl,A===null?Tl:A}function bd(){(ai===0||ai===3||ai===2)&&(ai=4),wi===null||!(ru&268435455)&&!(Ps&268435455)||po(wi,Ir)}function go(A,E){var T=Nn;Nn|=2;var L=Hh();wi===A&&Ir===E||na(A,E);do try{Vu();break}catch(z){yd(A,z)}while(!0);if(Ro(),Nn=T,mc.current=L,Or!==null)throw Error(s(261));return wi=null,Ir=0,ai}function Vu(){for(;Or!==null;)Vh(Or)}function Gh(){for(;Or!==null&&!vl();)Vh(Or)}function Vh(A){var E=Wh(A.alternate,A,Lo);A.memoizedProps=A.pendingProps,E===null?vf(A):Or=E,Da.current=null}function vf(A){var E=A;do{var T=E.alternate;if(A=E.return,E.flags&32768){if(T=Lh(T,E),T!==null){T.flags&=32767,Or=T;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{ai=6,Or=null;return}}else if(T=Ih(T,E,Lo),T!==null){Or=T;return}if(E=E.sibling,E!==null){Or=E;return}Or=E=A}while(E!==null);ai===0&&(ai=5)}function ra(A,E){var T=Jn,L=gr.transition;try{gr.transition=null,Jn=1,jh(A,E,T)}finally{gr.transition=L,Jn=T}return null}function jh(A,E,T){do Oa();while(Ra!==null);if(Nn&6)throw Error(s(327));var L=A.finishedWork,z=A.finishedLanes;if(L===null)return null;if(A.finishedWork=null,A.finishedLanes=0,L===A.current)throw Error(s(177));A.callbackNode=null,A.callbackPriority=0;var $=L.lanes|L.childLanes;if(Jf(A,$),A===wi&&(Or=wi=null,Ir=0),!(L.subtreeFlags&2064)&&!(L.flags&2064)||gf||(gf=!0,_f(gh,function(){return Oa(),null})),$=(L.flags&15990)!==0,L.subtreeFlags&15990||$){$=gr.transition,gr.transition=null;var _e=Jn;Jn=1;var Be=Nn;Nn|=4,Da.current=null,hd(A,L),yg(A,L),ue(A.containerInfo),A.current=L,md(L),w1(),Nn=Be,Jn=_e,gr.transition=$}else A.current=L;if(gf&&(gf=!1,Ra=A,Ll=z),$=A.pendingLanes,$===0&&(fs=null),Tr(L.stateNode),_n(A,ki()),E!==null)for(T=A.onRecoverableError,L=0;L<E.length;L++)T(E[L]);if(yc)throw yc=!1,A=Xr,Xr=null,A;return Ll&1&&A.tag!==0&&Oa(),$=A.pendingLanes,$&1?A===su?bc++:(bc=0,su=A):bc=0,Es(),null}function Oa(){if(Ra!==null){var A=Mu(Ll),E=gr.transition,T=Jn;try{if(gr.transition=null,Jn=16>A?16:A,Ra===null)var L=!1;else{if(A=Ra,Ra=null,Ll=0,Nn&6)throw Error(s(331));var z=Nn;for(Nn|=4,Ut=A.current;Ut!==null;){var $=Ut,_e=$.child;if(Ut.flags&16){var Be=$.deletions;if(Be!==null){for(var at=0;at<Be.length;at++){var Ot=Be[at];for(Ut=Ot;Ut!==null;){var Zt=Ut;switch(Zt.tag){case 0:case 11:case 15:ws(8,Zt,$)}var On=Zt.child;if(On!==null)On.return=Zt,Ut=On;else for(;Ut!==null;){Zt=Ut;var gn=Zt.sibling,Vn=Zt.return;if(Ta(Zt),Zt===Ot){Ut=null;break}if(gn!==null){gn.return=Vn,Ut=gn;break}Ut=Vn}}}var jt=$.alternate;if(jt!==null){var yo=jt.child;if(yo!==null){jt.child=null;do{var ds=yo.sibling;yo.sibling=null,yo=ds}while(yo!==null)}}Ut=$}}if($.subtreeFlags&2064&&_e!==null)_e.return=$,Ut=_e;else e:for(;Ut!==null;){if($=Ut,$.flags&2048)switch($.tag){case 0:case 11:case 15:ws(9,$,$.return)}var Xe=$.sibling;if(Xe!==null){Xe.return=$.return,Ut=Xe;break e}Ut=$.return}}var Ue=A.current;for(Ut=Ue;Ut!==null;){_e=Ut;var it=_e.child;if(_e.subtreeFlags&2064&&it!==null)it.return=_e,Ut=it;else e:for(_e=Ue;Ut!==null;){if(Be=Ut,Be.flags&2048)try{switch(Be.tag){case 0:case 11:case 15:Bi(9,Be)}}catch(sn){vo(Be,Be.return,sn)}if(Be===_e){Ut=null;break e}var Gt=Be.sibling;if(Gt!==null){Gt.return=Be.return,Ut=Gt;break e}Ut=Be.return}}if(Nn=z,Es(),Ka&&typeof Ka.onPostCommitFiberRoot=="function")try{Ka.onPostCommitFiberRoot(Yf,A)}catch{}L=!0}return L}finally{Jn=T,gr.transition=E}}return!1}function Ac(A,E,T){E=ac(T,E),E=uc(A,E,1),ba(A,E),E=hr(),A=au(A,1),A!==null&&(ml(A,1,E),_n(A,E))}function vo(A,E,T){if(A.tag===3)Ac(A,A,T);else for(;E!==null;){if(E.tag===3){Ac(E,A,T);break}else if(E.tag===1){var L=E.stateNode;if(typeof E.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(fs===null||!fs.has(L))){A=ac(T,A),A=Oh(E,A,1),ba(E,A),A=hr(),E=au(E,1),E!==null&&(ml(E,1,A),_n(E,A));break}}E=E.return}}function uu(A,E,T){var L=A.pingCache;L!==null&&L.delete(E),E=hr(),A.pingedLanes|=A.suspendedLanes&T,wi===A&&(Ir&T)===T&&(ai===4||ai===3&&(Ir&130023424)===Ir&&500>ki()-gd?na(A,0):_c|=T),_n(A,E)}function rm(A,E){E===0&&(A.mode&1?(E=Ln,Ln<<=1,!(Ln&130023424)&&(Ln=4194304)):E=1);var T=hr();A=au(A,E),A!==null&&(ml(A,E,T),_n(A,T))}function ju(A){var E=A.memoizedState,T=0;E!==null&&(T=E.retryLane),rm(A,T)}function im(A,E){var T=0;switch(A.tag){case 13:var L=A.stateNode,z=A.memoizedState;z!==null&&(T=z.retryLane);break;case 19:L=A.stateNode;break;default:throw Error(s(314))}L!==null&&L.delete(E),rm(A,T)}var Wh;Wh=function(A,E,T){if(A!==null)if(A.memoizedProps!==E.pendingProps||rn.current)Yi=!0;else{if(!(A.lanes&T)&&!(E.flags&128))return Yi=!1,Fh(A,E,T);Yi=!!(A.flags&131072)}else Yi=!1,ei&&E.flags&1048576&&pg(E,nd,E.index);switch(E.lanes=0,E.tag){case 2:var L=E.type;A!==null&&(A.alternate=null,E.alternate=null,E.flags|=2),A=E.pendingProps;var z=dr(E,ln.current);Jl(E,T),z=lr(null,E,L,A,z,T);var $=wl();return E.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(E.tag=1,E.memoizedState=null,E.updateQueue=null,En(L)?($=!0,qa(E)):$=!1,E.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,nf(E),z.updater=Sh,E.stateNode=z,z._reactInternals=E,of(E,L,A,T),E=Bo(null,E,L,!0,$,T)):(E.tag=0,ei&&$&&xh(E),Rr(null,E,z,T),E=E.child),E;case 16:L=E.elementType;e:{switch(A!==null&&(A.alternate=null,E.alternate=null,E.flags|=2),A=E.pendingProps,z=L._init,L=z(L._payload),E.type=L,z=E.tag=Ag(L),A=Pi(L,A),z){case 0:E=fo(null,E,L,A,T);break e;case 1:E=cc(null,E,L,A,T);break e;case 11:E=$r(null,E,L,A,T);break e;case 14:E=Nr(null,E,L,Pi(L.type,A),T);break e}throw Error(s(306,L,""))}return E;case 0:return L=E.type,z=E.pendingProps,z=E.elementType===L?z:Pi(L,z),fo(A,E,L,z,T);case 1:return L=E.type,z=E.pendingProps,z=E.elementType===L?z:Pi(L,z),cc(A,E,L,z,T);case 3:e:{if(ld(E),A===null)throw Error(s(387));L=E.pendingProps,$=E.memoizedState,z=$.element,Ah(A,E),Aa(E,L,null,T);var _e=E.memoizedState;if(L=_e.element,Ke&&$.isDehydrated)if($={element:L,isDehydrated:!1,cache:_e.cache,transitions:_e.transitions},E.updateQueue.baseState=$,E.memoizedState=$,E.flags&256){z=Error(s(423)),E=Qp(A,E,L,T,z);break e}else if(L!==z){z=Error(s(424)),E=Qp(A,E,L,T,z);break e}else for(Ke&&(Si=Ui(E.stateNode.containerInfo),uo=E,ei=!0,Js=null,Yl=!1),T=gg(E,null,L,T),E.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(sf(),L===z){E=si(A,E,T);break e}Rr(A,E,L,T)}E=E.child}return E;case 5:return vg(E),A===null&&El(E),L=E.type,z=E.pendingProps,$=A!==null?A.memoizedProps:null,_e=z.children,Ce(L,z)?_e=null:$!==null&&Ce(L,$)&&(E.flags|=32),Jo(A,E),Rr(A,E,_e,T),E.child;case 6:return A===null&&El(E),null;case 13:return Zp(A,E,T);case 4:return Ch(E,E.stateNode.containerInfo),L=E.pendingProps,A===null?E.child=Iu(E,null,L,T):Rr(A,E,L,T),E.child;case 11:return L=E.type,z=E.pendingProps,z=E.elementType===L?z:Pi(L,z),$r(A,E,L,z,T);case 7:return Rr(A,E,E.pendingProps,T),E.child;case 8:return Rr(A,E,E.pendingProps.children,T),E.child;case 12:return Rr(A,E,E.pendingProps.children,T),E.child;case 10:e:{if(L=E.type._context,z=E.pendingProps,$=E.memoizedProps,_e=z.value,_l(E,L,_e),$!==null)if(Wo($.value,_e)){if($.children===z.children&&!rn.current){E=si(A,E,T);break e}}else for($=E.child,$!==null&&($.return=E);$!==null;){var Be=$.dependencies;if(Be!==null){_e=$.child;for(var at=Be.firstContext;at!==null;){if(at.context===L){if($.tag===1){at=Oo(-1,T&-T),at.tag=2;var Ot=$.updateQueue;if(Ot!==null){Ot=Ot.shared;var Zt=Ot.pending;Zt===null?at.next=at:(at.next=Zt.next,Zt.next=at),Ot.pending=at}}$.lanes|=T,at=$.alternate,at!==null&&(at.lanes|=T),yl($.return,T,E),Be.lanes|=T;break}at=at.next}}else if($.tag===10)_e=$.type===E.type?null:$.child;else if($.tag===18){if(_e=$.return,_e===null)throw Error(s(341));_e.lanes|=T,Be=_e.alternate,Be!==null&&(Be.lanes|=T),yl(_e,T,E),_e=$.sibling}else _e=$.child;if(_e!==null)_e.return=$;else for(_e=$;_e!==null;){if(_e===E){_e=null;break}if($=_e.sibling,$!==null){$.return=_e.return,_e=$;break}_e=_e.return}$=_e}Rr(A,E,z.children,T),E=E.child}return E;case 9:return z=E.type,L=E.pendingProps.children,Jl(E,T),z=jr(z),L=L(z),E.flags|=1,Rr(A,E,L,T),E.child;case 14:return L=E.type,z=Pi(L,E.pendingProps),z=Pi(L.type,z),Nr(A,E,L,z,T);case 15:return Uu(A,E,E.type,E.pendingProps,T);case 17:return L=E.type,z=E.pendingProps,z=E.elementType===L?z:Pi(L,z),A!==null&&(A.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,En(L)?(A=!0,qa(E)):A=!1,Jl(E,T),hg(E,L,z),of(E,L,z,T),Bo(null,E,L,!0,A,T);case 19:return fc(A,E,T);case 22:return co(A,E,T)}throw Error(s(156,E.tag))};function _f(A,E){return gl(A,E)}function bg(A,E,T,L){this.tag=A,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(A,E,T,L){return new bg(A,E,T,L)}function $h(A){return A=A.prototype,!(!A||!A.isReactComponent)}function Ag(A){if(typeof A=="function")return $h(A)?1:0;if(A!=null){if(A=A.$$typeof,A===p)return 11;if(A===x)return 14}return 2}function lu(A,E){var T=A.alternate;return T===null?(T=Os(A.tag,E,A.key,A.mode),T.elementType=A.elementType,T.type=A.type,T.stateNode=A.stateNode,T.alternate=A,A.alternate=T):(T.pendingProps=E,T.type=A.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=A.flags&14680064,T.childLanes=A.childLanes,T.lanes=A.lanes,T.child=A.child,T.memoizedProps=A.memoizedProps,T.memoizedState=A.memoizedState,T.updateQueue=A.updateQueue,E=A.dependencies,T.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},T.sibling=A.sibling,T.index=A.index,T.ref=A.ref,T}function qh(A,E,T,L,z,$){var _e=2;if(L=A,typeof A=="function")$h(A)&&(_e=1);else if(typeof A=="string")_e=5;else e:switch(A){case l:return Nl(T.children,z,$,E);case f:_e=8,z|=8;break;case h:return A=Os(12,T,E,z|2),A.elementType=h,A.lanes=$,A;case y:return A=Os(13,T,E,z),A.elementType=y,A.lanes=$,A;case b:return A=Os(19,T,E,z),A.elementType=b,A.lanes=$,A;case M:return yf(T,z,$,E);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case m:_e=10;break e;case g:_e=9;break e;case p:_e=11;break e;case x:_e=14;break e;case C:_e=16,L=null;break e}throw Error(s(130,A==null?A:typeof A,""))}return E=Os(_e,T,E,z),E.elementType=A,E.type=L,E.lanes=$,E}function Nl(A,E,T,L){return A=Os(7,A,L,E),A.lanes=T,A}function yf(A,E,T,L){return A=Os(22,A,L,E),A.elementType=M,A.lanes=T,A.stateNode={},A}function _o(A,E,T){return A=Os(6,A,null,E),A.lanes=T,A}function Is(A,E,T){return E=Os(4,A.children!==null?A.children:[],A.key,E),E.lanes=T,E.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},E}function Xh(A,E,T,L,z){this.tag=E,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=tt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kf(0),this.expirationTimes=Kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kf(0),this.identifierPrefix=L,this.onRecoverableError=z,Ke&&(this.mutableSourceEagerHydrationData=null)}function Eg(A,E,T,L,z,$,_e,Be,at){return A=new Xh(A,E,T,Be,at),E===1?(E=1,$===!0&&(E|=8)):E=0,$=Os(3,null,null,E),A.current=$,$.stateNode=A,$.memoizedState={element:L,isDehydrated:T,cache:null,transitions:null},nf($),A}function Ad(A){if(!A)return un;A=A._reactInternals;e:{if(I(A)!==A||A.tag!==1)throw Error(s(170));var E=A;do{switch(E.tag){case 3:E=E.stateNode.context;break e;case 1:if(En(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break e}}E=E.return}while(E!==null);throw Error(s(171))}if(A.tag===1){var T=A.type;if(En(T))return so(A,T,E)}return E}function Ec(A){var E=A._reactInternals;if(E===void 0)throw typeof A.render=="function"?Error(s(188)):(A=Object.keys(A).join(","),Error(s(268,A)));return A=q(E),A===null?null:A.stateNode}function Bs(A,E){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var T=A.retryLane;A.retryLane=T!==0&&T<E?T:E}}function bf(A,E){Bs(A,E),(A=A.alternate)&&Bs(A,E)}function Kh(A){return A=q(A),A===null?null:A.stateNode}function om(){return null}return t.attemptContinuousHydration=function(A){if(A.tag===13){var E=hr();No(A,134217728,E),bf(A,134217728)}},t.attemptHydrationAtCurrentPriority=function(A){if(A.tag===13){var E=hr(),T=Ds(A);No(A,T,E),bf(A,T)}},t.attemptSynchronousHydration=function(A){switch(A.tag){case 3:var E=A.stateNode;if(E.current.memoizedState.isDehydrated){var T=ya(E.pendingLanes);T!==0&&(Xa(E,T|1),_n(E,ki()),!(Nn&6)&&(Fl(),Es()))}break;case 13:var L=hr();mo(function(){return No(A,1,L)}),bf(A,1)}},t.batchedUpdates=function(A,E){var T=Nn;Nn|=1;try{return A(E)}finally{Nn=T,Nn===0&&(Fl(),_h&&Es())}},t.createComponentSelector=function(A){return{$$typeof:pc,value:A}},t.createContainer=function(A,E,T,L,z,$,_e){return Eg(A,E,!1,null,T,L,z,$,_e)},t.createHasPseudoClassSelector=function(A){return{$$typeof:Bl,value:A}},t.createHydrationContainer=function(A,E,T,L,z,$,_e,Be,at){return A=Eg(T,L,!0,A,z,$,_e,Be,at),A.context=Ad(null),T=A.current,L=hr(),z=Ds(T),$=Oo(L,z),$.callback=E??null,ba(T,$),A.current.lanes=z,ml(A,z,L),_n(A,L),A},t.createPortal=function(A,E,T){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:L==null?null:""+L,children:A,containerInfo:E,implementation:T}},t.createRoleSelector=function(A){return{$$typeof:Fo,value:A}},t.createTestNameSelector=function(A){return{$$typeof:Pa,value:A}},t.createTextSelector=function(A){return{$$typeof:zu,value:A}},t.deferredUpdates=function(A){var E=Jn,T=gr.transition;try{return gr.transition=null,Jn=16,A()}finally{Jn=E,gr.transition=T}},t.discreteUpdates=function(A,E,T,L,z){var $=Jn,_e=gr.transition;try{return gr.transition=null,Jn=1,A(E,T,L,z)}finally{Jn=$,gr.transition=_e,Nn===0&&Fl()}},t.findAllNodes=Hu,t.findBoundingRects=function(A,E){if(!$e)throw Error(s(363));E=Hu(A,E),A=[];for(var T=0;T<E.length;T++)A.push(K(E[T]));for(E=A.length-1;0<E;E--){T=A[E];for(var L=T.x,z=L+T.width,$=T.y,_e=$+T.height,Be=E-1;0<=Be;Be--)if(E!==Be){var at=A[Be],Ot=at.x,Zt=Ot+at.width,On=at.y,gn=On+at.height;if(L>=Ot&&$>=On&&z<=Zt&&_e<=gn){A.splice(E,1);break}else if(L!==Ot||T.width!==at.width||gn<$||On>_e){if(!($!==On||T.height!==at.height||Zt<L||Ot>z)){Ot>L&&(at.width+=Ot-L,at.x=L),Zt<z&&(at.width=z-Ot),A.splice(E,1);break}}else{On>$&&(at.height+=On-$,at.y=$),gn<_e&&(at.height=_e-On),A.splice(E,1);break}}}return A},t.findHostInstance=Ec,t.findHostInstanceWithNoPortals=function(A){return A=k(A),A=A!==null?ee(A):null,A===null?null:A.stateNode},t.findHostInstanceWithWarning=function(A){return Ec(A)},t.flushControlled=function(A){var E=Nn;Nn|=1;var T=gr.transition,L=Jn;try{gr.transition=null,Jn=1,A()}finally{Jn=L,gr.transition=T,Nn=E,Nn===0&&(Fl(),Es())}},t.flushPassiveEffects=Oa,t.flushSync=mo,t.focusWithin=function(A,E){if(!$e)throw Error(s(363));for(A=mf(A),E=Ts(A,E),E=Array.from(E),A=0;A<E.length;){var T=E[A++];if(!re(T)){if(T.tag===5&&ve(T.stateNode))return!0;for(T=T.child;T!==null;)E.push(T),T=T.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Jn},t.getFindAllNodesFailureDescription=function(A,E){if(!$e)throw Error(s(363));var T=0,L=[];A=[mf(A),0];for(var z=0;z<A.length;){var $=A[z++],_e=A[z++],Be=E[_e];if(($.tag!==5||!re($))&&(Hi($,Be)&&(L.push(nu(Be)),_e++,_e>T&&(T=_e)),_e<E.length))for($=$.child;$!==null;)A.push($,_e),$=$.sibling}if(T<E.length){for(A=[];T<E.length;T++)A.push(nu(E[T]));return`findAllNodes was able to match part of the selector:
  `+(L.join(" > ")+`

No matching component was found for:
  `)+A.join(" > ")}return null},t.getPublicRootInstance=function(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return J(A.child.stateNode);default:return A.child.stateNode}},t.injectIntoDevTools=function(A){if(A={bundleType:A.bundleType,version:A.version,rendererPackageName:A.rendererPackageName,rendererConfig:A.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Kh,findFiberByHostInstance:A.findFiberByHostInstance||om,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")A=!1;else{var E=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(E.isDisabled||!E.supportsFiber)A=!0;else{try{Yf=E.inject(A),Ka=E}catch{}A=!!E.checkDCE}}return A},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(A,E,T,L){if(!$e)throw Error(s(363));A=Hu(A,E);var z=Me(A,T,L).disconnect;return{disconnect:function(){z()}}},t.registerMutableSourceForHydration=function(A,E){var T=E._getVersion;T=T(E._source),A.mutableSourceEagerHydrationData==null?A.mutableSourceEagerHydrationData=[E,T]:A.mutableSourceEagerHydrationData.push(E,T)},t.runWithPriority=function(A,E){var T=Jn;try{return Jn=A,E()}finally{Jn=T}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(A,E,T,L){var z=E.current,$=hr(),_e=Ds(z);return T=Ad(T),E.context===null?E.context=T:E.pendingContext=T,E=Oo($,_e),E.payload={element:A},L=L===void 0?null:L,L!==null&&(E.callback=L),ba(z,E),A=No(z,_e,$),A!==null&&rf(A,z,_e),_e},t}),b2}var OO;function AJ(){return OO||(OO=1,v2.exports=bJ()),v2.exports}var EJ=AJ();const SJ=ky(EJ);var A2={exports:{}},E2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO;function xJ(){return IO||(IO=1,function(n){function e(V,ae){var ue=V.length;V.push(ae);e:for(;0<ue;){var Q=ue-1>>>1,de=V[Q];if(0<i(de,ae))V[Q]=ae,V[ue]=de,ue=Q;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ae=V[0],ue=V.pop();if(ue!==ae){V[0]=ue;e:for(var Q=0,de=V.length,we=de>>>1;Q<we;){var ye=2*(Q+1)-1,Ce=V[ye],Le=ye+1,Ie=V[Le];if(0>i(Ce,ue))Le<de&&0>i(Ie,Ce)?(V[Q]=Ie,V[Le]=ue,Q=Le):(V[Q]=Ce,V[ye]=ue,Q=ye);else if(Le<de&&0>i(Ie,ue))V[Q]=Ie,V[Le]=ue,Q=Le;else break e}}return ae}function i(V,ae){var ue=V.sortIndex-ae.sortIndex;return ue!==0?ue:V.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var u=[],c=[],l=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var ae=t(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=V)r(c),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(c)}}function M(V){if(p=!1,C(V),!g)if(t(u)!==null)g=!0,J(R);else{var ae=t(c);ae!==null&&fe(M,ae.startTime-V)}}function R(V,ae){g=!1,p&&(p=!1,b(F),F=-1),m=!0;var ue=h;try{for(C(ae),f=t(u);f!==null&&(!(f.expirationTime>ae)||V&&!k());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var de=Q(f.expirationTime<=ae);ae=n.unstable_now(),typeof de=="function"?f.callback=de:f===t(u)&&r(u),C(ae)}else r(u);f=t(u)}if(f!==null)var we=!0;else{var ye=t(c);ye!==null&&fe(M,ye.startTime-ae),we=!1}return we}finally{f=null,h=ue,m=!1}}var O=!1,N=null,F=-1,I=5,B=-1;function k(){return!(n.unstable_now()-B<I)}function q(){if(N!==null){var V=n.unstable_now();B=V;var ae=!0;try{ae=N(!0,V)}finally{ae?Y():(O=!1,N=null)}}else O=!1}var Y;if(typeof x=="function")Y=function(){x(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,le=ee.port2;ee.port1.onmessage=q,Y=function(){le.postMessage(null)}}else Y=function(){y(q,0)};function J(V){N=V,O||(O=!0,Y())}function fe(V,ae){F=y(function(){V(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,J(R))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(V){switch(h){case 1:case 2:case 3:var ae=3;break;default:ae=h}var ue=h;h=ae;try{return V()}finally{h=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,ae){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ue=h;h=V;try{return ae()}finally{h=ue}},n.unstable_scheduleCallback=function(V,ae,ue){var Q=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Q+ue:Q):ue=Q,V){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ue+de,V={id:l++,callback:ae,priorityLevel:V,startTime:ue,expirationTime:de,sortIndex:-1},ue>Q?(V.sortIndex=ue,e(c,V),t(u)===null&&V===t(c)&&(p?(b(F),F=-1):p=!0,fe(M,ue-Q))):(V.sortIndex=de,e(u,V),g||m||(g=!0,J(R))),V},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(V){var ae=h;return function(){var ue=h;h=ae;try{return V.apply(this,arguments)}finally{h=ue}}}}(E2)),E2}var BO;function wJ(){return BO||(BO=1,A2.exports=xJ()),A2.exports}var FO=wJ();const CP={},nU=n=>void Object.assign(CP,n);function CJ(n,e){function t(l,{args:f=[],attach:h,...m},g){let p=`${l[0].toUpperCase()}${l.slice(1)}`,y;if(l==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const b=m.object;y=Fv(b,{type:l,root:g,attach:h,primitive:!0})}else{const b=CP[p];if(!b)throw new Error(`R3F: ${p} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Fv(new b(...f),{type:l,root:g,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof Xn?y.__r3f.attach="geometry":y instanceof jo&&(y.__r3f.attach="material")),p!=="inject"&&w2(y,m),y}function r(l,f){let h=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?x2(l,f,f.__r3f.attach):f.isObject3D&&l.isObject3D&&(l.add(f),h=!0),h||(g=l.__r3f)==null||g.objects.push(f),f.__r3f||Fv(f,{}),f.__r3f.parent=l,GM(f),Lv(f)}}function i(l,f,h){let m=!1;if(f){var g,p;if((g=f.__r3f)!=null&&g.attach)x2(l,f,f.__r3f.attach);else if(f.isObject3D&&l.isObject3D){f.parent=l,f.dispatchEvent({type:"added"}),l.dispatchEvent({type:"childadded",child:f});const y=l.children.filter(x=>x!==f),b=y.indexOf(h);l.children=[...y.slice(0,b),f,...y.slice(b)],m=!0}m||(p=l.__r3f)==null||p.objects.push(f),f.__r3f||Fv(f,{}),f.__r3f.parent=l,GM(f),Lv(f)}}function o(l,f,h=!1){l&&[...l].forEach(m=>s(f,m,h))}function s(l,f,h){if(f){var m,g,p;if(f.__r3f&&(f.__r3f.parent=null),(m=l.__r3f)!=null&&m.objects&&(l.__r3f.objects=l.__r3f.objects.filter(M=>M!==f)),(g=f.__r3f)!=null&&g.attach)zO(l,f,f.__r3f.attach);else if(f.isObject3D&&l.isObject3D){var y;l.remove(f),(y=f.__r3f)!=null&&y.root&&FJ(pE(f),f)}const x=(p=f.__r3f)==null?void 0:p.primitive,C=!x&&(h===void 0?f.dispose!==null:h);if(!x){var b;o((b=f.__r3f)==null?void 0:b.objects,f,C),o(f.children,f,C)}if(delete f.__r3f,C&&f.dispose&&f.type!=="Scene"){const M=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?FO.unstable_scheduleCallback(FO.unstable_IdlePriority,M):M()}Lv(l)}}function a(l,f,h,m){var g;const p=(g=l.__r3f)==null?void 0:g.parent;if(!p)return;const y=t(f,h,l.__r3f.root);if(l.children){for(const b of l.children)b.__r3f&&r(y,b);l.children=l.children.filter(b=>!b.__r3f)}l.__r3f.objects.forEach(b=>r(y,b)),l.__r3f.objects=[],l.__r3f.autoRemovedBeforeAppend||s(p,l),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(p,y),y.raycast&&y.__r3f.eventCount&&pE(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(b=>{b!==null&&(b.stateNode=y,b.ref&&(typeof b.ref=="function"?b.ref(y):b.ref.current=y))})}const u=()=>{};return{reconciler:SJ({createInstance:t,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(l,f)=>{if(!f)return;const h=l.getState().scene;h.__r3f&&(h.__r3f.root=l,r(h,f))},removeChildFromContainer:(l,f)=>{f&&s(l.getState().scene,f)},insertInContainerBefore:(l,f,h)=>{if(!f||!h)return;const m=l.getState().scene;m.__r3f&&i(m,f,h)},getRootHostContext:()=>null,getChildHostContext:l=>l,finalizeInitialChildren(l){var f;return!!((f=l==null?void 0:l.__r3f)!=null?f:{}).handlers},prepareUpdate(l,f,h,m){var g;if(((g=l==null?void 0:l.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==l)return[!0];{const{args:y=[],children:b,...x}=m,{args:C=[],children:M,...R}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((N,F)=>N!==C[F]))return[!0];const O=lU(l,x,R,!0);return O.changes.length?[!1,O]:null}},commitUpdate(l,[f,h],m,g,p,y){f?a(l,m,p,y):w2(l,h)},commitMount(l,f,h,m){var g;const p=(g=l.__r3f)!=null?g:{};l.raycast&&p.handlers&&p.eventCount&&pE(l).getState().internal.interaction.push(l)},getPublicInstance:l=>l,prepareForCommit:()=>null,preparePortalMount:l=>Fv(l.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(l){var f;const{attach:h,parent:m}=(f=l.__r3f)!=null?f:{};h&&m&&zO(m,l,h),l.isObject3D&&(l.visible=!1),Lv(l)},unhideInstance(l,f){var h;const{attach:m,parent:g}=(h=l.__r3f)!=null?h:{};m&&g&&x2(g,l,m),(l.isObject3D&&f.visible==null||f.visible)&&(l.visible=!0),Lv(l)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>e?e():Hv.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&yi.fun(performance.now)?performance.now:yi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:yi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:yi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:w2}}var LO,NO;const S2=n=>"colorSpace"in n||"outputColorSpace"in n,rU=()=>{var n;return(n=CP.ColorManagement)!=null?n:null},iU=n=>n&&n.isOrthographicCamera,MJ=n=>n&&n.hasOwnProperty("current"),tb=typeof window<"u"&&((LO=window.document)!=null&&LO.createElement||((NO=window.navigator)==null?void 0:NO.product)==="ReactNative")?W.useLayoutEffect:W.useEffect;function oU(n){const e=W.useRef(n);return tb(()=>void(e.current=n),[n]),e}function TJ({set:n}){return tb(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class sU extends W.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}sU.getDerivedStateFromError=()=>({error:!0});const aU="__default",UO=new Map,PJ=n=>n&&!!n.memoized&&!!n.changes;function uU(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const l_=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function pE(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const yi={obj:n=>n===Object(n)&&!yi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(yi.str(n)||yi.num(n)||yi.boo(n))return n===e;const o=yi.obj(n);if(o&&r==="reference")return n===e;const s=yi.arr(n);if(s&&t==="reference")return n===e;if((s||o)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(o&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!yi.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(yi.und(a)){if(s&&n.length===0&&e.length===0||o&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function DJ(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function RJ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Fv(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function HM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((o,s)=>o[s],n),{target:t,key:i}}else return{target:t,key:e}}const kO=/-\d+$/;function x2(n,e,t){if(yi.str(t)){if(kO.test(t)){const o=t.replace(kO,""),{target:s,key:a}=HM(n,o);Array.isArray(s[a])||(s[a]=[])}const{target:r,key:i}=HM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function zO(n,e,t){var r,i;if(yi.str(t)){const{target:o,key:s}=HM(n,t),a=e.__r3f.previousAttach;a===void 0?delete o[s]:o[s]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function lU(n,{children:e,key:t,ref:r,...i},{children:o,key:s,ref:a,...u}={},c=!1){const l=n.__r3f,f=Object.entries(i),h=[];if(c){const g=Object.keys(u);for(let p=0;p<g.length;p++)i.hasOwnProperty(g[p])||f.unshift([g[p],aU+"remove"])}f.forEach(([g,p])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&g==="object"||yi.equ(p,u[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return h.push([g,p,!0,[]]);let b=[];g.includes("-")&&(b=g.split("-")),h.push([g,p,!1,b]);for(const x in i){const C=i[x];x.startsWith(`${g}-`)&&h.push([x,C,!1,x.split("-")])}});const m={...i};return l!=null&&l.memoizedProps&&l!=null&&l.memoizedProps.args&&(m.args=l.memoizedProps.args),l!=null&&l.memoizedProps&&l!=null&&l.memoizedProps.attach&&(m.attach=l.memoizedProps.attach),{memoized:m,changes:h}}const OJ=typeof process<"u"&&!1;function w2(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:s,changes:a}=PJ(e)?e:lU(n,e),u=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=s);for(let l=0;l<a.length;l++){let[f,h,m,g]=a[l];if(S2(n)){const x="srgb",C="srgb-linear";f==="encoding"?(f="colorSpace",h=h===3001?x:C):f==="outputEncoding"&&(f="outputColorSpace",h=h===3001?x:C)}let p=n,y=p[f];if(g.length&&(y=g.reduce((b,x)=>b[x],n),!(y&&y.set))){const[b,...x]=g.reverse();p=x.reverse().reduce((C,M)=>C[M],n),f=b}if(h===aU+"remove")if(p.constructor){let b=UO.get(p.constructor);b||(b=new p.constructor,UO.set(p.constructor,b)),h=b[f]}else h=0;if(m&&r)h?r.handlers[f]=h:delete r.handlers[f],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof W0)){if(Array.isArray(h))y.fromArray?y.fromArray(h):y.set(...h);else if(y.copy&&h&&h.constructor&&(OJ?y.constructor.name===h.constructor.name:y.constructor===h.constructor))y.copy(h);else if(h!==void 0){const b=y instanceof zt;!b&&y.setScalar?y.setScalar(h):y instanceof W0&&h instanceof W0?y.mask=h.mask:y.set(h),!rU()&&o&&!o.linear&&b&&y.convertSRGBToLinear()}}else if(p[f]=h,p[f]instanceof Mi&&p[f].format===da&&p[f].type===jc&&o){const b=p[f];S2(b)&&S2(o.gl)?b.colorSpace=o.gl.outputColorSpace:b.encoding=o.gl.outputEncoding}Lv(n)}if(r&&r.parent&&n.raycast&&u!==r.eventCount){const l=pE(n).getState().internal,f=l.interaction.indexOf(n);f>-1&&l.interaction.splice(f,1),r.eventCount&&l.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&GM(n),n}function Lv(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function GM(n){n.onUpdate==null||n.onUpdate(n)}function IJ(n,e){n.manual||(iU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function TA(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function BJ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Hv.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Hv.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Hv.ContinuousEventPriority;default:return Hv.DefaultEventPriority}}function cU(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function FJ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{cU(t.capturedMap,e,r,i)})}function LJ(n){function e(u){const{internal:c}=n.getState(),l=u.offsetX-c.initialClick[0],f=u.offsetY-c.initialClick[1];return Math.round(Math.sqrt(l*l+f*f))}function t(u){return u.filter(c=>["Move","Over","Enter","Out","Leave"].some(l=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+l]}))}function r(u,c){const l=n.getState(),f=new Set,h=[],m=c?c(l.internal.interaction):l.internal.interaction;for(let b=0;b<m.length;b++){const x=l_(m[b]);x&&(x.raycaster.camera=void 0)}l.previousRoot||l.events.compute==null||l.events.compute(u,l);function g(b){const x=l_(b);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var C;x.events.compute==null||x.events.compute(u,x,(C=x.previousRoot)==null?void 0:C.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(b,!0):[]}let p=m.flatMap(g).sort((b,x)=>{const C=l_(b.object),M=l_(x.object);return!C||!M?b.distance-x.distance:M.events.priority-C.events.priority||b.distance-x.distance}).filter(b=>{const x=TA(b);return f.has(x)?!1:(f.add(x),!0)});l.events.filter&&(p=l.events.filter(p,l));for(const b of p){let x=b.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&h.push({...b,eventObject:x}),x=x.parent}}if("pointerId"in u&&l.internal.capturedMap.has(u.pointerId))for(let b of l.internal.capturedMap.get(u.pointerId).values())f.has(TA(b.intersection))||h.push(b.intersection);return h}function i(u,c,l,f){const h=n.getState();if(u.length){const m={stopped:!1};for(const g of u){const p=l_(g.object)||h,{raycaster:y,pointer:b,camera:x,internal:C}=p,M=new oe(b.x,b.y,0).unproject(x),R=B=>{var k,q;return(k=(q=C.capturedMap.get(B))==null?void 0:q.has(g.eventObject))!=null?k:!1},O=B=>{const k={intersection:g,target:c.target};C.capturedMap.has(B)?C.capturedMap.get(B).set(g.eventObject,k):C.capturedMap.set(B,new Map([[g.eventObject,k]])),c.target.setPointerCapture(B)},N=B=>{const k=C.capturedMap.get(B);k&&cU(C.capturedMap,g.eventObject,k,B)};let F={};for(let B in c){let k=c[B];typeof k!="function"&&(F[B]=k)}let I={...g,...F,pointer:b,intersections:u,stopped:m.stopped,delta:l,unprojectedPoint:M,ray:y.ray,camera:x,stopPropagation(){const B="pointerId"in c&&C.capturedMap.get(c.pointerId);if((!B||B.has(g.eventObject))&&(I.stopped=m.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(k=>k.eventObject===g.eventObject))){const k=u.slice(0,u.indexOf(g));o([...k,g])}},target:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:N},currentTarget:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:N},nativeEvent:c};if(f(I),m.stopped===!0)break}}return u}function o(u){const{internal:c}=n.getState();for(const l of c.hovered.values())if(!u.length||!u.find(f=>f.object===l.object&&f.index===l.index&&f.instanceId===l.instanceId)){const h=l.eventObject.__r3f,m=h==null?void 0:h.handlers;if(c.hovered.delete(TA(l)),h!=null&&h.eventCount){const g={...l,intersections:u};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function s(u,c){for(let l=0;l<c.length;l++){const f=c[l].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(u)}}function a(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:l}=n.getState();"pointerId"in c&&l.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{l.capturedMap.has(c.pointerId)&&(l.capturedMap.delete(c.pointerId),o([]))})}}return function(l){const{onPointerMissed:f,internal:h}=n.getState();h.lastEvent.current=l;const m=u==="onPointerMove",g=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",y=r(l,m?t:void 0),b=g?e(l):0;u==="onPointerDown"&&(h.initialClick=[l.offsetX,l.offsetY],h.initialHits=y.map(C=>C.eventObject)),g&&!y.length&&b<=2&&(s(l,h.interaction),f&&f(l)),m&&o(y);function x(C){const M=C.eventObject,R=M.__r3f,O=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(m){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const N=TA(C),F=h.hovered.get(N);F?F.stopped&&C.stopPropagation():(h.hovered.set(N,C),O.onPointerOver==null||O.onPointerOver(C),O.onPointerEnter==null||O.onPointerEnter(C))}O.onPointerMove==null||O.onPointerMove(C)}else{const N=O[u];N?(!g||h.initialHits.includes(M))&&(s(l,h.interaction.filter(F=>!h.initialHits.includes(F))),N(C)):g&&h.initialHits.includes(M)&&s(l,h.interaction.filter(F=>!h.initialHits.includes(F)))}}i(y,l,b,x)}}return{handlePointer:a}}const fU=n=>!!(n!=null&&n.render),dU=W.createContext(null),NJ=(n,e)=>{const t=hJ((a,u)=>{const c=new oe,l=new oe,f=new oe;function h(b=u().camera,x=l,C=u().size){const{width:M,height:R,top:O,left:N}=C,F=M/R;x instanceof oe?f.copy(x):f.set(...x);const I=b.getWorldPosition(c).distanceTo(f);if(iU(b))return{width:M/b.zoom,height:R/b.zoom,top:O,left:N,factor:1,distance:I,aspect:F};{const B=b.fov*Math.PI/180,k=2*Math.tan(B/2)*I,q=k*(M/R);return{width:q,height:k,top:O,left:N,factor:M/q,distance:I,aspect:F}}}let m;const g=b=>a(x=>({performance:{...x.performance,current:b}})),p=new _t;return{set:a,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(b=1)=>n(u(),b),advance:(b,x)=>e(b,x,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new yP,pointer:p,mouse:p,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=u();m&&clearTimeout(m),b.performance.current!==b.performance.min&&g(b.performance.min),m=setTimeout(()=>g(u().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:b=>a(x=>({...x,events:{...x.events,...b}})),setSize:(b,x,C,M,R)=>{const O=u().camera,N={width:b,height:x,top:M||0,left:R||0,updateStyle:C};a(F=>({size:N,viewport:{...F.viewport,...h(O,l,N)}}))},setDpr:b=>a(x=>{const C=uU(b);return{viewport:{...x.viewport,dpr:C,initialDpr:x.viewport.initialDpr||C}}}),setFrameloop:(b="always")=>{const x=u().clock;x.stop(),x.elapsedTime=0,b!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:b}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:W.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(b,x,C)=>{const M=u().internal;return M.priority=M.priority+(x>0?1:0),M.subscribers.push({ref:b,priority:x,store:C}),M.subscribers=M.subscribers.sort((R,O)=>R.priority-O.priority),()=>{const R=u().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(x>0?1:0),R.subscribers=R.subscribers.filter(O=>O.ref!==b))}}}}}),r=t.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return t.subscribe(()=>{const{camera:a,size:u,viewport:c,gl:l,set:f}=t.getState();if(u.width!==i.width||u.height!==i.height||c.dpr!==o){var h;i=u,o=c.dpr,IJ(a,u),l.setPixelRatio(c.dpr);const m=(h=u.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&l.domElement instanceof HTMLCanvasElement;l.setSize(u.width,u.height,m)}a!==s&&(s=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let PA,UJ=new Set,kJ=new Set,zJ=new Set;function C2(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function c_(n,e){switch(n){case"before":return C2(UJ,e);case"after":return C2(kJ,e);case"tail":return C2(zJ,e)}}let M2,T2;function P2(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),M2=e.internal.subscribers,PA=0;PA<M2.length;PA++)T2=M2[PA],T2.ref.current(T2.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function HJ(n){let e=!1,t=!1,r,i,o;function s(c){i=requestAnimationFrame(s),e=!0,r=0,c_("before",c),t=!0;for(const f of n.values()){var l;o=f.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((l=o.gl.xr)!=null&&l.isPresenting)&&(r+=P2(c,o))}if(t=!1,c_("after",c),r===0)return c_("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,l=1){var f;if(!c)return n.forEach(h=>a(h.store.getState(),l));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(l>1?c.internal.frames=Math.min(60,c.internal.frames+l):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(s)))}function u(c,l=!0,f,h){if(l&&c_("before",c),f)P2(c,f,h);else for(const m of n.values())P2(c,m.store.getState());l&&c_("after",c)}return{loop:s,invalidate:a,advance:u}}function hU(){const n=W.useContext(dU);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function zc(n=t=>t,e){return hU()(n,e)}function pU(n,e=0){const t=hU(),r=t.getState().internal.subscribe,i=oU(n);return tb(()=>r(i,e,t),[e,r,t]),null}const HO=new WeakMap;function mU(n,e){return function(t,...r){let i=HO.get(t);return i||(i=new t,HO.set(t,i)),n&&n(i),Promise.all(r.map(o=>new Promise((s,a)=>i.load(o,u=>{u.scene&&Object.assign(u,DJ(u.scene)),s(u)},e,u=>a(new Error(`Could not load ${o}: ${u==null?void 0:u.message}`))))))}}function Tp(n,e,t,r){const i=Array.isArray(e)?e:[e],o=mJ(mU(t,r),[n,...i],{equal:yi.equ});return Array.isArray(e)?o:o[0]}Tp.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return gJ(mU(t),[n,...r])};Tp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return vJ([n,...t])};const e1=new Map,{invalidate:GO,advance:VO}=HJ(e1),{reconciler:dS,applyProps:cv}=CJ(e1,BJ),fv={objects:"shallow",strict:!1},GJ=(n,e)=>{const t=typeof n=="function"?n(e):n;return fU(t)?t:new Z4({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function VJ(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:s,updateStyle:a=t}=e;return{width:r,height:i,top:o,left:s,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:o,left:s}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:s,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function jJ(n){const e=e1.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||NJ(GO,VO),s=t||dS.createContainer(o,Hv.ConcurrentRoot,null,!1,null,"",i,null);e||e1.set(n,{fiber:s,store:o});let a,u=!1,c;return{configure(l={}){let{gl:f,size:h,scene:m,events:g,onCreated:p,shadows:y=!1,linear:b=!1,flat:x=!1,legacy:C=!1,orthographic:M=!1,frameloop:R="always",dpr:O=[1,2],performance:N,raycaster:F,camera:I,onPointerMissed:B}=l,k=o.getState(),q=k.gl;k.gl||k.set({gl:q=GJ(f,n)});let Y=k.raycaster;Y||k.set({raycaster:Y=new SP});const{params:ee,...le}=F||{};if(yi.equ(le,Y,fv)||cv(Y,{...le}),yi.equ(ee,Y.params,fv)||cv(Y,{params:{...Y.params,...ee}}),!k.camera||k.camera===c&&!yi.equ(c,I,fv)){c=I;const ue=I instanceof $y,Q=ue?I:M?new kp(0,0,0,0,.1,1e3):new wo(75,0,.1,1e3);ue||(Q.position.z=5,I&&(cv(Q,I),("aspect"in I||"left"in I||"right"in I||"bottom"in I||"top"in I)&&(Q.manual=!0,Q.updateProjectionMatrix())),!k.camera&&!(I!=null&&I.rotation)&&Q.lookAt(0,0,0)),k.set({camera:Q}),Y.camera=Q}if(!k.scene){let ue;m instanceof uS?ue=m:(ue=new uS,m&&cv(ue,m)),k.set({scene:Fv(ue)})}if(!k.xr){var J;const ue=(we,ye)=>{const Ce=o.getState();Ce.frameloop!=="never"&&VO(we,!0,Ce,ye)},Q=()=>{const we=o.getState();we.gl.xr.enabled=we.gl.xr.isPresenting,we.gl.xr.setAnimationLoop(we.gl.xr.isPresenting?ue:null),we.gl.xr.isPresenting||GO(we)},de={connect(){const we=o.getState().gl;we.xr.addEventListener("sessionstart",Q),we.xr.addEventListener("sessionend",Q)},disconnect(){const we=o.getState().gl;we.xr.removeEventListener("sessionstart",Q),we.xr.removeEventListener("sessionend",Q)}};typeof((J=q.xr)==null?void 0:J.addEventListener)=="function"&&de.connect(),k.set({xr:de})}if(q.shadowMap){const ue=q.shadowMap.enabled,Q=q.shadowMap.type;if(q.shadowMap.enabled=!!y,yi.boo(y))q.shadowMap.type=J_;else if(yi.str(y)){var fe;const de={basic:lN,percentage:jS,soft:J_,variance:kc};q.shadowMap.type=(fe=de[y])!=null?fe:J_}else yi.obj(y)&&Object.assign(q.shadowMap,y);(ue!==q.shadowMap.enabled||Q!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}const V=rU();V&&("enabled"in V?V.enabled=!C:"legacyMode"in V&&(V.legacyMode=C)),u||cv(q,{outputEncoding:b?3e3:3001,toneMapping:x?Uf:OT}),k.legacy!==C&&k.set(()=>({legacy:C})),k.linear!==b&&k.set(()=>({linear:b})),k.flat!==x&&k.set(()=>({flat:x})),f&&!yi.fun(f)&&!fU(f)&&!yi.equ(f,q,fv)&&cv(q,f),g&&!k.events.handlers&&k.set({events:g(o)});const ae=VJ(n,h);return yi.equ(ae,k.size,fv)||k.setSize(ae.width,ae.height,ae.updateStyle,ae.top,ae.left),O&&k.viewport.dpr!==uU(O)&&k.setDpr(O),k.frameloop!==R&&k.setFrameloop(R),k.onPointerMissed||k.set({onPointerMissed:B}),N&&!yi.equ(N,k.performance,fv)&&k.set(ue=>({performance:{...ue.performance,...N}})),a=p,u=!0,this},render(l){return u||this.configure(),dS.updateContainer(ie.jsx(WJ,{store:o,children:l,onCreated:a,rootElement:n}),s,null,()=>{}),o},unmount(){gU(n)}}}function WJ({store:n,children:e,onCreated:t,rootElement:r}){return tb(()=>{const i=n.getState();i.set(o=>({internal:{...o.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),ie.jsx(dU.Provider,{value:n,children:e})}function gU(n,e){const t=e1.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),dS.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,a,u;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(u=i.gl)!=null&&u.xr&&i.xr.disconnect(),RJ(i),e1.delete(n)}catch{}},500)})}}dS.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:W.version});const D2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function $J(n){const{handlePointer:e}=LJ(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(D2).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:o}=n.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:t}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,a])=>{const[u,c]=D2[s];t.addEventListener(u,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[a]=D2[o];r.connected.removeEventListener(a,s)}}),t(o=>({events:{...o.events,connected:void 0}}))}}}}var R2,jO;function qJ(){if(jO)return R2;jO=1;function n(e,t,r){var i,o,s,a,u;t==null&&(t=100);function c(){var f=Date.now()-a;f<t&&f>=0?i=setTimeout(c,t-f):(i=null,r||(u=e.apply(s,o),s=o=null))}var l=function(){s=this,o=arguments,a=Date.now();var f=r&&!i;return i||(i=setTimeout(c,t)),f&&(u=e.apply(s,o),s=o=null),u};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(u=e.apply(s,o),s=o=null,clearTimeout(i),i=null)},l}return n.debounce=n,R2=n,R2}var XJ=qJ();const WO=ky(XJ);var KJ=Object.defineProperty,JJ=Object.defineProperties,YJ=Object.getOwnPropertyDescriptors,$O=Object.getOwnPropertySymbols,QJ=Object.prototype.hasOwnProperty,ZJ=Object.prototype.propertyIsEnumerable,qO=(n,e,t)=>e in n?KJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,XO=(n,e)=>{for(var t in e||(e={}))QJ.call(e,t)&&qO(n,t,e[t]);if($O)for(var t of $O(e))ZJ.call(e,t)&&qO(n,t,e[t]);return n},eY=(n,e)=>JJ(n,YJ(e)),KO,JO;typeof window<"u"&&((KO=window.document)!=null&&KO.createElement||((JO=window.navigator)==null?void 0:JO.product)==="ReactNative")?W.useLayoutEffect:W.useEffect;function vU(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=vU(r,e,t);if(i)return i;r=r.sibling}}function _U(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const YO=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=YO;return}return YO.apply(this,arguments)};const MP=_U(W.createContext(null));class yU extends W.Component{render(){return W.createElement(MP.Provider,{value:this._reactInternals},this.props.children)}}function tY(){const n=W.useContext(MP);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=W.useId();return W.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=vU(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}function nY(){const n=tY(),[e]=W.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==MP&&!e.has(i)&&e.set(i,W.useContext(_U(i)))}t=t.return}return e}function rY(){const n=nY();return W.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>W.createElement(e,null,W.createElement(t.Provider,eY(XO({},r),{value:n.get(t)}))),e=>W.createElement(yU,XO({},e))),[n])}function iY({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||typeof window<"u"&&window.ResizeObserver,[o,s]=W.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return o.width=1280,o.height=800,[()=>{},o,()=>{}];const a=W.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,l=W.useRef(!1);W.useEffect(()=>(l.current=!0,()=>void(l.current=!1)));const[f,h,m]=W.useMemo(()=>{const b=()=>{if(!a.current.element)return;const{left:x,top:C,width:M,height:R,bottom:O,right:N,x:F,y:I}=a.current.element.getBoundingClientRect(),B={left:x,top:C,width:M,height:R,bottom:O,right:N,x:F,y:I};a.current.element instanceof HTMLElement&&r&&(B.height=a.current.element.offsetHeight,B.width=a.current.element.offsetWidth),Object.freeze(B),l.current&&!uY(a.current.lastBounds,B)&&s(a.current.lastBounds=B)};return[b,c?WO(b,c):b,u?WO(b,u):b]},[s,r,u,c]);function g(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function p(){var b;a.current.element&&(a.current.resizeObserver=new i(h),(b=a.current.resizeObserver)==null||b.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(x=>x.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=b=>{!b||b===a.current.element||(g(),a.current.element=b,a.current.scrollContainers=bU(b),p())};return sY(m,!!e),oY(h),W.useEffect(()=>{g(),p()},[e,m,h]),W.useEffect(()=>g,[]),[y,o,f]}function oY(n){W.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function sY(n,e){W.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function bU(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...bU(n.parentElement)]}const aY=["x","y","top","bottom","left","right","width","height"],uY=(n,e)=>aY.every(t=>n[t]===e[t]),lY=W.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:o,events:s=$J,eventSource:a,eventPrefix:u,shadows:c,linear:l,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:p,performance:y,raycaster:b,camera:x,scene:C,onPointerMissed:M,onCreated:R,...O},N){W.useMemo(()=>nU(uJ),[]);const F=rY(),[I,B]=iY({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=W.useRef(null),q=W.useRef(null);W.useImperativeHandle(N,()=>k.current);const Y=oU(M),[ee,le]=W.useState(!1),[J,fe]=W.useState(!1);if(ee)throw ee;if(J)throw J;const V=W.useRef(null);tb(()=>{const ue=k.current;B.width>0&&B.height>0&&ue&&(V.current||(V.current=jJ(ue)),V.current.configure({gl:o,events:s,shadows:c,linear:l,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:p,performance:y,raycaster:b,camera:x,scene:C,size:B,onPointerMissed:(...Q)=>Y.current==null?void 0:Y.current(...Q),onCreated:Q=>{Q.events.connect==null||Q.events.connect(a?MJ(a)?a.current:a:q.current),u&&Q.setEvents({compute:(de,we)=>{const ye=de[u+"X"],Ce=de[u+"Y"];we.pointer.set(ye/we.size.width*2-1,-(Ce/we.size.height)*2+1),we.raycaster.setFromCamera(we.pointer,we.camera)}}),R==null||R(Q)}}),V.current.render(ie.jsx(F,{children:ie.jsx(sU,{set:fe,children:ie.jsx(W.Suspense,{fallback:ie.jsx(TJ,{set:le}),children:e})})})))}),W.useEffect(()=>{const ue=k.current;if(ue)return()=>gU(ue)},[]);const ae=a?"none":"auto";return ie.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ae,...i},...O,children:ie.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:ie.jsx("canvas",{ref:k,style:{display:"block"},children:t})})})}),cY=W.forwardRef(function(e,t){return ie.jsx(yU,{children:ie.jsx(lY,{...e,ref:t})})});function Pr(){return Pr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pr.apply(null,arguments)}const nb=new oe,TP=new oe,fY=new oe,QO=new _t;function dY(n,e,t){const r=nb.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,o=t.height/2;return[r.x*i+i,-(r.y*o)+o]}function hY(n,e){const t=nb.setFromMatrixPosition(n.matrixWorld),r=TP.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),o=e.getWorldDirection(fY);return i.angleTo(o)>Math.PI/2}function pY(n,e,t,r){const i=nb.setFromMatrixPosition(n.matrixWorld),o=i.clone();o.project(e),QO.set(o.x,o.y),t.setFromCamera(QO,e);const s=t.intersectObjects(r,!0);if(s.length){const a=s[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function mY(n,e){if(e instanceof kp)return e.zoom;if(e instanceof wo){const t=nb.setFromMatrixPosition(n.matrixWorld),r=TP.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,o=t.distanceTo(r);return 1/(2*Math.tan(i/2)*o)}else return 1}function gY(n,e,t){if(e instanceof wo||e instanceof kp){const r=nb.setFromMatrixPosition(n.matrixWorld),i=TP.setFromMatrixPosition(e.matrixWorld),o=r.distanceTo(i),s=(t[1]-t[0])/(e.far-e.near),a=t[1]-s*e.far;return Math.round(s*o+a)}}const VM=n=>Math.abs(n)<1e-10?0:n;function AU(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=VM(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const vY=(n=>e=>AU(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),_Y=(n=>(e,t)=>AU(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function yY(n){return n&&typeof n=="object"&&"current"in n}const bY=W.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:o,fullscreen:s,portal:a,distanceFactor:u,sprite:c=!1,transform:l=!1,occlude:f,onOcclude:h,castShadow:m,receiveShadow:g,material:p,geometry:y,zIndexRange:b=[16777271,0],calculatePosition:x=dY,as:C="div",wrapperClass:M,pointerEvents:R="auto",...O},N)=>{const{gl:F,camera:I,scene:B,size:k,raycaster:q,events:Y,viewport:ee}=zc(),[le]=W.useState(()=>document.createElement(C)),J=W.useRef(),fe=W.useRef(null),V=W.useRef(0),ae=W.useRef([0,0]),ue=W.useRef(null),Q=W.useRef(null),de=(a==null?void 0:a.current)||Y.connected||F.domElement.parentNode,we=W.useRef(null),ye=W.useRef(!1),Ce=W.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&yY(f[0]),[f]);W.useLayoutEffect(()=>{const Qe=F.domElement;f&&f==="blending"?(Qe.style.zIndex=`${Math.floor(b[0]/2)}`,Qe.style.position="absolute",Qe.style.pointerEvents="none"):(Qe.style.zIndex=null,Qe.style.position=null,Qe.style.pointerEvents=null)},[f]),W.useLayoutEffect(()=>{if(fe.current){const Qe=J.current=VL.createRoot(le);if(B.updateMatrixWorld(),l)le.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const lt=x(fe.current,I,k);le.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${lt[0]}px,${lt[1]}px,0);transform-origin:0 0;`}return de&&(i?de.prepend(le):de.appendChild(le)),()=>{de&&de.removeChild(le),Qe.unmount()}}},[de,l]),W.useLayoutEffect(()=>{M&&(le.className=M)},[M]);const Le=W.useMemo(()=>l?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none",...s&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...t},[t,o,s,k,l]),Ie=W.useMemo(()=>({position:"absolute",pointerEvents:R}),[R]);W.useLayoutEffect(()=>{if(ye.current=!1,l){var Qe;(Qe=J.current)==null||Qe.render(W.createElement("div",{ref:ue,style:Le},W.createElement("div",{ref:Q,style:Ie},W.createElement("div",{ref:N,className:r,style:t,children:n}))))}else{var lt;(lt=J.current)==null||lt.render(W.createElement("div",{ref:N,style:Le,className:r,children:n}))}});const Ze=W.useRef(!0);pU(Qe=>{if(fe.current){I.updateMatrixWorld(),fe.current.updateWorldMatrix(!0,!1);const lt=l?ae.current:x(fe.current,I,k);if(l||Math.abs(V.current-I.zoom)>e||Math.abs(ae.current[0]-lt[0])>e||Math.abs(ae.current[1]-lt[1])>e){const We=hY(fe.current,I);let Ke=!1;Ce&&(Array.isArray(f)?Ke=f.map(vt=>vt.current):f!=="blending"&&(Ke=[B]));const he=Ze.current;if(Ke){const vt=pY(fe.current,I,q,Ke);Ze.current=vt&&!We}else Ze.current=!We;he!==Ze.current&&(h?h(!Ze.current):le.style.display=Ze.current?"block":"none");const wt=Math.floor(b[0]/2),ft=f?Ce?[b[0],wt]:[wt-1,0]:b;if(le.style.zIndex=`${gY(fe.current,I,ft)}`,l){const[vt,yt]=[k.width/2,k.height/2],Ht=I.projectionMatrix.elements[5]*yt,{isOrthographicCamera:$e,top:te,left:K,bottom:j,right:re}=I,me=vY(I.matrixWorldInverse),ve=$e?`scale(${Ht})translate(${VM(-(re+K)/2)}px,${VM((te+j)/2)}px)`:`translateZ(${Ht}px)`;let Me=fe.current.matrixWorld;c&&(Me=I.matrixWorldInverse.clone().transpose().copyPosition(Me).scale(fe.current.scale),Me.elements[3]=Me.elements[7]=Me.elements[11]=0,Me.elements[15]=1),le.style.width=k.width+"px",le.style.height=k.height+"px",le.style.perspective=$e?"":`${Ht}px`,ue.current&&Q.current&&(ue.current.style.transform=`${ve}${me}translate(${vt}px,${yt}px)`,Q.current.style.transform=_Y(Me,1/((u||10)/400)))}else{const vt=u===void 0?1:mY(fe.current,I)*u;le.style.transform=`translate3d(${lt[0]}px,${lt[1]}px,0) scale(${vt})`}ae.current=lt,V.current=I.zoom}}if(!Ce&&we.current&&!ye.current)if(l){if(ue.current){const lt=ue.current.children[0];if(lt!=null&&lt.clientWidth&&lt!=null&&lt.clientHeight){const{isOrthographicCamera:We}=I;if(We||y)O.scale&&(Array.isArray(O.scale)?O.scale instanceof oe?we.current.scale.copy(O.scale.clone().divideScalar(1)):we.current.scale.set(1/O.scale[0],1/O.scale[1],1/O.scale[2]):we.current.scale.setScalar(1/O.scale));else{const Ke=(u||10)/400,he=lt.clientWidth*Ke,wt=lt.clientHeight*Ke;we.current.scale.set(he,wt,1)}ye.current=!0}}}else{const lt=le.children[0];if(lt!=null&&lt.clientWidth&&lt!=null&&lt.clientHeight){const We=1/ee.factor,Ke=lt.clientWidth*We,he=lt.clientHeight*We;we.current.scale.set(Ke,he,1),ye.current=!0}we.current.lookAt(Qe.camera.position)}});const tt=W.useMemo(()=>({vertexShader:l?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[l]);return W.createElement("group",Pr({},O,{ref:fe}),f&&!Ce&&W.createElement("mesh",{castShadow:m,receiveShadow:g,ref:we},y||W.createElement("planeGeometry",null),p||W.createElement("shaderMaterial",{side:Gs,vertexShader:tt.vertexShader,fragmentShader:tt.fragmentShader})))}),ZO=n=>{let e;const t=new Set,r=(c,l)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const h=e;e=l??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(m=>m(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(t.add(c),()=>t.delete(c))},u=e=n(r,i,a);return a},AY=n=>n?ZO(n):ZO,EY=n=>n;function SY(n,e=EY){const t=X.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return X.useDebugValue(t),t}const eI=n=>{const e=AY(n),t=r=>SY(e,r);return Object.assign(t,e),t},EU=n=>n?eI(n):eI;let f_=0;const xY=EU(n=>(kv.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-f_)/(r-f_)*100})},kv.onLoad=()=>{n({active:!1})},kv.onError=e=>n(t=>({errors:[...t.errors,e]})),kv.onProgress=(e,t,r)=>{t===r&&(f_=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-f_)/(r-f_)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),wY=parseInt(Vy.replace(/\D+/g,""));function tI(n,e){if(e===zN)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===aS||e===VT){let t=n.getIndex();if(t===null){const s=[],a=n.getAttribute("position");if(a!==void 0){for(let u=0;u<a.count;u++)s.push(u);n.setIndex(s),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===aS)for(let s=1;s<=r;s++)i.push(t.getX(0)),i.push(t.getX(s)),i.push(t.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(i.push(t.getX(s)),i.push(t.getX(s+1)),i.push(t.getX(s+2))):(i.push(t.getX(s+2)),i.push(t.getX(s+1)),i.push(t.getX(s)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=n.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}function hS(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const F0="srgb",ah="srgb-linear",nI=3001,CY=3e3;class PP extends ma{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new RY(t)}),this.register(function(t){return new OY(t)}),this.register(function(t){return new HY(t)}),this.register(function(t){return new GY(t)}),this.register(function(t){return new VY(t)}),this.register(function(t){return new BY(t)}),this.register(function(t){return new FY(t)}),this.register(function(t){return new LY(t)}),this.register(function(t){return new NY(t)}),this.register(function(t){return new DY(t)}),this.register(function(t){return new UY(t)}),this.register(function(t){return new IY(t)}),this.register(function(t){return new zY(t)}),this.register(function(t){return new kY(t)}),this.register(function(t){return new TY(t)}),this.register(function(t){return new jY(t)}),this.register(function(t){return new WY(t)})}load(e,t,r,i){const o=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const c=Mp.extractUrlBase(e);s=Mp.resolveURL(c,this.path)}else s=Mp.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),o.manager.itemError(e),o.manager.itemEnd(e)},u=new hl(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(c){try{o.parse(c,s,function(l){t(l),o.manager.itemEnd(e)},a)}catch(l){a(l)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let o;const s={},a={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(hS(new Uint8Array(e.slice(0,4)))===SU){try{s[mr.KHR_BINARY_GLTF]=new $Y(e)}catch(l){i&&i(l);return}o=JSON.parse(s[mr.KHR_BINARY_GLTF].content)}else o=JSON.parse(hS(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new oQ(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const l=this.pluginCallbacks[c](u);l.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[l.name]=l,s[l.name]=!0}if(o.extensionsUsed)for(let c=0;c<o.extensionsUsed.length;++c){const l=o.extensionsUsed[c],f=o.extensionsRequired||[];switch(l){case mr.KHR_MATERIALS_UNLIT:s[l]=new PY;break;case mr.KHR_DRACO_MESH_COMPRESSION:s[l]=new qY(o,this.dracoLoader);break;case mr.KHR_TEXTURE_TRANSFORM:s[l]=new XY;break;case mr.KHR_MESH_QUANTIZATION:s[l]=new KY;break;default:f.indexOf(l)>=0&&a[l]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+l+'".')}}u.setExtensions(s),u.setPlugins(a),u.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,o){r.parse(e,t,i,o)})}}function MY(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const mr={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class TY{constructor(e){this.parser=e,this.name=mr.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const o=t[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const o=t.json,u=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let c;const l=new zt(16777215);u.color!==void 0&&l.setRGB(u.color[0],u.color[1],u.color[2],ah);const f=u.range!==void 0?u.range:0;switch(u.type){case"directional":c=new vP(l),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new gP(l),c.distance=f;break;case"spot":c=new mP(l),c.distance=f,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,c.angle=u.spot.outerConeAngle,c.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return c.position.set(0,0,0),c.decay=2,Xd(c,u),u.intensity!==void 0&&(c.intensity=u.intensity),c.name=t.createUniqueName(u.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,o=r.json.nodes[e],a=(o.extensions&&o.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(u){return r._getNodeRef(t.cache,a,u)})}}class PY{constructor(){this.name=mr.KHR_MATERIALS_UNLIT}getMaterialType(){return al}extendParams(e,t,r){const i=[];e.color=new zt(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const s=o.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],ah),e.opacity=s[3]}o.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",o.baseColorTexture,F0))}return Promise.all(i)}}class DY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class RY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const a=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new _t(a,a)}return Promise.all(o)}}class OY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class IY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(o)}}class BY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new zt(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=i.extensions[this.name];if(s.sheenColorFactor!==void 0){const a=s.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],ah)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&o.push(r.assignTexture(t,"sheenColorMap",s.sheenColorTexture,F0)),s.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}}class FY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&o.push(r.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(o)}}class LY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&o.push(r.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=new zt().setRGB(a[0],a[1],a[2],ah),Promise.all(o)}}class NY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class UY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&o.push(r.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=new zt().setRGB(a[0],a[1],a[2],ah),s.specularColorTexture!==void 0&&o.push(r.assignTexture(t,"specularColorMap",s.specularColorTexture,F0)),Promise.all(o)}}class kY{constructor(e){this.parser=e,this.name=mr.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&o.push(r.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(o)}}class zY{constructor(e){this.parser=e,this.name=mr.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&o.push(r.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(o)}}class HY{constructor(e){this.parser=e,this.name=mr.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,s)}}class GY{constructor(e){this.parser=e,this.name=mr.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=i.images[s.source];let u=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(u=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,u);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class VY{constructor(e){this.parser=e,this.name=mr.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=i.images[s.source];let u=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(u=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,u);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class jY{constructor(e){this.name=mr.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(a){const u=i.byteOffset||0,c=i.byteLength||0,l=i.count,f=i.byteStride,h=new Uint8Array(a,u,c);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(l,f,h,i.mode,i.filter).then(function(m){return m.buffer}):s.ready.then(function(){const m=new ArrayBuffer(l*f);return s.decodeGltfBuffer(new Uint8Array(m),l,f,h,i.mode,i.filter),m})})}else return null}}class WY{constructor(e){this.name=mr.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Wl.TRIANGLES&&c.mode!==Wl.TRIANGLE_STRIP&&c.mode!==Wl.TRIANGLE_FAN&&c.mode!==void 0)return null;const s=r.extensions[this.name].attributes,a=[],u={};for(const c in s)a.push(this.parser.getDependency("accessor",s[c]).then(l=>(u[c]=l,u[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const l=c.pop(),f=l.isGroup?l.children:[l],h=c[0].count,m=[];for(const g of f){const p=new dn,y=new oe,b=new $s,x=new oe(1,1,1),C=new QT(g.geometry,g.material,h);for(let M=0;M<h;M++)u.TRANSLATION&&y.fromBufferAttribute(u.TRANSLATION,M),u.ROTATION&&b.fromBufferAttribute(u.ROTATION,M),u.SCALE&&x.fromBufferAttribute(u.SCALE,M),C.setMatrixAt(M,p.compose(y,b,x));for(const M in u)if(M==="_COLOR_0"){const R=u[M];C.instanceColor=new Q0(R.array,R.itemSize,R.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&g.geometry.setAttribute(M,u[M]);br.prototype.copy.call(C,g),this.parser.assignFinalMaterial(C),m.push(C)}return l.isGroup?(l.clear(),l.add(...m),l):m[0]}))}}const SU="glTF",d_=12,rI={JSON:1313821514,BIN:5130562};class $Y{constructor(e){this.name=mr.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,d_);if(this.header={magic:hS(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==SU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-d_,i=new DataView(e,d_);let o=0;for(;o<r;){const s=i.getUint32(o,!0);o+=4;const a=i.getUint32(o,!0);if(o+=4,a===rI.JSON){const u=new Uint8Array(e,d_+o,s);this.content=hS(u)}else if(a===rI.BIN){const u=d_+o;this.body=e.slice(u,u+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class qY{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=mr.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},u={},c={};for(const l in s){const f=jM[l]||l.toLowerCase();a[f]=s[l]}for(const l in e.attributes){const f=jM[l]||l.toLowerCase();if(s[l]!==void 0){const h=r.accessors[e.attributes[l]],m=Wv[h.componentType];c[f]=m.name,u[f]=h.normalized===!0}}return t.getDependency("bufferView",o).then(function(l){return new Promise(function(f,h){i.decodeDracoFile(l,function(m){for(const g in m.attributes){const p=m.attributes[g],y=u[g];y!==void 0&&(p.normalized=y)}f(m)},a,c,ah,h)})})}}class XY{constructor(){this.name=mr.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class KY{constructor(){this.name=mr.KHR_MESH_QUANTIZATION}}class xU extends v1{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let s=0;s!==i;s++)t[s]=r[o+s];return t}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=a*2,c=a*3,l=i-t,f=(r-t)/l,h=f*f,m=h*f,g=e*c,p=g-c,y=-2*m+3*h,b=m-h,x=1-y,C=b-h+f;for(let M=0;M!==a;M++){const R=s[p+M+a],O=s[p+M+u]*l,N=s[g+M+a],F=s[g+M]*l;o[M]=x*R+C*O+y*N+b*F}return o}}const JY=new $s;class YY extends xU{interpolate_(e,t,r,i){const o=super.interpolate_(e,t,r,i);return JY.fromArray(o).normalize().toArray(o),o}}const Wl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Wv={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},iI={9728:ys,9729:Co,9984:$S,9985:Vv,9986:P0,9987:ql},oI={33071:sl,33648:qv,10497:Op},O2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},jM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...wY>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},lp={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},QY={CUBICSPLINE:void 0,LINEAR:Jv,STEP:Kv},I2={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ZY(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new eb({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Gf})),n.DefaultMaterial}function Om(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Xd(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function eQ(n,e,t){let r=!1,i=!1,o=!1;for(let c=0,l=e.length;c<l;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(n);const s=[],a=[],u=[];for(let c=0,l=e.length;c<l;c++){const f=e[c];if(r){const h=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;s.push(h)}if(i){const h=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(h)}if(o){const h=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;u.push(h)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(u)]).then(function(c){const l=c[0],f=c[1],h=c[2];return r&&(n.morphAttributes.position=l),i&&(n.morphAttributes.normal=f),o&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function tQ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function nQ(n){let e;const t=n.extensions&&n.extensions[mr.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+B2(t.attributes):e=n.indices+":"+B2(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+B2(n.targets[r]);return e}function B2(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function WM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function rQ(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const iQ=new dn;class oQ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new MY,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&o<98?this.textureLoader=new oy(this.options.manager):this.textureLoader=new z4(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new hl(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(s){const a={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:r,userData:{}};return Om(o,a,i),Xd(a,i),Promise.all(r._invokeAll(function(u){return u.afterRoot&&u.afterRoot(a)})).then(function(){for(const u of a.scenes)u.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,o=t.length;i<o;i++){const s=t[i].joints;for(let a=0,u=s.length;a<u;a++)e[s[a]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(r[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),o=(s,a)=>{const u=this.associations.get(s);u!=null&&this.associations.set(a,u);for(const[c,l]of s.children.entries())o(l,a.children[c])};return o(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const o=e(t[i]);o&&r.push(o)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(o,s){return r.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[mr.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,s){r.load(Mp.resolveURL(t.uri,i.path),o,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,o=t.byteOffset||0;return r.slice(o,o+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const s=O2[i.type],a=Wv[i.componentType],u=i.normalized===!0,c=new a(i.count*s);return Promise.resolve(new Dr(c,s,u))}const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(s){const a=s[0],u=O2[i.type],c=Wv[i.componentType],l=c.BYTES_PER_ELEMENT,f=l*u,h=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let p,y;if(m&&m!==f){const b=Math.floor(h/m),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+b+":"+i.count;let C=t.cache.get(x);C||(p=new c(a,b*m,i.count*m/l),C=new Xy(p,m/l),t.cache.add(x,C)),y=new Ip(C,u,h%m/l,g)}else a===null?p=new c(i.count*u):p=new c(a,h,i.count*u),y=new Dr(p,u,g);if(i.sparse!==void 0){const b=O2.SCALAR,x=Wv[i.sparse.indices.componentType],C=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,R=new x(s[1],C,i.sparse.count*b),O=new c(s[2],M,i.sparse.count*u);a!==null&&(y=new Dr(y.array.slice(),y.itemSize,y.normalized));for(let N=0,F=R.length;N<F;N++){const I=R[N];if(y.setX(I,O[N*u]),u>=2&&y.setY(I,O[N*u+1]),u>=3&&y.setZ(I,O[N*u+2]),u>=4&&y.setW(I,O[N*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,o=t.textures[e].source,s=t.images[o];let a=this.textureLoader;if(s.uri){const u=r.manager.getHandler(s.uri);u!==null&&(a=u)}return this.loadTextureImage(e,o,a)}loadTextureImage(e,t,r){const i=this,o=this.json,s=o.textures[e],a=o.images[t],u=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[u])return this.textureCache[u];const c=this.loadImageSource(t,r).then(function(l){l.flipY=!1,l.name=s.name||a.name||"",l.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(l.name=a.uri);const h=(o.samplers||{})[s.sampler]||{};return l.magFilter=iI[h.magFilter]||Co,l.minFilter=iI[h.minFilter]||ql,l.wrapS=oI[h.wrapS]||Op,l.wrapT=oI[h.wrapT]||Op,i.associations.set(l,{textures:e}),l}).catch(function(){return null});return this.textureCache[u]=c,c}loadImageSource(e,t){const r=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const s=i.images[e],a=self.URL||self.webkitURL;let u=s.uri||"",c=!1;if(s.bufferView!==void 0)u=r.getDependency("bufferView",s.bufferView).then(function(f){c=!0;const h=new Blob([f],{type:s.mimeType});return u=a.createObjectURL(h),u});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const l=Promise.resolve(u).then(function(f){return new Promise(function(h,m){let g=h;t.isImageBitmapLoader===!0&&(g=function(p){const y=new Mi(p);y.needsUpdate=!0,h(y)}),t.load(Mp.resolveURL(f,o.path),g,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(u),Xd(f,s),f.userData.mimeType=s.mimeType||rQ(s.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),f});return this.sourceCache[e]=l,l}assignTexture(e,t,r,i){const o=this;return this.getDependency("texture",r.index).then(function(s){if(!s)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(s=s.clone(),s.channel=r.texCoord),o.extensions[mr.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[mr.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const u=o.associations.get(s);s=o.extensions[mr.KHR_TEXTURE_TRANSFORM].extendTexture(s,a),o.associations.set(s,u)}}return i!==void 0&&(typeof i=="number"&&(i=i===nI?F0:ah),"colorSpace"in s?s.colorSpace=i:s.encoding=i===F0?nI:CY),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let u=this.cache.get(a);u||(u=new ix,jo.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,u.sizeAttenuation=!1,this.cache.add(a,u)),r=u}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let u=this.cache.get(a);u||(u=new pa,jo.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,this.cache.add(a,u)),r=u}if(i||o||s){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),o&&(a+="vertex-colors:"),s&&(a+="flat-shading:");let u=this.cache.get(a);u||(u=r.clone(),o&&(u.vertexColors=!0),s&&(u.flatShading=!0),i&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(a,u),this.associations.set(u,this.associations.get(r))),r=u}e.material=r}getMaterialType(){return eb}loadMaterial(e){const t=this,r=this.json,i=this.extensions,o=r.materials[e];let s;const a={},u=o.extensions||{},c=[];if(u[mr.KHR_MATERIALS_UNLIT]){const f=i[mr.KHR_MATERIALS_UNLIT];s=f.getMaterialType(),c.push(f.extendParams(a,o,t))}else{const f=o.pbrMetallicRoughness||{};if(a.color=new zt(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.setRGB(h[0],h[1],h[2],ah),a.opacity=h[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,F0)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),s=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}o.doubleSided===!0&&(a.side=Gs);const l=o.alphaMode||I2.OPAQUE;if(l===I2.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,l===I2.MASK&&(a.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&s!==al&&(c.push(t.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new _t(1,1),o.normalTexture.scale!==void 0)){const f=o.normalTexture.scale;a.normalScale.set(f,f)}if(o.occlusionTexture!==void 0&&s!==al&&(c.push(t.assignTexture(a,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&s!==al){const f=o.emissiveFactor;a.emissive=new zt().setRGB(f[0],f[1],f[2],ah)}return o.emissiveTexture!==void 0&&s!==al&&c.push(t.assignTexture(a,"emissiveMap",o.emissiveTexture,F0)),Promise.all(c).then(function(){const f=new s(a);return o.name&&(f.name=o.name),Xd(f,o),t.associations.set(f,{materials:e}),o.extensions&&Om(i,f,o),f})}createUniqueName(e){const t=wr.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function o(a){return r[mr.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(u){return sI(u,a,t)})}const s=[];for(let a=0,u=e.length;a<u;a++){const c=e[a],l=nQ(c),f=i[l];if(f)s.push(f.promise);else{let h;c.extensions&&c.extensions[mr.KHR_DRACO_MESH_COMPRESSION]?h=o(c):h=sI(new Xn,c,t),i[l]={primitive:c,promise:h},s.push(h)}}return Promise.all(s)}loadMesh(e){const t=this,r=this.json,i=this.extensions,o=r.meshes[e],s=o.primitives,a=[];for(let u=0,c=s.length;u<c;u++){const l=s[u].material===void 0?ZY(this.cache):this.getDependency("material",s[u].material);a.push(l)}return a.push(t.loadGeometries(s)),Promise.all(a).then(function(u){const c=u.slice(0,u.length-1),l=u[u.length-1],f=[];for(let m=0,g=l.length;m<g;m++){const p=l[m],y=s[m];let b;const x=c[m];if(y.mode===Wl.TRIANGLES||y.mode===Wl.TRIANGLE_STRIP||y.mode===Wl.TRIANGLE_FAN||y.mode===void 0)b=o.isSkinnedMesh===!0?new YT(p,x):new Mo(p,x),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),y.mode===Wl.TRIANGLE_STRIP?b.geometry=tI(b.geometry,VT):y.mode===Wl.TRIANGLE_FAN&&(b.geometry=tI(b.geometry,aS));else if(y.mode===Wl.LINES)b=new Xc(p,x);else if(y.mode===Wl.LINE_STRIP)b=new fh(p,x);else if(y.mode===Wl.LINE_LOOP)b=new ZT(p,x);else if(y.mode===Wl.POINTS)b=new eP(p,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(b.geometry.morphAttributes).length>0&&tQ(b,o),b.name=t.createUniqueName(o.name||"mesh_"+e),Xd(b,o),y.extensions&&Om(i,b,y),t.assignFinalMaterial(b),f.push(b)}for(let m=0,g=f.length;m<g;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return o.extensions&&Om(i,f[0],o),f[0];const h=new Zd;o.extensions&&Om(i,h,o),t.associations.set(h,{meshes:e});for(let m=0,g=f.length;m<g;m++)h.add(f[m]);return h})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new wo($T.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new kp(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Xd(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,o=t.joints.length;i<o;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const o=i.pop(),s=i,a=[],u=[];for(let c=0,l=s.length;c<l;c++){const f=s[c];if(f){a.push(f);const h=new dn;o!==null&&h.fromArray(o.array,c*16),u.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Ky(a,u)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],o=i.name?i.name:"animation_"+e,s=[],a=[],u=[],c=[],l=[];for(let f=0,h=i.channels.length;f<h;f++){const m=i.channels[f],g=i.samplers[m.sampler],p=m.target,y=p.node,b=i.parameters!==void 0?i.parameters[g.input]:g.input,x=i.parameters!==void 0?i.parameters[g.output]:g.output;p.node!==void 0&&(s.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",b)),u.push(this.getDependency("accessor",x)),c.push(g),l.push(p))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(u),Promise.all(c),Promise.all(l)]).then(function(f){const h=f[0],m=f[1],g=f[2],p=f[3],y=f[4],b=[];for(let x=0,C=h.length;x<C;x++){const M=h[x],R=m[x],O=g[x],N=p[x],F=y[x];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const I=r._createAnimationTracks(M,R,O,N,F);if(I)for(let B=0;B<I.length;B++)b.push(I[B])}return new Zv(o,void 0,b)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(o){const s=r._getNodeRef(r.meshCache,i.mesh,o);return i.weights!==void 0&&s.traverse(function(a){if(a.isMesh)for(let u=0,c=i.weights.length;u<c;u++)a.morphTargetInfluences[u]=i.weights[u]}),s})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],o=r._loadNodeShallow(e),s=[],a=i.children||[];for(let c=0,l=a.length;c<l;c++)s.push(r.getDependency("node",a[c]));const u=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([o,Promise.all(s),u]).then(function(c){const l=c[0],f=c[1],h=c[2];h!==null&&l.traverse(function(m){m.isSkinnedMesh&&m.bind(h,iQ)});for(let m=0,g=f.length;m<g;m++)l.add(f[m]);return l})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],s=o.name?i.createUniqueName(o.name):"",a=[],u=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return u&&a.push(u),o.camera!==void 0&&a.push(i.getDependency("camera",o.camera).then(function(c){return i._getNodeRef(i.cameraCache,o.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let l;if(o.isBone===!0?l=new rx:c.length>1?l=new Zd:c.length===1?l=c[0]:l=new br,l!==c[0])for(let f=0,h=c.length;f<h;f++)l.add(c[f]);if(o.name&&(l.userData.name=o.name,l.name=s),Xd(l,o),o.extensions&&Om(r,l,o),o.matrix!==void 0){const f=new dn;f.fromArray(o.matrix),l.applyMatrix4(f)}else o.translation!==void 0&&l.position.fromArray(o.translation),o.rotation!==void 0&&l.quaternion.fromArray(o.rotation),o.scale!==void 0&&l.scale.fromArray(o.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,o=new Zd;r.name&&(o.name=i.createUniqueName(r.name)),Xd(o,r),r.extensions&&Om(t,o,r);const s=r.nodes||[],a=[];for(let u=0,c=s.length;u<c;u++)a.push(i.getDependency("node",s[u]));return Promise.all(a).then(function(u){for(let l=0,f=u.length;l<f;l++)o.add(u[l]);const c=l=>{const f=new Map;for(const[h,m]of i.associations)(h instanceof jo||h instanceof Mi)&&f.set(h,m);return l.traverse(h=>{const m=i.associations.get(h);m!=null&&f.set(h,m)}),f};return i.associations=c(o),o})}_createAnimationTracks(e,t,r,i,o){const s=[],a=e.name?e.name:e.uuid,u=[];lp[o.path]===lp.weights?e.traverse(function(h){h.morphTargetInfluences&&u.push(h.name?h.name:h.uuid)}):u.push(a);let c;switch(lp[o.path]){case lp.weights:c=eg;break;case lp.rotation:c=tg;break;case lp.position:case lp.scale:c=ng;break;default:switch(r.itemSize){case 1:c=eg;break;case 2:case 3:default:c=ng;break}break}const l=i.interpolation!==void 0?QY[i.interpolation]:Jv,f=this._getArrayFromAccessor(r);for(let h=0,m=u.length;h<m;h++){const g=new c(u[h]+"."+lp[o.path],t.array,f,l);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),s.push(g)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=WM(t.constructor),i=new Float32Array(t.length);for(let o=0,s=t.length;o<s;o++)i[o]=t[o]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof tg?YY:xU;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function sQ(n,e,t){const r=e.attributes,i=new pi;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],u=a.min,c=a.max;if(u!==void 0&&c!==void 0){if(i.set(new oe(u[0],u[1],u[2]),new oe(c[0],c[1],c[2])),a.normalized){const l=WM(Wv[a.componentType]);i.min.multiplyScalar(l),i.max.multiplyScalar(l)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const a=new oe,u=new oe;for(let c=0,l=o.length;c<l;c++){const f=o[c];if(f.POSITION!==void 0){const h=t.json.accessors[f.POSITION],m=h.min,g=h.max;if(m!==void 0&&g!==void 0){if(u.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),u.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),u.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),h.normalized){const p=WM(Wv[h.componentType]);u.multiplyScalar(p)}a.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const s=new bs;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=s}function sI(n,e,t){const r=e.attributes,i=[];function o(s,a){return t.getDependency("accessor",s).then(function(u){n.setAttribute(a,u)})}for(const s in r){const a=jM[s]||s.toLowerCase();a in n.attributes||i.push(o(r[s],a))}if(e.indices!==void 0&&!n.index){const s=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(s)}return Xd(n,e),sQ(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?eQ(n,e.targets,t):n})}const F2=new WeakMap;class aQ extends ma{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const o=new hl(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,s=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const c=t.attributeTypes[u];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=c.name)}const r=JSON.stringify(t);if(F2.has(e)){const u=F2.get(e);if(u.key===r)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(o,s).then(u=>(i=u,new Promise((c,l)=>{i._callbacks[o]={resolve:c,reject:l},i.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return a.catch(()=>!0).then(()=>{i&&o&&this._releaseTask(i,o)}),F2.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Xn;e.index&&t.setIndex(new Dr(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],o=i.name,s=i.array,a=i.itemSize;t.setAttribute(o,new Dr(s,a))}return t}_loadLibrary(e,t){const r=new hl(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,o)=>{r.load(e,i,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=uQ.toString(),s=["/* draco decoder */",i,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(o){const s=o.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,o){return i._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function uQ(){let n,e;onmessage=function(s){const a=s.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(l){n.onModuleLoaded=function(f){l({draco:f})},DracoDecoderModule(n)});break;case"decode":const u=a.buffer,c=a.taskConfig;e.then(l=>{const f=l.draco,h=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(u),u.byteLength);try{const g=t(f,h,m,c),p=g.attributes.map(y=>y.array.buffer);g.index&&p.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},p)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(m),f.destroy(h)}});break}};function t(s,a,u,c){const l=c.attributeIDs,f=c.attributeTypes;let h,m;const g=a.GetEncodedGeometryType(u);if(g===s.TRIANGULAR_MESH)h=new s.Mesh,m=a.DecodeBufferToMesh(u,h);else if(g===s.POINT_CLOUD)h=new s.PointCloud,m=a.DecodeBufferToPointCloud(u,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const p={index:null,attributes:[]};for(const y in l){const b=self[f[y]];let x,C;if(c.useUniqueIDs)C=l[y],x=a.GetAttributeByUniqueId(h,C);else{if(C=a.GetAttributeId(h,s[l[y]]),C===-1)continue;x=a.GetAttribute(h,C)}p.attributes.push(i(s,a,h,y,b,x))}return g===s.TRIANGULAR_MESH&&(p.index=r(s,a,h)),s.destroy(h),p}function r(s,a,u){const l=u.num_faces()*3,f=l*4,h=s._malloc(f);a.GetTrianglesUInt32Array(u,f,h);const m=new Uint32Array(s.HEAPF32.buffer,h,l).slice();return s._free(h),{array:m,itemSize:1}}function i(s,a,u,c,l,f){const h=f.num_components(),g=u.num_points()*h,p=g*l.BYTES_PER_ELEMENT,y=o(s,l),b=s._malloc(p);a.GetAttributeDataArrayForAllPoints(u,f,y,p,b);const x=new l(s.HEAPF32.buffer,b,g).slice();return s._free(b),{name:c,array:x,itemSize:h}}function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let DA;const L2=()=>{if(DA)return DA;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let o;const s=WebAssembly.instantiate(a(i),{}).then(f=>{o=f.instance,o.exports.__wasm_call_ctors()});function a(f){const h=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const p=f.charCodeAt(g);h[g]=p>96?p-71:p>64?p-65:p>47?p+4:p>46?63:62}let m=0;for(let g=0;g<f.length;++g)h[m++]=h[g]<60?r[h[g]]:(h[g]-60)*64+h[++g];return h.buffer.slice(0,m)}function u(f,h,m,g,p,y){const b=o.exports.sbrk,x=m+3&-4,C=b(x*g),M=b(p.length),R=new Uint8Array(o.exports.memory.buffer);R.set(p,M);const O=f(C,m,g,M,p.length);if(O===0&&y&&y(C,x,g),h.set(R.subarray(C,C+m*g)),b(C-b(0)),O!==0)throw new Error(`Malformed buffer data: ${O}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},l={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return DA={ready:s,supported:!0,decodeVertexBuffer(f,h,m,g,p){u(o.exports.meshopt_decodeVertexBuffer,f,h,m,g,o.exports[c[p]])},decodeIndexBuffer(f,h,m,g){u(o.exports.meshopt_decodeIndexBuffer,f,h,m,g)},decodeIndexSequence(f,h,m,g){u(o.exports.meshopt_decodeIndexSequence,f,h,m,g)},decodeGltfBuffer(f,h,m,g,p,y){u(o.exports[l[p]],f,h,m,g,o.exports[c[y]])}},DA};let RA=null,wU="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function CU(n=!0,e=!0,t){return r=>{t&&t(r),n&&(RA||(RA=new aQ),RA.setDecoderPath(typeof n=="string"?n:wU),r.setDRACOLoader(RA)),e&&r.setMeshoptDecoder(typeof L2=="function"?L2():L2)}}const or=(n,e,t,r)=>Tp(PP,n,CU(e,t,r));or.preload=(n,e,t,r)=>Tp.preload(PP,n,CU(e,t,r));or.clear=n=>Tp.clear(PP,n);or.setDecoderPath=n=>{wU=n};/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const ji={LEFT:1,RIGHT:2,MIDDLE:4},pt=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),dv={NONE:0,IN:1,OUT:-1};function Im(n){return n.isPerspectiveCamera}function vp(n){return n.isOrthographicCamera}const hv=Math.PI*2,aI=Math.PI/2,MU=1e-5,h_=Math.PI/180;function Uc(n,e,t){return Math.max(e,Math.min(t,n))}function _i(n,e=MU){return Math.abs(n)<e}function Yr(n,e,t=MU){return _i(n-e,t)}function uI(n,e){return Math.round(n/e)*e}function p_(n){return isFinite(n)?n:n<0?-Number.MAX_VALUE:Number.MAX_VALUE}function m_(n){return Math.abs(n)<Number.MAX_VALUE?n:n*(1/0)}function OA(n,e,t,r,i=1/0,o){r=Math.max(1e-4,r);const s=2/r,a=s*o,u=1/(1+a+.48*a*a+.235*a*a*a);let c=n-e;const l=e,f=i*r;c=Uc(c,-f,f),e=n-c;const h=(t.value+s*c)*o;t.value=(t.value-s*h)*u;let m=e+(c+h)*u;return l-n>0==m>l&&(m=l,t.value=(m-l)/o),m}function lI(n,e,t,r,i=1/0,o,s){r=Math.max(1e-4,r);const a=2/r,u=a*o,c=1/(1+u+.48*u*u+.235*u*u*u);let l=e.x,f=e.y,h=e.z,m=n.x-l,g=n.y-f,p=n.z-h;const y=l,b=f,x=h,C=i*r,M=C*C,R=m*m+g*g+p*p;if(R>M){const le=Math.sqrt(R);m=m/le*C,g=g/le*C,p=p/le*C}l=n.x-m,f=n.y-g,h=n.z-p;const O=(t.x+a*m)*o,N=(t.y+a*g)*o,F=(t.z+a*p)*o;t.x=(t.x-a*O)*c,t.y=(t.y-a*N)*c,t.z=(t.z-a*F)*c,s.x=l+(m+O)*c,s.y=f+(g+N)*c,s.z=h+(p+F)*c;const I=y-n.x,B=b-n.y,k=x-n.z,q=s.x-y,Y=s.y-b,ee=s.z-x;return I*q+B*Y+k*ee>0&&(s.x=y,s.y=b,s.z=x,t.x=(s.x-y)/o,t.y=(s.y-b)/o,t.z=(s.z-x)/o),s}function N2(n,e){e.set(0,0),n.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=n.length,e.y/=n.length}function U2(n,e){return vp(n)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class lQ{constructor(){this._listeners={}}addEventListener(e,t){const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e)}}}var k2;const cQ="2.9.0",IA=1/8,fQ=/Mac/.test((k2=globalThis==null?void 0:globalThis.navigator)===null||k2===void 0?void 0:k2.platform);let Fn,cI,BA,z2,vu,rr,Br,pv,g_,Df,Rf,Bm,fI,dI,Hl,v_,mv,hI,H2,pI,G2,V2,FA,j2=class $M extends lQ{static install(e){Fn=e.THREE,cI=Object.freeze(new Fn.Vector3(0,0,0)),BA=Object.freeze(new Fn.Vector3(0,1,0)),z2=Object.freeze(new Fn.Vector3(0,0,1)),vu=new Fn.Vector2,rr=new Fn.Vector3,Br=new Fn.Vector3,pv=new Fn.Vector3,g_=new Fn.Vector3,Df=new Fn.Vector3,Rf=new Fn.Vector3,Bm=new Fn.Vector3,fI=new Fn.Vector3,dI=new Fn.Vector3,Hl=new Fn.Spherical,v_=new Fn.Spherical,mv=new Fn.Box3,hI=new Fn.Box3,H2=new Fn.Sphere,pI=new Fn.Quaternion,G2=new Fn.Quaternion,V2=new Fn.Matrix4,FA=new Fn.Raycaster}static get ACTION(){return pt}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=pt.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=dv.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new Fn.Vector3,this._focalOffsetVelocity=new Fn.Vector3,this._zoomVelocity={value:0},this._truckInternal=(b,x,C)=>{let M,R;if(Im(this._camera)){const O=rr.copy(this._camera.position).sub(this._target),N=this._camera.getEffectiveFOV()*h_,F=O.length()*Math.tan(N*.5);M=this.truckSpeed*b*F/this._elementRect.height,R=this.truckSpeed*x*F/this._elementRect.height}else if(vp(this._camera)){const O=this._camera;M=b*(O.right-O.left)/O.zoom/this._elementRect.width,R=x*(O.top-O.bottom)/O.zoom/this._elementRect.height}else return;this.verticalDragToForward?(C?this.setFocalOffset(this._focalOffsetEnd.x+M,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(M,0,!0),this.forward(-R,!0)):C?this.setFocalOffset(this._focalOffsetEnd.x+M,this._focalOffsetEnd.y+R,this._focalOffsetEnd.z,!0):this.truck(M,R,!0)},this._rotateInternal=(b,x)=>{const C=hv*this.azimuthRotateSpeed*b/this._elementRect.height,M=hv*this.polarRotateSpeed*x/this._elementRect.height;this.rotate(C,M,!0)},this._dollyInternal=(b,x,C)=>{const M=Math.pow(.95,-b*this.dollySpeed),R=this._sphericalEnd.radius,O=this._sphericalEnd.radius*M,N=Uc(O,this.minDistance,this.maxDistance),F=N-O;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(O,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(F,!0),this._dollyToNoClamp(N,!0)):this._dollyToNoClamp(N,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?O:N)-R,this._dollyControlCoord.set(x,C)),this._lastDollyDirection=Math.sign(-b)},this._zoomInternal=(b,x,C)=>{const M=Math.pow(.95,b*this.dollySpeed),R=this._zoom,O=this._zoom*M;this.zoomTo(O,!0),this.dollyToCursor&&(this._changedZoom+=O-R,this._dollyControlCoord.set(x,C))},typeof Fn>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new Fn.Quaternion().setFromUnitVectors(this._camera.up,BA),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=pt.NONE,this._target=new Fn.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new Fn.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new Fn.Spherical().setFromVector3(rr.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new Fn.Vector3,new Fn.Vector3,new Fn.Vector3,new Fn.Vector3],this._updateNearPlaneCorners(),this._boundary=new Fn.Box3(new Fn.Vector3(-1/0,-1/0,-1/0),new Fn.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new Fn.Vector2,this.mouseButtons={left:pt.ROTATE,middle:pt.DOLLY,right:pt.TRUCK,wheel:Im(this._camera)?pt.DOLLY:vp(this._camera)?pt.ZOOM:pt.NONE},this.touches={one:pt.TOUCH_ROTATE,two:Im(this._camera)?pt.TOUCH_DOLLY_TRUCK:vp(this._camera)?pt.TOUCH_ZOOM_TRUCK:pt.NONE,three:pt.TOUCH_TRUCK};const r=new Fn.Vector2,i=new Fn.Vector2,o=new Fn.Vector2,s=b=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const M=this._domElement.getBoundingClientRect(),R=b.clientX/M.width,O=b.clientY/M.height;if(R<this._interactiveArea.left||R>this._interactiveArea.right||O<this._interactiveArea.top||O>this._interactiveArea.bottom)return}const x=b.pointerType!=="mouse"?null:(b.buttons&ji.LEFT)===ji.LEFT?ji.LEFT:(b.buttons&ji.MIDDLE)===ji.MIDDLE?ji.MIDDLE:(b.buttons&ji.RIGHT)===ji.RIGHT?ji.RIGHT:null;if(x!==null){const M=this._findPointerByMouseButton(x);M&&this._disposePointer(M)}if((b.buttons&ji.LEFT)===ji.LEFT&&this._lockedPointer)return;const C={pointerId:b.pointerId,clientX:b.clientX,clientY:b.clientY,deltaX:0,deltaY:0,mouseButton:x};this._activePointers.push(C),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),this._isDragging=!0,h(b)},a=b=>{b.cancelable&&b.preventDefault();const x=b.pointerId,C=this._lockedPointer||this._findPointerById(x);if(C){if(C.clientX=b.clientX,C.clientY=b.clientY,C.deltaX=b.movementX,C.deltaY=b.movementY,this._state=0,b.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(b.buttons&ji.LEFT)===ji.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(b.buttons&ji.MIDDLE)===ji.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(b.buttons&ji.RIGHT)===ji.RIGHT&&(this._state=this._state|this.mouseButtons.right);m()}},u=b=>{const x=this._findPointerById(b.pointerId);if(!(x&&x===this._lockedPointer)){if(x&&this._disposePointer(x),b.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=pt.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=pt.NONE;g()}};let c=-1;const l=b=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===pt.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const O=this._domElement.getBoundingClientRect(),N=b.clientX/O.width,F=b.clientY/O.height;if(N<this._interactiveArea.left||N>this._interactiveArea.right||F<this._interactiveArea.top||F>this._interactiveArea.bottom)return}if(b.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===pt.ROTATE||this.mouseButtons.wheel===pt.TRUCK){const O=performance.now();c-O<1e3&&this._getClientRect(this._elementRect),c=O}const x=fQ?-1:-3,C=b.deltaMode===1?b.deltaY/x:b.deltaY/(x*10),M=this.dollyToCursor?(b.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,R=this.dollyToCursor?(b.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case pt.ROTATE:{this._rotateInternal(b.deltaX,b.deltaY),this._isUserControllingRotate=!0;break}case pt.TRUCK:{this._truckInternal(b.deltaX,b.deltaY,!1),this._isUserControllingTruck=!0;break}case pt.OFFSET:{this._truckInternal(b.deltaX,b.deltaY,!0),this._isUserControllingOffset=!0;break}case pt.DOLLY:{this._dollyInternal(-C,M,R),this._isUserControllingDolly=!0;break}case pt.ZOOM:{this._zoomInternal(-C,M,R),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},f=b=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===$M.ACTION.NONE){const x=b instanceof PointerEvent?b.pointerId:0,C=this._findPointerById(x);C&&this._disposePointer(C),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u);return}b.preventDefault()}},h=b=>{if(!this._enabled)return;if(N2(this._activePointers,vu),this._getClientRect(this._elementRect),r.copy(vu),i.copy(vu),this._activePointers.length>=2){const C=vu.x-this._activePointers[1].clientX,M=vu.y-this._activePointers[1].clientY,R=Math.sqrt(C*C+M*M);o.set(0,R);const O=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,N=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(O,N)}if(this._state=0,!b)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in b&&b.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(b.buttons&ji.LEFT)===ji.LEFT&&(this._state=this._state|this.mouseButtons.left),(b.buttons&ji.MIDDLE)===ji.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(b.buttons&ji.RIGHT)===ji.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&pt.ROTATE)===pt.ROTATE||(this._state&pt.TOUCH_ROTATE)===pt.TOUCH_ROTATE||(this._state&pt.TOUCH_DOLLY_ROTATE)===pt.TOUCH_DOLLY_ROTATE||(this._state&pt.TOUCH_ZOOM_ROTATE)===pt.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&pt.TRUCK)===pt.TRUCK||(this._state&pt.TOUCH_TRUCK)===pt.TOUCH_TRUCK||(this._state&pt.TOUCH_DOLLY_TRUCK)===pt.TOUCH_DOLLY_TRUCK||(this._state&pt.TOUCH_ZOOM_TRUCK)===pt.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&pt.DOLLY)===pt.DOLLY||(this._state&pt.TOUCH_DOLLY)===pt.TOUCH_DOLLY||(this._state&pt.TOUCH_DOLLY_TRUCK)===pt.TOUCH_DOLLY_TRUCK||(this._state&pt.TOUCH_DOLLY_OFFSET)===pt.TOUCH_DOLLY_OFFSET||(this._state&pt.TOUCH_DOLLY_ROTATE)===pt.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&pt.ZOOM)===pt.ZOOM||(this._state&pt.TOUCH_ZOOM)===pt.TOUCH_ZOOM||(this._state&pt.TOUCH_ZOOM_TRUCK)===pt.TOUCH_ZOOM_TRUCK||(this._state&pt.TOUCH_ZOOM_OFFSET)===pt.TOUCH_ZOOM_OFFSET||(this._state&pt.TOUCH_ZOOM_ROTATE)===pt.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&pt.OFFSET)===pt.OFFSET||(this._state&pt.TOUCH_OFFSET)===pt.TOUCH_OFFSET||(this._state&pt.TOUCH_DOLLY_OFFSET)===pt.TOUCH_DOLLY_OFFSET||(this._state&pt.TOUCH_ZOOM_OFFSET)===pt.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},m=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,N2(this._activePointers,vu);const x=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,C=x?-x.deltaX:i.x-vu.x,M=x?-x.deltaY:i.y-vu.y;if(i.copy(vu),((this._state&pt.ROTATE)===pt.ROTATE||(this._state&pt.TOUCH_ROTATE)===pt.TOUCH_ROTATE||(this._state&pt.TOUCH_DOLLY_ROTATE)===pt.TOUCH_DOLLY_ROTATE||(this._state&pt.TOUCH_ZOOM_ROTATE)===pt.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(C,M),this._isUserControllingRotate=!0),(this._state&pt.DOLLY)===pt.DOLLY||(this._state&pt.ZOOM)===pt.ZOOM){const R=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,O=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0,N=this.dollyDragInverted?-1:1;(this._state&pt.DOLLY)===pt.DOLLY?(this._dollyInternal(N*M*IA,R,O),this._isUserControllingDolly=!0):(this._zoomInternal(N*M*IA,R,O),this._isUserControllingZoom=!0)}if((this._state&pt.TOUCH_DOLLY)===pt.TOUCH_DOLLY||(this._state&pt.TOUCH_ZOOM)===pt.TOUCH_ZOOM||(this._state&pt.TOUCH_DOLLY_TRUCK)===pt.TOUCH_DOLLY_TRUCK||(this._state&pt.TOUCH_ZOOM_TRUCK)===pt.TOUCH_ZOOM_TRUCK||(this._state&pt.TOUCH_DOLLY_OFFSET)===pt.TOUCH_DOLLY_OFFSET||(this._state&pt.TOUCH_ZOOM_OFFSET)===pt.TOUCH_ZOOM_OFFSET||(this._state&pt.TOUCH_DOLLY_ROTATE)===pt.TOUCH_DOLLY_ROTATE||(this._state&pt.TOUCH_ZOOM_ROTATE)===pt.TOUCH_ZOOM_ROTATE){const R=vu.x-this._activePointers[1].clientX,O=vu.y-this._activePointers[1].clientY,N=Math.sqrt(R*R+O*O),F=o.y-N;o.set(0,N);const I=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,B=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&pt.TOUCH_DOLLY)===pt.TOUCH_DOLLY||(this._state&pt.TOUCH_DOLLY_ROTATE)===pt.TOUCH_DOLLY_ROTATE||(this._state&pt.TOUCH_DOLLY_TRUCK)===pt.TOUCH_DOLLY_TRUCK||(this._state&pt.TOUCH_DOLLY_OFFSET)===pt.TOUCH_DOLLY_OFFSET?(this._dollyInternal(F*IA,I,B),this._isUserControllingDolly=!0):(this._zoomInternal(F*IA,I,B),this._isUserControllingZoom=!0)}((this._state&pt.TRUCK)===pt.TRUCK||(this._state&pt.TOUCH_TRUCK)===pt.TOUCH_TRUCK||(this._state&pt.TOUCH_DOLLY_TRUCK)===pt.TOUCH_DOLLY_TRUCK||(this._state&pt.TOUCH_ZOOM_TRUCK)===pt.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(C,M,!1),this._isUserControllingTruck=!0),((this._state&pt.OFFSET)===pt.OFFSET||(this._state&pt.TOUCH_OFFSET)===pt.TOUCH_OFFSET||(this._state&pt.TOUCH_DOLLY_OFFSET)===pt.TOUCH_DOLLY_OFFSET||(this._state&pt.TOUCH_ZOOM_OFFSET)===pt.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(C,M,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},g=()=>{N2(this._activePointers,vu),i.copy(vu),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",p),this._domElement.ownerDocument.addEventListener("pointerlockerror",y),this._domElement.ownerDocument.addEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),h())},this.unlockPointer=()=>{var b,x,C;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(b=this._domElement)===null||b===void 0||b.ownerDocument.exitPointerLock(),(x=this._domElement)===null||x===void 0||x.ownerDocument.removeEventListener("pointerlockchange",p),(C=this._domElement)===null||C===void 0||C.ownerDocument.removeEventListener("pointerlockerror",y),this.cancel()};const p=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},y=()=>{this.unlockPointer()};this._addAllEventListeners=b=>{this._domElement=b,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",s),this._domElement.addEventListener("pointercancel",u),this._domElement.addEventListener("wheel",l,{passive:!1}),this._domElement.addEventListener("contextmenu",f)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",s),this._domElement.removeEventListener("pointercancel",u),this._domElement.removeEventListener("wheel",l,{passive:!1}),this._domElement.removeEventListener("contextmenu",f),this._domElement.ownerDocument.removeEventListener("pointermove",a,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("pointerlockchange",p),this._domElement.ownerDocument.removeEventListener("pointerlockerror",y))},this.cancel=()=>{this._state!==pt.NONE&&(this._state=pt.NONE,this._activePointers.length=0,g())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=Uc(e.width,0,1),this._interactiveArea.height=Uc(e.height,0,1),this._interactiveArea.x=Uc(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=Uc(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,r=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,r)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,r=!1){this._isUserControllingRotate=!1;const i=Uc(e,this.minAzimuthAngle,this.maxAzimuthAngle),o=Uc(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=o,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const s=!r||Yr(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Yr(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(s)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=dv.NONE,this._changedDolly=0,this._dollyToNoClamp(Uc(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const r=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const s=this._collisionTest(),a=Yr(s,this._spherical.radius);if(!(r>e)&&a)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,s)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const o=!t||Yr(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(o)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(g_).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const r=!t||Yr(this._target.x,this._targetEnd.x,this.restThreshold)&&Yr(this._target.y,this._targetEnd.y,this.restThreshold)&&Yr(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=Uc(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const r=!t||Yr(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(e,t,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,r)}truck(e,t,r=!1){this._camera.updateMatrix(),Df.setFromMatrixColumn(this._camera.matrix,0),Rf.setFromMatrixColumn(this._camera.matrix,1),Df.multiplyScalar(e),Rf.multiplyScalar(-t);const i=rr.copy(Df).add(Rf),o=Br.copy(this._targetEnd).add(i);return this.moveTo(o.x,o.y,o.z,r)}forward(e,t=!1){rr.setFromMatrixColumn(this._camera.matrix,0),rr.crossVectors(this._camera.up,rr),rr.multiplyScalar(e);const r=Br.copy(this._targetEnd).add(rr);return this.moveTo(r.x,r.y,r.z,t)}elevate(e,t=!1){return rr.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+rr.x,this._targetEnd.y+rr.y,this._targetEnd.z+rr.z,t)}moveTo(e,t,r,i=!1){this._isUserControllingTruck=!1;const o=rr.set(e,t,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,o,this.boundaryFriction),this._needsUpdate=!0,i||this._target.copy(this._targetEnd);const s=!i||Yr(this._target.x,this._targetEnd.x,this.restThreshold)&&Yr(this._target.y,this._targetEnd.y,this.restThreshold)&&Yr(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}lookInDirectionOf(e,t,r,i=!1){const a=rr.set(e,t,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(a.x,a.y,a.z,i)}fitToBox(e,t,{cover:r=!1,paddingLeft:i=0,paddingRight:o=0,paddingBottom:s=0,paddingTop:a=0}={}){const u=[],c=e.isBox3?mv.copy(e):mv.setFromObject(e);c.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const l=uI(this._sphericalEnd.theta,aI),f=uI(this._sphericalEnd.phi,aI);u.push(this.rotateTo(l,f,t));const h=rr.setFromSpherical(this._sphericalEnd).normalize(),m=pI.setFromUnitVectors(h,z2),g=Yr(Math.abs(h.y),1);g&&m.multiply(G2.setFromAxisAngle(BA,l)),m.multiply(this._yAxisUpSpaceInverse);const p=hI.makeEmpty();Br.copy(c.min).applyQuaternion(m),p.expandByPoint(Br),Br.copy(c.min).setX(c.max.x).applyQuaternion(m),p.expandByPoint(Br),Br.copy(c.min).setY(c.max.y).applyQuaternion(m),p.expandByPoint(Br),Br.copy(c.max).setZ(c.min.z).applyQuaternion(m),p.expandByPoint(Br),Br.copy(c.min).setZ(c.max.z).applyQuaternion(m),p.expandByPoint(Br),Br.copy(c.max).setY(c.min.y).applyQuaternion(m),p.expandByPoint(Br),Br.copy(c.max).setX(c.min.x).applyQuaternion(m),p.expandByPoint(Br),Br.copy(c.max).applyQuaternion(m),p.expandByPoint(Br),p.min.x-=i,p.min.y-=s,p.max.x+=o,p.max.y+=a,m.setFromUnitVectors(z2,h),g&&m.premultiply(G2.invert()),m.premultiply(this._yAxisUpSpace);const y=p.getSize(rr),b=p.getCenter(Br).applyQuaternion(m);if(Im(this._camera)){const x=this.getDistanceToFitBox(y.x,y.y,y.z,r);u.push(this.moveTo(b.x,b.y,b.z,t)),u.push(this.dollyTo(x,t)),u.push(this.setFocalOffset(0,0,0,t))}else if(vp(this._camera)){const x=this._camera,C=x.right-x.left,M=x.top-x.bottom,R=r?Math.max(C/y.x,M/y.y):Math.min(C/y.x,M/y.y);u.push(this.moveTo(b.x,b.y,b.z,t)),u.push(this.zoomTo(R,t)),u.push(this.setFocalOffset(0,0,0,t))}return Promise.all(u)}fitToSphere(e,t){const r=[],o="isObject3D"in e?$M.createBoundingSphere(e,H2):H2.copy(e);if(r.push(this.moveTo(o.center.x,o.center.y,o.center.z,t)),Im(this._camera)){const s=this.getDistanceToFitSphere(o.radius);r.push(this.dollyTo(s,t))}else if(vp(this._camera)){const s=this._camera.right-this._camera.left,a=this._camera.top-this._camera.bottom,u=2*o.radius,c=Math.min(s/u,a/u);r.push(this.zoomTo(c,t))}return r.push(this.setFocalOffset(0,0,0,t)),Promise.all(r)}setLookAt(e,t,r,i,o,s,a=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=dv.NONE,this._changedDolly=0;const u=Br.set(i,o,s),c=rr.set(e,t,r);this._targetEnd.copy(u),this._sphericalEnd.setFromVector3(c.sub(u).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const l=!a||Yr(this._target.x,this._targetEnd.x,this.restThreshold)&&Yr(this._target.y,this._targetEnd.y,this.restThreshold)&&Yr(this._target.z,this._targetEnd.z,this.restThreshold)&&Yr(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Yr(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Yr(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(l)}lerpLookAt(e,t,r,i,o,s,a,u,c,l,f,h,m,g=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=dv.NONE,this._changedDolly=0;const p=rr.set(i,o,s),y=Br.set(e,t,r);Hl.setFromVector3(y.sub(p).applyQuaternion(this._yAxisUpSpace));const b=pv.set(l,f,h),x=Br.set(a,u,c);v_.setFromVector3(x.sub(b).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(p.lerp(b,m));const C=v_.theta-Hl.theta,M=v_.phi-Hl.phi,R=v_.radius-Hl.radius;this._sphericalEnd.set(Hl.radius+R*m,Hl.phi+M*m,Hl.theta+C*m),this.normalizeRotations(),this._needsUpdate=!0,g||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const O=!g||Yr(this._target.x,this._targetEnd.x,this.restThreshold)&&Yr(this._target.y,this._targetEnd.y,this.restThreshold)&&Yr(this._target.z,this._targetEnd.z,this.restThreshold)&&Yr(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Yr(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Yr(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(O)}setPosition(e,t,r,i=!1){return this.setLookAt(e,t,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)}setTarget(e,t,r,i=!1){const o=this.getPosition(rr),s=this.setLookAt(o.x,o.y,o.z,e,t,r,i);return this._sphericalEnd.phi=Uc(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),s}setFocalOffset(e,t,r,i=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,r),this._needsUpdate=!0,i||this._focalOffset.copy(this._focalOffsetEnd);const o=!i||Yr(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Yr(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Yr(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}setOrbitPoint(e,t,r){this._camera.updateMatrixWorld(),Df.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Rf.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Bm.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const i=rr.set(e,t,r),o=i.distanceTo(this._camera.position),s=i.sub(this._camera.position);Df.multiplyScalar(s.x),Rf.multiplyScalar(s.y),Bm.multiplyScalar(s.z),rr.copy(Df).add(Rf).add(Bm),rr.z=rr.z+o,this.dollyTo(o,!1),this.setFocalOffset(-rr.x,rr.y,-rr.z,!1),this.moveTo(e,t,r,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,r,i){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new Fn.Vector4,typeof e=="number"?this._viewport.set(e,t,r,i):this._viewport.copy(e)}getDistanceToFitBox(e,t,r,i=!1){if(U2(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const o=e/t,s=this._camera.getEffectiveFOV()*h_,a=this._camera.aspect;return((i?o>a:o<a)?t:e/a)*.5/Math.tan(s*.5)+r*.5}getDistanceToFitSphere(e){if(U2(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*h_,r=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,i=1<this._camera.aspect?t:r;return e/Math.sin(i*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new Fn.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new Fn.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e||new Fn.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new Fn.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%hv,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=hv),this._spherical.theta+=hv*Math.round((this._sphericalEnd.theta-this._spherical.theta)/hv)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!Yr(this._camera.up.x,this._cameraUp0.x)||!Yr(this._camera.up.y,this._cameraUp0.y)||!Yr(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const r=this.getPosition(rr);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,BA),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=rr.subVectors(this._target,this._camera.position).normalize(),t=Br.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const r=this.getPosition(rr);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,i=this._sphericalEnd.radius-this._spherical.radius,o=fI.subVectors(this._targetEnd,this._target),s=dI.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(_i(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=OA(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,f,1/0,e),this._needsUpdate=!0}if(_i(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=OA(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,f,1/0,e),this._needsUpdate=!0}if(_i(i))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const f=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=OA(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,f,this.maxSpeed,e),this._needsUpdate=!0}if(_i(o.x)&&_i(o.y)&&_i(o.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const f=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;lI(this._target,this._targetEnd,this._targetVelocity,f,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(_i(s.x)&&_i(s.y)&&_i(s.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const f=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;lI(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,f,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(_i(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const f=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=OA(this._zoom,this._zoomEnd,this._zoomVelocity,f,1/0,e)}if(this.dollyToCursor){if(Im(this._camera)&&this._changedDolly!==0){const f=this._spherical.radius-this._lastDistance,h=this._camera,m=this._getCameraDirection(g_),g=rr.copy(m).cross(h.up).normalize();g.lengthSq()===0&&(g.x=1);const p=Br.crossVectors(g,m),y=this._sphericalEnd.radius*Math.tan(h.getEffectiveFOV()*h_*.5),x=(this._sphericalEnd.radius-f-this._sphericalEnd.radius)/this._sphericalEnd.radius,C=pv.copy(this._targetEnd).add(g.multiplyScalar(this._dollyControlCoord.x*y*h.aspect)).add(p.multiplyScalar(this._dollyControlCoord.y*y)),M=rr.copy(this._targetEnd).lerp(C,x),R=this._lastDollyDirection===dv.IN&&this._spherical.radius<=this.minDistance,O=this._lastDollyDirection===dv.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(R||O)){this._sphericalEnd.radius-=f,this._spherical.radius-=f;const F=Br.copy(m).multiplyScalar(-f);M.add(F)}this._boundary.clampPoint(M,M);const N=Br.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(N),this._changedDolly-=f,_i(this._changedDolly)&&(this._changedDolly=0)}else if(vp(this._camera)&&this._changedZoom!==0){const f=this._zoom-this._lastZoom,h=this._camera,m=rr.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(h.near+h.far)/(h.near-h.far)).unproject(h),g=Br.set(0,0,-1).applyQuaternion(h.quaternion),p=pv.copy(m).add(g.multiplyScalar(-m.dot(h.up))),b=-(this._zoom-f-this._zoom)/this._zoom,x=this._getCameraDirection(g_),C=this._targetEnd.dot(x),M=rr.copy(this._targetEnd).lerp(p,b),R=M.dot(x),O=x.multiplyScalar(R-C);M.sub(O),this._boundary.clampPoint(M,M);const N=Br.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(N),this._changedZoom-=f,_i(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const u=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,u),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!_i(this._focalOffset.x)||!_i(this._focalOffset.y)||!_i(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),Df.setFromMatrixColumn(this._camera.matrix,0),Rf.setFromMatrixColumn(this._camera.matrix,1),Bm.setFromMatrixColumn(this._camera.matrix,2),Df.multiplyScalar(this._focalOffset.x),Rf.multiplyScalar(-this._focalOffset.y),Bm.multiplyScalar(this._focalOffset.z),rr.copy(Df).add(Rf).add(Bm),this._camera.position.add(rr)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),rr.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const l=this._needsUpdate;return l&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):l?(this.dispatchEvent({type:"update"}),_i(t,this.restThreshold)&&_i(r,this.restThreshold)&&_i(i,this.restThreshold)&&_i(o.x,this.restThreshold)&&_i(o.y,this.restThreshold)&&_i(o.z,this.restThreshold)&&_i(s.x,this.restThreshold)&&_i(s.y,this.restThreshold)&&_i(s.z,this.restThreshold)&&_i(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!l&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=l,this._needsUpdate=!1,l}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:p_(this.maxDistance),minZoom:this.minZoom,maxZoom:p_(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:p_(this.maxPolarAngle),minAzimuthAngle:p_(this.minAzimuthAngle),maxAzimuthAngle:p_(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:rr.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const r=JSON.parse(e);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=m_(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=m_(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=m_(r.maxPolarAngle),this.minAzimuthAngle=m_(r.minAzimuthAngle),this.maxAzimuthAngle=m_(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this.verticalDragToForward=r.verticalDragToForward,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],t),Hl.setFromVector3(rr.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Hl.theta,Hl.phi,t),this.dollyTo(Hl.radius,t),this.zoomTo(r.zoom,t),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",cQ),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,r){const i=t.lengthSq();if(i===0)return e;const o=Br.copy(t).add(e),a=this._boundary.clampPoint(o,pv).sub(o),u=a.lengthSq();if(u===0)return e.add(t);if(u===i)return e;if(r===0)return e.add(t).add(a);{const c=1+r*u/t.dot(a);return e.add(Br.copy(t).multiplyScalar(c)).add(a.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(Im(this._camera)){const e=this._camera,t=e.near,r=e.getEffectiveFOV()*h_,i=Math.tan(r*.5)*t,o=i*e.aspect;this._nearPlaneCorners[0].set(-o,-i,0),this._nearPlaneCorners[1].set(o,-i,0),this._nearPlaneCorners[2].set(o,i,0),this._nearPlaneCorners[3].set(-o,i,0)}else if(vp(this._camera)){const e=this._camera,t=1/e.zoom,r=e.left*t,i=e.right*t,o=e.top*t,s=e.bottom*t;this._nearPlaneCorners[0].set(r,o,0),this._nearPlaneCorners[1].set(i,o,0),this._nearPlaneCorners[2].set(i,s,0),this._nearPlaneCorners[3].set(r,s,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||U2(this._camera,"_collisionTest"))return e;const r=this._getTargetDirection(g_);V2.lookAt(cI,r,this._camera.up);for(let i=0;i<4;i++){const o=Br.copy(this._nearPlaneCorners[i]);o.applyMatrix4(V2);const s=pv.addVectors(this._target,o);FA.set(s,r),FA.far=this._spherical.radius+1;const a=FA.intersectObjects(this.colliderMeshes);a.length!==0&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const r=()=>{this.removeEventListener("rest",r),t()};this.addEventListener("rest",r)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new Fn.Sphere){const r=t,i=r.center;mv.makeEmpty(),e.traverseVisible(s=>{s.isMesh&&mv.expandByObject(s)}),mv.getCenter(i);let o=0;return e.traverseVisible(s=>{if(!s.isMesh)return;const a=s,u=a.geometry.clone();u.applyMatrix4(a.matrixWorld);const l=u.attributes.position;for(let f=0,h=l.count;f<h;f++)rr.fromBufferAttribute(l,f),o=Math.max(o,i.distanceToSquared(rr))}),r.radius=Math.sqrt(o),r}};const dQ=W.forwardRef((n,e)=>{W.useMemo(()=>{const R={Box3:pi,MathUtils:{clamp:$T.clamp},Matrix4:dn,Quaternion:$s,Raycaster:SP,Sphere:bs,Spherical:W4,Vector2:_t,Vector3:oe,Vector4:Mr};j2.install({THREE:R}),nU({CameraControlsImpl:j2})},[]);const{camera:t,domElement:r,makeDefault:i,onStart:o,onEnd:s,onChange:a,regress:u,...c}=n,l=zc(R=>R.camera),f=zc(R=>R.gl),h=zc(R=>R.invalidate),m=zc(R=>R.events),g=zc(R=>R.setEvents),p=zc(R=>R.set),y=zc(R=>R.get),b=zc(R=>R.performance),x=t||l,C=r||m.connected||f.domElement,M=W.useMemo(()=>new j2(x),[x]);return pU((R,O)=>{M.enabled&&M.update(O)},-1),W.useEffect(()=>(M.connect(C),()=>void M.disconnect()),[C,M]),W.useEffect(()=>{const R=F=>{h(),u&&b.regress(),a&&a(F)},O=F=>{o&&o(F)},N=F=>{s&&s(F)};return M.addEventListener("update",R),M.addEventListener("controlstart",O),M.addEventListener("controlend",N),M.addEventListener("control",R),M.addEventListener("transitionstart",R),M.addEventListener("wake",R),()=>{M.removeEventListener("update",R),M.removeEventListener("controlstart",O),M.removeEventListener("controlend",N),M.removeEventListener("control",R),M.removeEventListener("transitionstart",R),M.removeEventListener("wake",R)}},[M,o,s,h,g,u,a]),W.useEffect(()=>{if(i){const R=y().controls;return p({controls:M}),()=>p({controls:R})}},[i,M]),W.createElement("primitive",Pr({ref:e,object:M},c))}),Tt=.001,LA=.005,TU="SIGN_PANEL_GROUP_NAME",L0={PANEL:0,CHANNEL:1,POST:2},t1={SMALL:1,MEDIUM:2},ze={GREY:{text:"Grey",value:"#808080"},BLACK:{text:"Black",value:"#000000"},WHITE:{text:"White",value:"#FFFFFF"},MILL:{text:"Mill",value:"#0C347E"},SILVER:{text:"Silver",value:"#C0C0C0"},OAK_EFFECT:{text:"Oak effect",value:"#D8B589"},TEAK_EFFECT:{text:"Teak effect",value:"#8C522A"},STAINLESS:{text:"Stainless",value:"#d2d7dd"}},qM=[{text:"Small",value:t1.SMALL,objectUrl:"/models/Channel/small_sign_channel.glb"},{text:"Medium",value:t1.MEDIUM,objectUrl:"/models/Channel/medium_sign_channel.glb"}],XM=[ze.GREY,ze.BLACK,ze.WHITE],pS={ACM:1,ALUMINIUM:2},th={WHITE_GREY:{text:"White/Grey",value:"White/Grey",colours:[ze.WHITE,ze.GREY]},WHITE_WHITE:{text:"White/White",value:"White/White",colours:[ze.WHITE,ze.WHITE]},BLACK_BLACK:{text:"Black/Black",value:"Black/Black",colours:[ze.BLACK,ze.BLACK]}},PU=[{text:"ACM",value:pS.ACM,colours:[th.WHITE_GREY,th.WHITE_WHITE,th.BLACK_BLACK]},{text:"Alumium",value:pS.ALUMINIUM,colours:[th.WHITE_GREY]}],Wi={STANDARD_RECTANGLE:1,DOME_TOP_SIGN:2,CATHEDRAL_SIGN:3,CIRCLE:4,TRIANGLE:5,OCTAGON:6},bp={TYPE:1,SELECT:2},DU=[{text:"Standard Rectangle",value:Wi.STANDARD_RECTANGLE,type:bp.TYPE,minWidth:150,minHeight:150,maxWidth:4800,maxHeight:4800,eachWidth:2400,eachHeight:1200},{text:"Dome Top Sign",value:Wi.DOME_TOP_SIGN,type:bp.TYPE,minWidth:150,minHeight:150,maxWidth:1200,maxHeight:2400,eachWidth:2400,eachHeight:1200},{text:"Cathedral Sign",value:Wi.CATHEDRAL_SIGN,type:bp.TYPE,minWidth:150,minHeight:150,maxWidth:1200,maxHeight:2400,eachWidth:2400,eachHeight:1200},{text:"Circle",value:Wi.CIRCLE,type:bp.SELECT,minWidth:150,minHeight:150,maxWidth:900,maxHeight:900,eachWidth:900,eachHeight:900},{text:"Triangle",value:Wi.TRIANGLE,type:bp.SELECT,minWidth:150,minHeight:150,maxWidth:900,maxHeight:900,eachWidth:900,eachHeight:900},{text:"Octagon",value:Wi.OCTAGON,type:bp.SELECT,minWidth:150,minHeight:150,maxWidth:900,maxHeight:900,eachWidth:900,eachHeight:900}],RU=[{text:"None",value:0},{text:"8mm",value:8},{text:"12mm",value:12},{text:"16mm",value:16},{text:"25mm",value:25}],OU=[ze.GREY],KM={SELF_ADHESIVE_TAPE:1,FLUSH_RIVET:2},IU=[{text:"Self Adhesive Tape",value:KM.SELF_ADHESIVE_TAPE},{text:"Flush Rivet",value:KM.FLUSH_RIVET}],Se={"1M":{text:"1m",value:1e3},"1.5M":{text:"1.5m",value:1500},"2M":{text:"2m",value:2e3},"2.5M":{text:"2.5m",value:2500},"3M":{text:"3m",value:3e3},"3.5M":{text:"3.5m",value:3500},"4M":{text:"4m",value:4e3},"5M":{text:"5m",value:5e3},"6M":{text:"6m",value:6e3}},Vo={DIA:1,SQUARE:2},BU=[{text:"50mm Dia",value:1,size:50,type:Vo.DIA,colours:[ze.GREY,ze.BLACK,ze.WHITE,ze.SILVER,ze.MILL],lengths:[Se["1M"],Se["1.5M"],Se["2M"],Se["2.5M"],Se["3M"],Se["3.5M"],Se["4M"],Se["5M"],Se["6M"]],capColours:[ze.GREY,ze.BLACK,ze.WHITE],clipColours:[ze.STAINLESS,ze.GREY,ze.BLACK,ze.WHITE]},{text:"76mm Dia",value:2,size:76,type:Vo.DIA,colours:[ze.GREY,ze.BLACK,ze.WHITE,ze.SILVER,ze.MILL],lengths:[Se["1M"],Se["1.5M"],Se["2M"],Se["2.5M"],Se["3M"],Se["3.5M"],Se["4M"],Se["5M"],Se["6M"]],capColours:[ze.GREY,ze.BLACK,ze.WHITE],clipColours:[ze.STAINLESS,ze.GREY,ze.BLACK,ze.WHITE]},{text:"89mm Dia",value:3,size:89,type:Vo.DIA,colours:[ze.GREY],lengths:[Se["3M"],Se["4M"],Se["5M"],Se["6M"]],capColours:[ze.GREY,ze.BLACK,ze.WHITE],clipColours:[ze.STAINLESS,ze.GREY,ze.BLACK,ze.WHITE]},{text:"102mm Dia",value:4,size:102,type:Vo.DIA,colours:[ze.GREY,ze.WHITE],lengths:[Se["3M"],Se["5M"],Se["6M"]],capColours:[ze.GREY,ze.BLACK,ze.WHITE],clipColours:[ze.STAINLESS,ze.GREY,ze.BLACK,ze.WHITE]},{text:"114mm Dia",value:5,size:114,type:Vo.DIA,colours:[ze.GREY,ze.WHITE],lengths:[Se["5M"],Se["6M"]],capColours:[ze.GREY,ze.BLACK,ze.WHITE],clipColours:[ze.STAINLESS,ze.GREY,ze.BLACK,ze.WHITE]},{text:"50x50mm Square",value:6,size:50,type:Vo.SQUARE,colours:[ze.BLACK,ze.WHITE,ze.OAK_EFFECT,ze.TEAK_EFFECT],lengths:[Se["1M"],Se["1.5M"],Se["2M"],Se["2.5M"],Se["3M"],Se["3.5M"],Se["4M"],Se["5M"],Se["6M"]],capColours:[ze.BLACK,ze.WHITE,ze.OAK_EFFECT],clipColours:[ze.STAINLESS]},{text:"76x76mm Square",value:7,size:76,type:Vo.SQUARE,colours:[ze.BLACK,ze.WHITE,ze.OAK_EFFECT,ze.TEAK_EFFECT],lengths:[Se["1M"],Se["1.5M"],Se["2M"],Se["2.5M"],Se["3M"],Se["3.5M"],Se["4M"],Se["5M"],Se["6M"]],capColours:[ze.BLACK,ze.WHITE,ze.OAK_EFFECT],clipColours:[ze.STAINLESS]},{text:"100x100mm Square",value:8,size:100,type:Vo.SQUARE,colours:[ze.BLACK,ze.WHITE,ze.MILL],lengths:[Se["2.5M"],Se["3M"],Se["5M"],Se["6M"]],capColours:[ze.BLACK,ze.WHITE,ze.OAK_EFFECT],clipColours:[ze.STAINLESS]}],mI="DRAFT_ORDER",Nd={CHANNEL:"CHANNEL",INTERLOCKING:"INTERLOCKING",CLIP:"CLIP"},ge="map",N0={PRODUCTS_CONFIGS:{PanelProductId:{value:"123456789"}},POSTS:{[`${ge}-${Vo.DIA}`]:{[`${ge}-50`]:{[`${ge}-${ze.GREY.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127632624"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127665392"},[`${ge}-${Se["2M"].value}`]:{value:"46950127698160"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950127730928"},[`${ge}-${Se["3M"].value}`]:{value:"46950127763696"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950127796464"},[`${ge}-${Se["4M"].value}`]:{value:"46950127829232"},[`${ge}-${Se["5M"].value}`]:{value:"46950127862000"},[`${ge}-${Se["6M"].value}`]:{value:"46950127894768"}},[`${ge}-${ze.BLACK.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127632624"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127665392"},[`${ge}-${Se["2M"].value}`]:{value:"46950127698160"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950127730928"},[`${ge}-${Se["3M"].value}`]:{value:"46950127763696"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950127796464"},[`${ge}-${Se["4M"].value}`]:{value:"46950127829232"},[`${ge}-${Se["5M"].value}`]:{value:"46950127862000"},[`${ge}-${Se["6M"].value}`]:{value:"46950127894768"}},[`${ge}-${ze.WHITE.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127632624"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127665392"},[`${ge}-${Se["2M"].value}`]:{value:"46950127698160"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950127730928"},[`${ge}-${Se["3M"].value}`]:{value:"46950127763696"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950127796464"},[`${ge}-${Se["4M"].value}`]:{value:"46950127829232"},[`${ge}-${Se["5M"].value}`]:{value:"46950127862000"},[`${ge}-${Se["6M"].value}`]:{value:"46950127894768"}},[`${ge}-${ze.SILVER.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127632624"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127665392"},[`${ge}-${Se["2M"].value}`]:{value:"46950127698160"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950127730928"},[`${ge}-${Se["3M"].value}`]:{value:"46950127763696"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950127796464"},[`${ge}-${Se["4M"].value}`]:{value:"46950127829232"},[`${ge}-${Se["5M"].value}`]:{value:"46950127862000"},[`${ge}-${Se["6M"].value}`]:{value:"46950127894768"}},[`${ge}-${ze.MILL.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127632624"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127665392"},[`${ge}-${Se["2M"].value}`]:{value:"46950127698160"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950127730928"},[`${ge}-${Se["3M"].value}`]:{value:"46950127763696"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950127796464"},[`${ge}-${Se["4M"].value}`]:{value:"46950127829232"},[`${ge}-${Se["5M"].value}`]:{value:"46950127862000"},[`${ge}-${Se["6M"].value}`]:{value:"46950127894768"}}},[`${ge}-76`]:{[`${ge}-${ze.GREY.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127927536"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127960304"},[`${ge}-${Se["2M"].value}`]:{value:"46950127993072"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128025840"},[`${ge}-${Se["3M"].value}`]:{value:"46950128058608"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128091376"},[`${ge}-${Se["4M"].value}`]:{value:"46950128124144"},[`${ge}-${Se["5M"].value}`]:{value:"46950128156912"},[`${ge}-${Se["6M"].value}`]:{value:"46950128189680"}},[`${ge}-${ze.BLACK.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127927536"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127960304"},[`${ge}-${Se["2M"].value}`]:{value:"46950127993072"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128025840"},[`${ge}-${Se["3M"].value}`]:{value:"46950128058608"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128091376"},[`${ge}-${Se["4M"].value}`]:{value:"46950128124144"},[`${ge}-${Se["5M"].value}`]:{value:"46950128156912"},[`${ge}-${Se["6M"].value}`]:{value:"46950128189680"}},[`${ge}-${ze.WHITE.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127927536"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127960304"},[`${ge}-${Se["2M"].value}`]:{value:"46950127993072"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128025840"},[`${ge}-${Se["3M"].value}`]:{value:"46950128058608"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128091376"},[`${ge}-${Se["4M"].value}`]:{value:"46950128124144"},[`${ge}-${Se["5M"].value}`]:{value:"46950128156912"},[`${ge}-${Se["6M"].value}`]:{value:"46950128189680"}},[`${ge}-${ze.SILVER.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127927536"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127960304"},[`${ge}-${Se["2M"].value}`]:{value:"46950127993072"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128025840"},[`${ge}-${Se["3M"].value}`]:{value:"46950128058608"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128091376"},[`${ge}-${Se["4M"].value}`]:{value:"46950128124144"},[`${ge}-${Se["5M"].value}`]:{value:"46950128156912"},[`${ge}-${Se["6M"].value}`]:{value:"46950128189680"}},[`${ge}-${ze.MILL.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950127927536"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950127960304"},[`${ge}-${Se["2M"].value}`]:{value:"46950127993072"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128025840"},[`${ge}-${Se["3M"].value}`]:{value:"46950128058608"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128091376"},[`${ge}-${Se["4M"].value}`]:{value:"46950128124144"},[`${ge}-${Se["5M"].value}`]:{value:"46950128156912"},[`${ge}-${Se["6M"].value}`]:{value:"46950128189680"}}},[`${ge}-89`]:{[`${ge}-${ze.GREY.value}`]:{[`${ge}-${Se["3M"].value}`]:{value:"46950128222448"},[`${ge}-${Se["4M"].value}`]:{value:"46950128255216"},[`${ge}-${Se["5M"].value}`]:{value:"46950128287984"},[`${ge}-${Se["6M"].value}`]:{value:"46950128320752"}}},[`${ge}-102`]:{[`${ge}-${ze.GREY.value}`]:{[`${ge}-${Se["3M"].value}`]:{value:"46950128353520"},[`${ge}-${Se["5M"].value}`]:{value:"46950128386288"},[`${ge}-${Se["6M"].value}`]:{value:"46950128419056"}},[`${ge}-${ze.WHITE.value}`]:{[`${ge}-${Se["3M"].value}`]:{value:"46950128353520"},[`${ge}-${Se["5M"].value}`]:{value:"46950128386288"},[`${ge}-${Se["6M"].value}`]:{value:"46950128419056"}}},[`${ge}-114`]:{[`${ge}-${ze.GREY.value}`]:{[`${ge}-${Se["5M"].value}`]:{value:"46950128451824"},[`${ge}-${Se["6M"].value}`]:{value:"46950128484592"}},[`${ge}-${ze.WHITE.value}`]:{[`${ge}-${Se["5M"].value}`]:{value:"46950128451824"},[`${ge}-${Se["6M"].value}`]:{value:"46950128484592"}}}},[`${ge}-${Vo.SQUARE}`]:{[`${ge}-50`]:{[`${ge}-${ze.BLACK.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950128517360"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950128550128"},[`${ge}-${Se["2M"].value}`]:{value:"46950128582896"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128615664"},[`${ge}-${Se["3M"].value}`]:{value:"46950128648432"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128681200"},[`${ge}-${Se["4M"].value}`]:{value:"46950128713968"},[`${ge}-${Se["5M"].value}`]:{value:"46950128746736"},[`${ge}-${Se["6M"].value}`]:{value:"46950128779504"}},[`${ge}-${ze.WHITE.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950128517360"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950128550128"},[`${ge}-${Se["2M"].value}`]:{value:"46950128582896"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128615664"},[`${ge}-${Se["3M"].value}`]:{value:"46950128648432"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128681200"},[`${ge}-${Se["4M"].value}`]:{value:"46950128713968"},[`${ge}-${Se["5M"].value}`]:{value:"46950128746736"},[`${ge}-${Se["6M"].value}`]:{value:"46950128779504"}},[`${ge}-${ze.OAK_EFFECT.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950128517360"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950128550128"},[`${ge}-${Se["2M"].value}`]:{value:"46950128582896"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128615664"},[`${ge}-${Se["3M"].value}`]:{value:"46950128648432"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128681200"},[`${ge}-${Se["4M"].value}`]:{value:"46950128713968"},[`${ge}-${Se["5M"].value}`]:{value:"46950128746736"},[`${ge}-${Se["6M"].value}`]:{value:"46950128779504"}},[`${ge}-${ze.TEAK_EFFECT.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950128517360"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950128550128"},[`${ge}-${Se["2M"].value}`]:{value:"46950128582896"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128615664"},[`${ge}-${Se["3M"].value}`]:{value:"46950128648432"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128681200"},[`${ge}-${Se["4M"].value}`]:{value:"46950128713968"},[`${ge}-${Se["5M"].value}`]:{value:"46950128746736"},[`${ge}-${Se["6M"].value}`]:{value:"46950128779504"}}},[`${ge}-76`]:{[`${ge}-${ze.BLACK.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950128812272"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950128845040"},[`${ge}-${Se["2M"].value}`]:{value:"46950128877808"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128910576"},[`${ge}-${Se["3M"].value}`]:{value:"46950128943344"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128976112"},[`${ge}-${Se["4M"].value}`]:{value:"46950129008880"},[`${ge}-${Se["5M"].value}`]:{value:"46950129041648"},[`${ge}-${Se["6M"].value}`]:{value:"46950129074416"}},[`${ge}-${ze.WHITE.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950128812272"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950128845040"},[`${ge}-${Se["2M"].value}`]:{value:"46950128877808"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128910576"},[`${ge}-${Se["3M"].value}`]:{value:"46950128943344"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128976112"},[`${ge}-${Se["4M"].value}`]:{value:"46950129008880"},[`${ge}-${Se["5M"].value}`]:{value:"46950129041648"},[`${ge}-${Se["6M"].value}`]:{value:"46950129074416"}},[`${ge}-${ze.OAK_EFFECT.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950128812272"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950128845040"},[`${ge}-${Se["2M"].value}`]:{value:"46950128877808"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128910576"},[`${ge}-${Se["3M"].value}`]:{value:"46950128943344"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128976112"},[`${ge}-${Se["4M"].value}`]:{value:"46950129008880"},[`${ge}-${Se["5M"].value}`]:{value:"46950129041648"},[`${ge}-${Se["6M"].value}`]:{value:"46950129074416"}},[`${ge}-${ze.TEAK_EFFECT.value}`]:{[`${ge}-${Se["1M"].value}`]:{value:"46950128812272"},[`${ge}-${Se["1.5M"].value}`]:{value:"46950128845040"},[`${ge}-${Se["2M"].value}`]:{value:"46950128877808"},[`${ge}-${Se["2.5M"].value}`]:{value:"46950128910576"},[`${ge}-${Se["3M"].value}`]:{value:"46950128943344"},[`${ge}-${Se["3.5M"].value}`]:{value:"46950128976112"},[`${ge}-${Se["4M"].value}`]:{value:"46950129008880"},[`${ge}-${Se["5M"].value}`]:{value:"46950129041648"},[`${ge}-${Se["6M"].value}`]:{value:"46950129074416"}}},[`${ge}-100`]:{[`${ge}-${ze.BLACK.value}`]:{[`${ge}-${Se["2.5M"].value}`]:{value:"46950129107184"},[`${ge}-${Se["3M"].value}`]:{value:"46950129139952"},[`${ge}-${Se["5M"].value}`]:{value:"46950129172720"},[`${ge}-${Se["6M"].value}`]:{value:"46950129205488"}},[`${ge}-${ze.WHITE.value}`]:{[`${ge}-${Se["2.5M"].value}`]:{value:"46950129107184"},[`${ge}-${Se["3M"].value}`]:{value:"46950129139952"},[`${ge}-${Se["5M"].value}`]:{value:"46950129172720"},[`${ge}-${Se["6M"].value}`]:{value:"46950129205488"}},[`${ge}-${ze.MILL.value}`]:{[`${ge}-${Se["2.5M"].value}`]:{value:"46950129107184"},[`${ge}-${Se["3M"].value}`]:{value:"46950129139952"},[`${ge}-${Se["5M"].value}`]:{value:"46950129172720"},[`${ge}-${Se["6M"].value}`]:{value:"46950129205488"}}}}},CAPS:{[`${ge}-${Vo.DIA}`]:{[`${ge}-50`]:{[`${ge}-${ze.GREY.value}`]:{value:"46950176063728"},[`${ge}-${ze.BLACK.value}`]:{value:"46950176063728"},[`${ge}-${ze.WHITE.value}`]:{value:"46950176063728"}},[`${ge}-76`]:{[`${ge}-${ze.GREY.value}`]:{value:"46950176096496"},[`${ge}-${ze.BLACK.value}`]:{value:"46950176096496"},[`${ge}-${ze.WHITE.value}`]:{value:"46950176096496"}},[`${ge}-89`]:{[`${ge}-${ze.GREY.value}`]:{value:"46950176129264"},[`${ge}-${ze.BLACK.value}`]:{value:"46950176129264"},[`${ge}-${ze.WHITE.value}`]:{value:"46950176129264"}},[`${ge}-102`]:{[`${ge}-${ze.GREY.value}`]:{value:"46950176162032"},[`${ge}-${ze.BLACK.value}`]:{value:"46950176162032"},[`${ge}-${ze.WHITE.value}`]:{value:"46950176162032"}},[`${ge}-114`]:{[`${ge}-${ze.GREY.value}`]:{value:"46950176194800"},[`${ge}-${ze.BLACK.value}`]:{value:"46950176194800"},[`${ge}-${ze.WHITE.value}`]:{value:"46950176194800"}}},[`${ge}-${Vo.SQUARE}`]:{[`${ge}-50`]:{[`${ge}-${ze.OAK_EFFECT.value}`]:{value:"46950176227568"},[`${ge}-${ze.BLACK.value}`]:{value:"46950176227568"},[`${ge}-${ze.WHITE.value}`]:{value:"46950176227568"}},[`${ge}-76`]:{[`${ge}-${ze.OAK_EFFECT.value}`]:{value:"46950176260336"},[`${ge}-${ze.BLACK.value}`]:{value:"46950176260336"},[`${ge}-${ze.WHITE.value}`]:{value:"46950176260336"}},[`${ge}-100`]:{[`${ge}-${ze.OAK_EFFECT.value}`]:{value:"46950176293104"},[`${ge}-${ze.BLACK.value}`]:{value:"46950176293104"},[`${ge}-${ze.WHITE.value}`]:{value:"46950176293104"}}}},CLIPS:{[`${ge}-${Vo.DIA}`]:{[`${ge}-50`]:{[`${ge}-${ze.STAINLESS.value}`]:{value:"46950185763056"},[`${ge}-${ze.GREY.value}`]:{value:"46950185763056"},[`${ge}-${ze.BLACK.value}`]:{value:"46950185763056"},[`${ge}-${ze.WHITE.value}`]:{value:"46950185763056"}},[`${ge}-76`]:{[`${ge}-${ze.STAINLESS.value}`]:{value:"46950185795824"},[`${ge}-${ze.GREY.value}`]:{value:"46950185795824"},[`${ge}-${ze.BLACK.value}`]:{value:"46950185795824"},[`${ge}-${ze.WHITE.value}`]:{value:"46950185795824"}},[`${ge}-89`]:{[`${ge}-${ze.STAINLESS.value}`]:{value:"46950185828592"},[`${ge}-${ze.GREY.value}`]:{value:"46950185828592"},[`${ge}-${ze.BLACK.value}`]:{value:"46950185828592"},[`${ge}-${ze.WHITE.value}`]:{value:"46950185828592"}},[`${ge}-102`]:{[`${ge}-${ze.STAINLESS.value}`]:{value:"46950185861360"},[`${ge}-${ze.GREY.value}`]:{value:"46950185861360"},[`${ge}-${ze.BLACK.value}`]:{value:"46950185861360"},[`${ge}-${ze.WHITE.value}`]:{value:"46950185861360"}},[`${ge}-114`]:{[`${ge}-${ze.STAINLESS.value}`]:{value:"46950185894128"},[`${ge}-${ze.GREY.value}`]:{value:"46950185894128"},[`${ge}-${ze.BLACK.value}`]:{value:"46950185894128"},[`${ge}-${ze.WHITE.value}`]:{value:"46950185894128"}}},[`${ge}-${Vo.SQUARE}`]:{[`${ge}-50`]:{[`${ge}-${ze.STAINLESS.value}`]:{value:"46950185926896"}},[`${ge}-76`]:{[`${ge}-${ze.STAINLESS.value}`]:{value:"46950185959664"}},[`${ge}-100`]:{[`${ge}-${ze.STAINLESS.value}`]:{value:"46950185992432"}}}},CHANNELS:{[t1.SMALL]:{[`${ge}-${ze.GREY.value}`]:{value:"46950183207152"},[`${ge}-${ze.BLACK.value}`]:{value:"46950183207152"},[`${ge}-${ze.WHITE.value}`]:{value:"46950183207152"},[`${ge}-${ze.MILL.value}`]:{value:"46950183207152"}},[t1.MEDIUM]:{[`${ge}-${ze.GREY.value}`]:{value:"46950183239920"}}},INTERLOCKING:{value:"46950127108336"}},gI={ADD_TO_CART:"ADD_TO_CART"},hQ={450:{width:509.13,height:450,channelOffset:[.12898,.39992]},600:{width:678.84,height:600,channelOffset:[.17389,.54998]},750:{width:848.55,height:750,channelOffset:[.21682,.64995]},900:{width:1018.26,height:900,channelOffset:[.22044,.51017,.7999]}},pQ={300:{width:300,height:300,channelOffset:[.06841,.23159]},450:{width:450,height:450,channelOffset:[.10939,.34061]},600:{width:600,height:600,channelOffset:[.14889,.45111]},750:{width:750,height:750,channelOffset:[.14589,.56451]},900:{width:900,height:900,channelOffset:[.14945,.45,.75055]}},mQ={450:{width:450,height:450,channelOffset:[.08508,.36492]},600:{width:600,height:600,channelOffset:[.1135,.4865]},750:{width:750,height:750,channelOffset:[.14537,.60463]}},rb=EU(n=>({selectedOptionTab:-1,checkedPostOption:!1,checkedClipOption:!1,width:1e3,height:1e3,size:"450",mountHeight:2e3,postQuantity:1,channelInfos:{channels:[],interlockings:[]},cartId:"",checkoutUrl:"",numOfClips:0,selectedChannelSize:qM[1],selectedChannelColour:XM[0],selectedPanelMaterial:PU[0],selectedPanelColour:th.WHITE_GREY,selectedPanelShape:DU[0],selectedRadius:RU[0],selectedInterlockingColour:OU[0],selectedFixingMethod:IU[0],selectedPostSize:BU[0],selectedPostColour:ze.GREY,selectedPostLength:Se["3M"],selectedPostCapColour:ze.GREY,selectedPostClipColour:ze.STAINLESS,shopifyMap:{},variantMapSku:[],channelQuantity:1,setChannelQuantity:e=>n(()=>({channelQuantity:e})),specificChannelQuantity:!1,setSpecificChannelQuantity:e=>n(()=>({specificChannelQuantity:e})),setSelectedOptionTab:e=>n(()=>({selectedOptionTab:e})),setCheckedPostOption:e=>n(()=>({checkedPostOption:e})),setCheckedClipOption:e=>n(()=>({checkedClipOption:e})),setSize:e=>n(()=>({size:e})),setWidth:e=>n(()=>({width:e})),setHeight:e=>n(()=>({height:e})),setSelectedChannelSize:e=>n(()=>({selectedChannelSize:e})),setSelectedChannelColour:e=>n(()=>({selectedChannelColour:e})),setSelectedPanelMaterial:e=>n(()=>({selectedPanelMaterial:e})),setSelectedPanelColour:e=>n(()=>({selectedPanelColour:e})),setSelectedPanelShape:e=>n(()=>({selectedPanelShape:e})),setSelectedRadius:e=>n(()=>({selectedRadius:e})),setSelectedInterlockingColour:e=>n(()=>({selectedInterlockingColour:e})),setSelectedFixingMethod:e=>n(()=>({selectedFixingMethod:e})),setSelectedPostSize:e=>n(()=>({selectedPostSize:e})),setSelectedPostColour:e=>n(()=>({selectedPostColour:e})),setMountHeight:e=>n(()=>({mountHeight:e})),setPostQuantity:e=>n(()=>({postQuantity:e})),setSelectedPostLength:e=>n(()=>({selectedPostLength:e})),setSelectedPostCapColour:e=>n(()=>({selectedPostCapColour:e})),setSelectedPostClipColour:e=>n(()=>({selectedPostClipColour:e})),setChannelInfos:e=>n(()=>({channelInfos:e})),setCartId:e=>n(()=>({cartId:e})),setCheckoutUrl:e=>n(()=>({checkoutUrl:e})),setNumOfClips:e=>n(()=>({numOfClips:e})),setShopifyMap:e=>n(()=>({shopifyMap:e})),setVariantMapSku:e=>n(()=>({variantMapSku:e}))}));var $_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var gQ=$_.exports,vI;function vQ(){return vI||(vI=1,function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",f=1,h=2,m=4,g=1,p=2,y=1,b=2,x=4,C=8,M=16,R=32,O=64,N=128,F=256,I=512,B=30,k="...",q=800,Y=16,ee=1,le=2,J=3,fe=1/0,V=9007199254740991,ae=17976931348623157e292,ue=NaN,Q=4294967295,de=Q-1,we=Q>>>1,ye=[["ary",N],["bind",y],["bindKey",b],["curry",C],["curryRight",M],["flip",I],["partial",R],["partialRight",O],["rearg",F]],Ce="[object Arguments]",Le="[object Array]",Ie="[object AsyncFunction]",Ze="[object Boolean]",tt="[object Date]",Qe="[object DOMException]",lt="[object Error]",We="[object Function]",Ke="[object GeneratorFunction]",he="[object Map]",wt="[object Number]",ft="[object Null]",vt="[object Object]",yt="[object Promise]",Ht="[object Proxy]",$e="[object RegExp]",te="[object Set]",K="[object String]",j="[object Symbol]",re="[object Undefined]",me="[object WeakMap]",ve="[object WeakSet]",Me="[object ArrayBuffer]",xe="[object DataView]",Ge="[object Float32Array]",et="[object Float64Array]",Ne="[object Int8Array]",Ve="[object Int16Array]",Bt="[object Int32Array]",Nt="[object Uint8Array]",Pt="[object Uint8ClampedArray]",tn="[object Uint16Array]",Jt="[object Uint32Array]",Mn=/\b__p \+= '';/g,Re=/\b(__p \+=) '' \+/g,Ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rt=/&(?:amp|lt|gt|quot|#39);/g,dt=/[&<>"']/g,bt=RegExp(rt.source),kt=RegExp(dt.source),vn=/<%-([\s\S]+?)%>/g,fr=/<%([\s\S]+?)%>/g,Ar=/<%=([\s\S]+?)%>/g,Gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,li=/^\w*$/,Zr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Po=/[\\^$.*+?()[\]{}|]/g,us=RegExp(Po.source),Xi=/^\s+/,ro=/\s/,As=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,io=/\{\n\/\* \[wrapped with (.+)\] \*/,Ai=/,? & /,Ui=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ii=/[()=,{}\[\]\/\s]/,va=/\\(\\)?/g,Do=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gr=/\w*$/,$a=/^[-+]0x[0-9a-f]+$/i,_a=/^0b[01]+$/i,Qt=/^\[object .+?Constructor\]$/,Kn=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,Oe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,je=/['\n\r\u2028\u2029\\]/g,be="\\ud800-\\udfff",st="\\u0300-\\u036f",St="\\ufe20-\\ufe2f",Ct="\\u20d0-\\u20ff",Lt=st+St+Ct,fn="\\u2700-\\u27bf",an="a-z\\xdf-\\xf6\\xf8-\\xff",Xt="\\xac\\xb1\\xd7\\xf7",ot="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Dt="\\u2000-\\u206f",un=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",rn="\\ufe0e\\ufe0f",Yt=Xt+ot+Dt+un,dr="[']",En="["+be+"]",ci="["+Yt+"]",oo="["+Lt+"]",so="\\d+",qa="["+fn+"]",Er="["+an+"]",Vr="[^"+be+Yt+so+fn+an+ln+"]",Ki="\\ud83c[\\udffb-\\udfff]",Ei="(?:"+oo+"|"+Ki+")",ao="[^"+be+"]",qs="(?:\\ud83c[\\udde6-\\uddff]){2}",Ln="[\\ud800-\\udbff][\\udc00-\\udfff]",ya="["+ln+"]",Qc="\\u200d",mh="(?:"+Er+"|"+Vr+")",cg="(?:"+ya+"|"+Vr+")",Xf="(?:"+dr+"(?:d|ll|m|re|s|t|ve))?",Kf="(?:"+dr+"(?:D|LL|M|RE|S|T|VE))?",ml=Ei+"?",Jf="["+rn+"]?",Xa="(?:"+Qc+"(?:"+[ao,qs,Ln].join("|")+")"+Jf+ml+")*",Jn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",gl=Jf+ml+Xa,Zc="(?:"+[qa,qs,Ln].join("|")+")"+gl,vl="(?:"+[ao+oo+"?",oo,qs,Ln,En].join("|")+")",w1=RegExp(dr,"g"),ki=RegExp(oo,"g"),Tu=RegExp(Ki+"(?="+Ki+")|"+vl+gl,"g"),C1=RegExp([ya+"?"+Er+"+"+Xf+"(?="+[ci,ya,"$"].join("|")+")",cg+"+"+Kf+"(?="+[ci,ya+mh,"$"].join("|")+")",ya+"?"+mh+"+"+Xf,ya+"+"+Kf,Mu,Jn,so,Zc].join("|"),"g"),gh=RegExp("["+Qc+be+Lt+rn+"]"),vh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ka=-1,Tr={};Tr[Ge]=Tr[et]=Tr[Ne]=Tr[Ve]=Tr[Bt]=Tr[Nt]=Tr[Pt]=Tr[tn]=Tr[Jt]=!0,Tr[Ce]=Tr[Le]=Tr[Me]=Tr[Ze]=Tr[xe]=Tr[tt]=Tr[lt]=Tr[We]=Tr[he]=Tr[wt]=Tr[vt]=Tr[$e]=Tr[te]=Tr[K]=Tr[me]=!1;var Sr={};Sr[Ce]=Sr[Le]=Sr[Me]=Sr[xe]=Sr[Ze]=Sr[tt]=Sr[Ge]=Sr[et]=Sr[Ne]=Sr[Ve]=Sr[Bt]=Sr[he]=Sr[wt]=Sr[vt]=Sr[$e]=Sr[te]=Sr[K]=Sr[j]=Sr[Nt]=Sr[Pt]=Sr[tn]=Sr[Jt]=!0,Sr[lt]=Sr[We]=Sr[me]=!1;var Wo={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Xs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_h={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yh=parseFloat,bh=parseInt,Es=typeof Bb=="object"&&Bb&&Bb.Object===Object&&Bb,fg=typeof self=="object"&&self&&self.Object===Object&&self,Fr=Es||fg||Function("return this")(),Qf=e&&!e.nodeType&&e,Pi=Qf&&!0&&n&&!n.nodeType&&n,ef=Pi&&Pi.exports===Qf,Pu=ef&&Es.process,Di=function(){try{var Pe=Pi&&Pi.require&&Pi.require("util").types;return Pe||Pu&&Pu.binding&&Pu.binding("util")}catch{}}(),Zf=Di&&Di.isArrayBuffer,Ro=Di&&Di.isDate,_l=Di&&Di.isMap,tf=Di&&Di.isRegExp,yl=Di&&Di.isSet,Jl=Di&&Di.isTypedArray;function jr(Pe,ct,Ye){switch(Ye.length){case 0:return Pe.call(ct);case 1:return Pe.call(ct,Ye[0]);case 2:return Pe.call(ct,Ye[0],Ye[1]);case 3:return Pe.call(ct,Ye[0],Ye[1],Ye[2])}return Pe.apply(ct,Ye)}function Ks(Pe,ct,Ye,Vt){for(var Cn=-1,Bn=Pe==null?0:Pe.length;++Cn<Bn;){var ti=Pe[Cn];ct(Vt,ti,Ye(ti),Pe)}return Vt}function fi(Pe,ct){for(var Ye=-1,Vt=Pe==null?0:Pe.length;++Ye<Vt&&ct(Pe[Ye],Ye,Pe)!==!1;);return Pe}function nf(Pe,ct){for(var Ye=Pe==null?0:Pe.length;Ye--&&ct(Pe[Ye],Ye,Pe)!==!1;);return Pe}function Ah(Pe,ct){for(var Ye=-1,Vt=Pe==null?0:Pe.length;++Ye<Vt;)if(!ct(Pe[Ye],Ye,Pe))return!1;return!0}function Oo(Pe,ct){for(var Ye=-1,Vt=Pe==null?0:Pe.length,Cn=0,Bn=[];++Ye<Vt;){var ti=Pe[Ye];ct(ti,Ye,Pe)&&(Bn[Cn++]=ti)}return Bn}function ba(Pe,ct){var Ye=Pe==null?0:Pe.length;return!!Ye&&Ea(Pe,ct,0)>-1}function rf(Pe,ct,Ye){for(var Vt=-1,Cn=Pe==null?0:Pe.length;++Vt<Cn;)if(Ye(ct,Pe[Vt]))return!0;return!1}function Lr(Pe,ct){for(var Ye=-1,Vt=Pe==null?0:Pe.length,Cn=Array(Vt);++Ye<Vt;)Cn[Ye]=ct(Pe[Ye],Ye,Pe);return Cn}function Aa(Pe,ct){for(var Ye=-1,Vt=ct.length,Cn=Pe.length;++Ye<Vt;)Pe[Cn+Ye]=ct[Ye];return Pe}function Eh(Pe,ct,Ye,Vt){var Cn=-1,Bn=Pe==null?0:Pe.length;for(Vt&&Bn&&(Ye=Pe[++Cn]);++Cn<Bn;)Ye=ct(Ye,Pe[Cn],Cn,Pe);return Ye}function dg(Pe,ct,Ye,Vt){var Cn=Pe==null?0:Pe.length;for(Vt&&Cn&&(Ye=Pe[--Cn]);Cn--;)Ye=ct(Ye,Pe[Cn],Cn,Pe);return Ye}function ed(Pe,ct){for(var Ye=-1,Vt=Pe==null?0:Pe.length;++Ye<Vt;)if(ct(Pe[Ye],Ye,Pe))return!0;return!1}var Sh=ls("length");function jp(Pe){return Pe.split("")}function hg(Pe){return Pe.match(Ui)||[]}function Wp(Pe,ct,Ye){var Vt;return Ye(Pe,function(Cn,Bn,ti){if(ct(Cn,Bn,ti))return Vt=Bn,!1}),Vt}function of(Pe,ct,Ye,Vt){for(var Cn=Pe.length,Bn=Ye+(Vt?1:-1);Vt?Bn--:++Bn<Cn;)if(ct(Pe[Bn],Bn,Pe))return Bn;return-1}function Ea(Pe,ct,Ye){return ct===ct?Iu(Pe,ct,Ye):of(Pe,td,Ye)}function bl(Pe,ct,Ye,Vt){for(var Cn=Ye-1,Bn=Pe.length;++Cn<Bn;)if(Vt(Pe[Cn],ct))return Cn;return-1}function td(Pe){return Pe!==Pe}function nd(Pe,ct){var Ye=Pe==null?0:Pe.length;return Ye?Sa(Pe,ct)/Ye:ue}function ls(Pe){return function(ct){return ct==null?t:ct[Pe]}}function $o(Pe){return function(ct){return Pe==null?t:Pe[ct]}}function Al(Pe,ct,Ye,Vt,Cn){return Cn(Pe,function(Bn,ti,xn){Ye=Vt?(Vt=!1,Bn):ct(Ye,Bn,ti,xn)}),Ye}function Du(Pe,ct){var Ye=Pe.length;for(Pe.sort(ct);Ye--;)Pe[Ye]=Pe[Ye].value;return Pe}function Sa(Pe,ct){for(var Ye,Vt=-1,Cn=Pe.length;++Vt<Cn;){var Bn=ct(Pe[Vt]);Bn!==t&&(Ye=Ye===t?Bn:Ye+Bn)}return Ye}function Ru(Pe,ct){for(var Ye=-1,Vt=Array(Pe);++Ye<Pe;)Vt[Ye]=ct(Ye);return Vt}function pg(Pe,ct){return Lr(ct,function(Ye){return[Ye,Pe[Ye]]})}function xh(Pe){return Pe&&Pe.slice(0,Sl(Pe)+1).replace(Xi,"")}function qo(Pe){return function(ct){return Pe(ct)}}function uo(Pe,ct){return Lr(ct,function(Ye){return Pe[Ye]})}function Si(Pe,ct){return Pe.has(ct)}function ei(Pe,ct){for(var Ye=-1,Vt=Pe.length;++Ye<Vt&&Ea(ct,Pe[Ye],0)>-1;);return Ye}function Yl(Pe,ct){for(var Ye=Pe.length;Ye--&&Ea(ct,Pe[Ye],0)>-1;);return Ye}function Js(Pe,ct){for(var Ye=Pe.length,Vt=0;Ye--;)Pe[Ye]===ct&&++Vt;return Vt}var $p=$o(Wo),qp=$o(Xs);function wh(Pe){return"\\"+Vp[Pe]}function El(Pe,ct){return Pe==null?t:Pe[ct]}function Ql(Pe){return gh.test(Pe)}function rd(Pe){return vh.test(Pe)}function sf(Pe){for(var ct,Ye=[];!(ct=Pe.next()).done;)Ye.push(ct.value);return Ye}function af(Pe){var ct=-1,Ye=Array(Pe.size);return Pe.forEach(function(Vt,Cn){Ye[++ct]=[Cn,Vt]}),Ye}function Zl(Pe,ct){return function(Ye){return Pe(ct(Ye))}}function Xo(Pe,ct){for(var Ye=-1,Vt=Pe.length,Cn=0,Bn=[];++Ye<Vt;){var ti=Pe[Ye];(ti===ct||ti===l)&&(Pe[Ye]=l,Bn[Cn++]=Ye)}return Bn}function Ou(Pe){var ct=-1,Ye=Array(Pe.size);return Pe.forEach(function(Vt){Ye[++ct]=Vt}),Ye}function mg(Pe){var ct=-1,Ye=Array(Pe.size);return Pe.forEach(function(Vt){Ye[++ct]=[Vt,Vt]}),Ye}function Iu(Pe,ct,Ye){for(var Vt=Ye-1,Cn=Pe.length;++Vt<Cn;)if(Pe[Vt]===ct)return Vt;return-1}function gg(Pe,ct,Ye){for(var Vt=Ye+1;Vt--;)if(Pe[Vt]===ct)return Vt;return Vt}function xa(Pe){return Ql(Pe)?wa(Pe):Sh(Pe)}function oi(Pe){return Ql(Pe)?Ch(Pe):jp(Pe)}function Sl(Pe){for(var ct=Pe.length;ct--&&ro.test(Pe.charAt(ct)););return ct}var ec=$o(_h);function wa(Pe){for(var ct=Tu.lastIndex=0;Tu.test(Pe);)++ct;return ct}function Ch(Pe){return Pe.match(Tu)||[]}function uf(Pe){return Pe.match(C1)||[]}var vg=function Pe(ct){ct=ct==null?Fr:xl.defaults(Fr.Object(),ct,xl.pick(Fr,Yf));var Ye=ct.Array,Vt=ct.Date,Cn=ct.Error,Bn=ct.Function,ti=ct.Math,xn=ct.Object,Ri=ct.RegExp,Ji=ct.String,Ko=ct.TypeError,Ss=Ye.prototype,tc=Bn.prototype,Ja=xn.prototype,xi=ct["__core-js_shared__"],nc=tc.toString,lr=Ja.hasOwnProperty,wl=0,Ys=function(){var _=/[^.]+$/.exec(xi&&xi.keys&&xi.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),cs=Ja.toString,Ya=nc.call(xn),id=Fr._,od=Ri("^"+nc.call(lr).replace(Po,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lf=ef?ct.Buffer:t,Qa=ct.Symbol,cf=ct.Uint8Array,Mh=lf?lf.allocUnsafe:t,Qs=Zl(xn.getPrototypeOf,xn),sd=xn.create,ff=Ja.propertyIsEnumerable,Cl=Ss.splice,Xp=Qa?Qa.isConcatSpreadable:t,Zs=Qa?Qa.iterator:t,Za=Qa?Qa.toStringTag:t,rc=function(){try{var _=Ef(xn,"defineProperty");return _({},"",{}),_}catch{}}(),df=ct.clearTimeout!==Fr.clearTimeout&&ct.clearTimeout,Wr=Vt&&Vt.now!==Fr.Date.now&&Vt.now,Th=ct.setTimeout!==Fr.setTimeout&&ct.setTimeout,Ml=ti.ceil,Bu=ti.floor,hf=xn.getOwnPropertySymbols,Ph=lf?lf.isBuffer:t,ic=ct.isFinite,Dh=Ss.join,oc=Zl(xn.keys,xn),Oi=ti.max,Io=ti.min,_g=Vt.now,Kp=ct.parseInt,pf=ti.random,ad=Ss.reverse,Tl=Ef(ct,"DataView"),sc=Ef(ct,"Map"),ud=Ef(ct,"Promise"),Pl=Ef(ct,"Set"),ac=Ef(ct,"WeakMap"),Dl=Ef(xn,"create"),Rh=ac&&new ac,uc={},Oh=Sf(Tl),Fu=Sf(sc),Jp=Sf(ud),lc=Sf(Pl),zi=Sf(ac),Lu=Qa?Qa.prototype:t,lo=Lu?Lu.valueOf:t,Rl=Lu?Lu.toString:t;function ce(_){if(eo(_)&&!Yn(_)&&!(_ instanceof pn)){if(_ instanceof Ii)return _;if(lr.call(_,"__wrapped__"))return vb(_)}return new Ii(_)}var Nu=function(){function _(){}return function(S){if(!Vi(S))return{};if(sd)return sd(S);_.prototype=S;var D=new _;return _.prototype=t,D}}();function Ca(){}function Ii(_,S){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=t}ce.templateSettings={escape:vn,evaluate:fr,interpolate:Ar,variable:"",imports:{_:ce}},ce.prototype=Ca.prototype,ce.prototype.constructor=ce,Ii.prototype=Nu(Ca.prototype),Ii.prototype.constructor=Ii;function pn(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function Ih(){var _=new pn(this.__wrapped__);return _.__actions__=_o(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=_o(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=_o(this.__views__),_}function Yp(){if(this.__filtered__){var _=new pn(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function Yi(){var _=this.__wrapped__.value(),S=this.__dir__,D=Yn(_),G=S<0,Z=D?_.length:0,pe=M1(0,Z,this.__views__),Ee=pe.start,De=pe.end,He=De-Ee,mt=G?De:Ee-1,gt=this.__iteratees__,Mt=gt.length,qt=0,mn=Io(He,this.__takeCount__);if(!D||!G&&Z==He&&mn==He)return ra(_,this.__actions__);var Dn=[];e:for(;He--&&qt<mn;){mt+=S;for(var ar=-1,Rn=_[mt];++ar<Mt;){var pr=gt[ar],_r=pr.iteratee,Qu=pr.type,La=_r(Rn);if(Qu==le)Rn=La;else if(!La){if(Qu==ee)continue e;break e}}Dn[qt++]=Rn}return Dn}pn.prototype=Nu(Ca.prototype),pn.prototype.constructor=pn;function Rr(_){var S=-1,D=_==null?0:_.length;for(this.clear();++S<D;){var G=_[S];this.set(G[0],G[1])}}function $r(){this.__data__=Dl?Dl(null):{},this.size=0}function Nr(_){var S=this.has(_)&&delete this.__data__[_];return this.size-=S?1:0,S}function Uu(_){var S=this.__data__;if(Dl){var D=S[_];return D===u?t:D}return lr.call(S,_)?S[_]:t}function co(_){var S=this.__data__;return Dl?S[_]!==t:lr.call(S,_)}function Jo(_,S){var D=this.__data__;return this.size+=this.has(_)?0:1,D[_]=Dl&&S===t?u:S,this}Rr.prototype.clear=$r,Rr.prototype.delete=Nr,Rr.prototype.get=Uu,Rr.prototype.has=co,Rr.prototype.set=Jo;function fo(_){var S=-1,D=_==null?0:_.length;for(this.clear();++S<D;){var G=_[S];this.set(G[0],G[1])}}function cc(){this.__data__=[],this.size=0}function Bo(_){var S=this.__data__,D=Bi(S,_);if(D<0)return!1;var G=S.length-1;return D==G?S.pop():Cl.call(S,D,1),--this.size,!0}function ld(_){var S=this.__data__,D=Bi(S,_);return D<0?t:S[D][1]}function Qp(_){return Bi(this.__data__,_)>-1}function cd(_,S){var D=this.__data__,G=Bi(D,_);return G<0?(++this.size,D.push([_,S])):D[G][1]=S,this}fo.prototype.clear=cc,fo.prototype.delete=Bo,fo.prototype.get=ld,fo.prototype.has=Qp,fo.prototype.set=cd;function Yo(_){var S=-1,D=_==null?0:_.length;for(this.clear();++S<D;){var G=_[S];this.set(G[0],G[1])}}function Zp(){this.size=0,this.__data__={hash:new Rr,map:new(sc||fo),string:new Rr}}function Ma(_){var S=sm(this,_).delete(_);return this.size-=S?1:0,S}function fd(_){return sm(this,_).get(_)}function Bh(_){return sm(this,_).has(_)}function dd(_,S){var D=sm(this,_),G=D.size;return D.set(_,S),this.size+=D.size==G?0:1,this}Yo.prototype.clear=Zp,Yo.prototype.delete=Ma,Yo.prototype.get=fd,Yo.prototype.has=Bh,Yo.prototype.set=dd;function Ol(_){var S=-1,D=_==null?0:_.length;for(this.__data__=new Yo;++S<D;)this.add(_[S])}function eu(_){return this.__data__.set(_,u),this}function fc(_){return this.__data__.has(_)}Ol.prototype.add=Ol.prototype.push=eu,Ol.prototype.has=fc;function si(_){var S=this.__data__=new fo(_);this.size=S.size}function Fh(){this.__data__=new fo,this.size=0}function Lh(_){var S=this.__data__,D=S.delete(_);return this.size=S.size,D}function Qo(_){return this.__data__.get(_)}function Qi(_){return this.__data__.has(_)}function dc(_,S){var D=this.__data__;if(D instanceof fo){var G=D.__data__;if(!sc||G.length<i-1)return G.push([_,S]),this.size=++D.size,this;D=this.__data__=new Yo(G)}return D.set(_,S),this.size=D.size,this}si.prototype.clear=Fh,si.prototype.delete=Lh,si.prototype.get=Qo,si.prototype.has=Qi,si.prototype.set=dc;function Ut(_,S){var D=Yn(_),G=!D&&_m(_),Z=!D&&!G&&ep(_),pe=!D&&!G&&!Z&&jg(_),Ee=D||G||Z||pe,De=Ee?Ru(_.length,Ji):[],He=De.length;for(var mt in _)(S||lr.call(_,mt))&&!(Ee&&(mt=="length"||Z&&(mt=="offset"||mt=="parent")||pe&&(mt=="buffer"||mt=="byteLength"||mt=="byteOffset")||vi(mt,He)))&&De.push(mt);return De}function xs(_){var S=_.length;return S?_[Ds(0,S-1)]:t}function ku(_,S){return Mg(_o(_),tu(S,0,_.length))}function em(_){return Mg(_o(_))}function hd(_,S,D){(D!==t&&!Cc(_[S],D)||D===t&&!(S in _))&&Ta(_,S,D)}function ws(_,S,D){var G=_[S];(!(lr.call(_,S)&&Cc(G,D))||D===t&&!(S in _))&&Ta(_,S,D)}function Bi(_,S){for(var D=_.length;D--;)if(Cc(_[D][0],S))return D;return-1}function Zo(_,S,D,G){return Cs(_,function(Z,pe,Ee){S(G,Z,D(Z),Ee)}),G}function qr(_,S){return _&&Is(S,hs(S),_)}function ea(_,S){return _&&Is(S,hu(S),_)}function Ta(_,S,D){S=="__proto__"&&rc?rc(_,S,{configurable:!0,enumerable:!0,value:D,writable:!0}):_[S]=D}function pd(_,S){for(var D=-1,G=S.length,Z=Ye(G),pe=_==null;++D<G;)Z[D]=pe?t:dw(_,S[D]);return Z}function tu(_,S,D){return _===_&&(D!==t&&(_=_<=D?_:D),S!==t&&(_=_>=S?_:S)),_}function es(_,S,D,G,Z,pe){var Ee,De=S&f,He=S&h,mt=S&m;if(D&&(Ee=Z?D(_,G,Z,pe):D(_)),Ee!==t)return Ee;if(!Vi(_))return _;var gt=Yn(_);if(gt){if(Ee=um(_),!De)return _o(_,Ee)}else{var Mt=ts(_),qt=Mt==We||Mt==Ke;if(ep(_))return Wh(_,De);if(Mt==vt||Mt==Ce||qt&&!Z){if(Ee=He||qt?{}:ns(_),!De)return He?Eg(_,ea(Ee,_)):Xh(_,qr(Ee,_))}else{if(!Sr[Mt])return Z?_:{};Ee=Wx(_,Mt,De)}}pe||(pe=new si);var mn=pe.get(_);if(mn)return mn;pe.set(_,Ee),_D(_)?_.forEach(function(Rn){Ee.add(es(Rn,S,D,Rn,_,pe))}):gD(_)&&_.forEach(function(Rn,pr){Ee.set(pr,es(Rn,S,D,pr,_,pe))});var Dn=mt?He?sr:gi:He?hu:hs,ar=gt?t:Dn(_);return fi(ar||_,function(Rn,pr){ar&&(pr=Rn,Rn=_[pr]),ws(Ee,pr,es(Rn,S,D,pr,_,pe))}),Ee}function Nh(_){var S=hs(_);return function(D){return hc(D,_,S)}}function hc(_,S,D){var G=D.length;if(_==null)return!G;for(_=xn(_);G--;){var Z=D[G],pe=S[Z],Ee=_[Z];if(Ee===t&&!(Z in _)||!pe(Ee))return!1}return!0}function Uh(_,S,D){if(typeof _!="function")throw new Ko(s);return Yh(function(){_.apply(t,D)},S)}function ta(_,S,D,G){var Z=-1,pe=ba,Ee=!0,De=_.length,He=[],mt=S.length;if(!De)return He;D&&(S=Lr(S,qo(D))),G?(pe=rf,Ee=!1):S.length>=i&&(pe=Si,Ee=!1,S=new Ol(S));e:for(;++Z<De;){var gt=_[Z],Mt=D==null?gt:D(gt);if(gt=G||gt!==0?gt:0,Ee&&Mt===Mt){for(var qt=mt;qt--;)if(S[qt]===Mt)continue e;He.push(gt)}else pe(S,Mt,G)||He.push(gt)}return He}var Cs=Bs(Fo),yg=Bs(Pa,!0);function md(_,S){var D=!0;return Cs(_,function(G,Z,pe){return D=!!S(G,Z,pe),D}),D}function Il(_,S,D){for(var G=-1,Z=_.length;++G<Z;){var pe=_[G],Ee=S(pe);if(Ee!=null&&(De===t?Ee===Ee&&!Yu(Ee):D(Ee,De)))var De=Ee,He=pe}return He}function tm(_,S,D,G){var Z=_.length;for(D=nr(D),D<0&&(D=-D>Z?0:Z+D),G=G===t||G>Z?Z:nr(G),G<0&&(G+=Z),G=D>G?0:bD(G);D<G;)_[D++]=S;return _}function kh(_,S){var D=[];return Cs(_,function(G,Z,pe){S(G,Z,pe)&&D.push(G)}),D}function di(_,S,D,G,Z){var pe=-1,Ee=_.length;for(D||(D=xg),Z||(Z=[]);++pe<Ee;){var De=_[pe];S>0&&D(De)?S>1?di(De,S-1,D,G,Z):Aa(Z,De):G||(Z[Z.length]=De)}return Z}var pc=bf(),Bl=bf(!0);function Fo(_,S){return _&&pc(_,S,hs)}function Pa(_,S){return _&&Bl(_,S,hs)}function zu(_,S){return Oo(S,function(D){return Td(_[D])})}function Ms(_,S){S=uu(S,_);for(var D=0,G=S.length;_!=null&&D<G;)_=_[Xu(S[D++])];return D&&D==G?_:t}function mf(_,S,D){var G=S(_);return Yn(_)?G:Aa(G,D(_))}function Hi(_){return _==null?_===t?re:ft:Za&&Za in xn(_)?Sg(_):P1(_)}function nu(_,S){return _>S}function Ts(_,S){return _!=null&&lr.call(_,S)}function Hu(_,S){return _!=null&&S in xn(_)}function nm(_,S,D){return _>=Io(S,D)&&_<Oi(S,D)}function mc(_,S,D){for(var G=D?rf:ba,Z=_[0].length,pe=_.length,Ee=pe,De=Ye(pe),He=1/0,mt=[];Ee--;){var gt=_[Ee];Ee&&S&&(gt=Lr(gt,qo(S))),He=Io(gt.length,He),De[Ee]=!D&&(S||Z>=120&&gt.length>=120)?new Ol(Ee&&gt):t}gt=_[0];var Mt=-1,qt=De[0];e:for(;++Mt<Z&&mt.length<He;){var mn=gt[Mt],Dn=S?S(mn):mn;if(mn=D||mn!==0?mn:0,!(qt?Si(qt,Dn):G(mt,Dn,D))){for(Ee=pe;--Ee;){var ar=De[Ee];if(!(ar?Si(ar,Dn):G(_[Ee],Dn,D)))continue e}qt&&qt.push(Dn),mt.push(mn)}}return mt}function Da(_,S,D,G){return Fo(_,function(Z,pe,Ee){S(G,D(Z),pe,Ee)}),G}function gr(_,S,D){S=uu(S,_),_=Uo(_,S);var G=_==null?_:_[Xu(Ls(S))];return G==null?t:jr(G,_,D)}function Nn(_){return eo(_)&&Hi(_)==Ce}function wi(_){return eo(_)&&Hi(_)==Me}function Or(_){return eo(_)&&Hi(_)==tt}function Ir(_,S,D,G,Z){return _===S?!0:_==null||S==null||!eo(_)&&!eo(S)?_!==_&&S!==S:Lo(_,S,D,G,Ir,Z)}function Lo(_,S,D,G,Z,pe){var Ee=Yn(_),De=Yn(S),He=Ee?Le:ts(_),mt=De?Le:ts(S);He=He==Ce?vt:He,mt=mt==Ce?vt:mt;var gt=He==vt,Mt=mt==vt,qt=He==mt;if(qt&&ep(_)){if(!ep(S))return!1;Ee=!0,gt=!1}if(qt&&!gt)return pe||(pe=new si),Ee||jg(_)?sn(_,S,D,G,Z,pe):Un(_,S,He,D,G,Z,pe);if(!(D&g)){var mn=gt&&lr.call(_,"__wrapped__"),Dn=Mt&&lr.call(S,"__wrapped__");if(mn||Dn){var ar=mn?_.value():_,Rn=Dn?S.value():S;return pe||(pe=new si),Z(ar,Rn,D,G,pe)}}return qt?(pe||(pe=new si),In(_,S,D,G,Z,pe)):!1}function gc(_){return eo(_)&&ts(_)==he}function ai(_,S,D,G){var Z=D.length,pe=Z,Ee=!G;if(_==null)return!pe;for(_=xn(_);Z--;){var De=D[Z];if(Ee&&De[2]?De[1]!==_[De[0]]:!(De[0]in _))return!1}for(;++Z<pe;){De=D[Z];var He=De[0],mt=_[He],gt=De[1];if(Ee&&De[2]){if(mt===t&&!(He in _))return!1}else{var Mt=new si;if(G)var qt=G(mt,gt,He,_,S,Mt);if(!(qt===t?Ir(gt,mt,g|p,G,Mt):qt))return!1}}return!0}function vc(_){if(!Vi(_)||db(_))return!1;var S=Td(_)?od:Qt;return S.test(Sf(_))}function ru(_){return eo(_)&&Hi(_)==$e}function Ps(_){return eo(_)&&ts(_)==te}function _c(_){return eo(_)&&Rb(_.length)&&!!Tr[Hi(_)]}function iu(_){return typeof _=="function"?_:_==null?pu:typeof _=="object"?Yn(_)?Xr(_[0],_[1]):yc(_):RD(_)}function mi(_){if(!xc(_))return oc(_);var S=[];for(var D in xn(_))lr.call(_,D)&&D!="constructor"&&S.push(D);return S}function gd(_){if(!Vi(_))return mb(_);var S=xc(_),D=[];for(var G in _)G=="constructor"&&(S||!lr.call(_,G))||D.push(G);return D}function ou(_,S){return _<S}function Fl(_,S){var D=-1,G=du(_)?Ye(_.length):[];return Cs(_,function(Z,pe,Ee){G[++D]=S(Z,pe,Ee)}),G}function yc(_){var S=am(_);return S.length==1&&S[0][2]?wg(S[0][0],S[0][1]):function(D){return D===_||ai(D,_,S)}}function Xr(_,S){return en(_)&&cm(S)?wg(Xu(_),S):function(D){var G=dw(D,_);return G===t&&G===S?hw(D,_):Ir(S,G,g|p)}}function fs(_,S,D,G,Z){_!==S&&pc(S,function(pe,Ee){if(Z||(Z=new si),Vi(pe))gf(_,S,Ee,D,fs,G,Z);else{var De=G?G(Ul(_,Ee),pe,Ee+"",_,S,Z):t;De===t&&(De=pe),hd(_,Ee,De)}},hu)}function gf(_,S,D,G,Z,pe,Ee){var De=Ul(_,D),He=Ul(S,D),mt=Ee.get(He);if(mt){hd(_,D,mt);return}var gt=pe?pe(De,He,D+"",_,S,Ee):t,Mt=gt===t;if(Mt){var qt=Yn(He),mn=!qt&&ep(He),Dn=!qt&&!mn&&jg(He);gt=He,qt||mn||Dn?Yn(De)?gt=De:Ao(De)?gt=_o(De):mn?(Mt=!1,gt=Wh(He,!0)):Dn?(Mt=!1,gt=Ag(He,!0)):gt=[]:q1(He)||_m(He)?(gt=De,_m(De)?gt=AD(De):(!Vi(De)||Td(De))&&(gt=ns(He))):Mt=!1}Mt&&(Ee.set(He,gt),Z(gt,He,G,pe,Ee),Ee.delete(He)),hd(_,D,gt)}function Ra(_,S){var D=_.length;if(D)return S+=S<0?D:0,vi(S,D)?_[S]:t}function Ll(_,S,D){S.length?S=Lr(S,function(pe){return Yn(pe)?function(Ee){return Ms(Ee,pe.length===1?pe[0]:pe)}:pe}):S=[pu];var G=-1;S=Lr(S,qo(wn()));var Z=Fl(_,function(pe,Ee,De){var He=Lr(S,function(mt){return mt(pe)});return{criteria:He,index:++G,value:pe}});return Du(Z,function(pe,Ee){return qh(pe,Ee,D)})}function bc(_,S){return su(_,S,function(D,G){return hw(_,G)})}function su(_,S,D){for(var G=-1,Z=S.length,pe={};++G<Z;){var Ee=S[G],De=Ms(_,Ee);D(De,Ee)&&Gu(pe,uu(Ee,_),De)}return pe}function Kr(_){return function(S){return Ms(S,_)}}function ui(_,S,D,G){var Z=G?bl:Ea,pe=-1,Ee=S.length,De=_;for(_===S&&(S=_o(S)),D&&(De=Lr(_,qo(D)));++pe<Ee;)for(var He=0,mt=S[pe],gt=D?D(mt):mt;(He=Z(De,gt,He,G))>-1;)De!==_&&Cl.call(De,He,1),Cl.call(_,He,1);return _}function hr(_,S){for(var D=_?S.length:0,G=D-1;D--;){var Z=S[D];if(D==G||Z!==pe){var pe=Z;vi(Z)?Cl.call(_,Z,1):Gh(_,Z)}}return _}function Ds(_,S){return _+Bu(pf()*(S-_+1))}function No(_,S,D,G){for(var Z=-1,pe=Oi(Ml((S-_)/(D||1)),0),Ee=Ye(pe);pe--;)Ee[G?pe:++Z]=_,_+=D;return Ee}function au(_,S){var D="";if(!_||S<1||S>V)return D;do S%2&&(D+=_),S=Bu(S/2),S&&(_+=_);while(S);return D}function _n(_,S){return Ba(Cg(_,S,pu),_+"")}function ho(_){return xs(Wg(_))}function vd(_,S){var D=Wg(_);return Mg(D,tu(S,0,D.length))}function Gu(_,S,D,G){if(!Vi(_))return _;S=uu(S,_);for(var Z=-1,pe=S.length,Ee=pe-1,De=_;De!=null&&++Z<pe;){var He=Xu(S[Z]),mt=D;if(He==="__proto__"||He==="constructor"||He==="prototype")return _;if(Z!=Ee){var gt=De[He];mt=G?G(gt,He,De):t,mt===t&&(mt=Vi(gt)?gt:vi(S[Z+1])?[]:{})}ws(De,He,mt),De=De[He]}return _}var zh=Rh?function(_,S){return Rh.set(_,S),_}:pu,po=rc?function(_,S){return rc(_,"toString",{configurable:!0,enumerable:!1,value:mw(S),writable:!0})}:pu;function Rs(_){return Mg(Wg(_))}function mo(_,S,D){var G=-1,Z=_.length;S<0&&(S=-S>Z?0:Z+S),D=D>Z?Z:D,D<0&&(D+=Z),Z=S>D?0:D-S>>>0,S>>>=0;for(var pe=Ye(Z);++G<Z;)pe[G]=_[G+S];return pe}function _d(_,S){var D;return Cs(_,function(G,Z,pe){return D=S(G,Z,pe),!D}),!!D}function na(_,S,D){var G=0,Z=_==null?G:_.length;if(typeof S=="number"&&S===S&&Z<=we){for(;G<Z;){var pe=G+Z>>>1,Ee=_[pe];Ee!==null&&!Yu(Ee)&&(D?Ee<=S:Ee<S)?G=pe+1:Z=pe}return Z}return yd(_,S,pu,D)}function yd(_,S,D,G){var Z=0,pe=_==null?0:_.length;if(pe===0)return 0;S=D(S);for(var Ee=S!==S,De=S===null,He=Yu(S),mt=S===t;Z<pe;){var gt=Bu((Z+pe)/2),Mt=D(_[gt]),qt=Mt!==t,mn=Mt===null,Dn=Mt===Mt,ar=Yu(Mt);if(Ee)var Rn=G||Dn;else mt?Rn=Dn&&(G||qt):De?Rn=Dn&&qt&&(G||!mn):He?Rn=Dn&&qt&&!mn&&(G||!ar):mn||ar?Rn=!1:Rn=G?Mt<=S:Mt<S;Rn?Z=gt+1:pe=gt}return Io(pe,de)}function Hh(_,S){for(var D=-1,G=_.length,Z=0,pe=[];++D<G;){var Ee=_[D],De=S?S(Ee):Ee;if(!D||!Cc(De,He)){var He=De;pe[Z++]=Ee===0?0:Ee}}return pe}function bd(_){return typeof _=="number"?_:Yu(_)?ue:+_}function go(_){if(typeof _=="string")return _;if(Yn(_))return Lr(_,go)+"";if(Yu(_))return Rl?Rl.call(_):"";var S=_+"";return S=="0"&&1/_==-fe?"-0":S}function Vu(_,S,D){var G=-1,Z=ba,pe=_.length,Ee=!0,De=[],He=De;if(D)Ee=!1,Z=rf;else if(pe>=i){var mt=S?null:yo(_);if(mt)return Ou(mt);Ee=!1,Z=Si,He=new Ol}else He=S?[]:De;e:for(;++G<pe;){var gt=_[G],Mt=S?S(gt):gt;if(gt=D||gt!==0?gt:0,Ee&&Mt===Mt){for(var qt=He.length;qt--;)if(He[qt]===Mt)continue e;S&&He.push(Mt),De.push(gt)}else Z(He,Mt,D)||(He!==De&&He.push(Mt),De.push(gt))}return De}function Gh(_,S){return S=uu(S,_),_=Uo(_,S),_==null||delete _[Xu(Ls(S))]}function Vh(_,S,D,G){return Gu(_,S,D(Ms(_,S)),G)}function vf(_,S,D,G){for(var Z=_.length,pe=G?Z:-1;(G?pe--:++pe<Z)&&S(_[pe],pe,_););return D?mo(_,G?0:pe,G?pe+1:Z):mo(_,G?pe+1:0,G?Z:pe)}function ra(_,S){var D=_;return D instanceof pn&&(D=D.value()),Eh(S,function(G,Z){return Z.func.apply(Z.thisArg,Aa([G],Z.args))},D)}function jh(_,S,D){var G=_.length;if(G<2)return G?Vu(_[0]):[];for(var Z=-1,pe=Ye(G);++Z<G;)for(var Ee=_[Z],De=-1;++De<G;)De!=Z&&(pe[Z]=ta(pe[Z]||Ee,_[De],S,D));return Vu(di(pe,1),S,D)}function Oa(_,S,D){for(var G=-1,Z=_.length,pe=S.length,Ee={};++G<Z;){var De=G<pe?S[G]:t;D(Ee,_[G],De)}return Ee}function Ac(_){return Ao(_)?_:[]}function vo(_){return typeof _=="function"?_:pu}function uu(_,S){return Yn(_)?_:en(_,S)?[_]:O1(Jr(_))}var rm=_n;function ju(_,S,D){var G=_.length;return D=D===t?G:D,!S&&D>=G?_:mo(_,S,D)}var im=df||function(_){return Fr.clearTimeout(_)};function Wh(_,S){if(S)return _.slice();var D=_.length,G=Mh?Mh(D):new _.constructor(D);return _.copy(G),G}function _f(_){var S=new _.constructor(_.byteLength);return new cf(S).set(new cf(_)),S}function bg(_,S){var D=S?_f(_.buffer):_.buffer;return new _.constructor(D,_.byteOffset,_.byteLength)}function Os(_){var S=new _.constructor(_.source,Gr.exec(_));return S.lastIndex=_.lastIndex,S}function $h(_){return lo?xn(lo.call(_)):{}}function Ag(_,S){var D=S?_f(_.buffer):_.buffer;return new _.constructor(D,_.byteOffset,_.length)}function lu(_,S){if(_!==S){var D=_!==t,G=_===null,Z=_===_,pe=Yu(_),Ee=S!==t,De=S===null,He=S===S,mt=Yu(S);if(!De&&!mt&&!pe&&_>S||pe&&Ee&&He&&!De&&!mt||G&&Ee&&He||!D&&He||!Z)return 1;if(!G&&!pe&&!mt&&_<S||mt&&D&&Z&&!G&&!pe||De&&D&&Z||!Ee&&Z||!He)return-1}return 0}function qh(_,S,D){for(var G=-1,Z=_.criteria,pe=S.criteria,Ee=Z.length,De=D.length;++G<Ee;){var He=lu(Z[G],pe[G]);if(He){if(G>=De)return He;var mt=D[G];return He*(mt=="desc"?-1:1)}}return _.index-S.index}function Nl(_,S,D,G){for(var Z=-1,pe=_.length,Ee=D.length,De=-1,He=S.length,mt=Oi(pe-Ee,0),gt=Ye(He+mt),Mt=!G;++De<He;)gt[De]=S[De];for(;++Z<Ee;)(Mt||Z<pe)&&(gt[D[Z]]=_[Z]);for(;mt--;)gt[De++]=_[Z++];return gt}function yf(_,S,D,G){for(var Z=-1,pe=_.length,Ee=-1,De=D.length,He=-1,mt=S.length,gt=Oi(pe-De,0),Mt=Ye(gt+mt),qt=!G;++Z<gt;)Mt[Z]=_[Z];for(var mn=Z;++He<mt;)Mt[mn+He]=S[He];for(;++Ee<De;)(qt||Z<pe)&&(Mt[mn+D[Ee]]=_[Z++]);return Mt}function _o(_,S){var D=-1,G=_.length;for(S||(S=Ye(G));++D<G;)S[D]=_[D];return S}function Is(_,S,D,G){var Z=!D;D||(D={});for(var pe=-1,Ee=S.length;++pe<Ee;){var De=S[pe],He=G?G(D[De],_[De],De,D,_):t;He===t&&(He=_[De]),Z?Ta(D,De,He):ws(D,De,He)}return D}function Xh(_,S){return Is(_,Wu(_),S)}function Eg(_,S){return Is(_,cb(_),S)}function Ad(_,S){return function(D,G){var Z=Yn(D)?Ks:Zo,pe=S?S():{};return Z(D,_,wn(G,2),pe)}}function Ec(_){return _n(function(S,D){var G=-1,Z=D.length,pe=Z>1?D[Z-1]:t,Ee=Z>2?D[2]:t;for(pe=_.length>3&&typeof pe=="function"?(Z--,pe):t,Ee&&Fs(D[0],D[1],Ee)&&(pe=Z<3?t:pe,Z=1),S=xn(S);++G<Z;){var De=D[G];De&&_(S,De,G,pe)}return S})}function Bs(_,S){return function(D,G){if(D==null)return D;if(!du(D))return _(D,G);for(var Z=D.length,pe=S?Z:-1,Ee=xn(D);(S?pe--:++pe<Z)&&G(Ee[pe],pe,Ee)!==!1;);return D}}function bf(_){return function(S,D,G){for(var Z=-1,pe=xn(S),Ee=G(S),De=Ee.length;De--;){var He=Ee[_?De:++Z];if(D(pe[He],He,pe)===!1)break}return S}}function Kh(_,S,D){var G=S&y,Z=E(_);function pe(){var Ee=this&&this!==Fr&&this instanceof pe?Z:_;return Ee.apply(G?D:this,arguments)}return pe}function om(_){return function(S){S=Jr(S);var D=Ql(S)?oi(S):t,G=D?D[0]:S.charAt(0),Z=D?ju(D,1).join(""):S.slice(1);return G[_]()+Z}}function A(_){return function(S){return Eh(PD(TD(S).replace(w1,"")),_,"")}}function E(_){return function(){var S=arguments;switch(S.length){case 0:return new _;case 1:return new _(S[0]);case 2:return new _(S[0],S[1]);case 3:return new _(S[0],S[1],S[2]);case 4:return new _(S[0],S[1],S[2],S[3]);case 5:return new _(S[0],S[1],S[2],S[3],S[4]);case 6:return new _(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new _(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var D=Nu(_.prototype),G=_.apply(D,S);return Vi(G)?G:D}}function T(_,S,D){var G=E(_);function Z(){for(var pe=arguments.length,Ee=Ye(pe),De=pe,He=Sc(Z);De--;)Ee[De]=arguments[De];var mt=pe<3&&Ee[0]!==He&&Ee[pe-1]!==He?[]:Xo(Ee,He);if(pe-=mt.length,pe<D)return Vn(_,S,$,Z.placeholder,t,Ee,mt,t,t,D-pe);var gt=this&&this!==Fr&&this instanceof Z?G:_;return jr(gt,this,Ee)}return Z}function L(_){return function(S,D,G){var Z=xn(S);if(!du(S)){var pe=wn(D,3);S=hs(S),D=function(De){return pe(Z[De],De,Z)}}var Ee=_(S,D,G);return Ee>-1?Z[pe?S[Ee]:Ee]:t}}function z(_){return jn(function(S){var D=S.length,G=D,Z=Ii.prototype.thru;for(_&&S.reverse();G--;){var pe=S[G];if(typeof pe!="function")throw new Ko(s);if(Z&&!Ee&&Af(pe)=="wrapper")var Ee=new Ii([],!0)}for(G=Ee?G:D;++G<D;){pe=S[G];var De=Af(pe),He=De=="wrapper"?Ia(pe):t;He&&lm(He[0])&&He[1]==(N|C|R|F)&&!He[4].length&&He[9]==1?Ee=Ee[Af(He[0])].apply(Ee,He[3]):Ee=pe.length==1&&lm(pe)?Ee[De]():Ee.thru(pe)}return function(){var mt=arguments,gt=mt[0];if(Ee&&mt.length==1&&Yn(gt))return Ee.plant(gt).value();for(var Mt=0,qt=D?S[Mt].apply(this,mt):gt;++Mt<D;)qt=S[Mt].call(this,qt);return qt}})}function $(_,S,D,G,Z,pe,Ee,De,He,mt){var gt=S&N,Mt=S&y,qt=S&b,mn=S&(C|M),Dn=S&I,ar=qt?t:E(_);function Rn(){for(var pr=arguments.length,_r=Ye(pr),Qu=pr;Qu--;)_r[Qu]=arguments[Qu];if(mn)var La=Sc(Rn),Zu=Js(_r,La);if(G&&(_r=Nl(_r,G,Z,mn)),pe&&(_r=yf(_r,pe,Ee,mn)),pr-=Zu,mn&&pr<mt){var Eo=Xo(_r,La);return Vn(_,S,$,Rn.placeholder,D,_r,Eo,De,He,mt-pr)}var Mc=Mt?D:this,Dd=qt?Mc[_]:_;return pr=_r.length,De?_r=$u(_r,De):Dn&&pr>1&&_r.reverse(),gt&&He<pr&&(_r.length=He),this&&this!==Fr&&this instanceof Rn&&(Dd=ar||E(Dd)),Dd.apply(Mc,_r)}return Rn}function _e(_,S){return function(D,G){return Da(D,_,S(G),{})}}function Be(_,S){return function(D,G){var Z;if(D===t&&G===t)return S;if(D!==t&&(Z=D),G!==t){if(Z===t)return G;typeof D=="string"||typeof G=="string"?(D=go(D),G=go(G)):(D=bd(D),G=bd(G)),Z=_(D,G)}return Z}}function at(_){return jn(function(S){return S=Lr(S,qo(wn())),_n(function(D){var G=this;return _(S,function(Z){return jr(Z,G,D)})})})}function Ot(_,S){S=S===t?" ":go(S);var D=S.length;if(D<2)return D?au(S,_):S;var G=au(S,Ml(_/xa(S)));return Ql(S)?ju(oi(G),0,_).join(""):G.slice(0,_)}function Zt(_,S,D,G){var Z=S&y,pe=E(_);function Ee(){for(var De=-1,He=arguments.length,mt=-1,gt=G.length,Mt=Ye(gt+He),qt=this&&this!==Fr&&this instanceof Ee?pe:_;++mt<gt;)Mt[mt]=G[mt];for(;He--;)Mt[mt++]=arguments[++De];return jr(qt,Z?D:this,Mt)}return Ee}function On(_){return function(S,D,G){return G&&typeof G!="number"&&Fs(S,D,G)&&(D=G=t),S=Pd(S),D===t?(D=S,S=0):D=Pd(D),G=G===t?S<D?1:-1:Pd(G),No(S,D,G,_)}}function gn(_){return function(S,D){return typeof S=="string"&&typeof D=="string"||(S=kl(S),D=kl(D)),_(S,D)}}function Vn(_,S,D,G,Z,pe,Ee,De,He,mt){var gt=S&C,Mt=gt?Ee:t,qt=gt?t:Ee,mn=gt?pe:t,Dn=gt?t:pe;S|=gt?R:O,S&=~(gt?O:R),S&x||(S&=~(y|b));var ar=[_,S,Z,mn,Mt,Dn,qt,De,He,mt],Rn=D.apply(t,ar);return lm(_)&&D1(Rn,ar),Rn.placeholder=G,R1(Rn,_,S)}function jt(_){var S=ti[_];return function(D,G){if(D=kl(D),G=G==null?0:Io(nr(G),292),G&&ic(D)){var Z=(Jr(D)+"e").split("e"),pe=S(Z[0]+"e"+(+Z[1]+G));return Z=(Jr(pe)+"e").split("e"),+(Z[0]+"e"+(+Z[1]-G))}return S(D)}}var yo=Pl&&1/Ou(new Pl([,-0]))[1]==fe?function(_){return new Pl(_)}:_w;function ds(_){return function(S){var D=ts(S);return D==he?af(S):D==te?mg(S):pg(S,_(S))}}function Xe(_,S,D,G,Z,pe,Ee,De){var He=S&b;if(!He&&typeof _!="function")throw new Ko(s);var mt=G?G.length:0;if(mt||(S&=~(R|O),G=Z=t),Ee=Ee===t?Ee:Oi(nr(Ee),0),De=De===t?De:nr(De),mt-=Z?Z.length:0,S&O){var gt=G,Mt=Z;G=Z=t}var qt=He?t:Ia(_),mn=[_,S,D,G,Z,gt,Mt,pe,Ee,De];if(qt&&pb(mn,qt),_=mn[0],S=mn[1],D=mn[2],G=mn[3],Z=mn[4],De=mn[9]=mn[9]===t?He?0:_.length:Oi(mn[9]-mt,0),!De&&S&(C|M)&&(S&=~(C|M)),!S||S==y)var Dn=Kh(_,S,D);else S==C||S==M?Dn=T(_,S,De):(S==R||S==(y|R))&&!Z.length?Dn=Zt(_,S,D,G):Dn=$.apply(t,mn);var ar=qt?zh:D1;return R1(ar(Dn,mn),_,S)}function Ue(_,S,D,G){return _===t||Cc(_,Ja[D])&&!lr.call(G,D)?S:_}function it(_,S,D,G,Z,pe){return Vi(_)&&Vi(S)&&(pe.set(S,_),fs(_,S,t,it,pe),pe.delete(S)),_}function Gt(_){return q1(_)?t:_}function sn(_,S,D,G,Z,pe){var Ee=D&g,De=_.length,He=S.length;if(De!=He&&!(Ee&&He>De))return!1;var mt=pe.get(_),gt=pe.get(S);if(mt&&gt)return mt==S&&gt==_;var Mt=-1,qt=!0,mn=D&p?new Ol:t;for(pe.set(_,S),pe.set(S,_);++Mt<De;){var Dn=_[Mt],ar=S[Mt];if(G)var Rn=Ee?G(ar,Dn,Mt,S,_,pe):G(Dn,ar,Mt,_,S,pe);if(Rn!==t){if(Rn)continue;qt=!1;break}if(mn){if(!ed(S,function(pr,_r){if(!Si(mn,_r)&&(Dn===pr||Z(Dn,pr,D,G,pe)))return mn.push(_r)})){qt=!1;break}}else if(!(Dn===ar||Z(Dn,ar,D,G,pe))){qt=!1;break}}return pe.delete(_),pe.delete(S),qt}function Un(_,S,D,G,Z,pe,Ee){switch(D){case xe:if(_.byteLength!=S.byteLength||_.byteOffset!=S.byteOffset)return!1;_=_.buffer,S=S.buffer;case Me:return!(_.byteLength!=S.byteLength||!pe(new cf(_),new cf(S)));case Ze:case tt:case wt:return Cc(+_,+S);case lt:return _.name==S.name&&_.message==S.message;case $e:case K:return _==S+"";case he:var De=af;case te:var He=G&g;if(De||(De=Ou),_.size!=S.size&&!He)return!1;var mt=Ee.get(_);if(mt)return mt==S;G|=p,Ee.set(_,S);var gt=sn(De(_),De(S),G,Z,pe,Ee);return Ee.delete(_),gt;case j:if(lo)return lo.call(_)==lo.call(S)}return!1}function In(_,S,D,G,Z,pe){var Ee=D&g,De=gi(_),He=De.length,mt=gi(S),gt=mt.length;if(He!=gt&&!Ee)return!1;for(var Mt=He;Mt--;){var qt=De[Mt];if(!(Ee?qt in S:lr.call(S,qt)))return!1}var mn=pe.get(_),Dn=pe.get(S);if(mn&&Dn)return mn==S&&Dn==_;var ar=!0;pe.set(_,S),pe.set(S,_);for(var Rn=Ee;++Mt<He;){qt=De[Mt];var pr=_[qt],_r=S[qt];if(G)var Qu=Ee?G(_r,pr,qt,S,_,pe):G(pr,_r,qt,_,S,pe);if(!(Qu===t?pr===_r||Z(pr,_r,D,G,pe):Qu)){ar=!1;break}Rn||(Rn=qt=="constructor")}if(ar&&!Rn){var La=_.constructor,Zu=S.constructor;La!=Zu&&"constructor"in _&&"constructor"in S&&!(typeof La=="function"&&La instanceof La&&typeof Zu=="function"&&Zu instanceof Zu)&&(ar=!1)}return pe.delete(_),pe.delete(S),ar}function jn(_){return Ba(Cg(_,t,Pg),_+"")}function gi(_){return mf(_,hs,Wu)}function sr(_){return mf(_,hu,cb)}var Ia=Rh?function(_){return Rh.get(_)}:_w;function Af(_){for(var S=_.name+"",D=uc[S],G=lr.call(uc,S)?D.length:0;G--;){var Z=D[G],pe=Z.func;if(pe==null||pe==_)return Z.name}return S}function Sc(_){var S=lr.call(ce,"placeholder")?ce:_;return S.placeholder}function wn(){var _=ce.iteratee||gw;return _=_===gw?iu:_,arguments.length?_(arguments[0],arguments[1]):_}function sm(_,S){var D=_.__data__;return Jh(S)?D[typeof S=="string"?"string":"hash"]:D.map}function am(_){for(var S=hs(_),D=S.length;D--;){var G=S[D],Z=_[G];S[D]=[G,Z,cm(Z)]}return S}function Ef(_,S){var D=El(_,S);return vc(D)?D:t}function Sg(_){var S=lr.call(_,Za),D=_[Za];try{_[Za]=t;var G=!0}catch{}var Z=cs.call(_);return G&&(S?_[Za]=D:delete _[Za]),Z}var Wu=hf?function(_){return _==null?[]:(_=xn(_),Oo(hf(_),function(S){return ff.call(_,S)}))}:yw,cb=hf?function(_){for(var S=[];_;)Aa(S,Wu(_)),_=Qs(_);return S}:yw,ts=Hi;(Tl&&ts(new Tl(new ArrayBuffer(1)))!=xe||sc&&ts(new sc)!=he||ud&&ts(ud.resolve())!=yt||Pl&&ts(new Pl)!=te||ac&&ts(new ac)!=me)&&(ts=function(_){var S=Hi(_),D=S==vt?_.constructor:t,G=D?Sf(D):"";if(G)switch(G){case Oh:return xe;case Fu:return he;case Jp:return yt;case lc:return te;case zi:return me}return S});function M1(_,S,D){for(var G=-1,Z=D.length;++G<Z;){var pe=D[G],Ee=pe.size;switch(pe.type){case"drop":_+=Ee;break;case"dropRight":S-=Ee;break;case"take":S=Io(S,_+Ee);break;case"takeRight":_=Oi(_,S-Ee);break}}return{start:_,end:S}}function fb(_){var S=_.match(io);return S?S[1].split(Ai):[]}function T1(_,S,D){S=uu(S,_);for(var G=-1,Z=S.length,pe=!1;++G<Z;){var Ee=Xu(S[G]);if(!(pe=_!=null&&D(_,Ee)))break;_=_[Ee]}return pe||++G!=Z?pe:(Z=_==null?0:_.length,!!Z&&Rb(Z)&&vi(Ee,Z)&&(Yn(_)||_m(_)))}function um(_){var S=_.length,D=new _.constructor(S);return S&&typeof _[0]=="string"&&lr.call(_,"index")&&(D.index=_.index,D.input=_.input),D}function ns(_){return typeof _.constructor=="function"&&!xc(_)?Nu(Qs(_)):{}}function Wx(_,S,D){var G=_.constructor;switch(S){case Me:return _f(_);case Ze:case tt:return new G(+_);case xe:return bg(_,D);case Ge:case et:case Ne:case Ve:case Bt:case Nt:case Pt:case tn:case Jt:return Ag(_,D);case he:return new G;case wt:case K:return new G(_);case $e:return Os(_);case te:return new G;case j:return $h(_)}}function $x(_,S){var D=S.length;if(!D)return _;var G=D-1;return S[G]=(D>1?"& ":"")+S[G],S=S.join(D>2?", ":" "),_.replace(As,`{
/* [wrapped with `+S+`] */
`)}function xg(_){return Yn(_)||_m(_)||!!(Xp&&_&&_[Xp])}function vi(_,S){var D=typeof _;return S=S??V,!!S&&(D=="number"||D!="symbol"&&se.test(_))&&_>-1&&_%1==0&&_<S}function Fs(_,S,D){if(!Vi(D))return!1;var G=typeof S;return(G=="number"?du(D)&&vi(S,D.length):G=="string"&&S in D)?Cc(D[S],_):!1}function en(_,S){if(Yn(_))return!1;var D=typeof _;return D=="number"||D=="symbol"||D=="boolean"||_==null||Yu(_)?!0:li.test(_)||!Gn.test(_)||S!=null&&_ in xn(S)}function Jh(_){var S=typeof _;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?_!=="__proto__":_===null}function lm(_){var S=Af(_),D=ce[S];if(typeof D!="function"||!(S in pn.prototype))return!1;if(_===D)return!0;var G=Ia(D);return!!G&&_===G[0]}function db(_){return!!Ys&&Ys in _}var qx=xi?Td:bw;function xc(_){var S=_&&_.constructor,D=typeof S=="function"&&S.prototype||Ja;return _===D}function cm(_){return _===_&&!Vi(_)}function wg(_,S){return function(D){return D==null?!1:D[_]===S&&(S!==t||_ in xn(D))}}function hb(_){var S=Je(_,function(G){return D.size===c&&D.clear(),G}),D=S.cache;return S}function pb(_,S){var D=_[1],G=S[1],Z=D|G,pe=Z<(y|b|N),Ee=G==N&&D==C||G==N&&D==F&&_[7].length<=S[8]||G==(N|F)&&S[7].length<=S[8]&&D==C;if(!(pe||Ee))return _;G&y&&(_[2]=S[2],Z|=D&y?0:x);var De=S[3];if(De){var He=_[3];_[3]=He?Nl(He,De,S[4]):De,_[4]=He?Xo(_[3],l):S[4]}return De=S[5],De&&(He=_[5],_[5]=He?yf(He,De,S[6]):De,_[6]=He?Xo(_[5],l):S[6]),De=S[7],De&&(_[7]=De),G&N&&(_[8]=_[8]==null?S[8]:Io(_[8],S[8])),_[9]==null&&(_[9]=S[9]),_[0]=S[0],_[1]=Z,_}function mb(_){var S=[];if(_!=null)for(var D in xn(_))S.push(D);return S}function P1(_){return cs.call(_)}function Cg(_,S,D){return S=Oi(S===t?_.length-1:S,0),function(){for(var G=arguments,Z=-1,pe=Oi(G.length-S,0),Ee=Ye(pe);++Z<pe;)Ee[Z]=G[S+Z];Z=-1;for(var De=Ye(S+1);++Z<S;)De[Z]=G[Z];return De[S]=D(Ee),jr(_,this,De)}}function Uo(_,S){return S.length<2?_:Ms(_,mo(S,0,-1))}function $u(_,S){for(var D=_.length,G=Io(S.length,D),Z=_o(_);G--;){var pe=S[G];_[G]=vi(pe,D)?Z[pe]:t}return _}function Ul(_,S){if(!(S==="constructor"&&typeof _[S]=="function")&&S!="__proto__")return _[S]}var D1=qu(zh),Yh=Th||function(_,S){return Fr.setTimeout(_,S)},Ba=qu(po);function R1(_,S,D){var G=S+"";return Ba(_,$x(G,gb(fb(G),D)))}function qu(_){var S=0,D=0;return function(){var G=_g(),Z=Y-(G-D);if(D=G,Z>0){if(++S>=q)return arguments[0]}else S=0;return _.apply(t,arguments)}}function Mg(_,S){var D=-1,G=_.length,Z=G-1;for(S=S===t?G:S;++D<S;){var pe=Ds(D,Z),Ee=_[pe];_[pe]=_[D],_[D]=Ee}return _.length=S,_}var O1=hb(function(_){var S=[];return _.charCodeAt(0)===46&&S.push(""),_.replace(Zr,function(D,G,Z,pe){S.push(Z?pe.replace(va,"$1"):G||D)}),S});function Xu(_){if(typeof _=="string"||Yu(_))return _;var S=_+"";return S=="0"&&1/_==-fe?"-0":S}function Sf(_){if(_!=null){try{return nc.call(_)}catch{}try{return _+""}catch{}}return""}function gb(_,S){return fi(ye,function(D){var G="_."+D[0];S&D[1]&&!ba(_,G)&&_.push(G)}),_.sort()}function vb(_){if(_ instanceof pn)return _.clone();var S=new Ii(_.__wrapped__,_.__chain__);return S.__actions__=_o(_.__actions__),S.__index__=_.__index__,S.__values__=_.__values__,S}function Tg(_,S,D){(D?Fs(_,S,D):S===t)?S=1:S=Oi(nr(S),0);var G=_==null?0:_.length;if(!G||S<1)return[];for(var Z=0,pe=0,Ee=Ye(Ml(G/S));Z<G;)Ee[pe++]=mo(_,Z,Z+=S);return Ee}function I1(_){for(var S=-1,D=_==null?0:_.length,G=0,Z=[];++S<D;){var pe=_[S];pe&&(Z[G++]=pe)}return Z}function cu(){var _=arguments.length;if(!_)return[];for(var S=Ye(_-1),D=arguments[0],G=_;G--;)S[G-1]=arguments[G];return Aa(Yn(D)?_o(D):[D],di(S,1))}var vr=_n(function(_,S){return Ao(_)?ta(_,di(S,1,Ao,!0)):[]}),ko=_n(function(_,S){var D=Ls(S);return Ao(D)&&(D=t),Ao(_)?ta(_,di(S,1,Ao,!0),wn(D,2)):[]}),Zi=_n(function(_,S){var D=Ls(S);return Ao(D)&&(D=t),Ao(_)?ta(_,di(S,1,Ao,!0),t,D):[]});function rs(_,S,D){var G=_==null?0:_.length;return G?(S=D||S===t?1:nr(S),mo(_,S<0?0:S,G)):[]}function Fa(_,S,D){var G=_==null?0:_.length;return G?(S=D||S===t?1:nr(S),S=G-S,mo(_,0,S<0?0:S)):[]}function Qh(_,S){return _&&_.length?vf(_,wn(S,3),!0,!0):[]}function bo(_,S){return _&&_.length?vf(_,wn(S,3),!0):[]}function fm(_,S,D,G){var Z=_==null?0:_.length;return Z?(D&&typeof D!="number"&&Fs(_,S,D)&&(D=0,G=Z),tm(_,S,D,G)):[]}function xf(_,S,D){var G=_==null?0:_.length;if(!G)return-1;var Z=D==null?0:nr(D);return Z<0&&(Z=Oi(G+Z,0)),of(_,wn(S,3),Z)}function dm(_,S,D){var G=_==null?0:_.length;if(!G)return-1;var Z=G-1;return D!==t&&(Z=nr(D),Z=D<0?Oi(G+Z,0):Io(Z,G-1)),of(_,wn(S,3),Z,!0)}function Pg(_){var S=_==null?0:_.length;return S?di(_,1):[]}function hm(_){var S=_==null?0:_.length;return S?di(_,fe):[]}function ia(_,S){var D=_==null?0:_.length;return D?(S=S===t?1:nr(S),di(_,S)):[]}function B1(_){for(var S=-1,D=_==null?0:_.length,G={};++S<D;){var Z=_[S];G[Z[0]]=Z[1]}return G}function Ed(_){return _&&_.length?_[0]:t}function wc(_,S,D){var G=_==null?0:_.length;if(!G)return-1;var Z=D==null?0:nr(D);return Z<0&&(Z=Oi(G+Z,0)),Ea(_,S,Z)}function Dg(_){var S=_==null?0:_.length;return S?mo(_,0,-1):[]}var F1=_n(function(_){var S=Lr(_,Ac);return S.length&&S[0]===_[0]?mc(S):[]}),wf=_n(function(_){var S=Ls(_),D=Lr(_,Ac);return S===Ls(D)?S=t:D.pop(),D.length&&D[0]===_[0]?mc(D,wn(S,2)):[]}),Rg=_n(function(_){var S=Ls(_),D=Lr(_,Ac);return S=typeof S=="function"?S:t,S&&D.pop(),D.length&&D[0]===_[0]?mc(D,t,S):[]});function Cf(_,S){return _==null?"":Dh.call(_,S)}function Ls(_){var S=_==null?0:_.length;return S?_[S-1]:t}function pm(_,S,D){var G=_==null?0:_.length;if(!G)return-1;var Z=G;return D!==t&&(Z=nr(D),Z=Z<0?Oi(G+Z,0):Io(Z,G-1)),S===S?gg(_,S,Z):of(_,td,Z,!0)}function L1(_,S){return _&&_.length?Ra(_,nr(S)):t}var Og=_n(mm);function mm(_,S){return _&&_.length&&S&&S.length?ui(_,S):_}function Ns(_,S,D){return _&&_.length&&S&&S.length?ui(_,S,wn(D,2)):_}function Mf(_,S,D){return _&&_.length&&S&&S.length?ui(_,S,t,D):_}var Ku=jn(function(_,S){var D=_==null?0:_.length,G=pd(_,S);return hr(_,Lr(S,function(Z){return vi(Z,D)?+Z:Z}).sort(lu)),G});function oa(_,S){var D=[];if(!(_&&_.length))return D;var G=-1,Z=[],pe=_.length;for(S=wn(S,3);++G<pe;){var Ee=_[G];S(Ee,G,_)&&(D.push(Ee),Z.push(G))}return hr(_,Z),D}function Ig(_){return _==null?_:ad.call(_)}function N1(_,S,D){var G=_==null?0:_.length;return G?(D&&typeof D!="number"&&Fs(_,S,D)?(S=0,D=G):(S=S==null?0:nr(S),D=D===t?G:nr(D)),mo(_,S,D)):[]}function U1(_,S){return na(_,S)}function Xx(_,S,D){return yd(_,S,wn(D,2))}function Tf(_,S){var D=_==null?0:_.length;if(D){var G=na(_,S);if(G<D&&Cc(_[G],S))return G}return-1}function _b(_,S){return na(_,S,!0)}function k1(_,S,D){return yd(_,S,wn(D,2),!0)}function Sd(_,S){var D=_==null?0:_.length;if(D){var G=na(_,S,!0)-1;if(Cc(_[G],S))return G}return-1}function z1(_){return _&&_.length?Hh(_):[]}function xd(_,S){return _&&_.length?Hh(_,wn(S,2)):[]}function yb(_){var S=_==null?0:_.length;return S?mo(_,1,S):[]}function bb(_,S,D){return _&&_.length?(S=D||S===t?1:nr(S),mo(_,0,S<0?0:S)):[]}function H1(_,S,D){var G=_==null?0:_.length;return G?(S=D||S===t?1:nr(S),S=G-S,mo(_,S<0?0:S,G)):[]}function Bg(_,S){return _&&_.length?vf(_,wn(S,3),!1,!0):[]}function Kx(_,S){return _&&_.length?vf(_,wn(S,3)):[]}var Jx=_n(function(_){return Vu(di(_,1,Ao,!0))}),Ab=_n(function(_){var S=Ls(_);return Ao(S)&&(S=t),Vu(di(_,1,Ao,!0),wn(S,2))}),Eb=_n(function(_){var S=Ls(_);return S=typeof S=="function"?S:t,Vu(di(_,1,Ao,!0),t,S)});function wd(_){return _&&_.length?Vu(_):[]}function Yx(_,S){return _&&_.length?Vu(_,wn(S,2)):[]}function Zh(_,S){return S=typeof S=="function"?S:t,_&&_.length?Vu(_,t,S):[]}function Fg(_){if(!(_&&_.length))return[];var S=0;return _=Oo(_,function(D){if(Ao(D))return S=Oi(D.length,S),!0}),Ru(S,function(D){return Lr(_,ls(D))})}function Ci(_,S){if(!(_&&_.length))return[];var D=Fg(_);return S==null?D:Lr(D,function(G){return jr(S,t,G)})}var Qx=_n(function(_,S){return Ao(_)?ta(_,S):[]}),Sb=_n(function(_){return jh(Oo(_,Ao))}),Zx=_n(function(_){var S=Ls(_);return Ao(S)&&(S=t),jh(Oo(_,Ao),wn(S,2))}),ew=_n(function(_){var S=Ls(_);return S=typeof S=="function"?S:t,jh(Oo(_,Ao),t,S)}),xb=_n(Fg);function wb(_,S){return Oa(_||[],S||[],ws)}function tw(_,S){return Oa(_||[],S||[],Gu)}var fu=_n(function(_){var S=_.length,D=S>1?_[S-1]:t;return D=typeof D=="function"?(_.pop(),D):t,Ci(_,D)});function Lg(_){var S=ce(_);return S.__chain__=!0,S}function nw(_,S){return S(_),_}function Ju(_,S){return S(_)}var Ng=jn(function(_){var S=_.length,D=S?_[0]:0,G=this.__wrapped__,Z=function(pe){return pd(pe,_)};return S>1||this.__actions__.length||!(G instanceof pn)||!vi(D)?this.thru(Z):(G=G.slice(D,+D+(S?1:0)),G.__actions__.push({func:Ju,args:[Z],thisArg:t}),new Ii(G,this.__chain__).thru(function(pe){return S&&!pe.length&&pe.push(t),pe}))});function Cd(){return Lg(this)}function Ug(){return new Ii(this.value(),this.__chain__)}function G1(){this.__values__===t&&(this.__values__=yD(this.value()));var _=this.__index__>=this.__values__.length,S=_?t:this.__values__[this.__index__++];return{done:_,value:S}}function V1(){return this}function rw(_){for(var S,D=this;D instanceof Ca;){var G=vb(D);G.__index__=0,G.__values__=t,S?Z.__wrapped__=G:S=G;var Z=G;D=D.__wrapped__}return Z.__wrapped__=_,S}function j1(){var _=this.__wrapped__;if(_ instanceof pn){var S=_;return this.__actions__.length&&(S=new pn(this)),S=S.reverse(),S.__actions__.push({func:Ju,args:[Ig],thisArg:t}),new Ii(S,this.__chain__)}return this.thru(Ig)}function iw(){return ra(this.__wrapped__,this.__actions__)}var Cb=Ad(function(_,S,D){lr.call(_,D)?++_[D]:Ta(_,D,1)});function Mb(_,S,D){var G=Yn(_)?Ah:md;return D&&Fs(_,S,D)&&(S=t),G(_,wn(S,3))}function kg(_,S){var D=Yn(_)?Oo:kh;return D(_,wn(S,3))}var zg=L(xf),Tb=L(dm);function W1(_,S){return di(Md(_,S),1)}function ow(_,S){return di(Md(_,S),fe)}function Pb(_,S,D){return D=D===t?1:nr(D),di(Md(_,S),D)}function Hg(_,S){var D=Yn(_)?fi:Cs;return D(_,wn(S,3))}function gm(_,S){var D=Yn(_)?nf:yg;return D(_,wn(S,3))}var $1=Ad(function(_,S,D){lr.call(_,D)?_[D].push(S):Ta(_,D,[S])});function Gg(_,S,D,G){_=du(_)?_:Wg(_),D=D&&!G?nr(D):0;var Z=_.length;return D<0&&(D=Oi(Z+D,0)),Ob(_)?D<=Z&&_.indexOf(S,D)>-1:!!Z&&Ea(_,S,D)>-1}var Db=_n(function(_,S,D){var G=-1,Z=typeof S=="function",pe=du(_)?Ye(_.length):[];return Cs(_,function(Ee){pe[++G]=Z?jr(S,Ee,D):gr(Ee,S,D)}),pe}),sw=Ad(function(_,S,D){Ta(_,D,S)});function Md(_,S){var D=Yn(_)?Lr:Fl;return D(_,wn(S,3))}function aw(_,S,D,G){return _==null?[]:(Yn(S)||(S=S==null?[]:[S]),D=G?t:D,Yn(D)||(D=D==null?[]:[D]),Ll(_,S,D))}var vm=Ad(function(_,S,D){_[D?0:1].push(S)},function(){return[[],[]]});function uw(_,S,D){var G=Yn(_)?Eh:Al,Z=arguments.length<3;return G(_,wn(S,4),D,Z,Cs)}function Vg(_,S,D){var G=Yn(_)?dg:Al,Z=arguments.length<3;return G(_,wn(S,4),D,Z,yg)}function d(_,S){var D=Yn(_)?Oo:kh;return D(_,It(wn(S,3)))}function v(_){var S=Yn(_)?xs:ho;return S(_)}function w(_,S,D){(D?Fs(_,S,D):S===t)?S=1:S=nr(S);var G=Yn(_)?ku:vd;return G(_,S)}function P(_){var S=Yn(_)?em:Rs;return S(_)}function U(_){if(_==null)return 0;if(du(_))return Ob(_)?xa(_):_.length;var S=ts(_);return S==he||S==te?_.size:mi(_).length}function H(_,S,D){var G=Yn(_)?ed:_d;return D&&Fs(_,S,D)&&(S=t),G(_,wn(S,3))}var ne=_n(function(_,S){if(_==null)return[];var D=S.length;return D>1&&Fs(_,S[0],S[1])?S=[]:D>2&&Fs(S[0],S[1],S[2])&&(S=[S[0]]),Ll(_,di(S,1),[])}),Ae=Wr||function(){return Fr.Date.now()};function Te(_,S){if(typeof S!="function")throw new Ko(s);return _=nr(_),function(){if(--_<1)return S.apply(this,arguments)}}function nt(_,S,D){return S=D?t:S,S=_&&S==null?_.length:S,Xe(_,N,t,t,t,t,S)}function xt(_,S){var D;if(typeof S!="function")throw new Ko(s);return _=nr(_),function(){return--_>0&&(D=S.apply(this,arguments)),_<=1&&(S=t),D}}var Rt=_n(function(_,S,D){var G=y;if(D.length){var Z=Xo(D,Sc(Rt));G|=R}return Xe(_,G,S,D,Z)}),At=_n(function(_,S,D){var G=y|b;if(D.length){var Z=Xo(D,Sc(At));G|=R}return Xe(S,G,_,D,Z)});function Kt(_,S,D){S=D?t:S;var G=Xe(_,C,t,t,t,t,t,S);return G.placeholder=Kt.placeholder,G}function nn(_,S,D){S=D?t:S;var G=Xe(_,M,t,t,t,t,t,S);return G.placeholder=nn.placeholder,G}function on(_,S,D){var G,Z,pe,Ee,De,He,mt=0,gt=!1,Mt=!1,qt=!0;if(typeof _!="function")throw new Ko(s);S=kl(S)||0,Vi(D)&&(gt=!!D.leading,Mt="maxWait"in D,pe=Mt?Oi(kl(D.maxWait)||0,S):pe,qt="trailing"in D?!!D.trailing:qt);function mn(Eo){var Mc=G,Dd=Z;return G=Z=t,mt=Eo,Ee=_.apply(Dd,Mc),Ee}function Dn(Eo){return mt=Eo,De=Yh(pr,S),gt?mn(Eo):Ee}function ar(Eo){var Mc=Eo-He,Dd=Eo-mt,OD=S-Mc;return Mt?Io(OD,pe-Dd):OD}function Rn(Eo){var Mc=Eo-He,Dd=Eo-mt;return He===t||Mc>=S||Mc<0||Mt&&Dd>=pe}function pr(){var Eo=Ae();if(Rn(Eo))return _r(Eo);De=Yh(pr,ar(Eo))}function _r(Eo){return De=t,qt&&G?mn(Eo):(G=Z=t,Ee)}function Qu(){De!==t&&im(De),mt=0,G=He=Z=De=t}function La(){return De===t?Ee:_r(Ae())}function Zu(){var Eo=Ae(),Mc=Rn(Eo);if(G=arguments,Z=this,He=Eo,Mc){if(De===t)return Dn(He);if(Mt)return im(De),De=Yh(pr,S),mn(He)}return De===t&&(De=Yh(pr,S)),Ee}return Zu.cancel=Qu,Zu.flush=La,Zu}var Gi=_n(function(_,S){return Uh(_,1,S)}),qe=_n(function(_,S,D){return Uh(_,kl(S)||0,D)});function Fe(_){return Xe(_,I)}function Je(_,S){if(typeof _!="function"||S!=null&&typeof S!="function")throw new Ko(s);var D=function(){var G=arguments,Z=S?S.apply(this,G):G[0],pe=D.cache;if(pe.has(Z))return pe.get(Z);var Ee=_.apply(this,G);return D.cache=pe.set(Z,Ee)||pe,Ee};return D.cache=new(Je.Cache||Yo),D}Je.Cache=Yo;function It(_){if(typeof _!="function")throw new Ko(s);return function(){var S=arguments;switch(S.length){case 0:return!_.call(this);case 1:return!_.call(this,S[0]);case 2:return!_.call(this,S[0],S[1]);case 3:return!_.call(this,S[0],S[1],S[2])}return!_.apply(this,S)}}function cn(_){return xt(2,_)}var Sn=rm(function(_,S){S=S.length==1&&Yn(S[0])?Lr(S[0],qo(wn())):Lr(di(S,1),qo(wn()));var D=S.length;return _n(function(G){for(var Z=-1,pe=Io(G.length,D);++Z<pe;)G[Z]=S[Z].call(this,G[Z]);return jr(_,this,G)})}),yn=_n(function(_,S){var D=Xo(S,Sc(yn));return Xe(_,R,t,S,D)}),Pn=_n(function(_,S){var D=Xo(S,Sc(Pn));return Xe(_,O,t,S,D)}),zo=jn(function(_,S){return Xe(_,F,t,t,t,S)});function xr(_,S){if(typeof _!="function")throw new Ko(s);return S=S===t?S:nr(S),_n(_,S)}function Pf(_,S){if(typeof _!="function")throw new Ko(s);return S=S==null?0:Oi(nr(S),0),_n(function(D){var G=D[S],Z=ju(D,0,S);return G&&Aa(Z,G),jr(_,this,Z)})}function lw(_,S,D){var G=!0,Z=!0;if(typeof _!="function")throw new Ko(s);return Vi(D)&&(G="leading"in D?!!D.leading:G,Z="trailing"in D?!!D.trailing:Z),on(_,S,{leading:G,maxWait:S,trailing:Z})}function s9(_){return nt(_,1)}function a9(_,S){return yn(vo(S),_)}function u9(){if(!arguments.length)return[];var _=arguments[0];return Yn(_)?_:[_]}function l9(_){return es(_,m)}function c9(_,S){return S=typeof S=="function"?S:t,es(_,m,S)}function f9(_){return es(_,f|m)}function d9(_,S){return S=typeof S=="function"?S:t,es(_,f|m,S)}function h9(_,S){return S==null||hc(_,S,hs(S))}function Cc(_,S){return _===S||_!==_&&S!==S}var p9=gn(nu),m9=gn(function(_,S){return _>=S}),_m=Nn(function(){return arguments}())?Nn:function(_){return eo(_)&&lr.call(_,"callee")&&!ff.call(_,"callee")},Yn=Ye.isArray,g9=Zf?qo(Zf):wi;function du(_){return _!=null&&Rb(_.length)&&!Td(_)}function Ao(_){return eo(_)&&du(_)}function v9(_){return _===!0||_===!1||eo(_)&&Hi(_)==Ze}var ep=Ph||bw,_9=Ro?qo(Ro):Or;function y9(_){return eo(_)&&_.nodeType===1&&!q1(_)}function b9(_){if(_==null)return!0;if(du(_)&&(Yn(_)||typeof _=="string"||typeof _.splice=="function"||ep(_)||jg(_)||_m(_)))return!_.length;var S=ts(_);if(S==he||S==te)return!_.size;if(xc(_))return!mi(_).length;for(var D in _)if(lr.call(_,D))return!1;return!0}function A9(_,S){return Ir(_,S)}function E9(_,S,D){D=typeof D=="function"?D:t;var G=D?D(_,S):t;return G===t?Ir(_,S,t,D):!!G}function cw(_){if(!eo(_))return!1;var S=Hi(_);return S==lt||S==Qe||typeof _.message=="string"&&typeof _.name=="string"&&!q1(_)}function S9(_){return typeof _=="number"&&ic(_)}function Td(_){if(!Vi(_))return!1;var S=Hi(_);return S==We||S==Ke||S==Ie||S==Ht}function mD(_){return typeof _=="number"&&_==nr(_)}function Rb(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=V}function Vi(_){var S=typeof _;return _!=null&&(S=="object"||S=="function")}function eo(_){return _!=null&&typeof _=="object"}var gD=_l?qo(_l):gc;function x9(_,S){return _===S||ai(_,S,am(S))}function w9(_,S,D){return D=typeof D=="function"?D:t,ai(_,S,am(S),D)}function C9(_){return vD(_)&&_!=+_}function M9(_){if(qx(_))throw new Cn(o);return vc(_)}function T9(_){return _===null}function P9(_){return _==null}function vD(_){return typeof _=="number"||eo(_)&&Hi(_)==wt}function q1(_){if(!eo(_)||Hi(_)!=vt)return!1;var S=Qs(_);if(S===null)return!0;var D=lr.call(S,"constructor")&&S.constructor;return typeof D=="function"&&D instanceof D&&nc.call(D)==Ya}var fw=tf?qo(tf):ru;function D9(_){return mD(_)&&_>=-V&&_<=V}var _D=yl?qo(yl):Ps;function Ob(_){return typeof _=="string"||!Yn(_)&&eo(_)&&Hi(_)==K}function Yu(_){return typeof _=="symbol"||eo(_)&&Hi(_)==j}var jg=Jl?qo(Jl):_c;function R9(_){return _===t}function O9(_){return eo(_)&&ts(_)==me}function I9(_){return eo(_)&&Hi(_)==ve}var B9=gn(ou),F9=gn(function(_,S){return _<=S});function yD(_){if(!_)return[];if(du(_))return Ob(_)?oi(_):_o(_);if(Zs&&_[Zs])return sf(_[Zs]());var S=ts(_),D=S==he?af:S==te?Ou:Wg;return D(_)}function Pd(_){if(!_)return _===0?_:0;if(_=kl(_),_===fe||_===-fe){var S=_<0?-1:1;return S*ae}return _===_?_:0}function nr(_){var S=Pd(_),D=S%1;return S===S?D?S-D:S:0}function bD(_){return _?tu(nr(_),0,Q):0}function kl(_){if(typeof _=="number")return _;if(Yu(_))return ue;if(Vi(_)){var S=typeof _.valueOf=="function"?_.valueOf():_;_=Vi(S)?S+"":S}if(typeof _!="string")return _===0?_:+_;_=xh(_);var D=_a.test(_);return D||Kn.test(_)?bh(_.slice(2),D?2:8):$a.test(_)?ue:+_}function AD(_){return Is(_,hu(_))}function L9(_){return _?tu(nr(_),-V,V):_===0?_:0}function Jr(_){return _==null?"":go(_)}var N9=Ec(function(_,S){if(xc(S)||du(S)){Is(S,hs(S),_);return}for(var D in S)lr.call(S,D)&&ws(_,D,S[D])}),ED=Ec(function(_,S){Is(S,hu(S),_)}),Ib=Ec(function(_,S,D,G){Is(S,hu(S),_,G)}),U9=Ec(function(_,S,D,G){Is(S,hs(S),_,G)}),k9=jn(pd);function z9(_,S){var D=Nu(_);return S==null?D:qr(D,S)}var H9=_n(function(_,S){_=xn(_);var D=-1,G=S.length,Z=G>2?S[2]:t;for(Z&&Fs(S[0],S[1],Z)&&(G=1);++D<G;)for(var pe=S[D],Ee=hu(pe),De=-1,He=Ee.length;++De<He;){var mt=Ee[De],gt=_[mt];(gt===t||Cc(gt,Ja[mt])&&!lr.call(_,mt))&&(_[mt]=pe[mt])}return _}),G9=_n(function(_){return _.push(t,it),jr(SD,t,_)});function V9(_,S){return Wp(_,wn(S,3),Fo)}function j9(_,S){return Wp(_,wn(S,3),Pa)}function W9(_,S){return _==null?_:pc(_,wn(S,3),hu)}function $9(_,S){return _==null?_:Bl(_,wn(S,3),hu)}function q9(_,S){return _&&Fo(_,wn(S,3))}function X9(_,S){return _&&Pa(_,wn(S,3))}function K9(_){return _==null?[]:zu(_,hs(_))}function J9(_){return _==null?[]:zu(_,hu(_))}function dw(_,S,D){var G=_==null?t:Ms(_,S);return G===t?D:G}function Y9(_,S){return _!=null&&T1(_,S,Ts)}function hw(_,S){return _!=null&&T1(_,S,Hu)}var Q9=_e(function(_,S,D){S!=null&&typeof S.toString!="function"&&(S=cs.call(S)),_[S]=D},mw(pu)),Z9=_e(function(_,S,D){S!=null&&typeof S.toString!="function"&&(S=cs.call(S)),lr.call(_,S)?_[S].push(D):_[S]=[D]},wn),ez=_n(gr);function hs(_){return du(_)?Ut(_):mi(_)}function hu(_){return du(_)?Ut(_,!0):gd(_)}function tz(_,S){var D={};return S=wn(S,3),Fo(_,function(G,Z,pe){Ta(D,S(G,Z,pe),G)}),D}function nz(_,S){var D={};return S=wn(S,3),Fo(_,function(G,Z,pe){Ta(D,Z,S(G,Z,pe))}),D}var rz=Ec(function(_,S,D){fs(_,S,D)}),SD=Ec(function(_,S,D,G){fs(_,S,D,G)}),iz=jn(function(_,S){var D={};if(_==null)return D;var G=!1;S=Lr(S,function(pe){return pe=uu(pe,_),G||(G=pe.length>1),pe}),Is(_,sr(_),D),G&&(D=es(D,f|h|m,Gt));for(var Z=S.length;Z--;)Gh(D,S[Z]);return D});function oz(_,S){return xD(_,It(wn(S)))}var sz=jn(function(_,S){return _==null?{}:bc(_,S)});function xD(_,S){if(_==null)return{};var D=Lr(sr(_),function(G){return[G]});return S=wn(S),su(_,D,function(G,Z){return S(G,Z[0])})}function az(_,S,D){S=uu(S,_);var G=-1,Z=S.length;for(Z||(Z=1,_=t);++G<Z;){var pe=_==null?t:_[Xu(S[G])];pe===t&&(G=Z,pe=D),_=Td(pe)?pe.call(_):pe}return _}function uz(_,S,D){return _==null?_:Gu(_,S,D)}function lz(_,S,D,G){return G=typeof G=="function"?G:t,_==null?_:Gu(_,S,D,G)}var wD=ds(hs),CD=ds(hu);function cz(_,S,D){var G=Yn(_),Z=G||ep(_)||jg(_);if(S=wn(S,4),D==null){var pe=_&&_.constructor;Z?D=G?new pe:[]:Vi(_)?D=Td(pe)?Nu(Qs(_)):{}:D={}}return(Z?fi:Fo)(_,function(Ee,De,He){return S(D,Ee,De,He)}),D}function fz(_,S){return _==null?!0:Gh(_,S)}function dz(_,S,D){return _==null?_:Vh(_,S,vo(D))}function hz(_,S,D,G){return G=typeof G=="function"?G:t,_==null?_:Vh(_,S,vo(D),G)}function Wg(_){return _==null?[]:uo(_,hs(_))}function pz(_){return _==null?[]:uo(_,hu(_))}function mz(_,S,D){return D===t&&(D=S,S=t),D!==t&&(D=kl(D),D=D===D?D:0),S!==t&&(S=kl(S),S=S===S?S:0),tu(kl(_),S,D)}function gz(_,S,D){return S=Pd(S),D===t?(D=S,S=0):D=Pd(D),_=kl(_),nm(_,S,D)}function vz(_,S,D){if(D&&typeof D!="boolean"&&Fs(_,S,D)&&(S=D=t),D===t&&(typeof S=="boolean"?(D=S,S=t):typeof _=="boolean"&&(D=_,_=t)),_===t&&S===t?(_=0,S=1):(_=Pd(_),S===t?(S=_,_=0):S=Pd(S)),_>S){var G=_;_=S,S=G}if(D||_%1||S%1){var Z=pf();return Io(_+Z*(S-_+yh("1e-"+((Z+"").length-1))),S)}return Ds(_,S)}var _z=A(function(_,S,D){return S=S.toLowerCase(),_+(D?MD(S):S)});function MD(_){return pw(Jr(_).toLowerCase())}function TD(_){return _=Jr(_),_&&_.replace(Oe,$p).replace(ki,"")}function yz(_,S,D){_=Jr(_),S=go(S);var G=_.length;D=D===t?G:tu(nr(D),0,G);var Z=D;return D-=S.length,D>=0&&_.slice(D,Z)==S}function bz(_){return _=Jr(_),_&&kt.test(_)?_.replace(dt,qp):_}function Az(_){return _=Jr(_),_&&us.test(_)?_.replace(Po,"\\$&"):_}var Ez=A(function(_,S,D){return _+(D?"-":"")+S.toLowerCase()}),Sz=A(function(_,S,D){return _+(D?" ":"")+S.toLowerCase()}),xz=om("toLowerCase");function wz(_,S,D){_=Jr(_),S=nr(S);var G=S?xa(_):0;if(!S||G>=S)return _;var Z=(S-G)/2;return Ot(Bu(Z),D)+_+Ot(Ml(Z),D)}function Cz(_,S,D){_=Jr(_),S=nr(S);var G=S?xa(_):0;return S&&G<S?_+Ot(S-G,D):_}function Mz(_,S,D){_=Jr(_),S=nr(S);var G=S?xa(_):0;return S&&G<S?Ot(S-G,D)+_:_}function Tz(_,S,D){return D||S==null?S=0:S&&(S=+S),Kp(Jr(_).replace(Xi,""),S||0)}function Pz(_,S,D){return(D?Fs(_,S,D):S===t)?S=1:S=nr(S),au(Jr(_),S)}function Dz(){var _=arguments,S=Jr(_[0]);return _.length<3?S:S.replace(_[1],_[2])}var Rz=A(function(_,S,D){return _+(D?"_":"")+S.toLowerCase()});function Oz(_,S,D){return D&&typeof D!="number"&&Fs(_,S,D)&&(S=D=t),D=D===t?Q:D>>>0,D?(_=Jr(_),_&&(typeof S=="string"||S!=null&&!fw(S))&&(S=go(S),!S&&Ql(_))?ju(oi(_),0,D):_.split(S,D)):[]}var Iz=A(function(_,S,D){return _+(D?" ":"")+pw(S)});function Bz(_,S,D){return _=Jr(_),D=D==null?0:tu(nr(D),0,_.length),S=go(S),_.slice(D,D+S.length)==S}function Fz(_,S,D){var G=ce.templateSettings;D&&Fs(_,S,D)&&(S=t),_=Jr(_),S=Ib({},S,G,Ue);var Z=Ib({},S.imports,G.imports,Ue),pe=hs(Z),Ee=uo(Z,pe),De,He,mt=0,gt=S.interpolate||ke,Mt="__p += '",qt=Ri((S.escape||ke).source+"|"+gt.source+"|"+(gt===Ar?Do:ke).source+"|"+(S.evaluate||ke).source+"|$","g"),mn="//# sourceURL="+(lr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ka+"]")+`
`;_.replace(qt,function(Rn,pr,_r,Qu,La,Zu){return _r||(_r=Qu),Mt+=_.slice(mt,Zu).replace(je,wh),pr&&(De=!0,Mt+=`' +
__e(`+pr+`) +
'`),La&&(He=!0,Mt+=`';
`+La+`;
__p += '`),_r&&(Mt+=`' +
((__t = (`+_r+`)) == null ? '' : __t) +
'`),mt=Zu+Rn.length,Rn}),Mt+=`';
`;var Dn=lr.call(S,"variable")&&S.variable;if(!Dn)Mt=`with (obj) {
`+Mt+`
}
`;else if(ii.test(Dn))throw new Cn(a);Mt=(He?Mt.replace(Mn,""):Mt).replace(Re,"$1").replace(Ft,"$1;"),Mt="function("+(Dn||"obj")+`) {
`+(Dn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(De?", __e = _.escape":"")+(He?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Mt+`return __p
}`;var ar=DD(function(){return Bn(pe,mn+"return "+Mt).apply(t,Ee)});if(ar.source=Mt,cw(ar))throw ar;return ar}function Lz(_){return Jr(_).toLowerCase()}function Nz(_){return Jr(_).toUpperCase()}function Uz(_,S,D){if(_=Jr(_),_&&(D||S===t))return xh(_);if(!_||!(S=go(S)))return _;var G=oi(_),Z=oi(S),pe=ei(G,Z),Ee=Yl(G,Z)+1;return ju(G,pe,Ee).join("")}function kz(_,S,D){if(_=Jr(_),_&&(D||S===t))return _.slice(0,Sl(_)+1);if(!_||!(S=go(S)))return _;var G=oi(_),Z=Yl(G,oi(S))+1;return ju(G,0,Z).join("")}function zz(_,S,D){if(_=Jr(_),_&&(D||S===t))return _.replace(Xi,"");if(!_||!(S=go(S)))return _;var G=oi(_),Z=ei(G,oi(S));return ju(G,Z).join("")}function Hz(_,S){var D=B,G=k;if(Vi(S)){var Z="separator"in S?S.separator:Z;D="length"in S?nr(S.length):D,G="omission"in S?go(S.omission):G}_=Jr(_);var pe=_.length;if(Ql(_)){var Ee=oi(_);pe=Ee.length}if(D>=pe)return _;var De=D-xa(G);if(De<1)return G;var He=Ee?ju(Ee,0,De).join(""):_.slice(0,De);if(Z===t)return He+G;if(Ee&&(De+=He.length-De),fw(Z)){if(_.slice(De).search(Z)){var mt,gt=He;for(Z.global||(Z=Ri(Z.source,Jr(Gr.exec(Z))+"g")),Z.lastIndex=0;mt=Z.exec(gt);)var Mt=mt.index;He=He.slice(0,Mt===t?De:Mt)}}else if(_.indexOf(go(Z),De)!=De){var qt=He.lastIndexOf(Z);qt>-1&&(He=He.slice(0,qt))}return He+G}function Gz(_){return _=Jr(_),_&&bt.test(_)?_.replace(rt,ec):_}var Vz=A(function(_,S,D){return _+(D?" ":"")+S.toUpperCase()}),pw=om("toUpperCase");function PD(_,S,D){return _=Jr(_),S=D?t:S,S===t?rd(_)?uf(_):hg(_):_.match(S)||[]}var DD=_n(function(_,S){try{return jr(_,t,S)}catch(D){return cw(D)?D:new Cn(D)}}),jz=jn(function(_,S){return fi(S,function(D){D=Xu(D),Ta(_,D,Rt(_[D],_))}),_});function Wz(_){var S=_==null?0:_.length,D=wn();return _=S?Lr(_,function(G){if(typeof G[1]!="function")throw new Ko(s);return[D(G[0]),G[1]]}):[],_n(function(G){for(var Z=-1;++Z<S;){var pe=_[Z];if(jr(pe[0],this,G))return jr(pe[1],this,G)}})}function $z(_){return Nh(es(_,f))}function mw(_){return function(){return _}}function qz(_,S){return _==null||_!==_?S:_}var Xz=z(),Kz=z(!0);function pu(_){return _}function gw(_){return iu(typeof _=="function"?_:es(_,f))}function Jz(_){return yc(es(_,f))}function Yz(_,S){return Xr(_,es(S,f))}var Qz=_n(function(_,S){return function(D){return gr(D,_,S)}}),Zz=_n(function(_,S){return function(D){return gr(_,D,S)}});function vw(_,S,D){var G=hs(S),Z=zu(S,G);D==null&&!(Vi(S)&&(Z.length||!G.length))&&(D=S,S=_,_=this,Z=zu(S,hs(S)));var pe=!(Vi(D)&&"chain"in D)||!!D.chain,Ee=Td(_);return fi(Z,function(De){var He=S[De];_[De]=He,Ee&&(_.prototype[De]=function(){var mt=this.__chain__;if(pe||mt){var gt=_(this.__wrapped__),Mt=gt.__actions__=_o(this.__actions__);return Mt.push({func:He,args:arguments,thisArg:_}),gt.__chain__=mt,gt}return He.apply(_,Aa([this.value()],arguments))})}),_}function eH(){return Fr._===this&&(Fr._=id),this}function _w(){}function tH(_){return _=nr(_),_n(function(S){return Ra(S,_)})}var nH=at(Lr),rH=at(Ah),iH=at(ed);function RD(_){return en(_)?ls(Xu(_)):Kr(_)}function oH(_){return function(S){return _==null?t:Ms(_,S)}}var sH=On(),aH=On(!0);function yw(){return[]}function bw(){return!1}function uH(){return{}}function lH(){return""}function cH(){return!0}function fH(_,S){if(_=nr(_),_<1||_>V)return[];var D=Q,G=Io(_,Q);S=wn(S),_-=Q;for(var Z=Ru(G,S);++D<_;)S(D);return Z}function dH(_){return Yn(_)?Lr(_,Xu):Yu(_)?[_]:_o(O1(Jr(_)))}function hH(_){var S=++wl;return Jr(_)+S}var pH=Be(function(_,S){return _+S},0),mH=jt("ceil"),gH=Be(function(_,S){return _/S},1),vH=jt("floor");function _H(_){return _&&_.length?Il(_,pu,nu):t}function yH(_,S){return _&&_.length?Il(_,wn(S,2),nu):t}function bH(_){return nd(_,pu)}function AH(_,S){return nd(_,wn(S,2))}function EH(_){return _&&_.length?Il(_,pu,ou):t}function SH(_,S){return _&&_.length?Il(_,wn(S,2),ou):t}var xH=Be(function(_,S){return _*S},1),wH=jt("round"),CH=Be(function(_,S){return _-S},0);function MH(_){return _&&_.length?Sa(_,pu):0}function TH(_,S){return _&&_.length?Sa(_,wn(S,2)):0}return ce.after=Te,ce.ary=nt,ce.assign=N9,ce.assignIn=ED,ce.assignInWith=Ib,ce.assignWith=U9,ce.at=k9,ce.before=xt,ce.bind=Rt,ce.bindAll=jz,ce.bindKey=At,ce.castArray=u9,ce.chain=Lg,ce.chunk=Tg,ce.compact=I1,ce.concat=cu,ce.cond=Wz,ce.conforms=$z,ce.constant=mw,ce.countBy=Cb,ce.create=z9,ce.curry=Kt,ce.curryRight=nn,ce.debounce=on,ce.defaults=H9,ce.defaultsDeep=G9,ce.defer=Gi,ce.delay=qe,ce.difference=vr,ce.differenceBy=ko,ce.differenceWith=Zi,ce.drop=rs,ce.dropRight=Fa,ce.dropRightWhile=Qh,ce.dropWhile=bo,ce.fill=fm,ce.filter=kg,ce.flatMap=W1,ce.flatMapDeep=ow,ce.flatMapDepth=Pb,ce.flatten=Pg,ce.flattenDeep=hm,ce.flattenDepth=ia,ce.flip=Fe,ce.flow=Xz,ce.flowRight=Kz,ce.fromPairs=B1,ce.functions=K9,ce.functionsIn=J9,ce.groupBy=$1,ce.initial=Dg,ce.intersection=F1,ce.intersectionBy=wf,ce.intersectionWith=Rg,ce.invert=Q9,ce.invertBy=Z9,ce.invokeMap=Db,ce.iteratee=gw,ce.keyBy=sw,ce.keys=hs,ce.keysIn=hu,ce.map=Md,ce.mapKeys=tz,ce.mapValues=nz,ce.matches=Jz,ce.matchesProperty=Yz,ce.memoize=Je,ce.merge=rz,ce.mergeWith=SD,ce.method=Qz,ce.methodOf=Zz,ce.mixin=vw,ce.negate=It,ce.nthArg=tH,ce.omit=iz,ce.omitBy=oz,ce.once=cn,ce.orderBy=aw,ce.over=nH,ce.overArgs=Sn,ce.overEvery=rH,ce.overSome=iH,ce.partial=yn,ce.partialRight=Pn,ce.partition=vm,ce.pick=sz,ce.pickBy=xD,ce.property=RD,ce.propertyOf=oH,ce.pull=Og,ce.pullAll=mm,ce.pullAllBy=Ns,ce.pullAllWith=Mf,ce.pullAt=Ku,ce.range=sH,ce.rangeRight=aH,ce.rearg=zo,ce.reject=d,ce.remove=oa,ce.rest=xr,ce.reverse=Ig,ce.sampleSize=w,ce.set=uz,ce.setWith=lz,ce.shuffle=P,ce.slice=N1,ce.sortBy=ne,ce.sortedUniq=z1,ce.sortedUniqBy=xd,ce.split=Oz,ce.spread=Pf,ce.tail=yb,ce.take=bb,ce.takeRight=H1,ce.takeRightWhile=Bg,ce.takeWhile=Kx,ce.tap=nw,ce.throttle=lw,ce.thru=Ju,ce.toArray=yD,ce.toPairs=wD,ce.toPairsIn=CD,ce.toPath=dH,ce.toPlainObject=AD,ce.transform=cz,ce.unary=s9,ce.union=Jx,ce.unionBy=Ab,ce.unionWith=Eb,ce.uniq=wd,ce.uniqBy=Yx,ce.uniqWith=Zh,ce.unset=fz,ce.unzip=Fg,ce.unzipWith=Ci,ce.update=dz,ce.updateWith=hz,ce.values=Wg,ce.valuesIn=pz,ce.without=Qx,ce.words=PD,ce.wrap=a9,ce.xor=Sb,ce.xorBy=Zx,ce.xorWith=ew,ce.zip=xb,ce.zipObject=wb,ce.zipObjectDeep=tw,ce.zipWith=fu,ce.entries=wD,ce.entriesIn=CD,ce.extend=ED,ce.extendWith=Ib,vw(ce,ce),ce.add=pH,ce.attempt=DD,ce.camelCase=_z,ce.capitalize=MD,ce.ceil=mH,ce.clamp=mz,ce.clone=l9,ce.cloneDeep=f9,ce.cloneDeepWith=d9,ce.cloneWith=c9,ce.conformsTo=h9,ce.deburr=TD,ce.defaultTo=qz,ce.divide=gH,ce.endsWith=yz,ce.eq=Cc,ce.escape=bz,ce.escapeRegExp=Az,ce.every=Mb,ce.find=zg,ce.findIndex=xf,ce.findKey=V9,ce.findLast=Tb,ce.findLastIndex=dm,ce.findLastKey=j9,ce.floor=vH,ce.forEach=Hg,ce.forEachRight=gm,ce.forIn=W9,ce.forInRight=$9,ce.forOwn=q9,ce.forOwnRight=X9,ce.get=dw,ce.gt=p9,ce.gte=m9,ce.has=Y9,ce.hasIn=hw,ce.head=Ed,ce.identity=pu,ce.includes=Gg,ce.indexOf=wc,ce.inRange=gz,ce.invoke=ez,ce.isArguments=_m,ce.isArray=Yn,ce.isArrayBuffer=g9,ce.isArrayLike=du,ce.isArrayLikeObject=Ao,ce.isBoolean=v9,ce.isBuffer=ep,ce.isDate=_9,ce.isElement=y9,ce.isEmpty=b9,ce.isEqual=A9,ce.isEqualWith=E9,ce.isError=cw,ce.isFinite=S9,ce.isFunction=Td,ce.isInteger=mD,ce.isLength=Rb,ce.isMap=gD,ce.isMatch=x9,ce.isMatchWith=w9,ce.isNaN=C9,ce.isNative=M9,ce.isNil=P9,ce.isNull=T9,ce.isNumber=vD,ce.isObject=Vi,ce.isObjectLike=eo,ce.isPlainObject=q1,ce.isRegExp=fw,ce.isSafeInteger=D9,ce.isSet=_D,ce.isString=Ob,ce.isSymbol=Yu,ce.isTypedArray=jg,ce.isUndefined=R9,ce.isWeakMap=O9,ce.isWeakSet=I9,ce.join=Cf,ce.kebabCase=Ez,ce.last=Ls,ce.lastIndexOf=pm,ce.lowerCase=Sz,ce.lowerFirst=xz,ce.lt=B9,ce.lte=F9,ce.max=_H,ce.maxBy=yH,ce.mean=bH,ce.meanBy=AH,ce.min=EH,ce.minBy=SH,ce.stubArray=yw,ce.stubFalse=bw,ce.stubObject=uH,ce.stubString=lH,ce.stubTrue=cH,ce.multiply=xH,ce.nth=L1,ce.noConflict=eH,ce.noop=_w,ce.now=Ae,ce.pad=wz,ce.padEnd=Cz,ce.padStart=Mz,ce.parseInt=Tz,ce.random=vz,ce.reduce=uw,ce.reduceRight=Vg,ce.repeat=Pz,ce.replace=Dz,ce.result=az,ce.round=wH,ce.runInContext=Pe,ce.sample=v,ce.size=U,ce.snakeCase=Rz,ce.some=H,ce.sortedIndex=U1,ce.sortedIndexBy=Xx,ce.sortedIndexOf=Tf,ce.sortedLastIndex=_b,ce.sortedLastIndexBy=k1,ce.sortedLastIndexOf=Sd,ce.startCase=Iz,ce.startsWith=Bz,ce.subtract=CH,ce.sum=MH,ce.sumBy=TH,ce.template=Fz,ce.times=fH,ce.toFinite=Pd,ce.toInteger=nr,ce.toLength=bD,ce.toLower=Lz,ce.toNumber=kl,ce.toSafeInteger=L9,ce.toString=Jr,ce.toUpper=Nz,ce.trim=Uz,ce.trimEnd=kz,ce.trimStart=zz,ce.truncate=Hz,ce.unescape=Gz,ce.uniqueId=hH,ce.upperCase=Vz,ce.upperFirst=pw,ce.each=Hg,ce.eachRight=gm,ce.first=Ed,vw(ce,function(){var _={};return Fo(ce,function(S,D){lr.call(ce.prototype,D)||(_[D]=S)}),_}(),{chain:!1}),ce.VERSION=r,fi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){ce[_].placeholder=ce}),fi(["drop","take"],function(_,S){pn.prototype[_]=function(D){D=D===t?1:Oi(nr(D),0);var G=this.__filtered__&&!S?new pn(this):this.clone();return G.__filtered__?G.__takeCount__=Io(D,G.__takeCount__):G.__views__.push({size:Io(D,Q),type:_+(G.__dir__<0?"Right":"")}),G},pn.prototype[_+"Right"]=function(D){return this.reverse()[_](D).reverse()}}),fi(["filter","map","takeWhile"],function(_,S){var D=S+1,G=D==ee||D==J;pn.prototype[_]=function(Z){var pe=this.clone();return pe.__iteratees__.push({iteratee:wn(Z,3),type:D}),pe.__filtered__=pe.__filtered__||G,pe}}),fi(["head","last"],function(_,S){var D="take"+(S?"Right":"");pn.prototype[_]=function(){return this[D](1).value()[0]}}),fi(["initial","tail"],function(_,S){var D="drop"+(S?"":"Right");pn.prototype[_]=function(){return this.__filtered__?new pn(this):this[D](1)}}),pn.prototype.compact=function(){return this.filter(pu)},pn.prototype.find=function(_){return this.filter(_).head()},pn.prototype.findLast=function(_){return this.reverse().find(_)},pn.prototype.invokeMap=_n(function(_,S){return typeof _=="function"?new pn(this):this.map(function(D){return gr(D,_,S)})}),pn.prototype.reject=function(_){return this.filter(It(wn(_)))},pn.prototype.slice=function(_,S){_=nr(_);var D=this;return D.__filtered__&&(_>0||S<0)?new pn(D):(_<0?D=D.takeRight(-_):_&&(D=D.drop(_)),S!==t&&(S=nr(S),D=S<0?D.dropRight(-S):D.take(S-_)),D)},pn.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},pn.prototype.toArray=function(){return this.take(Q)},Fo(pn.prototype,function(_,S){var D=/^(?:filter|find|map|reject)|While$/.test(S),G=/^(?:head|last)$/.test(S),Z=ce[G?"take"+(S=="last"?"Right":""):S],pe=G||/^find/.test(S);Z&&(ce.prototype[S]=function(){var Ee=this.__wrapped__,De=G?[1]:arguments,He=Ee instanceof pn,mt=De[0],gt=He||Yn(Ee),Mt=function(pr){var _r=Z.apply(ce,Aa([pr],De));return G&&qt?_r[0]:_r};gt&&D&&typeof mt=="function"&&mt.length!=1&&(He=gt=!1);var qt=this.__chain__,mn=!!this.__actions__.length,Dn=pe&&!qt,ar=He&&!mn;if(!pe&&gt){Ee=ar?Ee:new pn(this);var Rn=_.apply(Ee,De);return Rn.__actions__.push({func:Ju,args:[Mt],thisArg:t}),new Ii(Rn,qt)}return Dn&&ar?_.apply(this,De):(Rn=this.thru(Mt),Dn?G?Rn.value()[0]:Rn.value():Rn)})}),fi(["pop","push","shift","sort","splice","unshift"],function(_){var S=Ss[_],D=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",G=/^(?:pop|shift)$/.test(_);ce.prototype[_]=function(){var Z=arguments;if(G&&!this.__chain__){var pe=this.value();return S.apply(Yn(pe)?pe:[],Z)}return this[D](function(Ee){return S.apply(Yn(Ee)?Ee:[],Z)})}}),Fo(pn.prototype,function(_,S){var D=ce[S];if(D){var G=D.name+"";lr.call(uc,G)||(uc[G]=[]),uc[G].push({name:S,func:D})}}),uc[$(t,b).name]=[{name:"wrapper",func:t}],pn.prototype.clone=Ih,pn.prototype.reverse=Yp,pn.prototype.value=Yi,ce.prototype.at=Ng,ce.prototype.chain=Cd,ce.prototype.commit=Ug,ce.prototype.next=G1,ce.prototype.plant=rw,ce.prototype.reverse=j1,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=iw,ce.prototype.first=ce.prototype.head,Zs&&(ce.prototype[Zs]=V1),ce},xl=vg();Pi?((Pi.exports=xl)._=xl,Qf._=xl):Fr._=xl}).call(gQ)}($_,$_.exports)),$_.exports}var _Q=vQ();const kn=ky(_Q);function yQ(){const n=new URLSearchParams(window.location.search).get("host"),e=new URLSearchParams(window.location.search).get("shop");return/myshopify.com/.test(n)||/myshopify.com/.test(e)}const bQ=()=>{const n=new URLSearchParams(window.location.search).get("shop"),e=new URLSearchParams(window.location.search).get("shopName");let t=n||e;return!t&&document.location.ancestorOrigins.length>0&&(t=document.location.ancestorOrigins.item(0).replace("https://","")),t},AQ=()=>{try{return window.self!==window.top}catch{return!0}},n1={IS_SHOPIFY:yQ(),getShopifyShop:bQ(),inIframe:AQ};function FU(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=FU(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function wp(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=FU(n))&&(r&&(r+=" "),r+=e);return r}const xy=n=>typeof n=="number"&&!isNaN(n),$0=n=>typeof n=="string",ul=n=>typeof n=="function",mE=n=>$0(n)||ul(n)?n:null,JM=n=>W.isValidElement(n)||$0(n)||ul(n)||xy(n);function EQ(n,e,t){t===void 0&&(t=300);const{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function bx(n){let{enter:e,exit:t,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=n;return function(s){let{children:a,position:u,preventExitTransition:c,done:l,nodeRef:f,isIn:h,playToast:m}=s;const g=r?`${e}--${u}`:e,p=r?`${t}--${u}`:t,y=W.useRef(0);return W.useLayoutEffect(()=>{const b=f.current,x=g.split(" "),C=M=>{M.target===f.current&&(m(),b.removeEventListener("animationend",C),b.removeEventListener("animationcancel",C),y.current===0&&M.type!=="animationcancel"&&b.classList.remove(...x))};b.classList.add(...x),b.addEventListener("animationend",C),b.addEventListener("animationcancel",C)},[]),W.useEffect(()=>{const b=f.current,x=()=>{b.removeEventListener("animationend",x),i?EQ(b,l,o):l()};h||(c?x():(y.current=1,b.className+=` ${p}`,b.addEventListener("animationend",x)))},[h]),X.createElement(X.Fragment,null,a)}}function _I(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const Va=new Map;let wy=[];const YM=new Set,SQ=n=>YM.forEach(e=>e(n)),LU=()=>Va.size>0;function NU(n,e){var t;if(e)return!((t=Va.get(e))==null||!t.isToastActive(n));let r=!1;return Va.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function UU(n,e){JM(n)&&(LU()||wy.push({content:n,options:e}),Va.forEach(t=>{t.buildToast(n,e)}))}function yI(n,e){Va.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function xQ(n){const{subscribe:e,getSnapshot:t,setProps:r}=W.useRef(function(o){const s=o.containerId||1;return{subscribe(a){const u=function(l,f,h){let m=1,g=0,p=[],y=[],b=[],x=f;const C=new Map,M=new Set,R=()=>{b=Array.from(C.values()),M.forEach(F=>F())},O=F=>{y=F==null?[]:y.filter(I=>I!==F),R()},N=F=>{const{toastId:I,onOpen:B,updateId:k,children:q}=F.props,Y=k==null;F.staleId&&C.delete(F.staleId),C.set(I,F),y=[...y,F.props.toastId].filter(ee=>ee!==F.staleId),R(),h(_I(F,Y?"added":"updated")),Y&&ul(B)&&B(W.isValidElement(q)&&q.props)};return{id:l,props:x,observe:F=>(M.add(F),()=>M.delete(F)),toggle:(F,I)=>{C.forEach(B=>{I!=null&&I!==B.props.toastId||ul(B.toggle)&&B.toggle(F)})},removeToast:O,toasts:C,clearQueue:()=>{g-=p.length,p=[]},buildToast:(F,I)=>{if((de=>{let{containerId:we,toastId:ye,updateId:Ce}=de;const Le=we?we!==l:l!==1,Ie=C.has(ye)&&Ce==null;return Le||Ie})(I))return;const{toastId:B,updateId:k,data:q,staleId:Y,delay:ee}=I,le=()=>{O(B)},J=k==null;J&&g++;const fe={...x,style:x.toastStyle,key:m++,...Object.fromEntries(Object.entries(I).filter(de=>{let[we,ye]=de;return ye!=null})),toastId:B,updateId:k,data:q,closeToast:le,isIn:!1,className:mE(I.className||x.toastClassName),bodyClassName:mE(I.bodyClassName||x.bodyClassName),progressClassName:mE(I.progressClassName||x.progressClassName),autoClose:!I.isLoading&&(V=I.autoClose,ae=x.autoClose,V===!1||xy(V)&&V>0?V:ae),deleteToast(){const de=C.get(B),{onClose:we,children:ye}=de.props;ul(we)&&we(W.isValidElement(ye)&&ye.props),h(_I(de,"removed")),C.delete(B),g--,g<0&&(g=0),p.length>0?N(p.shift()):R()}};var V,ae;fe.closeButton=x.closeButton,I.closeButton===!1||JM(I.closeButton)?fe.closeButton=I.closeButton:I.closeButton===!0&&(fe.closeButton=!JM(x.closeButton)||x.closeButton);let ue=F;W.isValidElement(F)&&!$0(F.type)?ue=W.cloneElement(F,{closeToast:le,toastProps:fe,data:q}):ul(F)&&(ue=F({closeToast:le,toastProps:fe,data:q}));const Q={content:ue,props:fe,staleId:Y};x.limit&&x.limit>0&&g>x.limit&&J?p.push(Q):xy(ee)?setTimeout(()=>{N(Q)},ee):N(Q)},setProps(F){x=F},setToggle:(F,I)=>{C.get(F).toggle=I},isToastActive:F=>y.some(I=>I===F),getSnapshot:()=>b}}(s,o,SQ);Va.set(s,u);const c=u.observe(a);return wy.forEach(l=>UU(l.content,l.options)),wy=[],()=>{c(),Va.delete(s)}},setProps(a){var u;(u=Va.get(s))==null||u.setProps(a)},getSnapshot(){var a;return(a=Va.get(s))==null?void 0:a.getSnapshot()}}}(n)).current;r(n);const i=W.useSyncExternalStore(e,t,t);return{getToastToRender:function(o){if(!i)return[];const s=new Map;return n.newestOnTop&&i.reverse(),i.forEach(a=>{const{position:u}=a.props;s.has(u)||s.set(u,[]),s.get(u).push(a)}),Array.from(s,a=>o(a[0],a[1]))},isToastActive:NU,count:i==null?void 0:i.length}}function wQ(n){const[e,t]=W.useState(!1),[r,i]=W.useState(!1),o=W.useRef(null),s=W.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:l,closeOnClick:f}=n;var h,m;function g(){t(!0)}function p(){t(!1)}function y(C){const M=o.current;s.canDrag&&M&&(s.didMove=!0,e&&p(),s.delta=n.draggableDirection==="x"?C.clientX-s.start:C.clientY-s.start,s.start!==C.clientX&&(s.canCloseOnClick=!1),M.style.transform=`translate3d(${n.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`},0)`,M.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function b(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",b);const C=o.current;if(s.canDrag&&s.didMove&&C){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),n.closeToast(),void n.collapseAll();C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}(m=Va.get((h={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||m.setToggle(h.id,h.fn),W.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",g),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",p)}},[n.pauseOnFocusLoss]);const x={onPointerDown:function(C){if(n.draggable===!0||n.draggable===C.pointerType){s.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",b);const M=o.current;s.canCloseOnClick=!0,s.canDrag=!0,M.style.transition="none",n.draggableDirection==="x"?(s.start=C.clientX,s.removalDistance=M.offsetWidth*(n.draggablePercent/100)):(s.start=C.clientY,s.removalDistance=M.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(C){const{top:M,bottom:R,left:O,right:N}=o.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&n.pauseOnHover&&C.clientX>=O&&C.clientX<=N&&C.clientY>=M&&C.clientY<=R?p():g()}};return a&&u&&(x.onMouseEnter=p,n.stacked||(x.onMouseLeave=g)),f&&(x.onClick=C=>{l&&l(C),s.canCloseOnClick&&c()}),{playToast:g,pauseToast:p,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:x}}function CQ(n){let{delay:e,isRunning:t,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:u,progress:c,rtl:l,isIn:f,theme:h}=n;const m=o||u&&c===0,g={...a,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};u&&(g.transform=`scaleX(${c})`);const p=wp("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),y=ul(s)?s({rtl:l,type:i,defaultClassName:p}):wp(p,s),b={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{f&&r()}};return X.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},X.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),X.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:g,...b}))}let MQ=1;const kU=()=>""+MQ++;function TQ(n){return n&&($0(n.toastId)||xy(n.toastId))?n.toastId:kU()}function sy(n,e){return UU(n,e),e.toastId}function mS(n,e){return{...e,type:e&&e.type||n,toastId:TQ(e)}}function NA(n){return(e,t)=>sy(e,mS(n,t))}function yr(n,e){return sy(n,mS("default",e))}yr.loading=(n,e)=>sy(n,mS("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),yr.promise=function(n,e,t){let r,{pending:i,error:o,success:s}=e;i&&(r=$0(i)?yr.loading(i,t):yr.loading(i.render,{...t,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(l,f,h)=>{if(f==null)return void yr.dismiss(r);const m={type:l,...a,...t,data:h},g=$0(f)?{render:f}:f;return r?yr.update(r,{...m,...g}):yr(g.render,{...m,...g}),h},c=ul(n)?n():n;return c.then(l=>u("success",s,l)).catch(l=>u("error",o,l)),c},yr.success=NA("success"),yr.info=NA("info"),yr.error=NA("error"),yr.warning=NA("warning"),yr.warn=yr.warning,yr.dark=(n,e)=>sy(n,mS("default",{theme:"dark",...e})),yr.dismiss=function(n){(function(e){var t;if(LU()){if(e==null||$0(t=e)||xy(t))Va.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Va.get(e.containerId);r?r.removeToast(e.id):Va.forEach(i=>{i.removeToast(e.id)})}}else wy=wy.filter(r=>e!=null&&r.options.toastId!==e)})(n)},yr.clearWaitingQueue=function(n){n===void 0&&(n={}),Va.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},yr.isActive=NU,yr.update=function(n,e){e===void 0&&(e={});const t=((r,i)=>{var o;let{containerId:s}=i;return(o=Va.get(s||1))==null?void 0:o.toasts.get(r)})(n,e);if(t){const{props:r,content:i}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:kU()};o.toastId!==n&&(o.staleId=n);const s=o.render||i;delete o.render,sy(s,o)}},yr.done=n=>{yr.update(n,{progress:1})},yr.onChange=function(n){return YM.add(n),()=>{YM.delete(n)}},yr.play=n=>yI(!0,n),yr.pause=n=>yI(!1,n);const PQ=typeof window<"u"?W.useLayoutEffect:W.useEffect,UA=n=>{let{theme:e,type:t,isLoading:r,...i}=n;return X.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i})},W2={info:function(n){return X.createElement(UA,{...n},X.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return X.createElement(UA,{...n},X.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return X.createElement(UA,{...n},X.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return X.createElement(UA,{...n},X.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return X.createElement("div",{className:"Toastify__spinner"})}},DQ=n=>{const{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:o}=wQ(n),{closeButton:s,children:a,autoClose:u,onClick:c,type:l,hideProgressBar:f,closeToast:h,transition:m,position:g,className:p,style:y,bodyClassName:b,bodyStyle:x,progressClassName:C,progressStyle:M,updateId:R,role:O,progress:N,rtl:F,toastId:I,deleteToast:B,isIn:k,isLoading:q,closeOnClick:Y,theme:ee}=n,le=wp("Toastify__toast",`Toastify__toast-theme--${ee}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":Y}),J=ul(p)?p({rtl:F,position:g,type:l,defaultClassName:le}):wp(le,p),fe=function(Q){let{theme:de,type:we,isLoading:ye,icon:Ce}=Q,Le=null;const Ie={theme:de,type:we};return Ce===!1||(ul(Ce)?Le=Ce({...Ie,isLoading:ye}):W.isValidElement(Ce)?Le=W.cloneElement(Ce,Ie):ye?Le=W2.spinner():(Ze=>Ze in W2)(we)&&(Le=W2[we](Ie))),Le}(n),V=!!N||!u,ae={closeToast:h,type:l,theme:ee};let ue=null;return s===!1||(ue=ul(s)?s(ae):W.isValidElement(s)?W.cloneElement(s,ae):function(Q){let{closeToast:de,theme:we,ariaLabel:ye="close"}=Q;return X.createElement("button",{className:`Toastify__close-button Toastify__close-button--${we}`,type:"button",onClick:Ce=>{Ce.stopPropagation(),de(Ce)},"aria-label":ye},X.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},X.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(ae)),X.createElement(m,{isIn:k,done:B,position:g,preventExitTransition:t,nodeRef:r,playToast:o},X.createElement("div",{id:I,onClick:c,"data-in":k,className:J,...i,style:y,ref:r},X.createElement("div",{...k&&{role:O},className:ul(b)?b({type:l}):wp("Toastify__toast-body",b),style:x},fe!=null&&X.createElement("div",{className:wp("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!q})},fe),X.createElement("div",null,a)),ue,X.createElement(CQ,{...R&&!V?{key:`pb-${R}`}:{},rtl:F,theme:ee,delay:u,isRunning:e,isIn:k,closeToast:h,hide:f,type:l,style:M,className:C,controlledProgress:V,progress:N||0})))},Ax=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},RQ=bx(Ax("bounce",!0));bx(Ax("slide",!0));bx(Ax("zoom"));bx(Ax("flip"));const OQ={position:"top-right",transition:RQ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function IQ(n){let e={...OQ,...n};const t=n.stacked,[r,i]=W.useState(!0),o=W.useRef(null),{getToastToRender:s,isToastActive:a,count:u}=xQ(e),{className:c,style:l,rtl:f,containerId:h}=e;function m(p){const y=wp("Toastify__toast-container",`Toastify__toast-container--${p}`,{"Toastify__toast-container--rtl":f});return ul(c)?c({position:p,rtl:f,defaultClassName:y}):wp(y,mE(c))}function g(){t&&(i(!0),yr.play())}return PQ(()=>{if(t){var p;const y=o.current.querySelectorAll('[data-in="true"]'),b=12,x=(p=e.position)==null?void 0:p.includes("top");let C=0,M=0;Array.from(y).reverse().forEach((R,O)=>{const N=R;N.classList.add("Toastify__toast--stacked"),O>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=x?"top":"bot");const F=C*(r?.2:1)+(r?0:b*O);N.style.setProperty("--y",`${x?F:-1*F}px`),N.style.setProperty("--g",`${b}`),N.style.setProperty("--s",""+(1-(r?M:0))),C+=N.offsetHeight,M+=.025})}},[r,u,t]),X.createElement("div",{ref:o,className:"Toastify",id:h,onMouseEnter:()=>{t&&(i(!1),yr.pause())},onMouseLeave:g},s((p,y)=>{const b=y.length?{...l}:{...l,pointerEvents:"none"};return X.createElement("div",{className:m(p),style:b,key:`container-${p}`},y.map(x=>{let{content:C,props:M}=x;return X.createElement(DQ,{...M,stacked:t,collapseAll:g,isIn:a(M.toastId,M.containerId),style:M.style,key:`toast-${M.key}`},C)}))}))}const ib=()=>{const{selectedOptionTab:n,height:e,width:t,selectedChannelSize:r,selectedChannelColour:i,selectedPanelMaterial:o,selectedPanelShape:s,selectedRadius:a,selectedPostSize:u,selectedPostLength:c,selectedPanelColour:l,selectedPostColour:f,selectedInterlockingColour:h,selectedPostCapColour:m,selectedPostClipColour:g,selectedFixingMethod:p,channelInfos:y,shopifyMap:b,cartId:x,checkoutUrl:C,numOfClips:M,variantMapSku:R,specificChannelQuantity:O,size:N,channelQuantity:F,postQuantity:I,setPostQuantity:B,checkedPostOption:k,setChannelQuantity:q,checkedClipOption:Y,setSelectedPanelMaterial:ee,setSelectedPanelColour:le,setSelectedPanelShape:J,setWidth:fe,setHeight:V,setSize:ae,setSelectedRadius:ue,setSpecificChannelQuantity:Q,setSelectedChannelSize:de,setSelectedChannelColour:we,setSelectedFixingMethod:ye,setCheckedPostOption:Ce,setCheckedClipOption:Le,setSelectedPostSize:Ie,setSelectedPostColour:Ze,setSelectedPostLength:tt,setSelectedPostCapColour:Qe,setSelectedPostClipColour:lt,setSelectedInterlockingColour:We,setNumOfClips:Ke,setSelectedOptionTab:he}=rb(),wt=W.useMemo(()=>kn.get(c,["value"],1e3),[c]),ft=W.useMemo(()=>wt*.25,[wt]),vt=W.useMemo(()=>wt-ft,[wt,ft]),yt=W.useMemo(()=>Math.max(0,vt-e),[e,vt]),Ht=W.useMemo(()=>{if(!s)return{};switch(s.value){case Wi.CIRCLE:return pQ;case Wi.TRIANGLE:return hQ;case Wi.OCTAGON:return mQ;default:return{}}},[s]),$e=W.useMemo(()=>Object.keys(Ht).map(Qt=>({value:Qt,text:Qt})),[Ht]),te=W.useMemo(()=>Ht[N],[N,Ht]),K=W.useMemo(()=>{const Qt=s==null?void 0:s.value;return Qt==Wi.CIRCLE||Qt==Wi.OCTAGON||Qt==Wi.TRIANGLE},[s]),j=W.useMemo(()=>{if(K)return 1;{const Qt=kn.get(s,["eachHeight"],2400);return Math.ceil(e/Qt)}},[e,K,s]),re=W.useMemo(()=>{if(K)return 1;{const Qt=kn.get(s,["eachWidth"],1200);return Math.ceil(t/Qt)}},[K,s,t]),me=W.useMemo(()=>K?((te==null?void 0:te.width)||t)-50:t-50,[t,te,K]),ve=W.useMemo(()=>kn.get(r,["objectUrl"],"/models/Channel/medium_sign_channel.glb"),[r]),Me=W.useMemo(()=>kn.get(l,["colours",0,"value"],"#808080"),[l]),xe=W.useMemo(()=>kn.get(l,["colours",1,"value"],"#808080"),[l]),Ge=W.useMemo(()=>kn.get(i,["value"],"#808080"),[i]),et=W.useMemo(()=>kn.get(m,["value"],"#808080"),[m]),Ne=W.useMemo(()=>kn.get(g,["value"],"#808080"),[g]),Ve=W.useMemo(()=>kn.get(f,["value"],"#808080"),[f]),Bt=W.useMemo(()=>kn.get(h,["value"],"#808080"),[h]),Nt=W.useMemo(()=>kn.get(o,["colours"],[th.WHITE_GREY]),[o]),Pt=W.useMemo(()=>kn.get(a,["value"],0),[a]),tn=W.useMemo(()=>kn.get(u,["colours"],[ze.GREY]),[u]),Jt=W.useMemo(()=>kn.get(u,["lengths"],[Se["3M"]]),[u]),Mn=W.useMemo(()=>kn.get(u,["capColours"],[ze.GREY]),[u]),Re=W.useMemo(()=>kn.get(u,["clipColours"],[ze.STAINLESS]),[u]),Ft=W.useMemo(()=>u.type==Vo.DIA?`/models/Posts/Round/post-${u.size}.glb`:`/models/Posts/Square/post-${u.size}.glb`,[u.size,u.type]),rt=W.useMemo(()=>u.type==Vo.DIA?`/models/Clips/Round/${u.size}mm_dia_post_clip.glb`:`/models/Clips/Square/${u.size}mm_square_post_clip.glb`,[u.size,u.type]),dt=W.useMemo(()=>u.type==Vo.DIA?`/models/Caps/Round/${u.size}mm_round_post_cap_2024.glb`:`/models/Caps/Square/${u.size}mm_square_cap_2024.glb`,[u.size,u.type]),bt=W.useMemo(()=>t*e/1e6,[e,t]),kt=W.useMemo(()=>bt<.009?1265:bt<.019?632.5:bt<.029?316.25:bt<.039?210.83:bt<.049?158.13:bt<.059?126.5:bt<.069?105.42:bt<.079?90.36:bt<.089?86.25:bt<.1?83.06:bt<.2?76.67:bt<.3?48.3:bt<.4?36.14:bt<.5?35.78:bt<.6?31.36:bt<.7?28.31:bt<.8?27.6:bt<.9?27.06:bt<1?26.63:18.78,[bt]),vn=W.useMemo(()=>o.value==pS.ACM?l.value==th.WHITE_GREY.value||l.value==th.WHITE_WHITE.value?28.27:(l.value==th.BLACK_BLACK.value,28.61):70.17,[l.value,o.value]),fr=W.useMemo(()=>r.value==t1.SMALL?i.value==ze.MILL.value?3.63:i.value==ze.GREY.value?4.43:(i.value==ze.BLACK.value||i.value==ze.WHITE.value,4.75):i.value==ze.MILL.value?4.88:i.value==ze.GREY.value?5.6:(i.value==ze.BLACK.value||i.value==ze.WHITE.value,6.39),[i.value,r.value]),Ar=W.useMemo(()=>7.06,[]),Gn=W.useMemo(()=>p.value==KM.FLUSH_RIVET&&bt<.25?1.25:1,[bt,p.value]),li=W.useMemo(()=>{const Qt=y.channels.reduce((se,Oe)=>se+Oe.length,0),Kn=y.interlockings.reduce((se,Oe)=>se+Oe.length,0);return(kt*bt+vn*bt+Qt*fr+Kn*Ar)*Gn},[bt,Gn,fr,y.channels,y.interlockings,Ar,vn,kt]),Zr=()=>{const Qt={selectedOptionTab:n,checkedPostOption:k,checkedClipOption:Y,width:t,height:e,size:N,postQuantity:I,numOfClips:M,selectedChannelSize:r,selectedChannelColour:i,selectedPanelMaterial:o,selectedPanelColour:l,selectedPanelShape:s,selectedRadius:a,selectedInterlockingColour:h,selectedFixingMethod:p,selectedPostSize:u,selectedPostColour:f,selectedPostLength:c,selectedPostCapColour:m,selectedPostClipColour:g,channelQuantity:F,specificChannelQuantity:O};localStorage.setItem(mI,JSON.stringify(Qt)),yr("Save successfully",{type:"success"})},Po=()=>{let Qt=localStorage.getItem(mI);if(Qt){Qt=JSON.parse(Qt);const{selectedOptionTab:Kn,checkedPostOption:se,checkedClipOption:Oe,width:ke,height:je,size:be,postQuantity:st,numOfClips:St,selectedChannelSize:Ct,selectedChannelColour:Lt,selectedPanelMaterial:fn,selectedPanelColour:an,selectedPanelShape:Xt,selectedRadius:ot,selectedInterlockingColour:Dt,selectedFixingMethod:un,selectedPostSize:ln,selectedPostColour:rn,selectedPostLength:Yt,selectedPostCapColour:dr,selectedPostClipColour:En,channelQuantity:ci,specificChannelQuantity:oo}=Qt;ee(fn),le(an),J(Xt),fe(ke),V(je),ae(be),ue(ot),Q(oo),q(ci),de(Ct),we(Lt),ye(un),Ce(se),Le(Oe),Ie(ln),Ze(rn),tt(Yt),Qe(dr),lt(En),We(Dt),B(st),Ke(St),he(Kn)}},us=async()=>{if(!n1.getShopifyShop)return;const Qt=kn.get(b,["POSTS",`${ge}-${u.type}`,`${ge}-${u.size}`,`${ge}-${f.value}`,`${ge}-${c.value}`,"value"]),Kn=kn.get(b,["CAPS",`${ge}-${u.type}`,`${ge}-${u.size}`,`${ge}-${m.value}`,"value"]),se=kn.get(b,["CLIPS",`${ge}-${u.type}`,`${ge}-${u.size}`,`${ge}-${g.value}`,"value"]),Oe=kn.get(b,["PRODUCTS_CONFIGS","PanelProductId","value"]),ke=y.channels.reduce((St,Ct)=>St+Ct.length,0),je=y.interlockings.reduce((St,Ct)=>St+Ct.length,0),be={merchandiseId:Oe,id:Oe,quantity:1,properties:{"Panel Width":`${t} mm`,"Panel Height":`${e} mm`,Acreage:`${bt.toFixed(2)} m`,"Panel Shape":s.text,Material:o.text,"Material Price per m":`${vn.toFixed(2)}`,"Channel Size":r.text,"Channel Colour":i.text,"Number of Channels":y.channels.length,"Total Channel Length":`${ke.toFixed(2)} m`,"Channel Price per m":`${fr.toFixed(2)}`,"Total Interlocking Length":`${je.toFixed(2)} m`,"Interlocking Price per m":`${Ar.toFixed(2)}`,"Fixing Method":p.text,"_Size Category Price per m":`${kt.toFixed(2)}`,"_Base Price Multiplier":Gn.toFixed(2),"_Calculated Subtotal":`${li.toFixed(2)}`,"_Calculated Total":`${li.toFixed(2)}`,"_Configured On":new Date().toLocaleString("en-GB")}};o.value==pS.ACM&&(be.properties["Panel Colour"]=l.text);const st={shop:n1.getShopifyShop,products:[be]};Qt?k&&st.products.push({merchandiseId:Qt,id:Qt,quantity:I}):yr("Can't find post sku!",{type:"warning"}),Kn?k&&st.products.push({merchandiseId:Kn,id:Kn,quantity:I}):yr("Can't find post cap sku!",{type:"warning"}),se?Y&&st.products.push({merchandiseId:se,id:se,quantity:M}):yr("Can't find post clip sku!",{type:"warning"}),st.products=st.products.map(St=>{const Ct=R.find(Lt=>Lt.sku==St.id);return St.id=Ct&&Ct.id?Ct.id:St.id,St}),window.parent&&(console.log("post",{type:gI.ADD_TO_CART,content:st}),window.parent.postMessage({type:gI.ADD_TO_CART,content:st},"*"))},Xi=()=>{if(C&&x){const Qt=document.createElement("a");Qt.href=C,Qt.target="_blank",Qt.click(),Qt.remove()}},ro=W.useMemo(()=>n===L0.POST&&k,[k,n]),As=W.useMemo(()=>n===L0.POST&&Y,[Y,n]),io=W.useMemo(()=>n===L0.CHANNEL||n===L0.POST,[n]),Ai=(Qt,Kn=2)=>Qt>450+Kn*50?Kn+Math.ceil((Qt-(450+Kn*50))/450):Kn,Ui=W.useMemo(()=>K&&te?te.width:t,[t,K,te]),ii=W.useMemo(()=>K&&te?te.height:e,[e,K,te]),va=W.useMemo(()=>ft+vt,[ft,vt]),Do=W.useMemo(()=>Ui/re,[re,Ui]),Gr=W.useMemo(()=>ii/j,[j,ii]),$a=W.useMemo(()=>{const Qt=Ui/I;return new Array(I).fill(null).map((Kn,se)=>new oe((-Ui/2+(se+.5)*Qt)*Tt,-ft*Tt,0))},[Ui,I,ft]);W.useEffect(()=>{(s==null?void 0:s.value)==Wi.STANDARD_RECTANGLE?I<re&&B(re):B(re)},[re,I,s==null?void 0:s.value,B]);const _a=W.useMemo(()=>{if(K&&te)return te.channelOffset||[];if(O){const Qt=[];if(j===1)if(F==1)Qt.push(ii/2*Tt);else if(F==2)Qt.push(50*Tt),Qt.push((ii-50)*Tt);else{const Kn=[50*Tt,(ii-50)*Tt],se=F-2,Oe=(ii-50*2)/(se+1);for(let ke=0;ke<se;ke++)Kn.push(50*Tt+(ke+1)*Oe*Tt);return Kn}else if(F==1)Qt.push(50*Tt);else if(F==2)Qt.push(50*Tt),Qt.push((ii-50)*Tt);else{const Kn=Math.floor(F/j);let se=F%j;const Oe=Kn+(se>0?1:0),ke=Kn+(se>1?1:0);se=Math.max(0,se-2);for(let je=0;je<j;je++){const be=je*Gr;if(je==0){const st=Oe-1,St=(Gr-50)/(st+1);Qt.push(50*Tt);for(let Ct=0;Ct<st;Ct++)Qt.push(be*Tt+50*Tt+(Ct+1)*St*Tt)}else if(je==j-1){const st=ke-1,St=(Gr-50)/(st+1);Qt.push(be*Tt+Gr*Tt-50*Tt);for(let Ct=0;Ct<st;Ct++)Qt.push(be*Tt+(Ct+1)*St*Tt)}else{const st=Kn+(se>0?1:0);se--;const St=st,Ct=(Gr-50)/(St+1);for(let Lt=0;Lt<St;Lt++)Qt.push(be*Tt+(Lt+1)*Ct*Tt)}}}return Qt}if(j==1){const Qt=Ai(ii,2);if(Qt>2){const Kn=[50*Tt,(ii-50)*Tt],se=Qt-2,Oe=(ii-50*2)/(se+1);for(let ke=0;ke<se;ke++)Kn.push(50*Tt+(ke+1)*Oe*Tt);return q(Kn.length),Kn}else return q(2),[50*Tt,(ii-50)*Tt]}else{const Qt=[];for(let Kn=0;Kn<j;Kn++){const se=Kn*Gr;if(Kn==0){const ke=Ai(Gr,1)-1,je=(Gr-50)/(ke+1);Qt.push(50*Tt);for(let be=0;be<ke;be++)Qt.push(se*Tt+50*Tt+(be+1)*je*Tt)}else if(Kn==j-1){const ke=Ai(Gr,1)-1,je=(Gr-50)/(ke+1);Qt.push(se*Tt+Gr*Tt-50*Tt);for(let be=0;be<ke;be++)Qt.push(se*Tt+(be+1)*je*Tt)}else{const ke=Ai(Gr,1),je=(Gr-50)/(ke+1);for(let be=0;be<ke;be++)Qt.push(se*Tt+(be+1)*je*Tt)}}return q(Qt.length),Qt}},[K,te,O,j,F,ii,q,Gr]);return{width:Ui,height:ii,postTotalLength:va,offsetPostToGround:ft,postLengthFromLand:vt,postPositions:$a,chanelLength:me,selectedChannelSize:r,selectedPanelShape:s,interlockingColourCode:Bt,postColourCode:Ve,postCapColourCode:et,postClipColourCode:Ne,frontPanelColourCode:Me,backPanelColourCode:xe,chanelObjectUrl:ve,chanelColourCode:Ge,panelColourOptions:Nt,isShapeIsFixedShape:K,panelRadiusValue:Pt,postColourOptions:tn,postLengthOptions:Jt,postCapColourOptions:Mn,postClipColourOptions:Re,numOfPanelCols:re,numOfPanelRows:j,eachPanelWidth:Do,eachPanelHeight:Gr,postObjectUrl:Ft,postClipObjectUrl:rt,postCapObjectUrl:dt,totalPrice:li,openDraftOrder:Po,saveDraft:Zr,addToCart:us,checkout:Xi,previewPostVisibility:ro,previewAccessoriesVisibility:io,chanelOffsetYs:_a,sizeOptions:$e,shapeSize:te,numOfClips:M,channelInfos:y,heightFromLandToPanel:yt,previewPostClipVisibility:As}};var zU={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function BQ(n,e){if(gS(n,e))return n[e];throw typeof n[e]=="function"&&LQ(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function FQ(n,e,t){if(gS(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function gS(n,e){return!NQ(n)&&!Array.isArray(n)?!1:Cy(UQ,e)?!0:!(e in Object.prototype||e in Function.prototype)}function LQ(n,e){return n==null||typeof n[e]!="function"||Cy(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)?!1:Cy(kQ,e)?!0:!(e in Object.prototype||e in Function.prototype)}function NQ(n){return typeof n=="object"&&n&&n.constructor===Object}var UQ={length:!0,name:!0},kQ={toString:!0,valueOf:!0,toLocaleString:!0};class zQ{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return BQ(this.wrappedObject,e)}set(e,t){return FQ(this.wrappedObject,e,t),this}has(e){return gS(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return HQ(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){gS(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function HQ(n,e){return{next:()=>{var t=n.next();return t.done?t:{value:e(t.value),done:!1}}}}function bi(n){return typeof n=="number"}function Vs(n){return!n||typeof n!="object"||typeof n.constructor!="function"?!1:n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0}function GQ(n){return typeof n=="bigint"}function HU(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function GU(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function VU(n){return n&&n.constructor.prototype.isUnit===!0||!1}function Bf(n){return typeof n=="string"}var Go=Array.isArray;function ca(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function vS(n){return Array.isArray(n)||ca(n)}function VQ(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function jQ(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function WQ(n){return n&&n.constructor.prototype.isRange===!0||!1}function DP(n){return n&&n.constructor.prototype.isIndex===!0||!1}function $Q(n){return typeof n=="boolean"}function qQ(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function XQ(n){return n&&n.constructor.prototype.isHelp===!0||!1}function KQ(n){return typeof n=="function"}function JQ(n){return n instanceof Date}function YQ(n){return n instanceof RegExp}function RP(n){return!!(n&&typeof n=="object"&&n.constructor===Object&&!HU(n)&&!GU(n))}function QQ(n){return n?n instanceof Map||n instanceof zQ||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function":!1}function ZQ(n){return n===null}function eZ(n){return n===void 0}function tZ(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function nZ(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function rZ(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function iZ(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function oZ(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function sZ(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function aZ(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function uZ(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function lZ(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function cZ(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function fZ(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function dZ(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function hZ(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function pZ(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function mZ(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function gZ(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function vZ(n){return n&&n.constructor.prototype.isChain===!0||!1}function Pp(n){var e=typeof n;return e==="object"?n===null?"null":Vs(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}function vs(n){var e=typeof n;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||n===null||n===void 0)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(t){return vs(t)});if(n instanceof Date)return new Date(n.valueOf());if(Vs(n))return n;if(RP(n))return _Z(n,vs);if(e==="function")return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function _Z(n,e){var t={};for(var r in n)Cy(n,r)&&(t[r]=e(n[r]));return t}function yZ(n,e){for(var t in e)Cy(e,t)&&(n[t]=e[t]);return n}function Bp(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!Bp(n[r],e[r]))return!1;return!0}else{if(typeof n=="function")return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!Bp(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}else return n===e}}function Cy(n,e){return n&&Object.hasOwnProperty.call(n,e)}function bZ(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],o=n[i];o!==void 0&&(t[i]=o)}return t}var AZ=["Matrix","Array"],EZ=["number","BigNumber","Fraction"],y1=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(zU)};Pr(y1,zU,{MATRIX_OPTIONS:AZ,NUMBER_OPTIONS:EZ});function bI(){return!0}function Gl(){return!1}function gv(){}const AI="Argument is not a typed-function.";function jU(){function n(j){return typeof j=="object"&&j!==null&&j.constructor===Object}const e=[{name:"number",test:function(j){return typeof j=="number"}},{name:"string",test:function(j){return typeof j=="string"}},{name:"boolean",test:function(j){return typeof j=="boolean"}},{name:"Function",test:function(j){return typeof j=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(j){return j instanceof Date}},{name:"RegExp",test:function(j){return j instanceof RegExp}},{name:"Object",test:n},{name:"null",test:function(j){return j===null}},{name:"undefined",test:function(j){return j===void 0}}],t={name:"any",test:bI,isAny:!0};let r,i,o=0,s={createCount:0};function a(j){const re=r.get(j);if(re)return re;let me='Unknown type "'+j+'"';const ve=j.toLowerCase();let Me;for(Me of i)if(Me.toLowerCase()===ve){me+='. Did you mean "'+Me+'" ?';break}throw new TypeError(me)}function u(j){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const me=re?a(re).index:i.length,ve=[];for(let xe=0;xe<j.length;++xe){if(!j[xe]||typeof j[xe].name!="string"||typeof j[xe].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Ge=j[xe].name;if(r.has(Ge))throw new TypeError('Duplicate type name "'+Ge+'"');ve.push(Ge),r.set(Ge,{name:Ge,test:j[xe].test,isAny:j[xe].isAny,index:me+xe,conversionsTo:[]})}const Me=i.slice(me);i=i.slice(0,me).concat(ve).concat(Me);for(let xe=me+ve.length;xe<i.length;++xe)r.get(i[xe]).index=xe}function c(){r=new Map,i=[],o=0,u([t],!1)}c(),u(e);function l(){let j;for(j of i)r.get(j).conversionsTo=[];o=0}function f(j){const re=i.filter(me=>{const ve=r.get(me);return!ve.isAny&&ve.test(j)});return re.length?re:["any"]}function h(j){return j&&typeof j=="function"&&"_typedFunctionData"in j}function m(j,re,me){if(!h(j))throw new TypeError(AI);const ve=me&&me.exact,Me=Array.isArray(re)?re.join(","):re,xe=M(Me),Ge=y(xe);if(!ve||Ge in j.signatures){const Bt=j._typedFunctionData.signatureMap.get(Ge);if(Bt)return Bt}const et=xe.length;let Ne;if(ve){Ne=[];let Bt;for(Bt in j.signatures)Ne.push(j._typedFunctionData.signatureMap.get(Bt))}else Ne=j._typedFunctionData.signatures;for(let Bt=0;Bt<et;++Bt){const Nt=xe[Bt],Pt=[];let tn;for(tn of Ne){const Jt=F(tn.params,Bt);if(!(!Jt||Nt.restParam&&!Jt.restParam)){if(!Jt.hasAny){const Mn=C(Jt);if(Nt.types.some(Re=>!Mn.has(Re.name)))continue}Pt.push(tn)}}if(Ne=Pt,Ne.length===0)break}let Ve;for(Ve of Ne)if(Ve.params.length<=et)return Ve;throw new TypeError("Signature not found (signature: "+(j.name||"unnamed")+"("+y(xe,", ")+"))")}function g(j,re,me){return m(j,re,me).implementation}function p(j,re){const me=a(re);if(me.test(j))return j;const ve=me.conversionsTo;if(ve.length===0)throw new Error("There are no conversions to "+re+" defined.");for(let Me=0;Me<ve.length;Me++)if(a(ve[Me].from).test(j))return ve[Me].convert(j);throw new Error("Cannot convert "+j+" to "+re)}function y(j){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return j.map(me=>me.name).join(re)}function b(j){const re=j.indexOf("...")===0,ve=(re?j.length>3?j.slice(3):"any":j).split("|").map(et=>a(et.trim()));let Me=!1,xe=re?"...":"";return{types:ve.map(function(et){return Me=et.isAny||Me,xe+=et.name+"|",{name:et.name,typeIndex:et.index,test:et.test,isAny:et.isAny,conversion:null,conversionIndex:-1}}),name:xe.slice(0,-1),hasAny:Me,hasConversion:!1,restParam:re}}function x(j){const re=j.types.map(Ge=>Ge.name),me=fe(re);let ve=j.hasAny,Me=j.name;const xe=me.map(function(Ge){const et=a(Ge.from);return ve=et.isAny||ve,Me+="|"+Ge.from,{name:Ge.from,typeIndex:et.index,test:et.test,isAny:et.isAny,conversion:Ge,conversionIndex:Ge.index}});return{types:j.types.concat(xe),name:Me,hasAny:ve,hasConversion:xe.length>0,restParam:j.restParam}}function C(j){return j.typeSet||(j.typeSet=new Set,j.types.forEach(re=>j.typeSet.add(re.name))),j.typeSet}function M(j){const re=[];if(typeof j!="string")throw new TypeError("Signatures must be strings");const me=j.trim();if(me==="")return re;const ve=me.split(",");for(let Me=0;Me<ve.length;++Me){const xe=b(ve[Me].trim());if(xe.restParam&&Me!==ve.length-1)throw new SyntaxError('Unexpected rest parameter "'+ve[Me]+'": only allowed for the last parameter');if(xe.types.length===0)return null;re.push(xe)}return re}function R(j){const re=tt(j);return re?re.restParam:!1}function O(j){if(!j||j.types.length===0)return bI;if(j.types.length===1)return a(j.types[0].name).test;if(j.types.length===2){const re=a(j.types[0].name).test,me=a(j.types[1].name).test;return function(Me){return re(Me)||me(Me)}}else{const re=j.types.map(function(me){return a(me.name).test});return function(ve){for(let Me=0;Me<re.length;Me++)if(re[Me](ve))return!0;return!1}}}function N(j){let re,me,ve;if(R(j)){re=Ze(j).map(O);const Me=re.length,xe=O(tt(j)),Ge=function(et){for(let Ne=Me;Ne<et.length;Ne++)if(!xe(et[Ne]))return!1;return!0};return function(Ne){for(let Ve=0;Ve<re.length;Ve++)if(!re[Ve](Ne[Ve]))return!1;return Ge(Ne)&&Ne.length>=Me+1}}else return j.length===0?function(xe){return xe.length===0}:j.length===1?(me=O(j[0]),function(xe){return me(xe[0])&&xe.length===1}):j.length===2?(me=O(j[0]),ve=O(j[1]),function(xe){return me(xe[0])&&ve(xe[1])&&xe.length===2}):(re=j.map(O),function(xe){for(let Ge=0;Ge<re.length;Ge++)if(!re[Ge](xe[Ge]))return!1;return xe.length===re.length})}function F(j,re){return re<j.length?j[re]:R(j)?tt(j):null}function I(j,re){const me=F(j,re);return me?C(me):new Set}function B(j){return j.conversion===null||j.conversion===void 0}function k(j,re){const me=new Set;return j.forEach(ve=>{const Me=I(ve.params,re);let xe;for(xe of Me)me.add(xe)}),me.has("any")?["any"]:Array.from(me)}function q(j,re,me){let ve,Me;const xe=j||"unnamed";let Ge=me,et;for(et=0;et<re.length;et++){const Nt=[];if(Ge.forEach(Pt=>{const tn=F(Pt.params,et),Jt=O(tn);(et<Pt.params.length||R(Pt.params))&&Jt(re[et])&&Nt.push(Pt)}),Nt.length===0){if(Me=k(Ge,et),Me.length>0){const Pt=f(re[et]);return ve=new TypeError("Unexpected type of argument in function "+xe+" (expected: "+Me.join(" or ")+", actual: "+Pt.join(" | ")+", index: "+et+")"),ve.data={category:"wrongType",fn:xe,index:et,actual:Pt,expected:Me},ve}}else Ge=Nt}const Ne=Ge.map(function(Nt){return R(Nt.params)?1/0:Nt.params.length});if(re.length<Math.min.apply(null,Ne))return Me=k(Ge,et),ve=new TypeError("Too few arguments in function "+xe+" (expected: "+Me.join(" or ")+", index: "+re.length+")"),ve.data={category:"tooFewArgs",fn:xe,index:re.length,expected:Me},ve;const Ve=Math.max.apply(null,Ne);if(re.length>Ve)return ve=new TypeError("Too many arguments in function "+xe+" (expected: "+Ve+", actual: "+re.length+")"),ve.data={category:"tooManyArgs",fn:xe,index:re.length,expectedLength:Ve},ve;const Bt=[];for(let Nt=0;Nt<re.length;++Nt)Bt.push(f(re[Nt]).join("|"));return ve=new TypeError('Arguments of type "'+Bt.join(", ")+'" do not match any of the defined signatures of function '+xe+"."),ve.data={category:"mismatch",actual:Bt},ve}function Y(j){let re=i.length+1;for(let me=0;me<j.types.length;me++)B(j.types[me])&&(re=Math.min(re,j.types[me].typeIndex));return re}function ee(j){let re=o+1;for(let me=0;me<j.types.length;me++)B(j.types[me])||(re=Math.min(re,j.types[me].conversionIndex));return re}function le(j,re){if(j.hasAny){if(!re.hasAny)return 1}else if(re.hasAny)return-1;if(j.restParam){if(!re.restParam)return 1}else if(re.restParam)return-1;if(j.hasConversion){if(!re.hasConversion)return 1}else if(re.hasConversion)return-1;const me=Y(j)-Y(re);if(me<0)return-1;if(me>0)return 1;const ve=ee(j)-ee(re);return ve<0?-1:ve>0?1:0}function J(j,re){const me=j.params,ve=re.params,Me=tt(me),xe=tt(ve),Ge=R(me),et=R(ve);if(Ge&&Me.hasAny){if(!et||!xe.hasAny)return 1}else if(et&&xe.hasAny)return-1;let Ne=0,Ve=0,Bt;for(Bt of me)Bt.hasAny&&++Ne,Bt.hasConversion&&++Ve;let Nt=0,Pt=0;for(Bt of ve)Bt.hasAny&&++Nt,Bt.hasConversion&&++Pt;if(Ne!==Nt)return Ne-Nt;if(Ge&&Me.hasConversion){if(!et||!xe.hasConversion)return 1}else if(et&&xe.hasConversion)return-1;if(Ve!==Pt)return Ve-Pt;if(Ge){if(!et)return 1}else if(et)return-1;const tn=(me.length-ve.length)*(Ge?-1:1);if(tn!==0)return tn;const Jt=[];let Mn=0;for(let Ft=0;Ft<me.length;++Ft){const rt=le(me[Ft],ve[Ft]);Jt.push(rt),Mn+=rt}if(Mn!==0)return Mn;let Re;for(Re of Jt)if(Re!==0)return Re;return 0}function fe(j){if(j.length===0)return[];const re=j.map(a);j.length>1&&re.sort((Me,xe)=>Me.index-xe.index);let me=re[0].conversionsTo;if(j.length===1)return me;me=me.concat([]);const ve=new Set(j);for(let Me=1;Me<re.length;++Me){let xe;for(xe of re[Me].conversionsTo)ve.has(xe.from)||(me.push(xe),ve.add(xe.from))}return me}function V(j,re){let me=re;if(j.some(Me=>Me.hasConversion)){const Me=R(j),xe=j.map(ae);me=function(){const et=[],Ne=Me?arguments.length-1:arguments.length;for(let Ve=0;Ve<Ne;Ve++)et[Ve]=xe[Ve](arguments[Ve]);return Me&&(et[Ne]=arguments[Ne].map(xe[Ne])),re.apply(this,et)}}let ve=me;if(R(j)){const Me=j.length-1;ve=function(){return me.apply(this,Qe(arguments,0,Me).concat([Qe(arguments,Me)]))}}return ve}function ae(j){let re,me,ve,Me;const xe=[],Ge=[];switch(j.types.forEach(function(et){et.conversion&&(xe.push(a(et.conversion.from).test),Ge.push(et.conversion.convert))}),Ge.length){case 0:return function(Ne){return Ne};case 1:return re=xe[0],ve=Ge[0],function(Ne){return re(Ne)?ve(Ne):Ne};case 2:return re=xe[0],me=xe[1],ve=Ge[0],Me=Ge[1],function(Ne){return re(Ne)?ve(Ne):me(Ne)?Me(Ne):Ne};default:return function(Ne){for(let Ve=0;Ve<Ge.length;Ve++)if(xe[Ve](Ne))return Ge[Ve](Ne);return Ne}}}function ue(j){function re(me,ve,Me){if(ve<me.length){const xe=me[ve];let Ge=[];if(xe.restParam){const et=xe.types.filter(B);et.length<xe.types.length&&Ge.push({types:et,name:"..."+et.map(Ne=>Ne.name).join("|"),hasAny:et.some(Ne=>Ne.isAny),hasConversion:!1,restParam:!0}),Ge.push(xe)}else Ge=xe.types.map(function(et){return{types:[et],name:et.name,hasAny:et.isAny,hasConversion:et.conversion,restParam:!1}});return We(Ge,function(et){return re(me,ve+1,Me.concat([et]))})}else return[Me]}return re(j,0,[])}function Q(j,re){const me=Math.max(j.length,re.length);for(let et=0;et<me;et++){const Ne=I(j,et),Ve=I(re,et);let Bt=!1,Nt;for(Nt of Ve)if(Ne.has(Nt)){Bt=!0;break}if(!Bt)return!1}const ve=j.length,Me=re.length,xe=R(j),Ge=R(re);return xe?Ge?ve===Me:Me>=ve:Ge?ve>=Me:ve===Me}function de(j){return j.map(re=>vt(re)?wt(re.referToSelf.callback):ft(re)?he(re.referTo.references,re.referTo.callback):re)}function we(j,re,me){const ve=[];let Me;for(Me of j){let xe=me[Me];if(typeof xe!="number")throw new TypeError('No definition for referenced signature "'+Me+'"');if(xe=re[xe],typeof xe!="function")return!1;ve.push(xe)}return ve}function ye(j,re,me){const ve=de(j),Me=new Array(ve.length).fill(!1);let xe=!0;for(;xe;){xe=!1;let Ge=!0;for(let et=0;et<ve.length;++et){if(Me[et])continue;const Ne=ve[et];if(vt(Ne))ve[et]=Ne.referToSelf.callback(me),ve[et].referToSelf=Ne.referToSelf,Me[et]=!0,Ge=!1;else if(ft(Ne)){const Ve=we(Ne.referTo.references,ve,re);Ve?(ve[et]=Ne.referTo.callback.apply(this,Ve),ve[et].referTo=Ne.referTo,Me[et]=!0,Ge=!1):xe=!0}}if(Ge&&xe)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ve}function Ce(j){const re=/\bthis(\(|\.signatures\b)/;Object.keys(j).forEach(me=>{const ve=j[me];if(re.test(ve.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Le(j,re){if(s.createCount++,Object.keys(re).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&Ce(re);const me=[],ve=[],Me={},xe=[];let Ge;for(Ge in re){if(!Object.prototype.hasOwnProperty.call(re,Ge))continue;const be=M(Ge);if(!be)continue;me.forEach(function(Lt){if(Q(Lt,be))throw new TypeError('Conflicting signatures "'+y(Lt)+'" and "'+y(be)+'".')}),me.push(be);const st=ve.length;ve.push(re[Ge]);const St=be.map(x);let Ct;for(Ct of ue(St)){const Lt=y(Ct);xe.push({params:Ct,name:Lt,fn:st}),Ct.every(fn=>!fn.hasConversion)&&(Me[Lt]=st)}}xe.sort(J);const et=ye(ve,Me,je);let Ne;for(Ne in Me)Object.prototype.hasOwnProperty.call(Me,Ne)&&(Me[Ne]=et[Me[Ne]]);const Ve=[],Bt=new Map;for(Ne of xe)Bt.has(Ne.name)||(Ne.fn=et[Ne.fn],Ve.push(Ne),Bt.set(Ne.name,Ne));const Nt=Ve[0]&&Ve[0].params.length<=2&&!R(Ve[0].params),Pt=Ve[1]&&Ve[1].params.length<=2&&!R(Ve[1].params),tn=Ve[2]&&Ve[2].params.length<=2&&!R(Ve[2].params),Jt=Ve[3]&&Ve[3].params.length<=2&&!R(Ve[3].params),Mn=Ve[4]&&Ve[4].params.length<=2&&!R(Ve[4].params),Re=Ve[5]&&Ve[5].params.length<=2&&!R(Ve[5].params),Ft=Nt&&Pt&&tn&&Jt&&Mn&&Re;for(let be=0;be<Ve.length;++be)Ve[be].test=N(Ve[be].params);const rt=Nt?O(Ve[0].params[0]):Gl,dt=Pt?O(Ve[1].params[0]):Gl,bt=tn?O(Ve[2].params[0]):Gl,kt=Jt?O(Ve[3].params[0]):Gl,vn=Mn?O(Ve[4].params[0]):Gl,fr=Re?O(Ve[5].params[0]):Gl,Ar=Nt?O(Ve[0].params[1]):Gl,Gn=Pt?O(Ve[1].params[1]):Gl,li=tn?O(Ve[2].params[1]):Gl,Zr=Jt?O(Ve[3].params[1]):Gl,Po=Mn?O(Ve[4].params[1]):Gl,us=Re?O(Ve[5].params[1]):Gl;for(let be=0;be<Ve.length;++be)Ve[be].implementation=V(Ve[be].params,Ve[be].fn);const Xi=Nt?Ve[0].implementation:gv,ro=Pt?Ve[1].implementation:gv,As=tn?Ve[2].implementation:gv,io=Jt?Ve[3].implementation:gv,Ai=Mn?Ve[4].implementation:gv,Ui=Re?Ve[5].implementation:gv,ii=Nt?Ve[0].params.length:-1,va=Pt?Ve[1].params.length:-1,Do=tn?Ve[2].params.length:-1,Gr=Jt?Ve[3].params.length:-1,$a=Mn?Ve[4].params.length:-1,_a=Re?Ve[5].params.length:-1,Qt=Ft?6:0,Kn=Ve.length,se=Ve.map(be=>be.test),Oe=Ve.map(be=>be.implementation),ke=function(){for(let st=Qt;st<Kn;st++)if(se[st](arguments))return Oe[st].apply(this,arguments);return s.onMismatch(j,arguments,Ve)};function je(be,st){return arguments.length===ii&&rt(be)&&Ar(st)?Xi.apply(this,arguments):arguments.length===va&&dt(be)&&Gn(st)?ro.apply(this,arguments):arguments.length===Do&&bt(be)&&li(st)?As.apply(this,arguments):arguments.length===Gr&&kt(be)&&Zr(st)?io.apply(this,arguments):arguments.length===$a&&vn(be)&&Po(st)?Ai.apply(this,arguments):arguments.length===_a&&fr(be)&&us(st)?Ui.apply(this,arguments):ke.apply(this,arguments)}try{Object.defineProperty(je,"name",{value:j})}catch{}return je.signatures=Me,je._typedFunctionData={signatures:Ve,signatureMap:Bt},je}function Ie(j,re,me){throw q(j,re,me)}function Ze(j){return Qe(j,0,j.length-1)}function tt(j){return j[j.length-1]}function Qe(j,re,me){return Array.prototype.slice.call(j,re,me)}function lt(j,re){for(let me=0;me<j.length;me++)if(re(j[me]))return j[me]}function We(j,re){return Array.prototype.concat.apply([],j.map(re))}function Ke(){const j=Ze(arguments).map(me=>y(M(me))),re=tt(arguments);if(typeof re!="function")throw new TypeError("Callback function expected as last argument");return he(j,re)}function he(j,re){return{referTo:{references:j,callback:re}}}function wt(j){if(typeof j!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:j}}}function ft(j){return j&&typeof j.referTo=="object"&&Array.isArray(j.referTo.references)&&typeof j.referTo.callback=="function"}function vt(j){return j&&typeof j.referToSelf=="object"&&typeof j.referToSelf.callback=="function"}function yt(j,re){if(!j)return re;if(re&&re!==j){const me=new Error("Function names do not match (expected: "+j+", actual: "+re+")");throw me.data={actual:re,expected:j},me}return j}function Ht(j){let re;for(const me in j)Object.prototype.hasOwnProperty.call(j,me)&&(h(j[me])||typeof j[me].signature=="string")&&(re=yt(re,j[me].name));return re}function $e(j,re){let me;for(me in re)if(Object.prototype.hasOwnProperty.call(re,me)){if(me in j&&re[me]!==j[me]){const ve=new Error('Signature "'+me+'" is defined twice');throw ve.data={signature:me,sourceFunction:re[me],destFunction:j[me]},ve}j[me]=re[me]}}const te=s;s=function(j){const re=typeof j=="string",me=re?1:0;let ve=re?j:"";const Me={};for(let xe=me;xe<arguments.length;++xe){const Ge=arguments[xe];let et={},Ne;if(typeof Ge=="function"?(Ne=Ge.name,typeof Ge.signature=="string"?et[Ge.signature]=Ge:h(Ge)&&(et=Ge.signatures)):n(Ge)&&(et=Ge,re||(Ne=Ht(Ge))),Object.keys(et).length===0){const Ve=new TypeError("Argument to 'typed' at index "+xe+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Ve.data={index:xe,argument:Ge},Ve}re||(ve=yt(ve,Ne)),$e(Me,et)}return Le(ve||"",Me)},s.create=jU,s.createCount=te.createCount,s.onMismatch=Ie,s.throwMismatchError=Ie,s.createError=q,s.clear=c,s.clearConversions=l,s.addTypes=u,s._findType=a,s.referTo=Ke,s.referToSelf=wt,s.convert=p,s.findSignature=m,s.find=g,s.isTypedFunction=h,s.warnAgainstDeprecatedThis=!0,s.addType=function(j,re){let me="any";re!==!1&&r.has("Object")&&(me="Object"),s.addTypes([j],me)};function K(j){if(!j||typeof j.from!="string"||typeof j.to!="string"||typeof j.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(j.to===j.from)throw new SyntaxError('Illegal to define conversion from "'+j.from+'" to itself.')}return s.addConversion=function(j){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};K(j);const me=a(j.to),ve=me.conversionsTo.find(Me=>Me.from===j.from);if(ve)if(re&&re.override)s.removeConversion({from:ve.from,to:j.to,convert:ve.convert});else throw new Error('There is already a conversion from "'+j.from+'" to "'+me.name+'"');me.conversionsTo.push({from:j.from,convert:j.convert,index:o++})},s.addConversions=function(j,re){j.forEach(me=>s.addConversion(me,re))},s.removeConversion=function(j){K(j);const re=a(j.to),me=lt(re.conversionsTo,Me=>Me.from===j.from);if(!me)throw new Error("Attempt to remove nonexistent conversion from "+j.from+" to "+j.to);if(me.convert!==j.convert)throw new Error("Conversion to remove does not match existing conversion");const ve=re.conversionsTo.indexOf(me);re.conversionsTo.splice(ve,1)},s.resolve=function(j,re){if(!h(j))throw new TypeError(AI);const me=j._typedFunctionData.signatures;for(let ve=0;ve<me.length;++ve)if(me[ve].test(re))return me[ve];return null},s}const _S=jU();function Hn(n,e,t,r){function i(o){var s=bZ(o,e.map(wZ));return SZ(n,e,o),t(s)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function SZ(n,e,t){var r=e.filter(o=>!xZ(o)).every(o=>t[o]!==void 0);if(!r){var i=e.filter(o=>t[o]===void 0);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function xZ(n){return n&&n[0]==="?"}function wZ(n){return n&&n[0]==="?"?n.slice(1):n}function _s(n){return typeof n=="boolean"?!0:isFinite(n)?n===Math.round(n):!1}function $2(n,e,t){var r={2:"0b",8:"0o",16:"0x"},i=r[e],o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!_s(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!_s(n))throw new Error("Value must be an integer");n<0&&(n=n+2**t),o="i".concat(t)}var s="";return n<0&&(n=-n,s="-"),"".concat(s).concat(i).concat(n.toString(e)).concat(o)}function QM(n,e){if(typeof e=="function")return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=WU(e);switch(t){case"fixed":return MZ(n,r);case"exponential":return $U(n,r);case"engineering":return CZ(n,r);case"bin":return $2(n,2,i);case"oct":return $2(n,8,i);case"hex":return $2(n,16,i);case"auto":return TZ(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function WU(n){var e="auto",t,r;if(n!==void 0)if(bi(n))t=n;else if(Vs(n))t=n.toNumber();else if(RP(n))n.precision!==void 0&&(t=EI(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(r=EI(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(e=n.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:r}}function Ex(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(a){return i-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return s.length===0&&(s.push(0),i++),{sign:t,coefficients:s,exponent:i}}function CZ(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=Ex(n),r=Sx(t,e),i=r.exponent,o=r.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3;if(bi(e))for(;e>o.length||i-s+1>o.length;)o.push(0);else for(var a=Math.abs(i-s)-(o.length-1),u=0;u<a;u++)o.push(0);for(var c=Math.abs(i-s),l=1;c>0;)l++,c--;var f=o.slice(l).join(""),h=bi(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=o.slice(0,l).join("")+h+"e"+(i>=0?"+":"")+s.toString();return r.sign+m}function MZ(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=Ex(n),r=typeof e=="number"?Sx(t,t.exponent+1+e):t,i=r.coefficients,o=r.exponent+1,s=o+(e||0);return i.length<s&&(i=i.concat($v(s-i.length))),o<0&&(i=$v(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),r.sign+i.join("")}function $U(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=Ex(n),r=e?Sx(t,e):t,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat($v(e-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function TZ(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var r=SI(t==null?void 0:t.lowerExp,-3),i=SI(t==null?void 0:t.upperExp,5),o=Ex(n),s=e?Sx(o,e):o;if(s.exponent<r||s.exponent>=i)return $U(n,e);var a=s.coefficients,u=s.exponent;a.length<e&&(a=a.concat($v(e-a.length))),a=a.concat($v(u-a.length+1+(a.length<e?e-a.length:0))),a=$v(-u).concat(a);var c=u>0?u:0;return c<a.length-1&&a.splice(c+1,0,"."),s.sign+a.join("")}function Sx(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e){var i=r.splice(e,r.length-e);if(i[0]>=5){var o=e-1;for(r[o]++;r[o]===10;)r.pop(),o===0&&(r.unshift(0),t.exponent++,o++),o--,r[o]++}}return t}function $v(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function PZ(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function My(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(n)||isNaN(e)?!1:!isFinite(n)||!isFinite(e)?n===e:n===e?!0:Math.abs(n-e)<=Math.max(t*Math.max(Math.abs(n),Math.abs(e)),r)}function EI(n,e){if(bi(n))return n;if(Vs(n))return n.toNumber();e()}function SI(n,e){return bi(n)?n:Vs(n)?n.toNumber():e}var qU=function(){return qU=_S.create,_S},DZ=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],RZ=Hn("typed",DZ,function(e){var{BigNumber:t,Complex:r,DenseMatrix:i,Fraction:o}=e,s=qU();return s.clear(),s.addTypes([{name:"number",test:bi},{name:"Complex",test:HU},{name:"BigNumber",test:Vs},{name:"bigint",test:GQ},{name:"Fraction",test:GU},{name:"Unit",test:VU},{name:"identifier",test:a=>Bf&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:Bf},{name:"Chain",test:vZ},{name:"Array",test:Go},{name:"Matrix",test:ca},{name:"DenseMatrix",test:VQ},{name:"SparseMatrix",test:jQ},{name:"Range",test:WQ},{name:"Index",test:DP},{name:"boolean",test:$Q},{name:"ResultSet",test:qQ},{name:"Help",test:XQ},{name:"function",test:KQ},{name:"Date",test:JQ},{name:"RegExp",test:YQ},{name:"null",test:ZQ},{name:"undefined",test:eZ},{name:"AccessorNode",test:tZ},{name:"ArrayNode",test:nZ},{name:"AssignmentNode",test:rZ},{name:"BlockNode",test:iZ},{name:"ConditionalNode",test:oZ},{name:"ConstantNode",test:sZ},{name:"FunctionNode",test:uZ},{name:"FunctionAssignmentNode",test:aZ},{name:"IndexNode",test:lZ},{name:"Node",test:cZ},{name:"ObjectNode",test:fZ},{name:"OperatorNode",test:dZ},{name:"ParenthesisNode",test:hZ},{name:"RangeNode",test:pZ},{name:"RelationalNode",test:mZ},{name:"SymbolNode",test:gZ},{name:"Map",test:QQ},{name:"Object",test:RP}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(t||kA(u),PZ(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new t(u)}},{from:"number",to:"Complex",convert:function(u){return r||zA(u),new r(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return r||zA(u),new r(u.toNumber(),0)}},{from:"bigint",to:"number",convert:function(u){if(u>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+u+")");return Number(u)}},{from:"bigint",to:"BigNumber",convert:function(u){return t||kA(u),new t(u.toString())}},{from:"bigint",to:"Fraction",convert:function(u){return o||HA(u),new o(u)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return r||zA(u),new r(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){o||HA(u);var c=new o(u);if(c.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(u){var c=Number(u);if(isNaN(c))throw new Error('Cannot convert "'+u+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(u){t||kA(u);try{return new t(u)}catch{throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(u){try{return BigInt(u)}catch{throw new Error('Cannot convert "'+u+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(u){o||HA(u);try{return new o(u)}catch{throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){r||zA(u);try{return new r(u)}catch{throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return t||kA(u),new t(+u)}},{from:"boolean",to:"bigint",convert:function(u){return BigInt(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return o||HA(u),new o(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||OZ(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),s.onMismatch=(a,u,c)=>{var l=s.createError(a,u,c);if(["wrongType","mismatch"].includes(l.data.category)&&u.length===1&&vS(u[0])&&c.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw f.data=l.data,f}throw l},s.onMismatch=(a,u,c)=>{var l=s.createError(a,u,c);if(["wrongType","mismatch"].includes(l.data.category)&&u.length===1&&vS(u[0])&&c.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw f.data=l.data,f}throw l},s});function kA(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function zA(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function OZ(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function HA(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Gv=9e15,zp=1e9,ZM="0123456789abcdef",yS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",bS="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",eT={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Gv,maxE:Gv,crypto:!1},XU,nh,zn=!0,xx="[DecimalError] ",Fp=xx+"Invalid argument: ",KU=xx+"Precision limit exceeded",JU=xx+"crypto unavailable",YU="[object Decimal]",ha=Math.floor,os=Math.pow,IZ=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,BZ=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,FZ=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,QU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vc=1e7,Tn=7,LZ=9007199254740991,NZ=yS.length-1,tT=bS.length-1,Et={toStringTag:YU};Et.absoluteValue=Et.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),An(n)};Et.ceil=function(){return An(new this.constructor(this),this.e+1,2)};Et.clampedTo=Et.clamp=function(n,e){var t,r=this,i=r.constructor;if(n=new i(n),e=new i(e),!n.s||!e.s)return new i(NaN);if(n.gt(e))throw Error(Fp+e);return t=r.cmp(n),t<0?n:r.cmp(e)>0?e:new i(r)};Et.comparedTo=Et.cmp=function(n){var e,t,r,i,o=this,s=o.d,a=(n=new o.constructor(n)).d,u=o.s,c=n.s;if(!s||!a)return!u||!c?NaN:u!==c?u:s===a?0:!s^u<0?1:-1;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(o.e!==n.e)return o.e>n.e^u<0?1:-1;for(r=s.length,i=a.length,e=0,t=r<i?r:i;e<t;++e)if(s[e]!==a[e])return s[e]>a[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1};Et.cosine=Et.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+Tn,r.rounding=1,t=UZ(r,r6(r,t)),r.precision=n,r.rounding=e,An(nh==2||nh==3?t.neg():t,n,e,!0)):new r(1):new r(NaN)};Et.cubeRoot=Et.cbrt=function(){var n,e,t,r,i,o,s,a,u,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(zn=!1,o=l.s*os(l.s*l,1/3),!o||Math.abs(o)==1/0?(t=js(l.d),n=l.e,(o=(n-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=os(t,1/3),n=ha((n+1)/3)-(n%3==(n<0?-1:2)),o==1/0?t="5e"+n:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),r=new f(t),r.s=l.s):r=new f(o.toString()),s=(n=f.precision)+3;;)if(a=r,u=a.times(a).times(a),c=u.plus(l),r=hi(c.plus(l).times(a),c.plus(u),s+2,1),js(a.d).slice(0,s)===(t=js(r.d)).slice(0,s))if(t=t.slice(s-3,s+1),t=="9999"||!i&&t=="4999"){if(!i&&(An(a,n+1,0),a.times(a).times(a).eq(l))){r=a;break}s+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(An(r,n+1,1),e=!r.times(r).times(r).eq(l));break}return zn=!0,An(r,n,f.rounding,e)};Et.decimalPlaces=Et.dp=function(){var n,e=this.d,t=NaN;if(e){if(n=e.length-1,t=(n-ha(this.e/Tn))*Tn,n=e[n],n)for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t};Et.dividedBy=Et.div=function(n){return hi(this,new this.constructor(n))};Et.dividedToIntegerBy=Et.divToInt=function(n){var e=this,t=e.constructor;return An(hi(e,new t(n),0,1,1),t.precision,t.rounding)};Et.equals=Et.eq=function(n){return this.cmp(n)===0};Et.floor=function(){return An(new this.constructor(this),this.e+1,3)};Et.greaterThan=Et.gt=function(n){return this.cmp(n)>0};Et.greaterThanOrEqualTo=Et.gte=function(n){var e=this.cmp(n);return e==1||e===0};Et.hyperbolicCosine=Et.cosh=function(){var n,e,t,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;t=s.precision,r=s.rounding,s.precision=t+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,i<32?(n=Math.ceil(i/3),e=(1/Cx(4,n)).toString()):(n=16,e="2.3283064365386962890625e-10"),o=r1(s,1,o.times(e),new s(1),!0);for(var u,c=n,l=new s(8);c--;)u=o.times(o),o=a.minus(u.times(l.minus(u.times(l))));return An(o,s.precision=t,s.rounding=r,!0)};Et.hyperbolicSine=Et.sinh=function(){var n,e,t,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=r1(o,2,i,i,!0);else{n=1.4*Math.sqrt(r),n=n>16?16:n|0,i=i.times(1/Cx(5,n)),i=r1(o,2,i,i,!0);for(var s,a=new o(5),u=new o(16),c=new o(20);n--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=e,o.rounding=t,An(i,e,t,!0)};Et.hyperbolicTangent=Et.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+7,r.rounding=1,hi(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)};Et.inverseCosine=Et.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,o=t.rounding;return r!==-1?r===0?e.isNeg()?Gc(t,i,o):new t(0):new t(NaN):e.isZero()?Gc(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=Gc(t,i+4,o).times(.5),t.precision=i,t.rounding=o,n.minus(e))};Et.inverseHyperbolicCosine=Et.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(n=r.precision,e=r.rounding,r.precision=n+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,zn=!1,t=t.times(t).minus(1).sqrt().plus(t),zn=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)};Et.inverseHyperbolicSine=Et.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,zn=!1,t=t.times(t).plus(1).sqrt().plus(t),zn=!0,r.precision=n,r.rounding=e,t.ln())};Et.inverseHyperbolicTangent=Et.atanh=function(){var n,e,t,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=o.precision,e=o.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?An(new o(i),n,e,!0):(o.precision=t=r-i.e,i=hi(i.plus(1),new o(1).minus(i),t+n,1),o.precision=n+4,o.rounding=1,i=i.ln(),o.precision=n,o.rounding=e,i.times(.5))):new o(NaN)};Et.inverseSine=Et.asin=function(){var n,e,t,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),t=o.precision,r=o.rounding,e!==-1?e===0?(n=Gc(o,t+4,r).times(.5),n.s=i.s,n):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=r,i.times(2)))};Et.inverseTangent=Et.atan=function(){var n,e,t,r,i,o,s,a,u,c=this,l=c.constructor,f=l.precision,h=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=tT)return s=Gc(l,f+4,h).times(.25),s.s=c.s,s}else{if(!c.s)return new l(NaN);if(f+4<=tT)return s=Gc(l,f+4,h).times(.5),s.s=c.s,s}for(l.precision=a=f+10,l.rounding=1,t=Math.min(28,a/Tn+2|0),n=t;n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(zn=!1,e=Math.ceil(a/Tn),r=1,u=c.times(c),s=new l(c),i=c;n!==-1;)if(i=i.times(u),o=s.minus(i.div(r+=2)),i=i.times(u),s=o.plus(i.div(r+=2)),s.d[e]!==void 0)for(n=e;s.d[n]===o.d[n]&&n--;);return t&&(s=s.times(2<<t-1)),zn=!0,An(s,l.precision=f,l.rounding=h,!0)};Et.isFinite=function(){return!!this.d};Et.isInteger=Et.isInt=function(){return!!this.d&&ha(this.e/Tn)>this.d.length-2};Et.isNaN=function(){return!this.s};Et.isNegative=Et.isNeg=function(){return this.s<0};Et.isPositive=Et.isPos=function(){return this.s>0};Et.isZero=function(){return!!this.d&&this.d[0]===0};Et.lessThan=Et.lt=function(n){return this.cmp(n)<0};Et.lessThanOrEqualTo=Et.lte=function(n){return this.cmp(n)<1};Et.logarithm=Et.log=function(n){var e,t,r,i,o,s,a,u,c=this,l=c.constructor,f=l.precision,h=l.rounding,m=5;if(n==null)n=new l(10),e=!0;else{if(n=new l(n),t=n.d,n.s<0||!t||!t[0]||n.eq(1))return new l(NaN);e=n.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new l(t&&!t[0]?-1/0:c.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(i=t[0];i%10===0;)i/=10;o=i!==1}if(zn=!1,a=f+m,s=Cp(c,a),r=e?AS(l,a+10):Cp(n,a),u=hi(s,r,a,1),Ty(u.d,i=f,h))do if(a+=10,s=Cp(c,a),r=e?AS(l,a+10):Cp(n,a),u=hi(s,r,a,1),!o){+js(u.d).slice(i+1,i+15)+1==1e14&&(u=An(u,f+1,0));break}while(Ty(u.d,i+=10,h));return zn=!0,An(u,f,h)};Et.minus=Et.sub=function(n){var e,t,r,i,o,s,a,u,c,l,f,h,m=this,g=m.constructor;if(n=new g(n),!m.d||!n.d)return!m.s||!n.s?n=new g(NaN):m.d?n.s=-n.s:n=new g(n.d||m.s!==n.s?m:NaN),n;if(m.s!=n.s)return n.s=-n.s,m.plus(n);if(c=m.d,h=n.d,a=g.precision,u=g.rounding,!c[0]||!h[0]){if(h[0])n.s=-n.s;else if(c[0])n=new g(m);else return new g(u===3?-0:0);return zn?An(n,a,u):n}if(t=ha(n.e/Tn),l=ha(m.e/Tn),c=c.slice(),o=l-t,o){for(f=o<0,f?(e=c,o=-o,s=h.length):(e=h,t=l,s=c.length),r=Math.max(Math.ceil(a/Tn),s)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=c.length,s=h.length,f=r<s,f&&(s=r),r=0;r<s;r++)if(c[r]!=h[r]){f=c[r]<h[r];break}o=0}for(f&&(e=c,c=h,h=e,n.s=-n.s),s=c.length,r=h.length-s;r>0;--r)c[s++]=0;for(r=h.length;r>o;){if(c[--r]<h[r]){for(i=r;i&&c[--i]===0;)c[i]=Vc-1;--c[i],c[r]+=Vc}c[r]-=h[r]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--t;return c[0]?(n.d=c,n.e=wx(c,t),zn?An(n,a,u):n):new g(u===3?-0:0)};Et.modulo=Et.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?An(new r(t),r.precision,r.rounding):(zn=!1,r.modulo==9?(e=hi(t,n.abs(),0,3,1),e.s*=n.s):e=hi(t,n,0,r.modulo,1),e=e.times(n),zn=!0,t.minus(e))};Et.naturalExponential=Et.exp=function(){return nT(this)};Et.naturalLogarithm=Et.ln=function(){return Cp(this)};Et.negated=Et.neg=function(){var n=new this.constructor(this);return n.s=-n.s,An(n)};Et.plus=Et.add=function(n){var e,t,r,i,o,s,a,u,c,l,f=this,h=f.constructor;if(n=new h(n),!f.d||!n.d)return!f.s||!n.s?n=new h(NaN):f.d||(n=new h(n.d||f.s===n.s?f:NaN)),n;if(f.s!=n.s)return n.s=-n.s,f.minus(n);if(c=f.d,l=n.d,a=h.precision,u=h.rounding,!c[0]||!l[0])return l[0]||(n=new h(f)),zn?An(n,a,u):n;if(o=ha(f.e/Tn),r=ha(n.e/Tn),c=c.slice(),i=o-r,i){for(i<0?(t=c,i=-i,s=l.length):(t=l,r=o,s=c.length),o=Math.ceil(a/Tn),s=o>s?o+1:s+1,i>s&&(i=s,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(s=c.length,i=l.length,s-i<0&&(i=s,t=l,l=c,c=t),e=0;i;)e=(c[--i]=c[i]+l[i]+e)/Vc|0,c[i]%=Vc;for(e&&(c.unshift(e),++r),s=c.length;c[--s]==0;)c.pop();return n.d=c,n.e=wx(c,r),zn?An(n,a,u):n};Et.precision=Et.sd=function(n){var e,t=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Fp+n);return t.d?(e=ZU(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e};Et.round=function(){var n=this,e=n.constructor;return An(new e(n),n.e+1,e.rounding)};Et.sine=Et.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+Tn,r.rounding=1,t=zZ(r,r6(r,t)),r.precision=n,r.rounding=e,An(nh>2?t.neg():t,n,e,!0)):new r(NaN)};Et.squareRoot=Et.sqrt=function(){var n,e,t,r,i,o,s=this,a=s.d,u=s.e,c=s.s,l=s.constructor;if(c!==1||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(zn=!1,c=Math.sqrt(+s),c==0||c==1/0?(e=js(a),(e.length+u)%2==0&&(e+="0"),c=Math.sqrt(e),u=ha((u+1)/2)-(u<0||u%2),c==1/0?e="5e"+u:(e=c.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),r=new l(e)):r=new l(c.toString()),t=(u=l.precision)+3;;)if(o=r,r=o.plus(hi(s,o,t+2,1)).times(.5),js(o.d).slice(0,t)===(e=js(r.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(An(o,u+1,0),o.times(o).eq(s))){r=o;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(An(r,u+1,1),n=!r.times(r).eq(s));break}return zn=!0,An(r,u,l.rounding,n)};Et.tangent=Et.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+10,r.rounding=1,t=t.sin(),t.s=1,t=hi(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,An(nh==2||nh==4?t.neg():t,n,e,!0)):new r(NaN)};Et.times=Et.mul=function(n){var e,t,r,i,o,s,a,u,c,l=this,f=l.constructor,h=l.d,m=(n=new f(n)).d;if(n.s*=l.s,!h||!h[0]||!m||!m[0])return new f(!n.s||h&&!h[0]&&!m||m&&!m[0]&&!h?NaN:!h||!m?n.s/0:n.s*0);for(t=ha(l.e/Tn)+ha(n.e/Tn),u=h.length,c=m.length,u<c&&(o=h,h=m,m=o,s=u,u=c,c=s),o=[],s=u+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)a=o[i]+m[r]*h[i-r-1]+e,o[i--]=a%Vc|0,e=a/Vc|0;o[i]=(o[i]+e)%Vc|0}for(;!o[--s];)o.pop();return e?++t:o.shift(),n.d=o,n.e=wx(o,t),zn?An(n,f.precision,f.rounding):n};Et.toBinary=function(n,e){return OP(this,2,n,e)};Et.toDecimalPlaces=Et.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(Cu(n,0,zp),e===void 0?e=r.rounding:Cu(e,0,8),An(t,n+t.e+1,e))};Et.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=Vf(r,!0):(Cu(n,0,zp),e===void 0?e=i.rounding:Cu(e,0,8),r=An(new i(r),n+1,e),t=Vf(r,!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t};Et.toFixed=function(n,e){var t,r,i=this,o=i.constructor;return n===void 0?t=Vf(i):(Cu(n,0,zp),e===void 0?e=o.rounding:Cu(e,0,8),r=An(new o(i),n+i.e+1,e),t=Vf(r,!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Et.toFraction=function(n){var e,t,r,i,o,s,a,u,c,l,f,h,m=this,g=m.d,p=m.constructor;if(!g)return new p(m);if(c=t=new p(1),r=u=new p(0),e=new p(r),o=e.e=ZU(g)-m.e-1,s=o%Tn,e.d[0]=os(10,s<0?Tn+s:s),n==null)n=o>0?e:c;else{if(a=new p(n),!a.isInt()||a.lt(c))throw Error(Fp+a);n=a.gt(e)?o>0?e:c:a}for(zn=!1,a=new p(js(g)),l=p.precision,p.precision=o=g.length*Tn*2;f=hi(a,e,0,1,1),i=t.plus(f.times(r)),i.cmp(n)!=1;)t=r,r=i,i=c,c=u.plus(f.times(i)),u=i,i=e,e=a.minus(f.times(i)),a=i;return i=hi(n.minus(t),r,0,1,1),u=u.plus(i.times(c)),t=t.plus(i.times(r)),u.s=c.s=m.s,h=hi(c,r,o,1).minus(m).abs().cmp(hi(u,t,o,1).minus(m).abs())<1?[c,r]:[u,t],p.precision=l,zn=!0,h};Et.toHexadecimal=Et.toHex=function(n,e){return OP(this,16,n,e)};Et.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),n==null){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),e===void 0?e=r.rounding:Cu(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(zn=!1,t=hi(t,n,0,e,1).times(n),zn=!0,An(t)):(n.s=t.s,t=n),t};Et.toNumber=function(){return+this};Et.toOctal=function(n,e){return OP(this,8,n,e)};Et.toPower=Et.pow=function(n){var e,t,r,i,o,s,a=this,u=a.constructor,c=+(n=new u(n));if(!a.d||!n.d||!a.d[0]||!n.d[0])return new u(os(+a,c));if(a=new u(a),a.eq(1))return a;if(r=u.precision,o=u.rounding,n.eq(1))return An(a,r,o);if(e=ha(n.e/Tn),e>=n.d.length-1&&(t=c<0?-c:c)<=LZ)return i=e6(u,a,t,r),n.s<0?new u(1).div(i):An(i,r,o);if(s=a.s,s<0){if(e<n.d.length-1)return new u(NaN);if(n.d[e]&1||(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return t=os(+a,c),e=t==0||!isFinite(t)?ha(c*(Math.log("0."+js(a.d))/Math.LN10+a.e+1)):new u(t+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?s/0:0):(zn=!1,u.rounding=a.s=1,t=Math.min(12,(e+"").length),i=nT(n.times(Cp(a,r+t)),r),i.d&&(i=An(i,r+5,1),Ty(i.d,r,o)&&(e=r+10,i=An(nT(n.times(Cp(a,e+t)),e),e+5,1),+js(i.d).slice(r+1,r+15)+1==1e14&&(i=An(i,r+1,0)))),i.s=s,zn=!0,u.rounding=o,An(i,r,o))};Et.toPrecision=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=Vf(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Cu(n,1,zp),e===void 0?e=i.rounding:Cu(e,0,8),r=An(new i(r),n,e),t=Vf(r,n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t};Et.toSignificantDigits=Et.toSD=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(Cu(n,1,zp),e===void 0?e=r.rounding:Cu(e,0,8)),An(new r(t),n,e)};Et.toString=function(){var n=this,e=n.constructor,t=Vf(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t};Et.truncated=Et.trunc=function(){return An(new this.constructor(this),this.e+1,1)};Et.valueOf=Et.toJSON=function(){var n=this,e=n.constructor,t=Vf(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};function js(n){var e,t,r,i=n.length-1,o="",s=n[0];if(i>0){for(o+=s,e=1;e<i;e++)r=n[e]+"",t=Tn-r.length,t&&(o+=Ap(t)),o+=r;s=n[e],r=s+"",t=Tn-r.length,t&&(o+=Ap(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function Cu(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Fp+n)}function Ty(n,e,t,r){var i,o,s,a;for(o=n[0];o>=10;o/=10)--e;return--e<0?(e+=Tn,i=0):(i=Math.ceil((e+1)/Tn),e%=Tn),o=os(10,Tn-e),a=n[i]%o|0,r==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),s=t<4&&a==99999||t>3&&a==49999||a==5e4||a==0):s=(t<4&&a+1==o||t>3&&a+1==o/2)&&(n[i+1]/o/100|0)==os(10,e-2)-1||(a==o/2||a==0)&&(n[i+1]/o/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),s=(r||t<4)&&a==9999||!r&&t>3&&a==4999):s=((r||t<4)&&a+1==o||!r&&t>3&&a+1==o/2)&&(n[i+1]/o/1e3|0)==os(10,e-3)-1,s}function gE(n,e,t){for(var r,i=[0],o,s=0,a=n.length;s<a;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=ZM.indexOf(n.charAt(s++)),r=0;r<i.length;r++)i[r]>t-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/t|0,i[r]%=t)}return i.reverse()}function UZ(n,e){var t,r,i;if(e.isZero())return e;r=e.d.length,r<32?(t=Math.ceil(r/3),i=(1/Cx(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),n.precision+=t,e=r1(n,1,e.times(i),new n(1));for(var o=t;o--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return n.precision-=t,e}var hi=function(){function n(r,i,o){var s,a=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+a,r[u]=s%o|0,a=s/o|0;return a&&r.unshift(a),r}function e(r,i,o,s){var a,u;if(o!=s)u=o>s?1:-1;else for(a=u=0;a<o;a++)if(r[a]!=i[a]){u=r[a]>i[a]?1:-1;break}return u}function t(r,i,o,s){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*s+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s,a,u){var c,l,f,h,m,g,p,y,b,x,C,M,R,O,N,F,I,B,k,q,Y=r.constructor,ee=r.s==i.s?1:-1,le=r.d,J=i.d;if(!le||!le[0]||!J||!J[0])return new Y(!r.s||!i.s||(le?J&&le[0]==J[0]:!J)?NaN:le&&le[0]==0||!J?ee*0:ee/0);for(u?(m=1,l=r.e-i.e):(u=Vc,m=Tn,l=ha(r.e/m)-ha(i.e/m)),k=J.length,I=le.length,b=new Y(ee),x=b.d=[],f=0;J[f]==(le[f]||0);f++);if(J[f]>(le[f]||0)&&l--,o==null?(O=o=Y.precision,s=Y.rounding):a?O=o+(r.e-i.e)+1:O=o,O<0)x.push(1),g=!0;else{if(O=O/m+2|0,f=0,k==1){for(h=0,J=J[0],O++;(f<I||h)&&O--;f++)N=h*u+(le[f]||0),x[f]=N/J|0,h=N%J|0;g=h||f<I}else{for(h=u/(J[0]+1)|0,h>1&&(J=n(J,h,u),le=n(le,h,u),k=J.length,I=le.length),F=k,C=le.slice(0,k),M=C.length;M<k;)C[M++]=0;q=J.slice(),q.unshift(0),B=J[0],J[1]>=u/2&&++B;do h=0,c=e(J,C,k,M),c<0?(R=C[0],k!=M&&(R=R*u+(C[1]||0)),h=R/B|0,h>1?(h>=u&&(h=u-1),p=n(J,h,u),y=p.length,M=C.length,c=e(p,C,y,M),c==1&&(h--,t(p,k<y?q:J,y,u))):(h==0&&(c=h=1),p=J.slice()),y=p.length,y<M&&p.unshift(0),t(C,p,M,u),c==-1&&(M=C.length,c=e(J,C,k,M),c<1&&(h++,t(C,k<M?q:J,M,u))),M=C.length):c===0&&(h++,C=[0]),x[f++]=h,c&&C[0]?C[M++]=le[F]||0:(C=[le[F]],M=1);while((F++<I||C[0]!==void 0)&&O--);g=C[0]!==void 0}x[0]||x.shift()}if(m==1)b.e=l,XU=g;else{for(f=1,h=x[0];h>=10;h/=10)f++;b.e=f+l*m-1,An(b,a?o+b.e+1:o,s,g)}return b}}();function An(n,e,t,r){var i,o,s,a,u,c,l,f,h,m=n.constructor;e:if(e!=null){if(f=n.d,!f)return n;for(i=1,a=f[0];a>=10;a/=10)i++;if(o=e-i,o<0)o+=Tn,s=e,l=f[h=0],u=l/os(10,i-s-1)%10|0;else if(h=Math.ceil((o+1)/Tn),a=f.length,h>=a)if(r){for(;a++<=h;)f.push(0);l=u=0,i=1,o%=Tn,s=o-Tn+1}else break e;else{for(l=a=f[h],i=1;a>=10;a/=10)i++;o%=Tn,s=o-Tn+i,u=s<0?0:l/os(10,i-s-1)%10|0}if(r=r||e<0||f[h+1]!==void 0||(s<0?l:l%os(10,i-s-1)),c=t<4?(u||r)&&(t==0||t==(n.s<0?3:2)):u>5||u==5&&(t==4||r||t==6&&(o>0?s>0?l/os(10,i-s):0:f[h-1])%10&1||t==(n.s<0?8:7)),e<1||!f[0])return f.length=0,c?(e-=n.e+1,f[0]=os(10,(Tn-e%Tn)%Tn),n.e=-e||0):f[0]=n.e=0,n;if(o==0?(f.length=h,a=1,h--):(f.length=h+1,a=os(10,Tn-o),f[h]=s>0?(l/os(10,i-s)%os(10,s)|0)*a:0),c)for(;;)if(h==0){for(o=1,s=f[0];s>=10;s/=10)o++;for(s=f[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(n.e++,f[0]==Vc&&(f[0]=1));break}else{if(f[h]+=a,f[h]!=Vc)break;f[h--]=0,a=1}for(o=f.length;f[--o]===0;)f.pop()}return zn&&(n.e>m.maxE?(n.d=null,n.e=NaN):n.e<m.minE&&(n.e=0,n.d=[0])),n}function Vf(n,e,t){if(!n.isFinite())return n6(n);var r,i=n.e,o=js(n.d),s=o.length;return e?(t&&(r=t-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ap(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n.e<0?"e":"e+")+n.e):i<0?(o="0."+Ap(-i-1)+o,t&&(r=t-s)>0&&(o+=Ap(r))):i>=s?(o+=Ap(i+1-s),t&&(r=t-i-1)>0&&(o=o+"."+Ap(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),t&&(r=t-s)>0&&(i+1===s&&(o+="."),o+=Ap(r))),o}function wx(n,e){var t=n[0];for(e*=Tn;t>=10;t/=10)e++;return e}function AS(n,e,t){if(e>NZ)throw zn=!0,t&&(n.precision=t),Error(KU);return An(new n(yS),e,1,!0)}function Gc(n,e,t){if(e>tT)throw Error(KU);return An(new n(bS),e,t,!0)}function ZU(n){var e=n.length-1,t=e*Tn+1;if(e=n[e],e){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Ap(n){for(var e="";n--;)e+="0";return e}function e6(n,e,t,r){var i,o=new n(1),s=Math.ceil(r/Tn+4);for(zn=!1;;){if(t%2&&(o=o.times(e),wI(o.d,s)&&(i=!0)),t=ha(t/2),t===0){t=o.d.length-1,i&&o.d[t]===0&&++o.d[t];break}e=e.times(e),wI(e.d,s)}return zn=!0,o}function xI(n){return n.d[n.d.length-1]&1}function t6(n,e,t){for(var r,i=new n(e[0]),o=0;++o<e.length;)if(r=new n(e[o]),r.s)i[t](r)&&(i=r);else{i=r;break}return i}function nT(n,e){var t,r,i,o,s,a,u,c=0,l=0,f=0,h=n.constructor,m=h.rounding,g=h.precision;if(!n.d||!n.d[0]||n.e>17)return new h(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(e==null?(zn=!1,u=g):u=e,a=new h(.03125);n.e>-2;)n=n.times(a),f+=5;for(r=Math.log(os(2,f))/Math.LN10*2+5|0,u+=r,t=o=s=new h(1),h.precision=u;;){if(o=An(o.times(n),u,1),t=t.times(++l),a=s.plus(hi(o,t,u,1)),js(a.d).slice(0,u)===js(s.d).slice(0,u)){for(i=f;i--;)s=An(s.times(s),u,1);if(e==null)if(c<3&&Ty(s.d,u-r,m,c))h.precision=u+=10,t=o=a=new h(1),l=0,c++;else return An(s,h.precision=g,m,zn=!0);else return h.precision=g,s}s=a}}function Cp(n,e){var t,r,i,o,s,a,u,c,l,f,h,m=1,g=10,p=n,y=p.d,b=p.constructor,x=b.rounding,C=b.precision;if(p.s<0||!y||!y[0]||!p.e&&y[0]==1&&y.length==1)return new b(y&&!y[0]?-1/0:p.s!=1?NaN:y?0:p);if(e==null?(zn=!1,l=C):l=e,b.precision=l+=g,t=js(y),r=t.charAt(0),Math.abs(o=p.e)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)p=p.times(n),t=js(p.d),r=t.charAt(0),m++;o=p.e,r>1?(p=new b("0."+t),o++):p=new b(r+"."+t.slice(1))}else return c=AS(b,l+2,C).times(o+""),p=Cp(new b(r+"."+t.slice(1)),l-g).plus(c),b.precision=C,e==null?An(p,C,x,zn=!0):p;for(f=p,u=s=p=hi(p.minus(1),p.plus(1),l,1),h=An(p.times(p),l,1),i=3;;){if(s=An(s.times(h),l,1),c=u.plus(hi(s,new b(i),l,1)),js(c.d).slice(0,l)===js(u.d).slice(0,l))if(u=u.times(2),o!==0&&(u=u.plus(AS(b,l+2,C).times(o+""))),u=hi(u,new b(m),l,1),e==null)if(Ty(u.d,l-g,x,a))b.precision=l+=g,c=s=p=hi(f.minus(1),f.plus(1),l,1),h=An(p.times(p),l,1),i=a=1;else return An(u,b.precision=C,x,zn=!0);else return b.precision=C,u;u=c,i+=2}}function n6(n){return String(n.s*n.s/0)}function rT(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%Tn,t<0&&(r+=Tn),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Tn;r<i;)n.d.push(+e.slice(r,r+=Tn));e=e.slice(r),r=Tn-e.length}else r-=i;for(;r--;)e+="0";n.d.push(+e),zn&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function kZ(n,e){var t,r,i,o,s,a,u,c,l;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),QU.test(e))return rT(n,e)}else if(e==="Infinity"||e==="NaN")return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(BZ.test(e))t=16,e=e.toLowerCase();else if(IZ.test(e))t=2;else if(FZ.test(e))t=8;else throw Error(Fp+e);for(o=e.search(/p/i),o>0?(u=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),s=o>=0,r=n.constructor,s&&(e=e.replace(".",""),a=e.length,o=a-o,i=e6(r,new r(t),o,o*2)),c=gE(e,t,Vc),l=c.length-1,o=l;c[o]===0;--o)c.pop();return o<0?new r(n.s*0):(n.e=wx(c,l),n.d=c,zn=!1,s&&(n=hi(n,i,a*4)),u&&(n=n.times(Math.abs(u)<54?os(2,u):i1.pow(2,u))),zn=!0,n)}function zZ(n,e){var t,r=e.d.length;if(r<3)return e.isZero()?e:r1(n,2,e,e);t=1.4*Math.sqrt(r),t=t>16?16:t|0,e=e.times(1/Cx(5,t)),e=r1(n,2,e,e);for(var i,o=new n(5),s=new n(16),a=new n(20);t--;)i=e.times(e),e=e.times(o.plus(i.times(s.times(i).minus(a))));return e}function r1(n,e,t,r,i){var o,s,a,u,c=n.precision,l=Math.ceil(c/Tn);for(zn=!1,u=t.times(t),a=new n(r);;){if(s=hi(a.times(u),new n(e++*e++),c,1),a=i?r.plus(s):r.minus(s),r=hi(s.times(u),new n(e++*e++),c,1),s=a.plus(r),s.d[l]!==void 0){for(o=l;s.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=r,r=s,s=o}return zn=!0,s.d.length=l+1,s}function Cx(n,e){for(var t=n;--e;)t*=n;return t}function r6(n,e){var t,r=e.s<0,i=Gc(n,n.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return nh=r?4:1,e;if(t=e.divToInt(i),t.isZero())nh=r?3:2;else{if(e=e.minus(t.times(i)),e.lte(o))return nh=xI(t)?r?2:3:r?4:1,e;nh=xI(t)?r?1:4:r?3:2}return e.minus(i).abs()}function OP(n,e,t,r){var i,o,s,a,u,c,l,f,h,m=n.constructor,g=t!==void 0;if(g?(Cu(t,1,zp),r===void 0?r=m.rounding:Cu(r,0,8)):(t=m.precision,r=m.rounding),!n.isFinite())l=n6(n);else{for(l=Vf(n),s=l.indexOf("."),g?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,s>=0&&(l=l.replace(".",""),h=new m(1),h.e=l.length-s,h.d=gE(Vf(h),10,i),h.e=h.d.length),f=gE(l,10,i),o=u=f.length;f[--u]==0;)f.pop();if(!f[0])l=g?"0p+0":"0";else{if(s<0?o--:(n=new m(n),n.d=f,n.e=o,n=hi(n,h,t,r,0,i),f=n.d,o=n.e,c=XU),s=f[t],a=i/2,c=c||f[t+1]!==void 0,c=r<4?(s!==void 0||c)&&(r===0||r===(n.s<0?3:2)):s>a||s===a&&(r===4||c||r===6&&f[t-1]&1||r===(n.s<0?8:7)),f.length=t,c)for(;++f[--t]>i-1;)f[t]=0,t||(++o,f.unshift(1));for(u=f.length;!f[u-1];--u);for(s=0,l="";s<u;s++)l+=ZM.charAt(f[s]);if(g){if(u>1)if(e==16||e==8){for(s=e==16?4:3,--u;u%s;u++)l+="0";for(f=gE(l,i,e),u=f.length;!f[u-1];--u);for(s=1,l="1.";s<u;s++)l+=ZM.charAt(f[s])}else l=l.charAt(0)+"."+l.slice(1);l=l+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)l="0"+l;l="0."+l}else if(++o>u)for(o-=u;o--;)l+="0";else o<u&&(l=l.slice(0,o)+"."+l.slice(o))}l=(e==16?"0x":e==2?"0b":e==8?"0o":"")+l}return n.s<0?"-"+l:l}function wI(n,e){if(n.length>e)return n.length=e,!0}function HZ(n){return new this(n).abs()}function GZ(n){return new this(n).acos()}function VZ(n){return new this(n).acosh()}function jZ(n,e){return new this(n).plus(e)}function WZ(n){return new this(n).asin()}function $Z(n){return new this(n).asinh()}function qZ(n){return new this(n).atan()}function XZ(n){return new this(n).atanh()}function KZ(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,o=r+4;return!n.s||!e.s?t=new this(NaN):!n.d&&!e.d?(t=Gc(this,o,1).times(e.s>0?.25:.75),t.s=n.s):!e.d||n.isZero()?(t=e.s<0?Gc(this,r,i):new this(0),t.s=n.s):!n.d||e.isZero()?(t=Gc(this,o,1).times(.5),t.s=n.s):e.s<0?(this.precision=o,this.rounding=1,t=this.atan(hi(n,e,o,1)),e=Gc(this,o,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(hi(n,e,o,1)),t}function JZ(n){return new this(n).cbrt()}function YZ(n){return An(n=new this(n),n.e+1,2)}function QZ(n,e,t){return new this(n).clamp(e,t)}function ZZ(n){if(!n||typeof n!="object")throw Error(xx+"Object expected");var e,t,r,i=n.defaults===!0,o=["precision",1,zp,"rounding",0,8,"toExpNeg",-Gv,0,"toExpPos",0,Gv,"maxE",0,Gv,"minE",-Gv,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],i&&(this[t]=eT[t]),(r=n[t])!==void 0)if(ha(r)===r&&r>=o[e+1]&&r<=o[e+2])this[t]=r;else throw Error(Fp+t+": "+r);if(t="crypto",i&&(this[t]=eT[t]),(r=n[t])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(JU);else this[t]=!1;else throw Error(Fp+t+": "+r);return this}function eee(n){return new this(n).cos()}function tee(n){return new this(n).cosh()}function i6(n){var e,t,r;function i(o){var s,a,u,c=this;if(!(c instanceof i))return new i(o);if(c.constructor=i,CI(o)){c.s=o.s,zn?!o.d||o.e>i.maxE?(c.e=NaN,c.d=null):o.e<i.minE?(c.e=0,c.d=[0]):(c.e=o.e,c.d=o.d.slice()):(c.e=o.e,c.d=o.d?o.d.slice():o.d);return}if(u=typeof o,u==="number"){if(o===0){c.s=1/o<0?-1:1,c.e=0,c.d=[0];return}if(o<0?(o=-o,c.s=-1):c.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;zn?s>i.maxE?(c.e=NaN,c.d=null):s<i.minE?(c.e=0,c.d=[0]):(c.e=s,c.d=[o]):(c.e=s,c.d=[o]);return}else if(o*0!==0){o||(c.s=NaN),c.e=NaN,c.d=null;return}return rT(c,o.toString())}else if(u!=="string")throw Error(Fp+o);return(a=o.charCodeAt(0))===45?(o=o.slice(1),c.s=-1):(a===43&&(o=o.slice(1)),c.s=1),QU.test(o)?rT(c,o):kZ(c,o)}if(i.prototype=Et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=ZZ,i.clone=i6,i.isDecimal=CI,i.abs=HZ,i.acos=GZ,i.acosh=VZ,i.add=jZ,i.asin=WZ,i.asinh=$Z,i.atan=qZ,i.atanh=XZ,i.atan2=KZ,i.cbrt=JZ,i.ceil=YZ,i.clamp=QZ,i.cos=eee,i.cosh=tee,i.div=nee,i.exp=ree,i.floor=iee,i.hypot=oee,i.ln=see,i.log=aee,i.log10=lee,i.log2=uee,i.max=cee,i.min=fee,i.mod=dee,i.mul=hee,i.pow=pee,i.random=mee,i.round=gee,i.sign=vee,i.sin=_ee,i.sinh=yee,i.sqrt=bee,i.sub=Aee,i.sum=Eee,i.tan=See,i.tanh=xee,i.trunc=wee,n===void 0&&(n={}),n&&n.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function nee(n,e){return new this(n).div(e)}function ree(n){return new this(n).exp()}function iee(n){return An(n=new this(n),n.e+1,3)}function oee(){var n,e,t=new this(0);for(zn=!1,n=0;n<arguments.length;)if(e=new this(arguments[n++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return zn=!0,new this(1/0);t=e}return zn=!0,t.sqrt()}function CI(n){return n instanceof i1||n&&n.toStringTag===YU||!1}function see(n){return new this(n).ln()}function aee(n,e){return new this(n).log(e)}function uee(n){return new this(n).log(2)}function lee(n){return new this(n).log(10)}function cee(){return t6(this,arguments,"lt")}function fee(){return t6(this,arguments,"gt")}function dee(n,e){return new this(n).mod(e)}function hee(n,e){return new this(n).mul(e)}function pee(n,e){return new this(n).pow(e)}function mee(n){var e,t,r,i,o=0,s=new this(1),a=[];if(n===void 0?n=this.precision:Cu(n,1,zp),r=Math.ceil(n/Tn),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);o<r;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(a.push(i%1e7),o+=4);o=r/4}else throw Error(JU);else for(;o<r;)a[o++]=Math.random()*1e7|0;for(r=a[--o],n%=Tn,r&&n&&(i=os(10,Tn-n),a[o]=(r/i|0)*i);a[o]===0;o--)a.pop();if(o<0)t=0,a=[0];else{for(t=-1;a[0]===0;t-=Tn)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<Tn&&(t-=Tn-r)}return s.e=t,s.d=a,s}function gee(n){return An(n=new this(n),n.e+1,this.rounding)}function vee(n){return n=new this(n),n.d?n.d[0]?n.s:0*n.s:n.s||NaN}function _ee(n){return new this(n).sin()}function yee(n){return new this(n).sinh()}function bee(n){return new this(n).sqrt()}function Aee(n,e){return new this(n).sub(e)}function Eee(){var n=0,e=arguments,t=new this(e[n]);for(zn=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return zn=!0,An(t,this.precision,this.rounding)}function See(n){return new this(n).tan()}function xee(n){return new this(n).tanh()}function wee(n){return An(n=new this(n),n.e+1,1)}Et[Symbol.for("nodejs.util.inspect.custom")]=Et.toString;Et[Symbol.toStringTag]="Decimal";var i1=Et.constructor=i6(eT);yS=new i1(yS);bS=new i1(bS);var Cee="BigNumber",Mee=["?on","config"],Tee=Hn(Cee,Mee,n=>{var{on:e,config:t}=n,r=i1.clone({precision:t.precision,modulo:i1.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const la=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:(Math.exp(n)+Math.exp(-n))*.5},Vl=Math.sinh||function(n){return Math.abs(n)<1e-9?n:(Math.exp(n)-Math.exp(-n))*.5},Pee=function(n){const e=Math.PI/4;if(-e>n||n>e)return Math.cos(n)-1;const t=n*n;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},q2=function(n,e){return n=Math.abs(n),e=Math.abs(e),n<e&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},vv=function(){throw SyntaxError("Invalid Param")};function X2(n,e){const t=Math.abs(n),r=Math.abs(e);return n===0?Math.log(r):e===0?Math.log(t):t<3e3&&r<3e3?Math.log(n*n+e*e)*.5:(n=n*.5,e=e*.5,.5*Math.log(n*n+e*e)+Math.LN2)}const Dee={re:0,im:0},C0=function(n,e){const t=Dee;if(n==null)t.re=t.im=0;else if(e!==void 0)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return ht.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return ht.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else n.length===2?(t.re=n[0],t.im=n[1]):vv();break;case"string":t.im=t.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,o=0;r===null&&vv();for(let s=0;s<r.length;s++){const a=r[s];a===" "||a==="	"||a===`
`||(a==="+"?i++:a==="-"?o++:a==="i"||a==="I"?(i+o===0&&vv(),r[s+1]!==" "&&!isNaN(r[s+1])?(t.im+=parseFloat((o%2?"-":"")+r[s+1]),s++):t.im+=parseFloat((o%2?"-":"")+"1"),i=o=0):((i+o===0||isNaN(a))&&vv(),r[s+1]==="i"||r[s+1]==="I"?(t.im+=parseFloat((o%2?"-":"")+a),s++):t.re+=parseFloat((o%2?"-":"")+a),i=o=0))}i+o>0&&vv();break;case"number":t.im=0,t.re=n;break;default:vv()}return isNaN(t.re)||isNaN(t.im),t};function ht(n,e){if(!(this instanceof ht))return new ht(n,e);const t=C0(n,e);this.re=t.re,this.im=t.im}ht.prototype={re:0,im:0,sign:function(){const n=q2(this.re,this.im);return new ht(this.re/n,this.im/n)},add:function(n,e){const t=C0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?ht.NAN:ht.INFINITY:new ht(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=C0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?ht.NAN:ht.INFINITY:new ht(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=C0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,s=t.re===0&&t.im===0;return r&&s||i&&o?ht.NAN:r||i?ht.INFINITY:t.im===0&&this.im===0?new ht(this.re*t.re,0):new ht(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=C0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,s=t.re===0&&t.im===0;if(o&&s||r&&i)return ht.NAN;if(s||r)return ht.INFINITY;if(o||i)return ht.ZERO;if(t.im===0)return new ht(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const a=t.re/t.im,u=t.re*a+t.im;return new ht((this.re*a+this.im)/u,(this.im*a-this.re)/u)}else{const a=t.im/t.re,u=t.im*a+t.re;return new ht((this.re+this.im*a)/u,(this.im-this.re*a)/u)}},pow:function(n,e){const t=C0(n,e),r=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return ht.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new ht(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new ht(Math.pow(this.im,t.re),0);case 1:return new ht(0,Math.pow(this.im,t.re));case 2:return new ht(-Math.pow(this.im,t.re),0);case 3:return new ht(0,-Math.pow(this.im,t.re))}}if(r&&t.re>0)return ht.ZERO;const o=Math.atan2(this.im,this.re),s=X2(this.re,this.im);let a=Math.exp(t.re*s-t.im*o),u=t.im*s+t.re*o;return new ht(a*Math.cos(u),a*Math.sin(u))},sqrt:function(){const n=this.re,e=this.im;if(e===0)return n>=0?new ht(Math.sqrt(n),0):new ht(0,Math.sqrt(-n));const t=q2(n,e);let r=Math.sqrt(.5*(t+Math.abs(n))),i=Math.abs(e)/(2*r);return n>=0?new ht(r,e<0?-i:i):new ht(i,e<0?-r:r)},exp:function(){const n=Math.exp(this.re);return this.im===0?new ht(n,0):new ht(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new ht(Math.expm1(n)*Math.cos(e)+Pee(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return e===0&&n>0?new ht(Math.log(n),0):new ht(X2(n,e),Math.atan2(e,n))},abs:function(){return q2(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new ht(Math.sin(n)*la(e),Math.cos(n)*Vl(e))},cos:function(){const n=this.re,e=this.im;return new ht(Math.cos(n)*la(e),-Math.sin(n)*Vl(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+la(e);return new ht(Math.sin(n)/t,Vl(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-la(e);return new ht(-Math.sin(n)/t,Vl(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*la(2*e)+.5*Math.cos(2*n);return new ht(Math.cos(n)*la(e)/t,Math.sin(n)*Vl(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*la(2*e)-.5*Math.cos(2*n);return new ht(Math.sin(n)*la(e)/t,-Math.cos(n)*Vl(e)/t)},asin:function(){const n=this.re,e=this.im,t=new ht(e*e-n*n+1,-2*n*e).sqrt(),r=new ht(t.re-e,t.im+n).log();return new ht(r.im,-r.re)},acos:function(){const n=this.re,e=this.im,t=new ht(e*e-n*n+1,-2*n*e).sqrt(),r=new ht(t.re-e,t.im+n).log();return new ht(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,e=this.im;if(n===0){if(e===1)return new ht(0,1/0);if(e===-1)return new ht(0,-1/0)}const t=n*n+(1-e)*(1-e),r=new ht((1-e*e-n*n)/t,-2*n/t).log();return new ht(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,e=this.im;if(e===0)return new ht(Math.atan2(1,n),0);const t=n*n+e*e;return t!==0?new ht(n/t,-e/t).atan():new ht(n!==0?n/0:0,e!==0?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new ht(0,1/0);const t=n*n+e*e;return t!==0?new ht(n/t,-e/t).acos():new ht(n!==0?n/0:0,e!==0?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new ht(Math.PI/2,1/0);const t=n*n+e*e;return t!==0?new ht(n/t,-e/t).asin():new ht(n!==0?n/0:0,e!==0?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new ht(Vl(n)*Math.cos(e),la(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new ht(la(n)*Math.cos(e),Vl(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=la(n)+Math.cos(e);return new ht(Vl(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=la(n)-Math.cos(e);return new ht(Vl(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-la(2*n);return new ht(-2*Vl(n)*Math.cos(e)/t,2*la(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+la(2*n);return new ht(2*la(n)*Math.cos(e)/t,-2*Vl(n)*Math.sin(e)/t)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const e=this.asin();return this.re=-this.im,this.im=n,n=e.re,e.re=-e.im,e.im=n,e},acosh:function(){const n=this.acos();if(n.im<=0){const e=n.re;n.re=-n.im,n.im=e}else{const e=n.im;n.im=-n.re,n.re=e}return n},atanh:function(){const n=this.re,e=this.im,t=n>1&&e===0,r=1-n,i=1+n,o=r*r+e*e,s=o!==0?new ht((i*r-e*e)/o,(e*r+i*e)/o):new ht(n!==-1?n/0:0,e!==0?e/0:0),a=s.re;return s.re=X2(s.re,s.im)/2,s.im=Math.atan2(s.im,a)/2,t&&(s.im=-s.im),s},acoth:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new ht(0,Math.PI/2);const t=n*n+e*e;return t!==0?new ht(n/t,-e/t).atanh():new ht(n!==0?n/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(e===0)return new ht(n!==0?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const t=n*n+e*e;return t!==0?new ht(n/t,-e/t).asinh():new ht(n!==0?n/0:0,e!==0?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return ht.INFINITY;const t=n*n+e*e;return t!==0?new ht(n/t,-e/t).acosh():new ht(n!==0?n/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return ht.INFINITY;if(this.isInfinite())return ht.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new ht(n/t,-e/t)},conjugate:function(){return new ht(this.re,-this.im)},neg:function(){return new ht(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new ht(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new ht(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new ht(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=C0(n,e);return Math.abs(t.re-this.re)<=ht.EPSILON&&Math.abs(t.im-this.im)<=ht.EPSILON},clone:function(){return new ht(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<ht.EPSILON&&(n=0),Math.abs(e)<ht.EPSILON&&(e=0),e===0?t+n:(n!==0?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),e!==1&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};ht.ZERO=new ht(0,0);ht.ONE=new ht(1,0);ht.I=new ht(0,1);ht.PI=new ht(Math.PI,0);ht.E=new ht(Math.E,0);ht.INFINITY=new ht(1/0,1/0);ht.NAN=new ht(NaN,NaN);ht.EPSILON=1e-15;var Ree="Complex",Oee=[],Iee=Hn(Ree,Oee,()=>(Object.defineProperty(ht,"name",{value:"Complex"}),ht.prototype.constructor=ht,ht.prototype.type="Complex",ht.prototype.isComplex=!0,ht.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ht.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ht.prototype.format=function(n){var e="",t=this.im,r=this.re,i=QM(this.re,n),o=QM(this.im,n),s=bi(n)?n:n?n.precision:null;if(s!==null){var a=Math.pow(10,-s);Math.abs(r/t)<a&&(r=0),Math.abs(t/r)<a&&(t=0)}return t===0?e=i:r===0?t===1?e="i":t===-1?e="-i":e=o+"i":t<0?t===-1?e=i+" - i":e=i+" - "+o.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+o+"i",e},ht.fromPolar=function(n){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return ht(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],r=arguments[1];if(bi(t)){if(VU(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),bi(r))return new ht({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ht.prototype.valueOf=ht.prototype.toString,ht.fromJSON=function(n){return new ht(n)},ht.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},ht),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});const bn=BigInt(0),Zn=BigInt(1),Py=BigInt(2),iT=BigInt(5),Au=BigInt(10),Bee=2e3,Wt={s:Zn,n:bn,d:Zn};function Ud(n,e){try{n=BigInt(n)}catch{throw _p()}return n*e}function Rc(n){return typeof n=="bigint"?n:Math.floor(n)}function Fi(n,e){if(e===bn)throw IP();const t=Object.create($l.prototype);t.s=n<bn?-Zn:Zn,n=n<bn?-n:n;const r=T0(n,e);return t.n=n/r,t.d=e/r,t}function _v(n){const e={};let t=n,r=Py,i=iT-Zn;for(;i<=t;){for(;t%r===bn;)t/=r,e[r]=(e[r]||bn)+Zn;i+=Zn+Py*r++}return t!==n?t>1&&(e[t]=(e[t]||bn)+Zn):e[n]=(e[n]||bn)+Zn,e}const gs=function(n,e){let t=bn,r=Zn,i=Zn;if(n!=null)if(e!==void 0){if(typeof n=="bigint")t=n;else{if(isNaN(n))throw _p();if(n%1!==0)throw MI();t=BigInt(n)}if(typeof e=="bigint")r=e;else{if(isNaN(e))throw _p();if(e%1!==0)throw MI();r=BigInt(e)}i=t*r}else if(typeof n=="object"){if("d"in n&&"n"in n)t=BigInt(n.n),r=BigInt(n.d),"s"in n&&(t*=BigInt(n.s));else if(0 in n)t=BigInt(n[0]),1 in n&&(r=BigInt(n[1]));else if(typeof n=="bigint")t=n;else throw _p();i=t*r}else if(typeof n=="number"){if(isNaN(n))throw _p();if(n<0&&(i=-Zn,n=-n),n%1===0)t=BigInt(n);else if(n>0){let o=1,s=0,a=1,u=1,c=1,l=1e7;for(n>=1&&(o=10**Math.floor(1+Math.log10(n)),n/=o);a<=l&&c<=l;){let f=(s+u)/(a+c);if(n===f){a+c<=l?(t=s+u,r=a+c):c>a?(t=u,r=c):(t=s,r=a);break}else n>f?(s+=u,a+=c):(u+=s,c+=a),a>l?(t=u,r=c):(t=s,r=a)}t=BigInt(t)*BigInt(o),r=BigInt(r)}}else if(typeof n=="string"){let o=0,s=bn,a=bn,u=bn,c=Zn,l=Zn,f=n.replace(/_/g,"").match(/\d+|./g);if(f===null)throw _p();if(f[o]==="-"?(i=-Zn,o++):f[o]==="+"&&o++,f.length===o+1?a=Ud(f[o++],i):f[o+1]==="."||f[o]==="."?(f[o]!=="."&&(s=Ud(f[o++],i)),o++,(o+1===f.length||f[o+1]==="("&&f[o+3]===")"||f[o+1]==="'"&&f[o+3]==="'")&&(a=Ud(f[o],i),c=Au**BigInt(f[o].length),o++),(f[o]==="("&&f[o+2]===")"||f[o]==="'"&&f[o+2]==="'")&&(u=Ud(f[o+1],i),l=Au**BigInt(f[o+1].length)-Zn,o+=3)):f[o+1]==="/"||f[o+1]===":"?(a=Ud(f[o],i),c=Ud(f[o+2],Zn),o+=3):f[o+3]==="/"&&f[o+1]===" "&&(s=Ud(f[o],i),a=Ud(f[o+2],i),c=Ud(f[o+4],Zn),o+=5),f.length<=o)r=c*l,i=t=u+r*s+l*a;else throw _p()}else if(typeof n=="bigint")t=n,i=n,r=Zn;else throw _p();if(r===bn)throw IP();Wt.s=i<bn?-Zn:Zn,Wt.n=t<bn?-t:t,Wt.d=r<bn?-r:r};function Fee(n,e,t){let r=Zn;for(;e>bn;n=n*n%t,e>>=Zn)e&Zn&&(r=r*n%t);return r}function Lee(n,e){for(;e%Py===bn;e/=Py);for(;e%iT===bn;e/=iT);if(e===Zn)return bn;let t=Au%e,r=1;for(;t!==Zn;r++)if(t=t*Au%e,r>Bee)return bn;return BigInt(r)}function Nee(n,e,t){let r=Zn,i=Fee(Au,t,e);for(let o=0;o<300;o++){if(r===i)return BigInt(o);r=r*Au%e,i=i*Au%e}return 0}function T0(n,e){if(!n)return e;if(!e)return n;for(;;){if(n%=e,!n)return e;if(e%=n,!e)return n}}function $l(n,e){if(gs(n,e),this instanceof $l)n=T0(Wt.d,Wt.n),this.s=Wt.s,this.n=Wt.n/n,this.d=Wt.d/n;else return Fi(Wt.s*Wt.n,Wt.d)}var IP=function(){return new Error("Division by Zero")},_p=function(){return new Error("Invalid argument")},MI=function(){return new Error("Parameters must be integer")};$l.prototype={s:Zn,n:bn,d:Zn,abs:function(){return Fi(this.n,this.d)},neg:function(){return Fi(-this.s*this.n,this.d)},add:function(n,e){return gs(n,e),Fi(this.s*this.n*Wt.d+Wt.s*this.d*Wt.n,this.d*Wt.d)},sub:function(n,e){return gs(n,e),Fi(this.s*this.n*Wt.d-Wt.s*this.d*Wt.n,this.d*Wt.d)},mul:function(n,e){return gs(n,e),Fi(this.s*Wt.s*this.n*Wt.n,this.d*Wt.d)},div:function(n,e){return gs(n,e),Fi(this.s*Wt.s*this.n*Wt.d,this.d*Wt.n)},clone:function(){return Fi(this.s*this.n,this.d)},mod:function(n,e){if(n===void 0)return Fi(this.s*this.n%this.d,Zn);if(gs(n,e),bn===Wt.n*this.d)throw IP();return Fi(this.s*(Wt.d*this.n)%(Wt.n*this.d),Wt.d*this.d)},gcd:function(n,e){return gs(n,e),Fi(T0(Wt.n,this.n)*T0(Wt.d,this.d),Wt.d*this.d)},lcm:function(n,e){return gs(n,e),Wt.n===bn&&this.n===bn?Fi(bn,Zn):Fi(Wt.n*this.n,T0(Wt.n,this.n)*T0(Wt.d,this.d))},inverse:function(){return Fi(this.s*this.d,this.n)},pow:function(n,e){if(gs(n,e),Wt.d===Zn)return Wt.s<bn?Fi((this.s*this.d)**Wt.n,this.n**Wt.n):Fi((this.s*this.n)**Wt.n,this.d**Wt.n);if(this.s<bn)return null;let t=_v(this.n),r=_v(this.d),i=Zn,o=Zn;for(let s in t)if(s!=="1"){if(s==="0"){i=bn;break}if(t[s]*=Wt.n,t[s]%Wt.d===bn)t[s]/=Wt.d;else return null;i*=BigInt(s)**t[s]}for(let s in r)if(s!=="1"){if(r[s]*=Wt.n,r[s]%Wt.d===bn)r[s]/=Wt.d;else return null;o*=BigInt(s)**r[s]}return Wt.s<bn?Fi(o,i):Fi(i,o)},log:function(n,e){if(gs(n,e),this.s<=bn||Wt.s<=bn)return null;const t={},r=_v(Wt.n),i=_v(Wt.d),o=_v(this.n),s=_v(this.d);for(const c in i)r[c]=(r[c]||bn)-i[c];for(const c in s)o[c]=(o[c]||bn)-s[c];for(const c in r)c!=="1"&&(t[c]=!0);for(const c in o)c!=="1"&&(t[c]=!0);let a=null,u=null;for(const c in t){const l=r[c]||bn,f=o[c]||bn;if(l===bn){if(f!==bn)return null;continue}let h=f,m=l;const g=T0(h,m);if(h/=g,m/=g,a===null&&u===null)a=h,u=m;else if(h*u!==a*m)return null}return a!==null&&u!==null?Fi(a,u):null},equals:function(n,e){return gs(n,e),this.s*this.n*Wt.d===Wt.s*Wt.n*this.d},lt:function(n,e){return gs(n,e),this.s*this.n*Wt.d<Wt.s*Wt.n*this.d},lte:function(n,e){return gs(n,e),this.s*this.n*Wt.d<=Wt.s*Wt.n*this.d},gt:function(n,e){return gs(n,e),this.s*this.n*Wt.d>Wt.s*Wt.n*this.d},gte:function(n,e){return gs(n,e),this.s*this.n*Wt.d>=Wt.s*Wt.n*this.d},compare:function(n,e){gs(n,e);let t=this.s*this.n*Wt.d-Wt.s*Wt.n*this.d;return(bn<t)-(t<bn)},ceil:function(n){return n=Au**BigInt(n||0),Fi(Rc(this.s*n*this.n/this.d)+(n*this.n%this.d>bn&&this.s>=bn?Zn:bn),n)},floor:function(n){return n=Au**BigInt(n||0),Fi(Rc(this.s*n*this.n/this.d)-(n*this.n%this.d>bn&&this.s<bn?Zn:bn),n)},round:function(n){return n=Au**BigInt(n||0),Fi(Rc(this.s*n*this.n/this.d)+this.s*((this.s>=bn?Zn:bn)+Py*(n*this.n%this.d)>this.d?Zn:bn),n)},roundTo:function(n,e){gs(n,e);const t=this.n*Wt.d,r=this.d*Wt.n,i=t%r;let o=Rc(t/r);return i+i>=r&&o++,Fi(this.s*o*Wt.n,Wt.d)},divisible:function(n,e){return gs(n,e),!(!(Wt.n*this.d)||this.n*Wt.d%(Wt.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n){let e=this.n,t=this.d;n=n||15;let r=Lee(e,t),i=Nee(e,t,r),o=this.s<bn?"-":"";if(o+=Rc(e/t),e%=t,e*=Au,e&&(o+="."),r){for(let s=i;s--;)o+=Rc(e/t),e%=t,e*=Au;o+="(";for(let s=r;s--;)o+=Rc(e/t),e%=t,e*=Au;o+=")"}else for(let s=n;e&&s--;)o+=Rc(e/t),e%=t,e*=Au;return o},toFraction:function(n){let e=this.n,t=this.d,r=this.s<bn?"-":"";if(t===Zn)r+=e;else{let i=Rc(e/t);n&&i>bn&&(r+=i,r+=" ",e%=t),r+=e,r+="/",r+=t}return r},toLatex:function(n){let e=this.n,t=this.d,r=this.s<bn?"-":"";if(t===Zn)r+=e;else{let i=Rc(e/t);n&&i>bn&&(r+=i,e%=t),r+="\\frac{",r+=e,r+="}{",r+=t,r+="}"}return r},toContinued:function(){let n=this.n,e=this.d,t=[];do{t.push(Rc(n/e));let r=n%e;n=e,e=r}while(n!==Zn);return t},simplify:function(n){const e=BigInt(1/(n||.001)|0),t=this.abs(),r=t.toContinued();for(let i=1;i<r.length;i++){let o=Fi(r[i-1],Zn);for(let a=i-2;a>=0;a--)o=o.inverse().add(r[a]);let s=o.sub(t);if(s.n*e<s.d)return o.mul(this.s)}return this}};var Uee="Fraction",kee=[],zee=Hn(Uee,kee,()=>(Object.defineProperty($l,"name",{value:"Fraction"}),$l.prototype.constructor=$l,$l.prototype.type="Fraction",$l.prototype.isFraction=!0,$l.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},$l.fromJSON=function(n){return new $l(n)},$l),{isClass:!0}),Hee="Matrix",Gee=[],Vee=Hn(Hee,Gee,()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function K2(n,e,t){var r=n.constructor,i=new r(2),o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!_s(t))throw new Error("size must be an integer");if(n.greaterThan(i.pow(t-1).sub(1))||n.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(t))),o="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(o);case 8:return"".concat(n.toOctal()).concat(o);case 16:return"".concat(n.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function jee(n,e){if(typeof e=="function")return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:r,wordSize:i}=WU(e);switch(t){case"fixed":return $ee(n,r);case"exponential":return TI(n,r);case"engineering":return Wee(n,r);case"bin":return K2(n,2,i);case"oct":return K2(n,8,i);case"hex":return K2(n,16,i);case"auto":{var o=PI(e==null?void 0:e.lowerExp,-3),s=PI(e==null?void 0:e.upperExp,5);if(n.isZero())return"0";var a,u=n.toSignificantDigits(r),c=u.e;return c>=o&&c<s?a=u.toFixed():a=TI(n,r),a.replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],f=arguments[4];return l!=="."?l+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Wee(n,e){var t=n.e,r=t%3===0?t:t<0?t-3-t%3:t-t%3,i=n.mul(Math.pow(10,-r)),o=i.toPrecision(e);if(o.includes("e")){var s=n.constructor;o=new s(o).toFixed()}return o+"e"+(t>=0?"+":"")+r.toString()}function TI(n,e){return e!==void 0?n.toExponential(e-1):n.toExponential()}function $ee(n,e){return n.toFixed(e)}function PI(n,e){return bi(n)?n:Vs(n)?n.toNumber():e}function yu(n,e){var t=qee(n,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function qee(n,e){if(typeof n=="number")return QM(n,e);if(Vs(n))return jee(n,e);if(Xee(n))return!e||e.fraction!=="decimal"?"".concat(n.s*n.n,"/").concat(n.d):n.toString();if(Array.isArray(n))return o6(n,e);if(Bf(n))return DI(n);if(typeof n=="function")return n.syntax?String(n.syntax):"function";if(n&&typeof n=="object"){if(typeof n.format=="function")return n.format(e);if(n&&n.toString(e)!=={}.toString())return n.toString(e);var t=Object.keys(n).map(r=>DI(r)+": "+yu(n[r],e));return"{"+t.join(", ")+"}"}return String(n)}function DI(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in RI?RI[i]:i,r++}return'"'+t+'"'}var RI={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function o6(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)i!==0&&(t+=", "),t+=o6(n[i],e);return t+="]",t}else return yu(n,e)}function Xee(n){return n&&typeof n=="object"&&typeof n.s=="bigint"&&typeof n.n=="bigint"&&typeof n.d=="bigint"||!1}function Ur(n,e,t){if(!(this instanceof Ur))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Ur.prototype=new RangeError;Ur.prototype.constructor=RangeError;Ur.prototype.name="DimensionError";Ur.prototype.isDimensionError=!0;function ug(n,e,t){if(!(this instanceof ug))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}ug.prototype=new RangeError;ug.prototype.constructor=RangeError;ug.prototype.name="IndexError";ug.prototype.isIndexError=!0;function xu(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function s6(n,e,t){var r,i=n.length;if(i!==e[t])throw new Ur(i,e[t]);if(t<e.length-1){var o=t+1;for(r=0;r<i;r++){var s=n[r];if(!Array.isArray(s))throw new Ur(e.length-1,e.length,"<");s6(n[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new Ur(e.length+1,e.length,">")}function OI(n,e){var t=e.length===0;if(t){if(Array.isArray(n))throw new Ur(n.length,0)}else s6(n,e,0)}function no(n,e){if(n!==void 0){if(!bi(n)||!_s(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof e=="number"&&n>=e)throw new ug(n,e)}}function II(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!bi(i)||!_s(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+yu(e)+")")}),(bi(n)||Vs(n))&&(n=[n]);var r=t!==void 0?t:0;return oT(n,e,0,r),n}function oT(n,e,t,r){var i,o,s=n.length,a=e[t],u=Math.min(s,a);if(n.length=a,t<e.length-1){var c=t+1;for(i=0;i<u;i++)o=n[i],Array.isArray(o)||(o=[o],n[i]=o),oT(o,e,c,r);for(i=u;i<a;i++)o=[],n[i]=o,oT(o,e,c,r)}else{for(i=0;i<u;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=u;i<a;i++)n[i]=r}}function a6(n,e){var t=sT(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Ur(0,r,"!=");e=BP(e,r);var i=u6(e);if(r!==i)throw new Ur(i,r,"!=");try{return Kee(t,e)}catch(o){throw o instanceof Ur?new Ur(i,r,"!="):o}}function BP(n,e){var t=u6(n),r=n.slice(),i=-1,o=n.indexOf(i),s=n.indexOf(i,o+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var a=o>=0,u=e%t===0;if(a)if(u)r[o]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return r}function u6(n){return n.reduce((e,t)=>e*t,1)}function Kee(n,e){for(var t=n,r,i=e.length-1;i>0;i--){var o=e[i];r=[];for(var s=t.length/o,a=0;a<s;a++)r.push(t.slice(a*o,(a+1)*o));t=r}return t}function l6(n,e,t,r){var i=r||xu(n);if(t)for(var o=0;o<t;o++)n=[n],i.unshift(1);for(n=c6(n,e,0);i.length<e;)i.push(1);return n}function c6(n,e,t){var r,i;if(Array.isArray(n)){var o=t+1;for(r=0,i=n.length;r<i;r++)n[r]=c6(n[r],e,o)}else for(var s=t;s<e;s++)n=[n];return n}function sT(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e}function FP(n,e){for(var t,r=0,i=0;i<n.length;i++){var o=n[i],s=Array.isArray(o);if(i===0&&s&&(r=o.length),s&&o.length!==r)return;var a=s?FP(o,e):e(o);if(t===void 0)t=a;else if(t!==a)return"mixed"}return t}function f6(n,e,t,r){if(r<t){if(n.length!==e.length)throw new Ur(n.length,e.length);for(var i=[],o=0;o<n.length;o++)i[o]=f6(n[o],e[o],t,r+1);return i}else return n.concat(e)}function d6(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return f6(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function h6(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(h=>h.length),i=Math.max(...r),o=new Array(i).fill(null),s=0;s<e.length;s++)for(var a=e[s],u=r[s],c=0;c<u;c++){var l=i-u+c;a[c]>o[l]&&(o[l]=a[c])}for(var f=0;f<e.length;f++)p6(e[f],o);return o}function p6(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var o=t-r+i;if(n[i]<e[o]&&n[i]>1||n[i]>e[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[o]))}}function aT(n,e){var t=xu(n);if(Bp(t,e))return n;p6(t,e);var r=h6(t,e),i=r.length,o=[...Array(i-t.length).fill(1),...t],s=Yee(n);t.length<i&&(s=a6(s,o),t=xu(s));for(var a=0;a<i;a++)t[a]<r[a]&&(s=Jee(s,r[a],a),t=xu(s));return s}function Jee(n,e,t){return d6(...Array(e).fill(n),t)}function m6(n,e){if(!Array.isArray(n))throw new Error("Array expected");var t=xu(n);if(e.length!==t.length)throw new Ur(e.length,t.length);for(var r=0;r<e.length;r++)no(e[r],t[r]);return e.reduce((i,o)=>i[o],n)}function Yee(n){return Pr([],n)}function ES(n,e,t){if(_S.isTypedFunction(n)){var r=(e.isMatrix?e.size():xu(e)).map(()=>0),i=e.isMatrix?e.get(r):m6(e,r),o=Object.keys(n.signatures).length===1,s=Qee(n,i,r,e),a=o?Object.values(n.signatures)[0]:n;return s>=1&&s<=3?function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return BI(a,c.slice(0,s),t,n.name)}:function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return BI(a,c,t,n.name)}}return n}function Qee(n,e,t,r){for(var i=[e,t,r],o=3;o>0;o--){var s=i.slice(0,o);if(_S.resolve(n,s)!==null)return o}}function BI(n,e,t,r){try{return n(...e)}catch(i){Zee(i,e,t,r)}}function Zee(n,e,t,r){var i;if(n instanceof TypeError&&((i=n.data)===null||i===void 0?void 0:i.category)==="wrongType"){var o=[];throw o.push("value: ".concat(Pp(e[0]))),e.length>=2&&o.push("index: ".concat(Pp(e[1]))),e.length>=3&&o.push("array: ".concat(Pp(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(r,"(").concat(o.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(n.message))}var ete="DenseMatrix",tte=["Matrix"],nte=Hn(ete,tte,n=>{var{Matrix:e}=n;function t(l,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Bf(f))throw new Error("Invalid datatype: "+f);if(ca(l))l.type==="DenseMatrix"?(this._data=vs(l._data),this._size=vs(l._size),this._datatype=f||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=f||l._datatype);else if(l&&Go(l.data)&&Go(l.size))this._data=l.data,this._size=l.size,OI(this._data,this._size),this._datatype=f||l.datatype;else if(Go(l))this._data=c(l),this._size=xu(this._data),OI(this._data,this._size),this._datatype=f;else{if(l)throw new TypeError("Unsupported type of data ("+Pp(l)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(l,f){return new t(l,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return FP(this._data,Pp)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(l,f){return new t(l,f)},t.prototype.subset=function(l,f,h){switch(arguments.length){case 1:return r(this,l);case 2:case 3:return o(this,l,f,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(l){return m6(this._data,l)},t.prototype.set=function(l,f,h){if(!Go(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new Ur(l.length,this._size.length,"<");var m,g,p,y=l.map(function(x){return x+1});u(this,y,h);var b=this._data;for(m=0,g=l.length-1;m<g;m++)p=l[m],no(p,b.length),b=b[p];return p=l[l.length-1],no(p,b.length),b[p]=f,this};function r(l,f){if(!DP(f))throw new TypeError("Invalid index");var h=f.isScalar();if(h)return l.get(f.min());var m=f.size();if(m.length!==l._size.length)throw new Ur(m.length,l._size.length);for(var g=f.min(),p=f.max(),y=0,b=l._size.length;y<b;y++)no(g[y],l._size[y]),no(p[y],l._size[y]);return new t(i(l._data,f,m.length,0),l._datatype)}function i(l,f,h,m){var g=m===h-1,p=f.dimension(m);return g?p.map(function(y){return no(y,l.length),l[y]}).valueOf():p.map(function(y){no(y,l.length);var b=l[y];return i(b,f,h,m+1)}).valueOf()}function o(l,f,h,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var g=f.size(),p=f.isScalar(),y;if(ca(h)?(y=h.size(),h=h.valueOf()):y=xu(h),p){if(y.length!==0)throw new TypeError("Scalar expected");l.set(f.min(),h,m)}else{if(!Bp(y,g))try{y.length===0?h=aT([h],g):h=aT(h,g),y=xu(h)}catch{}if(g.length<l._size.length)throw new Ur(g.length,l._size.length,"<");if(y.length<g.length){for(var b=0,x=0;g[b]===1&&y[b]===1;)b++;for(;g[b]===1;)x++,b++;h=l6(h,g.length,x,y)}if(!Bp(g,y))throw new Ur(g,y,">");var C=f.max().map(function(O){return O+1});u(l,C,m);var M=g.length,R=0;s(l._data,f,h,M,R)}return l}function s(l,f,h,m,g){var p=g===m-1,y=f.dimension(g);p?y.forEach(function(b,x){no(b),l[b]=h[x[0]]}):y.forEach(function(b,x){no(b),s(l[b],f,h[x[0]],m,g+1)})}t.prototype.resize=function(l,f,h){if(!vS(l))throw new TypeError("Array or Matrix expected");var m=l.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),g=h?this.clone():this;return a(g,m,f)};function a(l,f,h){if(f.length===0){for(var m=l._data;Go(m);)m=m[0];return m}return l._size=f.slice(0),l._data=II(l._data,l._size,h),l}t.prototype.reshape=function(l,f){var h=f?this.clone():this;h._data=a6(h._data,l);var m=h._size.reduce((g,p)=>g*p);return h._size=BP(l,m),h};function u(l,f,h){for(var m=l._size.slice(0),g=!1;m.length<f.length;)m.push(0),g=!0;for(var p=0,y=f.length;p<y;p++)f[p]>m[p]&&(m[p]=f[p],g=!0);g&&a(l,m,h)}t.prototype.clone=function(){var l=new t({data:vs(this._data),size:vs(this._size),datatype:this._datatype});return l},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(l){var f=this,h=f.size();if(h.length===1){for(var m=0;m<h[0];m++)l(f._data,m,[m]);return}var g=Array(h.length).fill(0),p=Array(h.length-1),y=p.length-1;p[0]=f._data[0];for(var b=0;b<y;b++)p[b+1]=p[b][0];for(g[y]=-1;;){var x=void 0;for(x=y;x>=0;x--){if(g[x]++,g[x]===h[x]){g[x]=0;continue}p[x]=x===0?f._data[g[x]]:p[x-1][g[x]];for(var C=x;C<y;C++)p[C+1]=p[C][0];for(var M=0;M<h[p.length];M++)g[p.length]=M,l(p[y],M,g.slice(0));break}if(x===-1)break}},t.prototype.map=function(l){var f=this,h=new t(f),m=ES(l,f._data,"map");return h._forEach(function(g,p,y){g[p]=m(g[p],y,f)}),h},t.prototype.forEach=function(l){var f=this,h=ES(l,f._data,"map");f._forEach(function(m,g,p){h(m[g],p,f)})},t.prototype[Symbol.iterator]=function*(){var l=function*(h,m){if(Go(h))for(var g=0;g<h.length;g++)yield*l(h[g],m.concat(g));else yield{value:h,index:m}};yield*l(this._data,[])},t.prototype.rows=function(){var l=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var m of h)l.push(new t([m],this._datatype));return l},t.prototype.columns=function(){var l=this,f=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,g=function(b){var x=m.map(C=>[C[b]]);f.push(new t(x,l._datatype))},p=0;p<h[1];p++)g(p);return f},t.prototype.toArray=function(){return vs(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(l){return yu(this._data,l)},t.prototype.toString=function(){return yu(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(l){if(l){if(Vs(l)&&(l=l.toNumber()),!bi(l)||!_s(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var f=l>0?l:0,h=l<0?-l:0,m=this._size[0],g=this._size[1],p=Math.min(m-h,g-f),y=[],b=0;b<p;b++)y[b]=this._data[b+h][b+f];return new t({data:y,size:[p],datatype:this._datatype})},t.diagonal=function(l,f,h,m){if(!Go(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(N){if(Vs(N)&&(N=N.toNumber()),!bi(N)||!_s(N)||N<1)throw new Error("Size values must be positive integers");return N}),h){if(Vs(h)&&(h=h.toNumber()),!bi(h)||!_s(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var g=h>0?h:0,p=h<0?-h:0,y=l[0],b=l[1],x=Math.min(y-p,b-g),C;if(Go(f)){if(f.length!==x)throw new Error("Invalid value array length");C=function(F){return f[F]}}else if(ca(f)){var M=f.size();if(M.length!==1||M[0]!==x)throw new Error("Invalid matrix length");C=function(F){return f.get([F])}}else C=function(){return f};m||(m=Vs(C(0))?C(0).mul(0):0);var R=[];if(l.length>0){R=II(R,l,m);for(var O=0;O<x;O++)R[O+p][O+g]=C(O)}return new t({data:R,size:[y,b]})},t.fromJSON=function(l){return new t(l)},t.prototype.swapRows=function(l,f){if(!bi(l)||!_s(l)||!bi(f)||!_s(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return no(l,this._size[0]),no(f,this._size[0]),t._swapRows(l,f,this._data),this},t._swapRows=function(l,f,h){var m=h[l];h[l]=h[f],h[f]=m};function c(l){return ca(l)?c(l.valueOf()):Go(l)?l.map(c):l}return t},{isClass:!0});function qf(n,e,t){return n&&typeof n.map=="function"?n.map(function(r){return qf(r,e)}):e(n)}var FI="isInteger",rte=["typed"],ite=Hn(FI,rte,n=>{var{typed:e}=n;return e(FI,{number:_s,BigNumber:function(r){return r.isInt()},bigint:function(r){return!0},Fraction:function(r){return r.d===1n},"Array | Matrix":e.referToSelf(t=>r=>qf(r,t))})}),g6="number",LP="number, number";function v6(n){return Math.abs(n)}v6.signature=g6;function _6(n,e){return n+e}_6.signature=LP;function y6(n,e){return n-e}y6.signature=LP;function b6(n,e){return n*e}b6.signature=LP;function A6(n){return-n}A6.signature=g6;function E6(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return n.isNaN()||e.isNaN()?!1:!n.isFinite()||!e.isFinite()?n.eq(e):n.eq(e)?!0:n.minus(e).abs().lte(n.constructor.max(n.constructor.max(n.abs(),e.abs()).mul(t),r))}var LI="isNumeric",ote=["typed"],ste=Hn(LI,ote,n=>{var{typed:e}=n;return e(LI,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>r=>qf(r,t))})}),NI="isZero",ate=["typed","equalScalar"],ute=Hn(NI,ate,n=>{var{typed:e,equalScalar:t}=n;return e(NI,{"number | BigNumber | Complex | Fraction":r=>t(r,0),bigint:r=>r===0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>qf(i,r))})});function lte(n,e,t,r){return My(n.re,e.re,t,r)&&My(n.im,e.im,t,r)}var S6=Hn("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}}),SS="equalScalar",cte=["typed","config"],fte=Hn(SS,cte,n=>{var{typed:e,config:t}=n,r=S6({typed:e});return e(SS,{"boolean, boolean":function(o,s){return o===s},"number, number":function(o,s){return My(o,s,t.relTol,t.absTol)},"BigNumber, BigNumber":function(o,s){return o.eq(s)||E6(o,s,t.relTol,t.absTol)},"bigint, bigint":function(o,s){return o===s},"Fraction, Fraction":function(o,s){return o.equals(s)},"Complex, Complex":function(o,s){return lte(o,s,t.relTol,t.absTol)}},r)});Hn(SS,["typed","config"],n=>{var{typed:e,config:t}=n;return e(SS,{"number, number":function(i,o){return My(i,o,t.relTol,t.absTol)}})});var dte="SparseMatrix",hte=["typed","equalScalar","Matrix"],pte=Hn(dte,hte,n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(p,y){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(y&&!Bf(y))throw new Error("Invalid datatype: "+y);if(ca(p))o(this,p,y);else if(p&&Go(p.index)&&Go(p.ptr)&&Go(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=y||p.datatype;else if(Go(p))s(this,p,y);else{if(p)throw new TypeError("Unsupported type of data ("+Pp(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=y}}function o(p,y,b){y.type==="SparseMatrix"?(p._values=y._values?vs(y._values):void 0,p._index=vs(y._index),p._ptr=vs(y._ptr),p._size=vs(y._size),p._datatype=b||y._datatype):s(p,y.valueOf(),b||y._datatype)}function s(p,y,b){p._values=[],p._index=[],p._ptr=[],p._datatype=b;var x=y.length,C=0,M=t,R=0;if(Bf(b)&&(M=e.find(t,[b,b])||t,R=e.convert(0,b)),x>0){var O=0;do{p._ptr.push(p._index.length);for(var N=0;N<x;N++){var F=y[N];if(Go(F)){if(O===0&&C<F.length&&(C=F.length),O<F.length){var I=F[O];M(I,R)||(p._values.push(I),p._index.push(N))}}else O===0&&C<1&&(C=1),M(F,R)||(p._values.push(F),p._index.push(N))}O++}while(O<C)}p._ptr.push(p._index.length),p._size=[x,C]}i.prototype=new r,i.prototype.createSparseMatrix=function(p,y){return new i(p,y)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return FP(this._values,Pp)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,y){return new i(p,y)},i.prototype.density=function(){var p=this._size[0],y=this._size[1];return p!==0&&y!==0?this._index.length/(p*y):0},i.prototype.subset=function(p,y,b){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,p);case 2:case 3:return u(this,p,y,b);default:throw new SyntaxError("Wrong number of arguments")}};function a(p,y){if(!DP(y))throw new TypeError("Invalid index");var b=y.isScalar();if(b)return p.get(y.min());var x=y.size();if(x.length!==p._size.length)throw new Ur(x.length,p._size.length);var C,M,R,O,N=y.min(),F=y.max();for(C=0,M=p._size.length;C<M;C++)no(N[C],p._size[C]),no(F[C],p._size[C]);var I=p._values,B=p._index,k=p._ptr,q=y.dimension(0),Y=y.dimension(1),ee=[],le=[];q.forEach(function(ae,ue){le[ae]=ue[0],ee[ae]=!0});var J=I?[]:void 0,fe=[],V=[];return Y.forEach(function(ae){for(V.push(fe.length),R=k[ae],O=k[ae+1];R<O;R++)C=B[R],ee[C]===!0&&(fe.push(le[C]),J&&J.push(I[R]))}),V.push(fe.length),new i({values:J,index:fe,ptr:V,size:x,datatype:p._datatype})}function u(p,y,b,x){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var C=y.size(),M=y.isScalar(),R;if(ca(b)?(R=b.size(),b=b.toArray()):R=xu(b),M){if(R.length!==0)throw new TypeError("Scalar expected");p.set(y.min(),b,x)}else{if(C.length!==1&&C.length!==2)throw new Ur(C.length,p._size.length,"<");if(R.length<C.length){for(var O=0,N=0;C[O]===1&&R[O]===1;)O++;for(;C[O]===1;)N++,O++;b=l6(b,C.length,N,R)}if(!Bp(C,R))throw new Ur(C,R,">");if(C.length===1){var F=y.dimension(0);F.forEach(function(k,q){no(k),p.set([k,0],b[q[0]],x)})}else{var I=y.dimension(0),B=y.dimension(1);I.forEach(function(k,q){no(k),B.forEach(function(Y,ee){no(Y),p.set([k,Y],b[q[0]][ee[0]],x)})})}}return p}i.prototype.get=function(p){if(!Go(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new Ur(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var y=p[0],b=p[1];no(y,this._size[0]),no(b,this._size[1]);var x=c(y,this._ptr[b],this._ptr[b+1],this._index);return x<this._ptr[b+1]&&this._index[x]===y?this._values[x]:0},i.prototype.set=function(p,y,b){if(!Go(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new Ur(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var x=p[0],C=p[1],M=this._size[0],R=this._size[1],O=t,N=0;Bf(this._datatype)&&(O=e.find(t,[this._datatype,this._datatype])||t,N=e.convert(0,this._datatype)),(x>M-1||C>R-1)&&(h(this,Math.max(x+1,M),Math.max(C+1,R),b),M=this._size[0],R=this._size[1]),no(x,M),no(C,R);var F=c(x,this._ptr[C],this._ptr[C+1],this._index);return F<this._ptr[C+1]&&this._index[F]===x?O(y,N)?l(F,C,this._values,this._index,this._ptr):this._values[F]=y:O(y,N)||f(F,x,C,y,this._values,this._index,this._ptr),this};function c(p,y,b,x){if(b-y===0)return b;for(var C=y;C<b;C++)if(x[C]===p)return C;return y}function l(p,y,b,x,C){b.splice(p,1),x.splice(p,1);for(var M=y+1;M<C.length;M++)C[M]--}function f(p,y,b,x,C,M,R){C.splice(p,0,x),M.splice(p,0,y);for(var O=b+1;O<R.length;O++)R[O]++}i.prototype.resize=function(p,y,b){if(!vS(p))throw new TypeError("Array or Matrix expected");var x=p.valueOf().map(M=>Array.isArray(M)&&M.length===1?M[0]:M);if(x.length!==2)throw new Error("Only two dimensions matrix are supported");x.forEach(function(M){if(!bi(M)||!_s(M)||M<0)throw new TypeError("Invalid size, must contain positive integers (size: "+yu(x)+")")});var C=b?this.clone():this;return h(C,x[0],x[1],y)};function h(p,y,b,x){var C=x||0,M=t,R=0;Bf(p._datatype)&&(M=e.find(t,[p._datatype,p._datatype])||t,R=e.convert(0,p._datatype),C=e.convert(C,p._datatype));var O=!M(C,R),N=p._size[0],F=p._size[1],I,B,k;if(b>F){for(B=F;B<b;B++)if(p._ptr[B]=p._values.length,O)for(I=0;I<N;I++)p._values.push(C),p._index.push(I);p._ptr[b]=p._values.length}else b<F&&(p._ptr.splice(b+1,F-b),p._values.splice(p._ptr[b],p._values.length),p._index.splice(p._ptr[b],p._index.length));if(F=b,y>N){if(O){var q=0;for(B=0;B<F;B++){p._ptr[B]=p._ptr[B]+q,k=p._ptr[B+1]+q;var Y=0;for(I=N;I<y;I++,Y++)p._values.splice(k+Y,0,C),p._index.splice(k+Y,0,I),q++}p._ptr[F]=p._values.length}}else if(y<N){var ee=0;for(B=0;B<F;B++){p._ptr[B]=p._ptr[B]-ee;var le=p._ptr[B],J=p._ptr[B+1]-ee;for(k=le;k<J;k++)I=p._index[k],I>y-1&&(p._values.splice(k,1),p._index.splice(k,1),ee++)}p._ptr[B]=p._values.length}return p._size[0]=y,p._size[1]=b,p}i.prototype.reshape=function(p,y){if(!Go(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(ae){if(!bi(ae)||!_s(ae)||ae<=-2||ae===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+yu(p)+")")});var b=this._size[0]*this._size[1];p=BP(p,b);var x=p[0]*p[1];if(b!==x)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var C=y?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return C;for(var M=[],R=0;R<C._ptr.length;R++)for(var O=0;O<C._ptr[R+1]-C._ptr[R];O++)M.push(R);for(var N=C._values.slice(),F=C._index.slice(),I=0;I<C._index.length;I++){var B=F[I],k=M[I],q=B*C._size[1]+k;M[I]=q%p[1],F[I]=Math.floor(q/p[1])}C._values.length=0,C._index.length=0,C._ptr.length=p[1]+1,C._size=p.slice();for(var Y=0;Y<C._ptr.length;Y++)C._ptr[Y]=0;for(var ee=0;ee<N.length;ee++){var le=F[ee],J=M[ee],fe=N[ee],V=c(le,C._ptr[J],C._ptr[J+1],C._index);f(V,le,J,fe,C._values,C._index,C._ptr)}return C},i.prototype.clone=function(){var p=new i({values:this._values?vs(this._values):void 0,index:vs(this._index),ptr:vs(this._ptr),size:vs(this._size),datatype:this._datatype});return p},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,y){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var b=this,x=this._size[0],C=this._size[1],M=ES(p,b,"map"),R=function(N,F,I){return M(N,[F,I],b)};return m(this,0,x-1,0,C-1,R,y)};function m(p,y,b,x,C,M,R){var O=[],N=[],F=[],I=t,B=0;Bf(p._datatype)&&(I=e.find(t,[p._datatype,p._datatype])||t,B=e.convert(0,p._datatype));for(var k=function(we,ye,Ce){var Le=M(we,ye,Ce);I(Le,B)||(O.push(Le),N.push(ye))},q=x;q<=C;q++){F.push(O.length);var Y=p._ptr[q],ee=p._ptr[q+1];if(R)for(var le=Y;le<ee;le++){var J=p._index[le];J>=y&&J<=b&&k(p._values[le],J-y,q-x)}else{for(var fe={},V=Y;V<ee;V++){var ae=p._index[V];fe[ae]=p._values[V]}for(var ue=y;ue<=b;ue++){var Q=ue in fe?fe[ue]:0;k(Q,ue-y,q-x)}}}return F.push(O.length),new i({values:O,index:N,ptr:F,size:[b-y+1,C-x+1]})}i.prototype.forEach=function(p,y){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var b=this,x=this._size[0],C=this._size[1],M=ES(p,b,"forEach"),R=0;R<C;R++){var O=this._ptr[R],N=this._ptr[R+1];if(y)for(var F=O;F<N;F++){var I=this._index[F];M(this._values[F],[I,R],b)}else{for(var B={},k=O;k<N;k++){var q=this._index[k];B[q]=this._values[k]}for(var Y=0;Y<x;Y++){var ee=Y in B?B[Y]:0;M(ee,[Y,R],b)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],y=0;y<p;y++)for(var b=this._ptr[y],x=this._ptr[y+1],C=b;C<x;C++){var M=this._index[C];yield{value:this._values[C],index:[M,y]}}},i.prototype.toArray=function(){return g(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return g(this._values,this._index,this._ptr,this._size,!1)};function g(p,y,b,x,C){var M=x[0],R=x[1],O=[],N,F;for(N=0;N<M;N++)for(O[N]=[],F=0;F<R;F++)O[N][F]=0;for(F=0;F<R;F++)for(var I=b[F],B=b[F+1],k=I;k<B;k++)N=y[k],O[N][F]=p?C?vs(p[k]):p[k]:1;return O}return i.prototype.format=function(p){for(var y=this._size[0],b=this._size[1],x=this.density(),C="Sparse Matrix ["+yu(y,p)+" x "+yu(b,p)+"] density: "+yu(x,p)+`
`,M=0;M<b;M++)for(var R=this._ptr[M],O=this._ptr[M+1],N=R;N<O;N++){var F=this._index[N];C+=`
    (`+yu(F,p)+", "+yu(M,p)+") ==> "+(this._values?yu(this._values[N],p):"X")}return C},i.prototype.toString=function(){return yu(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(Vs(p)&&(p=p.toNumber()),!bi(p)||!_s(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var y=p>0?p:0,b=p<0?-p:0,x=this._size[0],C=this._size[1],M=Math.min(x-b,C-y),R=[],O=[],N=[];N[0]=0;for(var F=y;F<C&&R.length<M;F++)for(var I=this._ptr[F],B=this._ptr[F+1],k=I;k<B;k++){var q=this._index[k];if(q===F-y+b){R.push(this._values[k]),O[R.length-1]=q-b;break}}return N.push(R.length),new i({values:R,index:O,ptr:N,size:[M,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,y,b,x,C){if(!Go(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(ae){if(Vs(ae)&&(ae=ae.toNumber()),!bi(ae)||!_s(ae)||ae<1)throw new Error("Size values must be positive integers");return ae}),b){if(Vs(b)&&(b=b.toNumber()),!bi(b)||!_s(b))throw new TypeError("The parameter k must be an integer number")}else b=0;var M=t,R=0;Bf(C)&&(M=e.find(t,[C,C])||t,R=e.convert(0,C));var O=b>0?b:0,N=b<0?-b:0,F=p[0],I=p[1],B=Math.min(F-N,I-O),k;if(Go(y)){if(y.length!==B)throw new Error("Invalid value array length");k=function(ue){return y[ue]}}else if(ca(y)){var q=y.size();if(q.length!==1||q[0]!==B)throw new Error("Invalid matrix length");k=function(ue){return y.get([ue])}}else k=function(){return y};for(var Y=[],ee=[],le=[],J=0;J<I;J++){le.push(Y.length);var fe=J-O;if(fe>=0&&fe<B){var V=k(fe);M(V,R)||(ee.push(fe+N),Y.push(V))}}return le.push(Y.length),new i({values:Y,index:ee,ptr:le,size:[F,I]})},i.prototype.swapRows=function(p,y){if(!bi(p)||!_s(p)||!bi(y)||!_s(y))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return no(p,this._size[0]),no(y,this._size[0]),i._swapRows(p,y,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,y,b,x,C){for(var M=x[p],R=x[p+1],O=M;O<R;O++)C(b[O],y[O])},i._swapRows=function(p,y,b,x,C,M){for(var R=0;R<b;R++){var O=M[R],N=M[R+1],F=c(p,O,N,C),I=c(y,O,N,C);if(F<N&&I<N&&C[F]===p&&C[I]===y){if(x){var B=x[F];x[F]=x[I],x[I]=B}continue}if(F<N&&C[F]===p&&(I>=N||C[I]!==y)){var k=x?x[F]:void 0;C.splice(I,0,y),x&&x.splice(I,0,k),C.splice(I<=F?F+1:F,1),x&&x.splice(I<=F?F+1:F,1);continue}if(I<N&&C[I]===y&&(F>=N||C[F]!==p)){var q=x?x[I]:void 0;C.splice(F,0,p),x&&x.splice(F,0,q),C.splice(F<=I?I+1:I,1),x&&x.splice(F<=I?I+1:I,1)}}},i},{isClass:!0}),mte="number",gte=["typed"];function vte(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],r=e[2],i=e[3];return{input:n,radix:t,integerPart:r,fractionalPart:i}}else return null}function _te(n){for(var e=parseInt(n.integerPart,n.radix),t=0,r=0;r<n.fractionalPart.length;r++){var i=parseInt(n.fractionalPart[r],n.radix);t+=i/Math.pow(n.radix,r+1)}var o=e+t;if(isNaN(o))throw new SyntaxError('String "'+n.input+'" is not a valid number');return o}var yte=Hn(mte,gte,n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=vte(i);if(o)return _te(o);var s=0,a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(s=Number(a[2]),i=a[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is not a valid number');if(a){if(u>2**s-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(s-1)&&(u=u-2**s)}return u},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":e.referToSelf(r=>i=>qf(i,r))});return t.fromJSON=function(r){return parseFloat(r.value)},t}),bte="bignumber",Ate=["typed","BigNumber"],Ete=Hn(bte,Ate,n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var s=o[2],a=t(o[1]),u=new t(2).pow(Number(s));if(a.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new t(2).pow(Number(s)-1);return a.gte(c)?a.sub(u):a}return new t(i)},BigNumber:function(i){return i},bigint:function(i){return new t(i.toString())},Unit:e.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),Fraction:function(i){return new t(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(r=>i=>qf(i,r))})}),Ste="fraction",xte=["typed","Fraction"],wte=Hn(Ste,xte,n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,o){return new t(i,o)},"bigint, bigint":function(i,o){return new t(i,o)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},bigint:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>qf(i,r))})}),UI="matrix",Cte=["typed","Matrix","DenseMatrix","SparseMatrix"],Mte=Hn(UI,Cte,n=>{var{typed:e,Matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e(UI,{"":function(){return o([])},string:function(a){return o([],a)},"string, string":function(a,u){return o([],a,u)},Array:function(a){return o(a)},Matrix:function(a){return o(a,a.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(s,a,u){if(a==="dense"||a==="default"||a===void 0)return new r(s,u);if(a==="sparse")return new i(s,u);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),kI="unaryMinus",Tte=["typed"],Pte=Hn(kI,Tte,n=>{var{typed:e}=n;return e(kI,{number:A6,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>qf(r,t))})}),zI="abs",Dte=["typed"],Rte=Hn(zI,Dte,n=>{var{typed:e}=n;return e(zI,{number:v6,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>r=>qf(r,t))})}),HI="addScalar",Ote=["typed"],Ite=Hn(HI,Ote,n=>{var{typed:e}=n;return e(HI,{"number, number":_6,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"bigint, bigint":function(r,i){return r+i},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),GI="subtractScalar",Bte=["typed"],Fte=Hn(GI,Bte,n=>{var{typed:e}=n;return e(GI,{"number, number":y6,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"bigint, bigint":function(r,i){return r-i},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),Lte="matAlgo11xS0s",Nte=["typed","equalScalar"],Ute=Hn(Lte,Nte,n=>{var{typed:e,equalScalar:t}=n;return function(i,o,s,a){var u=i._values,c=i._index,l=i._ptr,f=i._size,h=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],g=f[1],p,y=t,b=0,x=s;typeof h=="string"&&(p=h,y=e.find(t,[p,p]),b=e.convert(0,p),o=e.convert(o,p),x=e.find(s,[p,p]));for(var C=[],M=[],R=[],O=0;O<g;O++){R[O]=M.length;for(var N=l[O],F=l[O+1],I=N;I<F;I++){var B=c[I],k=a?x(o,u[I]):x(u[I],o);y(k,b)||(M.push(B),C.push(k))}}return R[g]=M.length,i.createSparseMatrix({values:C,index:M,ptr:R,size:[m,g],datatype:p})}}),kte="matAlgo12xSfs",zte=["typed","DenseMatrix"],x6=Hn(kte,zte,n=>{var{typed:e,DenseMatrix:t}=n;return function(i,o,s,a){var u=i._values,c=i._index,l=i._ptr,f=i._size,h=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],g=f[1],p,y=s;typeof h=="string"&&(p=h,o=e.convert(o,p),y=e.find(s,[p,p]));for(var b=[],x=[],C=[],M=0;M<g;M++){for(var R=M+1,O=l[M],N=l[M+1],F=O;F<N;F++){var I=c[F];x[I]=u[F],C[I]=R}for(var B=0;B<m;B++)M===0&&(b[B]=[]),C[B]===R?b[B][M]=a?y(o,x[B]):y(x[B],o):b[B][M]=a?y(o,0):y(0,o)}return new t({data:b,size:[m,g],datatype:p})}}),Hte="matAlgo14xDs",Gte=["typed"],w6=Hn(Hte,Gte,n=>{var{typed:e}=n;return function(i,o,s,a){var u=i._data,c=i._size,l=i._datatype,f,h=s;typeof l=="string"&&(f=l,o=e.convert(o,f),h=e.find(s,[f,f]));var m=c.length>0?t(h,0,c,c[0],u,o,a):[];return i.createDenseMatrix({data:m,size:vs(c),datatype:f})};function t(r,i,o,s,a,u,c){var l=[];if(i===o.length-1)for(var f=0;f<s;f++)l[f]=c?r(u,a[f]):r(a[f],u);else for(var h=0;h<s;h++)l[h]=t(r,i+1,o,o[i+1],a[h],u,c);return l}}),Vte="matAlgo03xDSf",jte=["typed"],C6=Hn(Vte,jte,n=>{var{typed:e}=n;return function(r,i,o,s){var a=r._data,u=r._size,c=r._datatype||r.getDataType(),l=i._values,f=i._index,h=i._ptr,m=i._size,g=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(u.length!==m.length)throw new Ur(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=u[0],y=u[1],b,x=0,C=o;typeof c=="string"&&c===g&&c!=="mixed"&&(b=c,x=e.convert(0,b),C=e.find(o,[b,b]));for(var M=[],R=0;R<p;R++)M[R]=[];for(var O=[],N=[],F=0;F<y;F++){for(var I=F+1,B=h[F],k=h[F+1],q=B;q<k;q++){var Y=f[q];O[Y]=s?C(l[q],a[Y][F]):C(a[Y][F],l[q]),N[Y]=I}for(var ee=0;ee<p;ee++)N[ee]===I?M[ee][F]=O[ee]:M[ee][F]=s?C(x,a[ee][F]):C(a[ee][F],x)}return r.createDenseMatrix({data:M,size:[p,y],datatype:c===r._datatype&&g===i._datatype?b:void 0})}}),Wte="matAlgo05xSfSf",$te=["typed","equalScalar"],qte=Hn(Wte,$te,n=>{var{typed:e,equalScalar:t}=n;return function(i,o,s){var a=i._values,u=i._index,c=i._ptr,l=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=o._values,m=o._index,g=o._ptr,p=o._size,y=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==p.length)throw new Ur(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var b=l[0],x=l[1],C,M=t,R=0,O=s;typeof f=="string"&&f===y&&f!=="mixed"&&(C=f,M=e.find(t,[C,C]),R=e.convert(0,C),O=e.find(s,[C,C]));var N=a&&h?[]:void 0,F=[],I=[],B=N?[]:void 0,k=N?[]:void 0,q=[],Y=[],ee,le,J,fe;for(le=0;le<x;le++){I[le]=F.length;var V=le+1;for(J=c[le],fe=c[le+1];J<fe;J++)ee=u[J],F.push(ee),q[ee]=V,B&&(B[ee]=a[J]);for(J=g[le],fe=g[le+1];J<fe;J++)ee=m[J],q[ee]!==V&&F.push(ee),Y[ee]=V,k&&(k[ee]=h[J]);if(N)for(J=I[le];J<F.length;){ee=F[J];var ae=q[ee],ue=Y[ee];if(ae===V||ue===V){var Q=ae===V?B[ee]:R,de=ue===V?k[ee]:R,we=O(Q,de);M(we,R)?F.splice(J,1):(N.push(we),J++)}}}return I[x]=F.length,i.createSparseMatrix({values:N,index:F,ptr:I,size:[b,x],datatype:f===i._datatype&&y===o._datatype?C:void 0})}}),Xte="matAlgo13xDD",Kte=["typed"],Jte=Hn(Xte,Kte,n=>{var{typed:e}=n;return function(i,o,s){var a=i._data,u=i._size,c=i._datatype,l=o._data,f=o._size,h=o._datatype,m=[];if(u.length!==f.length)throw new Ur(u.length,f.length);for(var g=0;g<u.length;g++){if(u[g]!==f[g])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");m[g]=u[g]}var p,y=s;typeof c=="string"&&c===h&&(p=c,y=e.find(s,[p,p]));var b=m.length>0?t(y,0,m,m[0],a,l):[];return i.createDenseMatrix({data:b,size:m,datatype:p})};function t(r,i,o,s,a,u){var c=[];if(i===o.length-1)for(var l=0;l<s;l++)c[l]=r(a[l],u[l]);else for(var f=0;f<s;f++)c[f]=t(r,i+1,o,o[i+1],a[f],u[f]);return c}});function ms(n,e){if(Bp(n.size(),e.size()))return[n,e];var t=h6(n.size(),e.size());return[n,e].map(r=>Yte(r,t))}function Yte(n,e){return Bp(n.size(),e)?n:n.create(aT(n.valueOf(),e),n.datatype())}var Qte="matrixAlgorithmSuite",Zte=["typed","matrix"],NP=Hn(Qte,Zte,n=>{var{typed:e,matrix:t}=n,r=Jte({typed:e}),i=w6({typed:e});return function(s){var a=s.elop,u=s.SD||s.DS,c;a?(c={"DenseMatrix, DenseMatrix":(m,g)=>r(...ms(m,g),a),"Array, Array":(m,g)=>r(...ms(t(m),t(g)),a).valueOf(),"Array, DenseMatrix":(m,g)=>r(...ms(t(m),g),a),"DenseMatrix, Array":(m,g)=>r(...ms(m,t(g)),a)},s.SS&&(c["SparseMatrix, SparseMatrix"]=(m,g)=>s.SS(...ms(m,g),a,!1)),s.DS&&(c["DenseMatrix, SparseMatrix"]=(m,g)=>s.DS(...ms(m,g),a,!1),c["Array, SparseMatrix"]=(m,g)=>s.DS(...ms(t(m),g),a,!1)),u&&(c["SparseMatrix, DenseMatrix"]=(m,g)=>u(...ms(g,m),a,!0),c["SparseMatrix, Array"]=(m,g)=>u(...ms(t(g),m),a,!0))):(c={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(g,p)=>r(...ms(g,p),m)),"Array, Array":e.referToSelf(m=>(g,p)=>r(...ms(t(g),t(p)),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(g,p)=>r(...ms(t(g),p),m)),"DenseMatrix, Array":e.referToSelf(m=>(g,p)=>r(...ms(g,t(p)),m))},s.SS&&(c["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(g,p)=>s.SS(...ms(g,p),m,!1))),s.DS&&(c["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(g,p)=>s.DS(...ms(g,p),m,!1)),c["Array, SparseMatrix"]=e.referToSelf(m=>(g,p)=>s.DS(...ms(t(g),p),m,!1))),u&&(c["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(g,p)=>u(...ms(p,g),m,!0)),c["SparseMatrix, Array"]=e.referToSelf(m=>(g,p)=>u(...ms(t(p),g),m,!0))));var l=s.scalar||"any",f=s.Ds||s.Ss;f&&(a?(c["DenseMatrix,"+l]=(m,g)=>i(m,g,a,!1),c[l+", DenseMatrix"]=(m,g)=>i(g,m,a,!0),c["Array,"+l]=(m,g)=>i(t(m),g,a,!1).valueOf(),c[l+", Array"]=(m,g)=>i(t(g),m,a,!0).valueOf()):(c["DenseMatrix,"+l]=e.referToSelf(m=>(g,p)=>i(g,p,m,!1)),c[l+", DenseMatrix"]=e.referToSelf(m=>(g,p)=>i(p,g,m,!0)),c["Array,"+l]=e.referToSelf(m=>(g,p)=>i(t(g),p,m,!1).valueOf()),c[l+", Array"]=e.referToSelf(m=>(g,p)=>i(t(p),g,m,!0).valueOf())));var h=s.sS!==void 0?s.sS:s.Ss;return a?(s.Ss&&(c["SparseMatrix,"+l]=(m,g)=>s.Ss(m,g,a,!1)),h&&(c[l+", SparseMatrix"]=(m,g)=>h(g,m,a,!0))):(s.Ss&&(c["SparseMatrix,"+l]=e.referToSelf(m=>(g,p)=>s.Ss(g,p,m,!1))),h&&(c[l+", SparseMatrix"]=e.referToSelf(m=>(g,p)=>h(p,g,m,!0)))),a&&a.signatures&&yZ(c,a.signatures),c}}),ene="matAlgo01xDSid",tne=["typed"],M6=Hn(ene,tne,n=>{var{typed:e}=n;return function(r,i,o,s){var a=r._data,u=r._size,c=r._datatype||r.getDataType(),l=i._values,f=i._index,h=i._ptr,m=i._size,g=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(u.length!==m.length)throw new Ur(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=u[0],y=u[1],b=typeof c=="string"&&c!=="mixed"&&c===g?c:void 0,x=b?e.find(o,[b,b]):o,C,M,R=[];for(C=0;C<p;C++)R[C]=[];var O=[],N=[];for(M=0;M<y;M++){for(var F=M+1,I=h[M],B=h[M+1],k=I;k<B;k++)C=f[k],O[C]=s?x(l[k],a[C][M]):x(a[C][M],l[k]),N[C]=F;for(C=0;C<p;C++)N[C]===F?R[C][M]=O[C]:R[C][M]=a[C][M]}return r.createDenseMatrix({data:R,size:[p,y],datatype:c===r._datatype&&g===i._datatype?b:void 0})}}),nne="matAlgo04xSidSid",rne=["typed","equalScalar"],ine=Hn(nne,rne,n=>{var{typed:e,equalScalar:t}=n;return function(i,o,s){var a=i._values,u=i._index,c=i._ptr,l=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=o._values,m=o._index,g=o._ptr,p=o._size,y=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==p.length)throw new Ur(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var b=l[0],x=l[1],C,M=t,R=0,O=s;typeof f=="string"&&f===y&&f!=="mixed"&&(C=f,M=e.find(t,[C,C]),R=e.convert(0,C),O=e.find(s,[C,C]));var N=a&&h?[]:void 0,F=[],I=[],B=a&&h?[]:void 0,k=a&&h?[]:void 0,q=[],Y=[],ee,le,J,fe,V;for(le=0;le<x;le++){I[le]=F.length;var ae=le+1;for(fe=c[le],V=c[le+1],J=fe;J<V;J++)ee=u[J],F.push(ee),q[ee]=ae,B&&(B[ee]=a[J]);for(fe=g[le],V=g[le+1],J=fe;J<V;J++)if(ee=m[J],q[ee]===ae){if(B){var ue=O(B[ee],h[J]);M(ue,R)?q[ee]=null:B[ee]=ue}}else F.push(ee),Y[ee]=ae,k&&(k[ee]=h[J]);if(B&&k)for(J=I[le];J<F.length;)ee=F[J],q[ee]===ae?(N[J]=B[ee],J++):Y[ee]===ae?(N[J]=k[ee],J++):F.splice(J,1)}return I[x]=F.length,i.createSparseMatrix({values:N,index:F,ptr:I,size:[b,x],datatype:f===i._datatype&&y===o._datatype?C:void 0})}}),one="matAlgo10xSids",sne=["typed","DenseMatrix"],T6=Hn(one,sne,n=>{var{typed:e,DenseMatrix:t}=n;return function(i,o,s,a){var u=i._values,c=i._index,l=i._ptr,f=i._size,h=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],g=f[1],p,y=s;typeof h=="string"&&(p=h,o=e.convert(o,p),y=e.find(s,[p,p]));for(var b=[],x=[],C=[],M=0;M<g;M++){for(var R=M+1,O=l[M],N=l[M+1],F=O;F<N;F++){var I=c[F];x[I]=u[F],C[I]=R}for(var B=0;B<m;B++)M===0&&(b[B]=[]),C[B]===R?b[B][M]=a?y(o,x[B]):y(x[B],o):b[B][M]=o}return new t({data:b,size:[m,g],datatype:p})}}),ane="multiplyScalar",une=["typed"],lne=Hn(ane,une,n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":b6,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"bigint, bigint":function(r,i){return r*i},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,r)=>r.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,r)=>t.multiply(r)})}),VI="multiply",cne=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],fne=Hn(VI,cne,n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,equalScalar:o,dot:s}=n,a=Ute({typed:e,equalScalar:o}),u=w6({typed:e});function c(R,O){switch(R.length){case 1:switch(O.length){case 1:if(R[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(R[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+R[0]+") must match Matrix rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;case 2:switch(O.length){case 1:if(R[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+R[1]+") must match Vector length ("+O[0]+")");break;case 2:if(R[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+R[1]+") must match Matrix B rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+R.length+" dimensions)")}}function l(R,O,N){if(N===0)throw new Error("Cannot multiply two empty vectors");return s(R,O)}function f(R,O){if(O.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return h(R,O)}function h(R,O){var N=R._data,F=R._size,I=R._datatype||R.getDataType(),B=O._data,k=O._size,q=O._datatype||O.getDataType(),Y=F[0],ee=k[1],le,J=r,fe=i;I&&q&&I===q&&typeof I=="string"&&I!=="mixed"&&(le=I,J=e.find(r,[le,le]),fe=e.find(i,[le,le]));for(var V=[],ae=0;ae<ee;ae++){for(var ue=fe(N[0],B[0][ae]),Q=1;Q<Y;Q++)ue=J(ue,fe(N[Q],B[Q][ae]));V[ae]=ue}return R.createDenseMatrix({data:V,size:[ee],datatype:I===R._datatype&&q===O._datatype?le:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":x}),g=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":y,"DenseMatrix, SparseMatrix":b,"SparseMatrix, DenseMatrix":C,"SparseMatrix, SparseMatrix":M});function p(R,O){var N=R._data,F=R._size,I=R._datatype||R.getDataType(),B=O._data,k=O._datatype||O.getDataType(),q=F[0],Y=F[1],ee,le=r,J=i;I&&k&&I===k&&typeof I=="string"&&I!=="mixed"&&(ee=I,le=e.find(r,[ee,ee]),J=e.find(i,[ee,ee]));for(var fe=[],V=0;V<q;V++){for(var ae=N[V],ue=J(ae[0],B[0]),Q=1;Q<Y;Q++)ue=le(ue,J(ae[Q],B[Q]));fe[V]=ue}return R.createDenseMatrix({data:fe,size:[q],datatype:I===R._datatype&&k===O._datatype?ee:void 0})}function y(R,O){var N=R._data,F=R._size,I=R._datatype||R.getDataType(),B=O._data,k=O._size,q=O._datatype||O.getDataType(),Y=F[0],ee=F[1],le=k[1],J,fe=r,V=i;I&&q&&I===q&&typeof I=="string"&&I!=="mixed"&&I!=="mixed"&&(J=I,fe=e.find(r,[J,J]),V=e.find(i,[J,J]));for(var ae=[],ue=0;ue<Y;ue++){var Q=N[ue];ae[ue]=[];for(var de=0;de<le;de++){for(var we=V(Q[0],B[0][de]),ye=1;ye<ee;ye++)we=fe(we,V(Q[ye],B[ye][de]));ae[ue][de]=we}}return R.createDenseMatrix({data:ae,size:[Y,le],datatype:I===R._datatype&&q===O._datatype?J:void 0})}function b(R,O){var N=R._data,F=R._size,I=R._datatype||R.getDataType(),B=O._values,k=O._index,q=O._ptr,Y=O._size,ee=O._datatype||O._data===void 0?O._datatype:O.getDataType();if(!B)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var le=F[0],J=Y[1],fe,V=r,ae=i,ue=o,Q=0;I&&ee&&I===ee&&typeof I=="string"&&I!=="mixed"&&(fe=I,V=e.find(r,[fe,fe]),ae=e.find(i,[fe,fe]),ue=e.find(o,[fe,fe]),Q=e.convert(0,fe));for(var de=[],we=[],ye=[],Ce=O.createSparseMatrix({values:de,index:we,ptr:ye,size:[le,J],datatype:I===R._datatype&&ee===O._datatype?fe:void 0}),Le=0;Le<J;Le++){ye[Le]=we.length;var Ie=q[Le],Ze=q[Le+1];if(Ze>Ie)for(var tt=0,Qe=0;Qe<le;Qe++){for(var lt=Qe+1,We=void 0,Ke=Ie;Ke<Ze;Ke++){var he=k[Ke];tt!==lt?(We=ae(N[Qe][he],B[Ke]),tt=lt):We=V(We,ae(N[Qe][he],B[Ke]))}tt===lt&&!ue(We,Q)&&(we.push(Qe),de.push(We))}}return ye[J]=we.length,Ce}function x(R,O){var N=R._values,F=R._index,I=R._ptr,B=R._datatype||R._data===void 0?R._datatype:R.getDataType();if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k=O._data,q=O._datatype||O.getDataType(),Y=R._size[0],ee=O._size[0],le=[],J=[],fe=[],V,ae=r,ue=i,Q=o,de=0;B&&q&&B===q&&typeof B=="string"&&B!=="mixed"&&(V=B,ae=e.find(r,[V,V]),ue=e.find(i,[V,V]),Q=e.find(o,[V,V]),de=e.convert(0,V));var we=[],ye=[];fe[0]=0;for(var Ce=0;Ce<ee;Ce++){var Le=k[Ce];if(!Q(Le,de))for(var Ie=I[Ce],Ze=I[Ce+1],tt=Ie;tt<Ze;tt++){var Qe=F[tt];ye[Qe]?we[Qe]=ae(we[Qe],ue(Le,N[tt])):(ye[Qe]=!0,J.push(Qe),we[Qe]=ue(Le,N[tt]))}}for(var lt=J.length,We=0;We<lt;We++){var Ke=J[We];le[We]=we[Ke]}return fe[1]=J.length,R.createSparseMatrix({values:le,index:J,ptr:fe,size:[Y,1],datatype:B===R._datatype&&q===O._datatype?V:void 0})}function C(R,O){var N=R._values,F=R._index,I=R._ptr,B=R._datatype||R._data===void 0?R._datatype:R.getDataType();if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k=O._data,q=O._datatype||O.getDataType(),Y=R._size[0],ee=O._size[0],le=O._size[1],J,fe=r,V=i,ae=o,ue=0;B&&q&&B===q&&typeof B=="string"&&B!=="mixed"&&(J=B,fe=e.find(r,[J,J]),V=e.find(i,[J,J]),ae=e.find(o,[J,J]),ue=e.convert(0,J));for(var Q=[],de=[],we=[],ye=R.createSparseMatrix({values:Q,index:de,ptr:we,size:[Y,le],datatype:B===R._datatype&&q===O._datatype?J:void 0}),Ce=[],Le=[],Ie=0;Ie<le;Ie++){we[Ie]=de.length;for(var Ze=Ie+1,tt=0;tt<ee;tt++){var Qe=k[tt][Ie];if(!ae(Qe,ue))for(var lt=I[tt],We=I[tt+1],Ke=lt;Ke<We;Ke++){var he=F[Ke];Le[he]!==Ze?(Le[he]=Ze,de.push(he),Ce[he]=V(Qe,N[Ke])):Ce[he]=fe(Ce[he],V(Qe,N[Ke]))}}for(var wt=we[Ie],ft=de.length,vt=wt;vt<ft;vt++){var yt=de[vt];Q[vt]=Ce[yt]}}return we[le]=de.length,ye}function M(R,O){var N=R._values,F=R._index,I=R._ptr,B=R._datatype||R._data===void 0?R._datatype:R.getDataType(),k=O._values,q=O._index,Y=O._ptr,ee=O._datatype||O._data===void 0?O._datatype:O.getDataType(),le=R._size[0],J=O._size[1],fe=N&&k,V,ae=r,ue=i;B&&ee&&B===ee&&typeof B=="string"&&B!=="mixed"&&(V=B,ae=e.find(r,[V,V]),ue=e.find(i,[V,V]));for(var Q=fe?[]:void 0,de=[],we=[],ye=R.createSparseMatrix({values:Q,index:de,ptr:we,size:[le,J],datatype:B===R._datatype&&ee===O._datatype?V:void 0}),Ce=fe?[]:void 0,Le=[],Ie,Ze,tt,Qe,lt,We,Ke,he,wt=0;wt<J;wt++){we[wt]=de.length;var ft=wt+1;for(lt=Y[wt],We=Y[wt+1],Qe=lt;Qe<We;Qe++)if(he=q[Qe],fe)for(Ze=I[he],tt=I[he+1],Ie=Ze;Ie<tt;Ie++)Ke=F[Ie],Le[Ke]!==ft?(Le[Ke]=ft,de.push(Ke),Ce[Ke]=ue(k[Qe],N[Ie])):Ce[Ke]=ae(Ce[Ke],ue(k[Qe],N[Ie]));else for(Ze=I[he],tt=I[he+1],Ie=Ze;Ie<tt;Ie++)Ke=F[Ie],Le[Ke]!==ft&&(Le[Ke]=ft,de.push(Ke));if(fe)for(var vt=we[wt],yt=de.length,Ht=vt;Ht<yt;Ht++){var $e=de[Ht];Q[Ht]=Ce[$e]}}return we[J]=de.length,ye}return e(VI,i,{"Array, Array":e.referTo("Matrix, Matrix",R=>(O,N)=>{c(xu(O),xu(N));var F=R(t(O),t(N));return ca(F)?F.valueOf():F}),"Matrix, Matrix":function(O,N){var F=O.size(),I=N.size();return c(F,I),F.length===1?I.length===1?l(O,N,F[0]):f(O,N):I.length===1?m(O,N):g(O,N)},"Matrix, Array":e.referTo("Matrix,Matrix",R=>(O,N)=>R(O,t(N))),"Array, Matrix":e.referToSelf(R=>(O,N)=>R(t(O,N.storage()),N)),"SparseMatrix, any":function(O,N){return a(O,N,i,!1)},"DenseMatrix, any":function(O,N){return u(O,N,i,!1)},"any, SparseMatrix":function(O,N){return a(N,O,i,!0)},"any, DenseMatrix":function(O,N){return u(N,O,i,!0)},"Array, any":function(O,N){return u(t(O),N,i,!1).valueOf()},"any, Array":function(O,N){return u(t(N),O,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(R=>(O,N,F)=>{for(var I=R(O,N),B=0;B<F.length;B++)I=R(I,F[B]);return I})})}),jI="subtract",dne=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],hne=Hn(jI,dne,n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,unaryMinus:o,DenseMatrix:s,concat:a}=n,u=M6({typed:e}),c=C6({typed:e}),l=qte({typed:e,equalScalar:r}),f=T6({typed:e,DenseMatrix:s}),h=x6({typed:e,DenseMatrix:s}),m=NP({typed:e,matrix:t,concat:a});return e(jI,{"any, any":i},m({elop:i,SS:l,DS:u,SD:c,Ss:h,sS:f}))}),pne="matAlgo07xSSf",mne=["typed","SparseMatrix"],gne=Hn(pne,mne,n=>{var{typed:e,SparseMatrix:t}=n;return function(o,s,a){var u=o._size,c=o._datatype||o._data===void 0?o._datatype:o.getDataType(),l=s._size,f=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(u.length!==l.length)throw new Ur(u.length,l.length);if(u[0]!==l[0]||u[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+l+")");var h=u[0],m=u[1],g,p=0,y=a;typeof c=="string"&&c===f&&c!=="mixed"&&(g=c,p=e.convert(0,g),y=e.find(a,[g,g]));for(var b=[],x=[],C=new Array(m+1).fill(0),M=[],R=[],O=[],N=[],F=0;F<m;F++){var I=F+1,B=0;r(o,F,O,M,I),r(s,F,N,R,I);for(var k=0;k<h;k++){var q=O[k]===I?M[k]:p,Y=N[k]===I?R[k]:p,ee=y(q,Y);ee!==0&&ee!==!1&&(x.push(k),b.push(ee),B++)}C[F+1]=C[F]+B}return new t({values:b,index:x,ptr:C,size:[h,m],datatype:c===o._datatype&&f===s._datatype?g:void 0})};function r(i,o,s,a,u){for(var c=i._values,l=i._index,f=i._ptr,h=f[o],m=f[o+1];h<m;h++){var g=l[h];s[g]=u,a[g]=c[h]}}}),WI="conj",vne=["typed"],_ne=Hn(WI,vne,n=>{var{typed:e}=n;return e(WI,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>r=>qf(r,t))})}),$I="concat",yne=["typed","matrix","isInteger"],bne=Hn($I,yne,n=>{var{typed:e,matrix:t,isInteger:r}=n;return e($I,{"...Array | Matrix | number | BigNumber":function(o){var s,a=o.length,u=-1,c,l=!1,f=[];for(s=0;s<a;s++){var h=o[s];if(ca(h)&&(l=!0),bi(h)||Vs(h)){if(s!==a-1)throw new Error("Dimension must be specified as last argument");if(c=u,u=h.valueOf(),!r(u))throw new TypeError("Integer number expected for dimension");if(u<0||s>0&&u>c)throw new ug(u,c+1)}else{var m=vs(h).valueOf(),g=xu(m);if(f[s]=m,c=u,u=g.length-1,s>0&&u!==c)throw new Ur(c+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var p=f.shift();f.length;)p=d6(p,f.shift(),u);return l?t(p):p},"...string":function(o){return o.join("")}})}),qI="flatten",Ane=["typed"],Ene=Hn(qI,Ane,n=>{var{typed:e}=n;return e(qI,{Array:function(r){return sT(r)},Matrix:function(r){return r.create(sT(r.toArray()),r.datatype())}})});function Sne(){throw new Error('No "bignumber" implementation available')}function xne(){throw new Error('No "fraction" implementation available')}function wne(){throw new Error('No "matrix" implementation available')}var XI="size",Cne=["typed","config","?matrix"],Mne=Hn(XI,Cne,n=>{var{typed:e,config:t,matrix:r}=n;return e(XI,{Matrix:function(o){return o.create(o.size(),"number")},Array:xu,string:function(o){return t.matrix==="Array"?[o.length]:r([o.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(o){return t.matrix==="Array"?[]:r?r([],"dense","number"):wne()}})}),Tne="numeric",Pne=["number","?bignumber","?fraction"],Dne=Hn(Tne,Pne,n=>{var{number:e,bignumber:t,fraction:r}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:s=>e(s),BigNumber:t?s=>t(s):Sne,bigint:s=>BigInt(s),Fraction:r?s=>r(s):xne};return function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var l=Pp(a);if(!(l in i))throw new TypeError("Cannot convert "+a+' of type "'+l+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in o))throw new TypeError("Cannot convert "+a+' to type "'+u+'"; valid output types are '+Object.keys(o).join(", "));return u===l?a:o[u](a)}}),KI="divideScalar",Rne=["typed","numeric"],One=Hn(KI,Rne,n=>{var{typed:e,numeric:t}=n;return e(KI,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"bigint, bigint":function(i,o){return i/o},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),xS="smaller",Ine=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],Bne=Hn(xS,Ine,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:o,SparseMatrix:s}=n,a=C6({typed:e}),u=gne({typed:e,SparseMatrix:s}),c=x6({typed:e,DenseMatrix:i}),l=NP({typed:e,matrix:r,concat:o}),f=S6({typed:e});return e(xS,Fne({typed:e,config:t}),{"boolean, boolean":(h,m)=>h<m,"BigNumber, BigNumber":function(m,g){return m.lt(g)&&!E6(m,g,t.relTol,t.absTol)},"bigint, bigint":(h,m)=>h<m,"Fraction, Fraction":(h,m)=>h.compare(m)===-1,"Complex, Complex":function(m,g){throw new TypeError("No ordering relation is defined for complex numbers")}},f,l({SS:u,DS:a,Ss:c}))}),Fne=Hn(xS,["typed","config"],n=>{var{typed:e,config:t}=n;return e(xS,{"number, number":function(i,o){return i<o&&!My(i,o,t.relTol,t.absTol)}})}),JI="add",Lne=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Nne=Hn(JI,Lne,n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:o,SparseMatrix:s,concat:a}=n,u=M6({typed:e}),c=ine({typed:e,equalScalar:i}),l=T6({typed:e,DenseMatrix:o}),f=NP({typed:e,matrix:t,concat:a});return e(JI,{"any, any":r,"any, any, ...any":e.referToSelf(h=>(m,g,p)=>{for(var y=h(m,g),b=0;b<p.length;b++)y=h(y,p[b]);return y})},f({elop:r,DS:u,SS:c,Ss:l}))}),YI="dot",Une=["typed","addScalar","multiplyScalar","conj","size"],kne=Hn(YI,Une,n=>{var{typed:e,addScalar:t,multiplyScalar:r,conj:i,size:o}=n;return e(YI,{"Array | DenseMatrix, Array | DenseMatrix":a,"SparseMatrix, SparseMatrix":u});function s(l,f){var h=c(l),m=c(f),g,p;if(h.length===1)g=h[0];else if(h.length===2&&h[1]===1)g=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(m.length===1)p=m[0];else if(m.length===2&&m[1]===1)p=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(g!==p)throw new RangeError("Vectors must have equal length ("+g+" != "+p+")");if(g===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return g}function a(l,f){var h=s(l,f),m=ca(l)?l._data:l,g=ca(l)?l._datatype||l.getDataType():void 0,p=ca(f)?f._data:f,y=ca(f)?f._datatype||f.getDataType():void 0,b=c(l).length===2,x=c(f).length===2,C=t,M=r;if(g&&y&&g===y&&typeof g=="string"&&g!=="mixed"){var R=g;C=e.find(t,[R,R]),M=e.find(r,[R,R])}if(!b&&!x){for(var O=M(i(m[0]),p[0]),N=1;N<h;N++)O=C(O,M(i(m[N]),p[N]));return O}if(!b&&x){for(var F=M(i(m[0]),p[0][0]),I=1;I<h;I++)F=C(F,M(i(m[I]),p[I][0]));return F}if(b&&!x){for(var B=M(i(m[0][0]),p[0]),k=1;k<h;k++)B=C(B,M(i(m[k][0]),p[k]));return B}if(b&&x){for(var q=M(i(m[0][0]),p[0][0]),Y=1;Y<h;Y++)q=C(q,M(i(m[Y][0]),p[Y][0]));return q}}function u(l,f){s(l,f);for(var h=l._index,m=l._values,g=f._index,p=f._values,y=0,b=t,x=r,C=0,M=0;C<h.length&&M<g.length;){var R=h[C],O=g[M];if(R<O){C++;continue}if(R>O){M++;continue}R===O&&(y=b(y,x(m[C],p[M])),C++,M++)}return y}function c(l){return ca(l)?l.size():o(l)}}),zne="intersect",Hne=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],Gne=Hn(zne,Hne,n=>{var{typed:e,config:t,abs:r,add:i,addScalar:o,matrix:s,multiply:a,multiplyScalar:u,divideScalar:c,subtract:l,smaller:f,equalScalar:h,flatten:m,isZero:g,isNumeric:p}=n;return e("intersect",{"Array, Array, Array":y,"Array, Array, Array, Array":b,"Matrix, Matrix, Matrix":function(k,q,Y){var ee=y(k.valueOf(),q.valueOf(),Y.valueOf());return ee===null?null:s(ee)},"Matrix, Matrix, Matrix, Matrix":function(k,q,Y,ee){var le=b(k.valueOf(),q.valueOf(),Y.valueOf(),ee.valueOf());return le===null?null:s(le)}});function y(B,k,q){if(B=x(B),k=x(k),q=x(q),!M(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!R(q))throw new TypeError("Array with 4 numbers expected as third argument");return I(B[0],B[1],B[2],k[0],k[1],k[2],q[0],q[1],q[2],q[3])}function b(B,k,q,Y){if(B=x(B),k=x(k),q=x(q),Y=x(Y),B.length===2){if(!C(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!C(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!C(q))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!C(Y))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return O(B,k,q,Y)}else if(B.length===3){if(!M(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!M(q))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!M(Y))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return F(B[0],B[1],B[2],k[0],k[1],k[2],q[0],q[1],q[2],Y[0],Y[1],Y[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function x(B){return B.length===1?B[0]:B.length>1&&Array.isArray(B[0])&&B.every(k=>Array.isArray(k)&&k.length===1)?m(B):B}function C(B){return B.length===2&&p(B[0])&&p(B[1])}function M(B){return B.length===3&&p(B[0])&&p(B[1])&&p(B[2])}function R(B){return B.length===4&&p(B[0])&&p(B[1])&&p(B[2])&&p(B[3])}function O(B,k,q,Y){var ee=B,le=q,J=l(ee,k),fe=l(le,Y),V=l(u(J[0],fe[1]),u(fe[0],J[1]));if(g(V)||f(r(V),t.relTol))return null;var ae=u(fe[0],ee[1]),ue=u(fe[1],ee[0]),Q=u(fe[0],le[1]),de=u(fe[1],le[0]),we=c(o(l(l(ae,ue),Q),de),V);return i(a(J,we),ee)}function N(B,k,q,Y,ee,le,J,fe,V,ae,ue,Q){var de=u(l(B,k),l(q,Y)),we=u(l(ee,le),l(J,fe)),ye=u(l(V,ae),l(ue,Q));return o(o(de,we),ye)}function F(B,k,q,Y,ee,le,J,fe,V,ae,ue,Q){var de=N(B,J,ae,J,k,fe,ue,fe,q,V,Q,V),we=N(ae,J,Y,B,ue,fe,ee,k,Q,V,le,q),ye=N(B,J,Y,B,k,fe,ee,k,q,V,le,q),Ce=N(ae,J,ae,J,ue,fe,ue,fe,Q,V,Q,V),Le=N(Y,B,Y,B,ee,k,ee,k,le,q,le,q),Ie=l(u(de,we),u(ye,Ce)),Ze=l(u(Le,Ce),u(we,we));if(g(Ze))return null;var tt=c(Ie,Ze),Qe=c(o(de,u(tt,we)),Ce),lt=o(B,u(tt,l(Y,B))),We=o(k,u(tt,l(ee,k))),Ke=o(q,u(tt,l(le,q))),he=o(J,u(Qe,l(ae,J))),wt=o(fe,u(Qe,l(ue,fe))),ft=o(V,u(Qe,l(Q,V)));return h(lt,he)&&h(We,wt)&&h(Ke,ft)?[lt,We,Ke]:null}function I(B,k,q,Y,ee,le,J,fe,V,ae){var ue=u(B,J),Q=u(Y,J),de=u(k,fe),we=u(ee,fe),ye=u(q,V),Ce=u(le,V),Le=l(l(l(ae,ue),de),ye),Ie=l(l(l(o(o(Q,we),Ce),ue),de),ye),Ze=c(Le,Ie),tt=o(B,u(Ze,l(Y,B))),Qe=o(k,u(Ze,l(ee,k))),lt=o(q,u(Ze,l(le,q)));return[tt,Qe,lt]}}),P6=Tee({config:y1}),Vne=Iee({}),D6=zee({}),UP=Vee({}),ob=nte({Matrix:UP}),Ti=RZ({BigNumber:P6,Complex:Vne,DenseMatrix:ob,Fraction:D6}),jne=Rte({typed:Ti}),Mx=Ite({typed:Ti}),Wne=_ne({typed:Ti}),b1=fte({config:y1,typed:Ti}),$ne=Ene({typed:Ti}),qne=ite({typed:Ti}),Xne=ute({equalScalar:b1,typed:Ti}),kP=lne({typed:Ti}),Kne=yte({typed:Ti}),zP=pte({Matrix:UP,equalScalar:b1,typed:Ti}),Jne=Fte({typed:Ti}),Yne=Ete({BigNumber:P6,typed:Ti}),Qne=Pte({typed:Ti}),Zne=wte({Fraction:D6,typed:Ti}),ere=ste({typed:Ti}),lg=Mte({DenseMatrix:ob,Matrix:UP,SparseMatrix:zP,typed:Ti}),tre=Dne({bignumber:Yne,fraction:Zne,number:Kne}),nre=Mne({matrix:lg,config:y1,typed:Ti}),HP=bne({isInteger:qne,matrix:lg,typed:Ti}),rre=One({numeric:tre,typed:Ti}),ire=Bne({DenseMatrix:ob,SparseMatrix:zP,concat:HP,config:y1,matrix:lg,typed:Ti}),ore=hne({DenseMatrix:ob,concat:HP,equalScalar:b1,matrix:lg,subtractScalar:Jne,typed:Ti,unaryMinus:Qne}),sre=Nne({DenseMatrix:ob,SparseMatrix:zP,addScalar:Mx,concat:HP,equalScalar:b1,matrix:lg,typed:Ti}),are=kne({addScalar:Mx,conj:Wne,multiplyScalar:kP,size:nre,typed:Ti}),ure=fne({addScalar:Mx,dot:are,equalScalar:b1,matrix:lg,multiplyScalar:kP,typed:Ti}),lre=Gne({abs:jne,add:sre,addScalar:Mx,config:y1,divideScalar:rre,equalScalar:b1,flatten:$ne,isNumeric:ere,isZero:Xne,matrix:lg,multiply:ure,multiplyScalar:kP,smaller:ire,subtract:ore,typed:Ti});const cre=(n,e,t,r,i=new oe(0,0,0),o={tl:!0,tr:!1,bl:!0,br:!0})=>{if(t==0){const s=new ph(n*Tt,e*Tt,r);return s.translate(0,0,r/2),s.translate(i.x,i.y,i.z),s}else{const s=t*Tt,a=n*Tt,u=e*Tt,c=new oe(-a/2+s,u/2,0),l=new oe(-a/2,u/2-s,0),f=new oe(a/2-s,u/2,0),h=new oe(a/2,u/2-s,0),m=new oe(-a/2,-u/2+s,0),g=new oe(-a/2+s,-u/2,0),p=new oe(a/2,-u/2+s,0),y=new oe(a/2-s,-u/2,0),b=new Li(c.x,l.y,s,s,Math.PI/2,Math.PI,!1,0),x=o.tl?b.getPoints(50):[new oe(-a/2,u/2,0)],C=new Li(g.x,m.y,s,s,Math.PI,Math.PI*3/2,!1,0),M=o.bl?C.getPoints(50):[new oe(-a/2,-u/2,0)],R=new Li(y.x,p.y,s,s,Math.PI*3/2,2*Math.PI,!1,0),O=o.br?R.getPoints(50):[new oe(a/2,-u/2,0)],N=new Li(f.x,h.y,s,s,0,Math.PI/2,!1,0),F=o.tr?N.getPoints(50):[new oe(a/2,u/2,0)],I=[c,...x,l,m,...M,g,y,...O,p,h,...F,f],B=new cl;B.setFromPoints([...I,I[0]]);const k={steps:1,depth:r,bevelEnabled:!0,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:0},q=new $f(B,k);return q.translate(i.x,i.y,i.z),q}},fre=(n,e,t,r,i=new oe(0,0,0),o={tl:!0,tr:!1,bl:!0,br:!0})=>{const s=t*Tt,a=n*Tt,u=e*Tt,c=new oe(-a/2,-u/2+s,0),l=new oe(-a/2+s,-u/2,0),f=new oe(a/2,-u/2+s,0),h=new oe(a/2-s,-u/2,0),m=new oe(-a/2,u/2,0),g=new oe(a/2,u/2,0),p=new Li(l.x,c.y,s,s,Math.PI,Math.PI*3/2,!1,0),y=!o.bl||s==0?[new oe(-a/2,-u/2,0)]:p.getPoints(50),b=new Li(h.x,f.y,s,s,Math.PI*3/2,2*Math.PI,!1,0),x=!o.br||s==0?[new oe(a/2,-u/2,0)]:b.getPoints(50),M=new Li(0,m.y,a/2,a/2,0,Math.PI,!1,0).getPoints(100),R=[m,c,...y,l,h,...x,f,g,...M],O=new cl;O.setFromPoints([...R,R[0]]);const N={steps:1,depth:r,bevelEnabled:!0,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:0},F=new $f(O,N);return F.translate(i.x,i.y,i.z),F},dre=(n,e,t,r,i=new oe(0,0,0),o={tl:!0,tr:!1,bl:!0,br:!0})=>{const s=t*Tt,a=n*Tt,u=e*Tt,c=new oe(-a/2+s,u/2,0),l=new oe(-a/2,u/2-s,0),f=new oe(a/2-s,u/2,0),h=new oe(a/2,u/2-s,0),m=new oe(-a/2,-u/2+s,0),g=new oe(-a/2+s,-u/2,0),p=new oe(a/2,-u/2+s,0),y=new oe(a/2-s,-u/2,0),b=new oe(-a/2+a/4,u/2,0),x=new oe(a/2-a/4,u/2,0),C=new Li(c.x,l.y,s,s,Math.PI/2,Math.PI,!1,0),M=!o.tl||s==0?[new oe(-a/2,u/2,0)]:C.getPoints(50),R=new Li(g.x,m.y,s,s,Math.PI,Math.PI*3/2,!1,0),O=!o.bl||s==0?[new oe(-a/2,-u/2,0)]:R.getPoints(50),N=new Li(y.x,p.y,s,s,Math.PI*3/2,2*Math.PI,!1,0),F=!o.br||s==0?[new oe(a/2,-u/2,0)]:N.getPoints(50),I=new Li(f.x,h.y,s,s,0,Math.PI/2,!1,0),B=!o.tr||s==0?[new oe(a/2,u/2,0)]:I.getPoints(50),q=new Li(0,b.y,a/4,a/8,0,Math.PI,!1,0).getPoints(100),Y=[c,...M,l,m,...O,g,y,...F,p,h,...B,f,x,...q,b],ee=new cl;ee.setFromPoints([...Y,Y[0]]);const le={steps:1,depth:r,bevelEnabled:!0,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:0},J=new $f(ee,le);return J.translate(i.x,i.y,i.z),J},hre=n=>{const e=n*Tt,r=new Li(0,0,e/2,e/2,0,2*Math.PI,!1,0).getPoints(100),i=[...r,r[0]].map(u=>new oe(u.x,u.y,0)),o=new pi;o.setFromPoints(i);const s=o.getSize(new oe),a=new dn().makeScale(n/s.x*Tt,n/s.y*Tt,1);return i.forEach(u=>{u.applyMatrix4(a)}),i},pre=(n,e,t=new oe(0,0,0))=>{const r=n*Tt,o=new Li(0,0,r/2,r/2,0,2*Math.PI,!1,0).getPoints(100),s=new cl;s.setFromPoints([...o,o[0]]);const a={steps:1,depth:e,bevelEnabled:!0,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:0},u=new $f(s,a);u.translate(t.x,t.y,t.z),u.computeBoundingBox();const c=u.boundingBox.getSize(new oe),l=new dn().makeScale(n/c.x*Tt,n/c.y*Tt,1);return u.applyMatrix4(l),u.computeBoundingBox(),u.center(),u},mre=(n,e)=>{const t=e/Math.tan(Math.PI/3)*2*Tt,r=e*Tt,i=20*Tt,o=new Li(0,r/2-i/Math.sin(Math.PI/6),i,i,Math.PI/2-Math.PI/3,Math.PI/2+Math.PI/3,!1,0),s=new Li(-t/2+i*Math.tan(Math.PI/3),-r/2+i,i,i,Math.PI+Math.PI/6-Math.PI/3,Math.PI+Math.PI/6+Math.PI/3,!1,0),a=new Li(t/2-i*Math.tan(Math.PI/3),-r/2+i,i,i,2*Math.PI-Math.PI/6-Math.PI/3,2*Math.PI-Math.PI/6+Math.PI/3,!1,0),u=[...o.getPoints(50),...s.getPoints(50),...a.getPoints(50)],c=[...u,u[0]].map(m=>new oe(m.x,m.y,0)),l=new pi;l.setFromPoints(c);const f=l.getSize(new oe),h=new dn().makeScale(n/f.x*Tt,e/f.y*Tt,1);return c.forEach(m=>{m.applyMatrix4(h)}),c},gre=(n,e,t,r=new oe(0,0,0))=>{const i=e/Math.tan(Math.PI/3)*2*Tt,o=e*Tt,s=20*(e/400)*Tt,a=new Li(0,o/2-s/Math.sin(Math.PI/6),s,s,Math.PI/2-Math.PI/3,Math.PI/2+Math.PI/3,!1,0),u=new Li(-i/2+s*Math.tan(Math.PI/3),-o/2+s,s,s,Math.PI+Math.PI/6-Math.PI/3,Math.PI+Math.PI/6+Math.PI/3,!1,0),c=new Li(i/2-s*Math.tan(Math.PI/3),-o/2+s,s,s,2*Math.PI-Math.PI/6-Math.PI/3,2*Math.PI-Math.PI/6+Math.PI/3,!1,0),l=[...a.getPoints(50),...u.getPoints(50),...c.getPoints(50)],f=new cl;f.setFromPoints([...l,l[0]]);const h={steps:1,depth:t,bevelEnabled:!0,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:0},m=new $f(f,h);m.translate(r.x,r.y,r.z),m.computeBoundingBox();const g=m.boundingBox.getSize(new oe),p=new dn().makeScale(n/g.x*Tt,e/g.y*Tt,1);return m.applyMatrix4(p),m.computeBoundingBox(),m.center(),m},vre=(n,e)=>{const t=n*Tt,r=e*Tt,i=r/2*Math.sin(Math.PI/4),o=i,s=[new oe(0,r/2,0),new oe(-o,i,0),new oe(-t/2,0,0),new oe(-o,-i,0),new oe(0,-r/2,0),new oe(o,-i,0),new oe(t/2,0,0),new oe(o,i,0)],a=[...s,s[0]].map(f=>new oe(f.x,f.y,0)),u=new pi;u.setFromPoints(a);const c=u.getSize(new oe),l=new dn().makeScale(n/c.x*Tt,e/c.y*Tt,1);return a.forEach(f=>{f.applyMatrix4(l)}),a},_re=(n,e,t,r=new oe(0,0,0))=>{const i=n*Tt,o=e*Tt,s=o/2*Math.sin(Math.PI/4),a=s,u=[new oe(0,o/2,0),new oe(-a,s,0),new oe(-i/2,0,0),new oe(-a,-s,0),new oe(0,-o/2,0),new oe(a,-s,0),new oe(i/2,0,0),new oe(a,s,0)],c=new cl;c.setFromPoints([...u,u[0]]);const l={steps:1,depth:t,bevelEnabled:!0,bevelThickness:0,bevelSize:0,bevelOffset:0,bevelSegments:0},f=new $f(c,l),h=new dn().makeTranslation(r.x,r.y,r.z).premultiply(new dn().makeRotationZ(Math.PI/8));f.applyMatrix4(h),f.computeBoundingBox();const m=f.boundingBox.getSize(new oe),g=new dn().makeScale(n/m.x*Tt,e/m.y*Tt,1);return f.applyMatrix4(g),f.computeBoundingBox(),f.center(),f},yre=(n,e,t)=>{const r=n*Tt,i=[],o=new oe(-r,e,0),s=new oe(r,e,0),a=new NM(o,s);for(let u=0;u<t.length;u++){const c=t[u],l=t[(u+1)%t.length];if(c.distanceTo(l)==0)continue;const f=new NM(c,l);let h=lre([o.x,o.y,o.z],[s.x,s.y,s.z],[c.x,c.y,c.z],[l.x,l.y,l.z]);if(!h)continue;let[m,g,p]=h,y=new oe(m,g,p),b=a.closestPointToPoint(y,!0,new oe),x=f.closestPointToPoint(y,!0,new oe);y.distanceToSquared(b)>1e-4||y.distanceToSquared(x)>1e-4||(b=new oe(kn.round(b.x,2),kn.round(b.y,2),kn.round(b.z,2)),i.push(b))}return kn.uniqBy(i,function(u){return`${kn.round(u.x,5)}-${kn.round(u.y,5)}-${kn.round(u.z,5)}`})},bre=()=>{const{setChannelInfos:n,setNumOfClips:e}=rb(),{height:t,width:r,heightFromLandToPanel:i,eachPanelHeight:o,eachPanelWidth:s,numOfPanelRows:a,chanelLength:u,postPositions:c,chanelObjectUrl:l,chanelColourCode:f,interlockingColourCode:h,postClipColourCode:m,postClipObjectUrl:g,isShapeIsFixedShape:p,selectedPanelShape:y,previewAccessoriesVisibility:b,chanelOffsetYs:x,shapeSize:C,previewPostClipVisibility:M}=ib(),R=or(l),O=or(g),N=or("/models/Channel/medium_interlocking_sign_channel.glb"),F=W.useRef(),I=W.useRef();zc(),W.useEffect(()=>{O.materials&&Object.keys(O.materials).forEach(J=>{O.materials[J].color=new zt(m),O.materials[J].side=Gs,O.materials[J].emissive=new zt("#333333")})},[m,O]),W.useEffect(()=>{R.materials&&Object.keys(R.materials).forEach(J=>{R.materials[J].color=new zt(f),R.materials[J].emissive=new zt("#333333")})},[f,R]),W.useEffect(()=>{N.materials&&Object.keys(N.materials).forEach(J=>{N.materials[J].color=new zt(h),N.materials[J].emissive=new zt("#333333")})},[h,N]);const B=W.useMemo(()=>new pi().setFromObject(R.scene).getSize(new oe),[R]),k=W.useMemo(()=>new pi().setFromObject(O.scene).getSize(new oe),[O]),q=W.useMemo(()=>new pi().setFromObject(N.scene).getSize(new oe),[N]),Y=W.useMemo(()=>{const J=[];for(let fe=1;fe<a;fe++)J.push(fe*o*Tt);return J},[o,a]),ee=()=>p?y.value==Wi.CIRCLE?hre(r):y.value==Wi.TRIANGLE?mre(C.width,C.height):vre(r,t):[],le=(J,fe)=>{if(p){const ae=t*Tt/2-fe,ue=ee(),Q=yre(r,ae,ue);return Q.length>=2?Math.max(.05,Q[0].distanceTo(Q[1])-.05):J}else return J};return W.useEffect(()=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{const J={channels:[],interlockings:[]},fe=[];F.current.traverse(V=>{V.userData.type==Nd.CHANNEL&&J.channels.push({length:V.userData.length}),V.userData.type==Nd.INTERLOCKING&&J.interlockings.push({length:V.userData.length}),V.userData.type==Nd.CLIP&&fe.push(V)}),e(fe.length),n(J)},500)},[x,c,u,Y,r,t,n,e]),ie.jsx(ie.Fragment,{children:ie.jsxs("group",{position:[0,i*Tt+t*Tt,0],ref:F,children:[x.map(J=>({offsetY:J,length:le(u*Tt,J)})).map(J=>ie.jsx("group",{position:[0,-J.offsetY,B.y],rotation:[-Math.PI/2,Math.PI/2,0],scale:[1,1,J.length/B.z],userData:{type:Nd.CHANNEL,length:J.length},visible:b,children:ie.jsx("primitive",{object:R.scene.clone()})},`chanel-${J.offsetY}`)),Y.map(J=>ie.jsxs(ie.Fragment,{children:[ie.jsx("group",{position:[-u*Tt/2,-J+q.x/2-LA,q.y],rotation:[-Math.PI/2,Math.PI/2,0],scale:[1,1,u*Tt/q.z],userData:{type:Nd.INTERLOCKING,length:u*Tt},visible:b,children:ie.jsx("primitive",{object:N.scene.clone()})},`interlocking-1-${J}`),ie.jsx("group",{position:[-u*Tt/2,-J-q.x/2+LA,q.y],rotation:[-Math.PI/2,Math.PI/2,0],scale:[1,1,u*Tt/q.z],userData:{type:Nd.INTERLOCKING,length:u*Tt},visible:b,children:ie.jsx("primitive",{object:N.scene.clone()})},`interlocking-2-${J}`)]})),x.map(J=>ie.jsx("group",{position:[0,-J,0],visible:M,children:c.map((fe,V)=>ie.jsx("group",{rotation:[0,Math.PI,0],position:[fe.x,-k.y/2,-k.z/2+3*Tt],userData:{type:Nd.CLIP},children:ie.jsx("primitive",{object:O.scene.clone()})},`chanel-clip-${V}`))},`chanel-clip-group-${J}`)),Y.map(J=>ie.jsx("group",{position:[0,-J,0],visible:M,children:c.map((fe,V)=>ie.jsxs(ie.Fragment,{children:[ie.jsx("group",{rotation:[0,Math.PI,0],position:[fe.x,-k.y/2+q.x/2-LA,-k.z/2+3*Tt],userData:{type:Nd.CLIP},children:ie.jsx("primitive",{object:O.scene.clone()})},`chanel-clip-1-${V}`),ie.jsx("group",{rotation:[0,Math.PI,0],position:[fe.x,-k.y/2-q.x/2+LA,-k.z/2+3*Tt],userData:{type:Nd.CLIP},children:ie.jsx("primitive",{object:O.scene.clone()})},`chanel-clip-2-${V}`)]}))},`chanel-clip-interlocking-group-${J}`))]})})};or.preload("/models/Posts/Round/post-50.glb");or.preload("/models/Posts/Round/post-60.glb");or.preload("/models/Posts/Round/post-76.glb");or.preload("/models/Posts/Round/post-89.glb");or.preload("/models/Posts/Round/post-102.glb");or.preload("/models/Posts/Round/post-114.glb");or.preload("/models/Posts/Square/post-50.glb");or.preload("/models/Posts/Square/post-76.glb");or.preload("/models/Posts/Square/post-100.glb");or.preload("/models/Caps/Round/50mm_round_post_cap_2024.glb");or.preload("/models/Caps/Round/76mm_round_post_cap_2024.glb");or.preload("/models/Caps/Round/89mm_round_post_cap_2024.glb");or.preload("/models/Caps/Round/102mm_round_post_cap_2024.glb");or.preload("/models/Caps/Round/114mm_round_post_cap_2024.glb");or.preload("/models/Caps/Square/50mm_square_cap_2024.glb");or.preload("/models/Caps/Square/76mm_square_cap_2024.glb");or.preload("/models/Caps/Square/100mm_square_cap_2024.glb");or.preload("/models/Channel/medium_interlocking_sign_channel.glb");or.preload("/models/Channel/medium_sign_channel.glb");or.preload("/models/Channel/small_sign_channel.glb");or.preload("/models/Clips/Round/50mm_dia_post_clip.glb");or.preload("/models/Clips/Round/60mm_dia_post_clip.glb");or.preload("/models/Clips/Round/76mm_dia_post_clip.glb");or.preload("/models/Clips/Round/89mm_dia_post_clip.glb");or.preload("/models/Clips/Round/102mm_dia_post_clip.glb");or.preload("/models/Clips/Round/114mm_dia_post_clip.glb");or.preload("/models/Clips/Square/50mm_square_post_clip.glb");or.preload("/models/Clips/Square/76mm_square_post_clip.glb");or.preload("/models/Clips/Square/100mm_square_post_clip.glb");or.preload("/models/Person/Man2_opt.glb");const Are=()=>{const{postTotalLength:n,postLengthFromLand:e,postPositions:t,offsetPostToGround:r,postColourCode:i,postCapColourCode:o,postObjectUrl:s,postCapObjectUrl:a,previewPostVisibility:u}=ib(),c=or(s),l=or(a),f=or("/models/universal_base_plate.glb"),h=W.useMemo(()=>new pi().setFromObject(c.scene).getSize(new oe),[c]);return W.useMemo(()=>new pi().setFromObject(l.scene).getSize(new oe),[l]),W.useEffect(()=>{c.materials&&Object.keys(c.materials).forEach(m=>{c.materials[m].color=new zt(i),c.materials[m].metalness=0,c.materials[m].needsUpdate=!0}),c.scene.traverse(m=>{m.isMesh&&(m.castShadow=!0)})},[i,c]),W.useEffect(()=>{l.materials&&Object.keys(l.materials).forEach(m=>{l.materials[m].color=new zt(o)})},[o,l]),ie.jsx(ie.Fragment,{children:ie.jsxs("group",{children:[t&&t.map((m,g)=>ie.jsxs("group",{visible:u,children:[ie.jsx("group",{scale:[1,n*Tt/h.y,1],position:[m.x,m.y,m.z-h.z/2],children:ie.jsx("primitive",{object:c.scene.clone()})},`post-${g}`),ie.jsx("group",{position:[m.x,e*Tt,m.z-h.z/2],children:ie.jsx("primitive",{object:l.scene.clone()})},`post-cap-${g}`),ie.jsx("group",{rotation:[0,Math.PI/2,0],position:[m.x,-r*Tt,m.z-h.z/2],children:ie.jsx("primitive",{object:f.scene.clone()})},`post-base-plate-${g}`)]},`post-group-${g}`)),ie.jsx(bre,{})]})})},Ere=()=>ie.jsx(ie.Fragment,{children:ie.jsxs("mesh",{rotation:[Math.PI/2,0,0],receiveShadow:!0,children:[ie.jsx("planeGeometry",{args:[100,100]}),ie.jsx("meshStandardMaterial",{side:Gs,transparent:!0,opacity:.5})]})}),Sre=W.memo(Ere),xre=()=>{const{width:n,height:e,panelRadiusValue:t,frontPanelColourCode:r,backPanelColourCode:i,chanelObjectUrl:o,heightFromLandToPanel:s,numOfPanelCols:a,numOfPanelRows:u,eachPanelHeight:c,eachPanelWidth:l,selectedPanelShape:f,shapeSize:h}=ib(),m=or(o),g=Tp(oy,"/textures/metal/normal.jpg"),p=Tp(oy,"/textures/metal/roughness.jpg"),y=Tp(oy,"/textures/metal/ao.jpg"),[b]=W.useState(1.5*Tt),x=W.useMemo(()=>new pi().setFromObject(m.scene).getSize(new oe),[m]),C=W.useMemo(()=>{const q=[];for(let Y=0;Y<u;Y++)for(let ee=0;ee<a;ee++){const le=new oe((-n/2+l*(ee+.5))*Tt,(e/2-c*(Y+.5))*Tt,0),J=cre(l,c,t,b,le,{tl:Y==0&&ee==0,tr:Y==0&&ee==a-1,bl:Y==u-1&&ee==0,br:Y==u-1&&ee==a-1});q.push(J)}return q},[u,a,n,c,e,l,t,b]),M=W.useMemo(()=>{const q=[];for(let Y=0;Y<u;Y++)for(let ee=0;ee<a;ee++){const le=new oe((-n/2+l*ee)*Tt,0,0),J=new ph(1*Tt,e*Tt,6*Tt);J.translate(le.x,le.y,le.z),ee>0&&q.push(J)}return q},[u,a,n,e,l]),R=W.useMemo(()=>[fre(l,c,t,b,new oe(0,0,0),{tl:!0,tr:!0,bl:!0,br:!0})],[c,l,t,b]),O=W.useMemo(()=>[dre(l,c,t,b,new oe(0,0,0),{tl:!0,tr:!0,bl:!0,br:!0})],[c,l,t,b]),N=W.useMemo(()=>[pre(l,b,new oe(0,0,0))],[l,b]),F=W.useMemo(()=>{if(!h)return[];const{width:q,height:Y}=h;return[gre(q,Y,b,new oe(0,0,0))]},[h,b]),I=W.useMemo(()=>[_re(l,c,b,new oe(0,0,0))],[c,l,b]),B=W.useMemo(()=>f.value==Wi.STANDARD_RECTANGLE?C:f.value==Wi.DOME_TOP_SIGN?R:f.value==Wi.CATHEDRAL_SIGN?O:f.value==Wi.CIRCLE?N:f.value==Wi.TRIANGLE?F:f.value==Wi.OCTAGON?I:[],[O,N,R,I,f.value,C,F]),k=W.useMemo(()=>f.value==Wi.STANDARD_RECTANGLE?M:[],[f.value,M]);return ie.jsx(ie.Fragment,{children:ie.jsxs("group",{position:[0,s*Tt+e*Tt/2,x.y],children:[B.map((q,Y)=>ie.jsxs(ie.Fragment,{children:[ie.jsxs("mesh",{position:[0,0,b],castShadow:!0,children:[ie.jsx("primitive",{object:q.clone(),attach:"geometry"}),ie.jsx("meshStandardMaterial",{side:Gs,normalMap:g,normalScale:new _t(1.4,1.4),roughnessMap:p,aoMap:y,aoMapIntensity:.5,metalness:0,roughness:1,color:r})]},`shape-1-${Y}`),ie.jsxs("mesh",{castShadow:!0,children:[ie.jsx("primitive",{object:q.clone(),attach:"geometry"}),ie.jsx("meshStandardMaterial",{side:Gs,normalMap:g,normalScale:new _t(1.4,1.4),roughnessMap:p,aoMap:y,aoMapIntensity:.5,metalness:0,roughness:1,color:i})]},`shape-2-${Y}`)]})),k.map((q,Y)=>ie.jsx(ie.Fragment,{children:ie.jsxs("mesh",{position:[0,0,b],children:[ie.jsx("primitive",{object:q.clone(),attach:"geometry"}),ie.jsx("meshStandardMaterial",{side:Gs,metalness:0,roughness:1,color:new zt(8421504)})]},`shape-split-${Y}`)}))]})})};function wre(){const{progress:n}=xY();return ie.jsxs(bY,{center:!0,wrapperClass:"preloader",children:[n.toFixed(0)," % loaded",ie.jsx("div",{className:"progress-bar",children:ie.jsx("span",{className:"bar",children:ie.jsx("span",{className:"progress",style:{width:`${n}%`,background:"#959da5",padding:"5px"}})})})]})}const Cre=()=>{const n=or("/models/Person/Man2_opt.glb");return W.useEffect(()=>{n.scene.traverse(e=>{e.isMesh&&(e.castShadow=!0)})},[n]),ie.jsx(ie.Fragment,{children:ie.jsx("group",{position:[.5,0,.5],children:ie.jsx("primitive",{object:n.scene})})})},Mre=()=>{const n=W.useRef(),e=W.useRef(null),{scene:t}=zc(),{height:r,width:i,heightFromLandToPanel:o,eachPanelHeight:s,eachPanelWidth:a,numOfPanelRows:u,chanelLength:c,postPositions:l,selectedPanelShape:f,chanelOffsetYs:h,shapeSize:m,postTotalLength:g,postLengthFromLand:p,offsetPostToGround:y,panelRadiusValue:b,numOfPanelCols:x,numOfClips:C,channelInfos:M}=ib();return W.useEffect(()=>{e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{const R=t.getObjectByName(TU);if(R){const O=new pi().setFromObject(R);n.current.fitToBox(O,!0,{paddingLeft:.2,paddingRight:.2,paddingBottom:.2,paddingTop:.2})}},500)},[i,r,o,s,a,u,c,l,f,h,m,g,p,y,b,x,C,M,t]),ie.jsx(ie.Fragment,{children:ie.jsx(dQ,{ref:n})})};var R6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QI=X.createContext&&X.createContext(R6),Tre=["attr","size","title"];function Pre(n,e){if(n==null)return{};var t=Dre(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Dre(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function wS(){return wS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wS.apply(this,arguments)}function ZI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(t),!0).forEach(function(r){Rre(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Rre(n,e,t){return e=Ore(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ore(n){var e=Ire(n,"string");return typeof e=="symbol"?e:e+""}function Ire(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function O6(n){return n&&n.map((e,t)=>X.createElement(e.tag,CS({key:t},e.attr),O6(e.child)))}function Tx(n){return e=>X.createElement(Bre,wS({attr:CS({},n.attr)},e),O6(n.child))}function Bre(n){var e=t=>{var{attr:r,size:i,title:o}=n,s=Pre(n,Tre),a=i||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),X.createElement("svg",wS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:u,style:CS(CS({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&X.createElement("title",null,o),n.children)};return QI!==void 0?X.createElement(QI.Consumer,null,t=>e(t)):e(R6)}function Fre(n){return Tx({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M144,16H112A64.07,64.07,0,0,0,48,80v96a64.07,64.07,0,0,0,64,64h32a64.07,64.07,0,0,0,64-64V80A64.07,64.07,0,0,0,144,16Zm48,64v24H128V32h16A48.05,48.05,0,0,1,192,80ZM144,224H112a48.05,48.05,0,0,1-48-48V120H192v56A48.05,48.05,0,0,1,144,224Z"},child:[]}]})(n)}function Lre(n){return Tx({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M144,16H112A64.07,64.07,0,0,0,48,80v96a64.07,64.07,0,0,0,64,64h32a64.07,64.07,0,0,0,64-64V80A64.07,64.07,0,0,0,144,16Zm48,64v24H152V88a16,16,0,0,0-16-16V32h8A48.05,48.05,0,0,1,192,80ZM112,32h8V72a16,16,0,0,0-16,16v16H64V80A48.05,48.05,0,0,1,112,32Zm32,192H112a48.05,48.05,0,0,1-48-48V120h40v16a16,16,0,0,0,16,16h16a16,16,0,0,0,16-16V120h40v56A48.05,48.05,0,0,1,144,224Z"},child:[]}]})(n)}function Nre(n){return Tx({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M144,16H112A64.07,64.07,0,0,0,48,80v96a64.07,64.07,0,0,0,64,64h32a64.07,64.07,0,0,0,64-64V80A64.07,64.07,0,0,0,144,16ZM112,32h16v72H64V80A48.05,48.05,0,0,1,112,32Zm32,192H112a48.05,48.05,0,0,1-48-48V120H192v56A48.05,48.05,0,0,1,144,224Z"},child:[]}]})(n)}const Ure=()=>{const[n,e]=W.useState(!1),[t,r]=W.useState(0);return W.useEffect(()=>{setTimeout(()=>{r(1)},2e3)},[]),ie.jsxs(ie.Fragment,{children:[ie.jsx("div",{className:"absolute z-[1] top-2 right-2 p-1 bg-white bg-opacity-50 rounded-[50%] cursor-pointer hover:bg-opacity-100",onClick:()=>e(!n),children:ie.jsx("img",{src:"images/icons/i.png",alt:"",className:"w-6 h-6"})}),ie.jsx("div",{className:`absolute z-[1] ${t>0?"visible":"invisible"} top-2 right-[50px] bg-white p-2 rounded-lg shadow-lg min-w-[200px] max-w-[calc(100%-70px)] animate__animated ${n?"animate__backInRight":"animate__backOutRight"}`,children:ie.jsxs("div",{className:"flex flex-col gap-[8px]",children:[ie.jsxs("div",{className:"grid grid-cols-[20px_1fr] gap-[10px] items-center",children:[ie.jsx("div",{children:ie.jsx(Fre,{className:"w-6 h-6 text-blue-500"})}),ie.jsx("div",{className:"max-w-[160px] text-justify",children:"Click left mouse button and drag to rotate the camera"})]}),ie.jsxs("div",{className:"grid grid-cols-[20px_1fr] gap-[10px] items-center",children:[ie.jsx("div",{children:ie.jsx(Nre,{className:"w-6 h-6 text-blue-500"})}),ie.jsx("div",{className:"max-w-[160px] text-justify",children:"Click right mouse button and drag to pan the camera"})]}),ie.jsxs("div",{className:"grid grid-cols-[20px_1fr] gap-[10px] items-center",children:[ie.jsx("div",{children:ie.jsx(Lre,{className:"w-6 h-6 text-blue-500"})}),ie.jsx("div",{className:"max-w-[160px] text-justify",children:"Scroll middle mouse button to zoom in/out"})]})]})})]})},kre=()=>ie.jsx(ie.Fragment,{children:ie.jsxs("div",{className:"h-[500px] rounded-lg overflow-hidden relative",children:[ie.jsxs(cY,{orthographic:!1,gl:{antialias:!0,alpha:!0,preserveDrawingBuffer:!1,localClippingEnabled:!0,powerPreference:"high-performance"},frameloop:"always",className:"canvas",camera:{position:new oe(0,3,-3),near:.01},shadows:!0,children:[ie.jsx("ambientLight",{intensity:1.5}),ie.jsx("directionalLight",{intensity:1,position:[10,30,20],castShadow:!0}),ie.jsxs(W.Suspense,{fallback:ie.jsx(wre,{}),children:[ie.jsxs("group",{name:TU,children:[ie.jsx(Are,{}),ie.jsx(xre,{}),ie.jsx(Cre,{})]}),ie.jsx(Mre,{}),ie.jsx(Sre,{})]})]}),ie.jsx(Ure,{})]})}),GA=({disabled:n=!1,value:e=null,onChange:t=()=>{},label:r="",min:i=0,max:o=1e4,step:s=50})=>{const[a,u]=W.useState(e);return W.useEffect(()=>{u(e)},[e]),W.useEffect(()=>{e<i&&t(i)},[i,t,e]),W.useEffect(()=>{e>o&&t(o)},[o,t,e]),ie.jsx(ie.Fragment,{children:ie.jsxs("label",{className:"form-control w-full",children:[ie.jsx("div",{className:"label",children:ie.jsx("span",{className:"label-text",children:r})}),ie.jsx("input",{disabled:n,type:"number",value:a,onChange:c=>{u(c.target.value)},onBlur:c=>{let l=Math.max(i,c.target.value);l=Math.min(o,l),u(l),t(l)},onKeyDown:c=>{if(c.code=="Enter"){let l=Math.max(i,c.target.value);l=Math.min(o,l),u(l),t(l)}},step:s,className:"input input-bordered w-full input-sm"})]})})},cp=({value:n="",onChange:e=()=>{},options:t=[],label:r="",disabled:i=!1})=>(W.useEffect(()=>{n&&!t.find(o=>o.value==n)&&e(kn.get(t,[0]))},[e,t,n]),ie.jsx(ie.Fragment,{children:ie.jsxs("label",{className:"form-control w-full",children:[ie.jsx("div",{className:"label",children:ie.jsx("span",{className:"label-text",children:r})}),ie.jsx("select",{className:"select select-bordered select-sm",value:n,disabled:i,onChange:o=>{e(t.find(s=>s.value==o.target.value))},children:t&&t.map(o=>ie.jsx("option",{value:o.value,children:o.text},o.value))})]})}));function I6(n){return Tx({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z"},child:[]}]})(n)}const __=({value:n=null,onChange:e=()=>{},options:t=[],label:r=""})=>(W.useEffect(()=>{n&&!t.find(i=>i.value==n)&&e(kn.get(t,[0]))},[e,t,n]),ie.jsx(ie.Fragment,{children:ie.jsxs("label",{className:"form-control w-full",children:[ie.jsx("div",{className:"label",children:ie.jsx("span",{className:"label-text",children:r})}),ie.jsx("div",{className:"flex gap-2 flex-wrap items-center px-2",children:t&&t.map(i=>ie.jsx("div",{className:"w-[30px] h-[30px] rounded-[50%] cursor-pointer flex items-center justify-center",style:{backgroundColor:i.value},onClick:()=>{e(i)},children:n==i.value&&ie.jsx(I6,{color:"#00FF00",width:"28px"})},i.value))})]})})),zre=({value:n=null,onChange:e=()=>{},options:t=[],label:r=""})=>(W.useEffect(()=>{n&&!t.find(i=>i.value==n)&&e(kn.get(t,[0]))},[e,t,n]),ie.jsx(ie.Fragment,{children:ie.jsxs("label",{className:"form-control w-full",children:[ie.jsx("div",{className:"label",children:ie.jsx("span",{className:"label-text",children:r})}),ie.jsx("div",{className:"flex gap-2 flex-wrap items-center px-2",children:t&&t.map(i=>ie.jsxs("div",{className:"w-[30px] h-[30px] rounded-[50%] overflow-hidden cursor-pointer flex items-center justify-center relative",style:{backgroundColor:i.value},onClick:()=>{e(i)},children:[i.colours.map((o,s)=>ie.jsx("div",{className:"w-[15px] h-[30px]",style:{backgroundColor:o.value,borderWidth:0,borderRightWidth:s==0?1:0,borderLeftWidth:s==1?1:0,borderColor:"#e8e8e8"}},`${o.value}-${s}`)),n==i.value&&ie.jsx("div",{className:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]",children:ie.jsx(I6,{color:"#00FF00",width:"28px"})})]},i.value))})]})})),J2=({title:n="",inverseTitle:e=!1,checked:t=!1,onChange:r=i=>{}})=>ie.jsxs("div",{className:"flex items-center",children:[n&&e&&ie.jsx("label",{htmlFor:"checked-checkbox",className:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300 mx-2",children:n}),ie.jsx("input",{onChange:i=>r(i.target.checked),checked:t,id:"checked-checkbox",type:"checkbox",value:"",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),n&&!e&&ie.jsx("label",{htmlFor:"checked-checkbox",className:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300 mx-2",children:n})]}),Hre=()=>{const{selectedOptionTab:n,setSelectedOptionTab:e,width:t,height:r,setWidth:i,setHeight:o,selectedChannelSize:s,setSelectedChannelSize:a,selectedChannelColour:u,setSelectedChannelColour:c,selectedPanelMaterial:l,setSelectedPanelMaterial:f,selectedPanelColour:h,setSelectedPanelColour:m,selectedPanelShape:g,setSelectedPanelShape:p,selectedRadius:y,setSelectedRadius:b,selectedInterlockingColour:x,setSelectedInterlockingColour:C,selectedFixingMethod:M,setSelectedFixingMethod:R,selectedPostSize:O,setSelectedPostSize:N,selectedPostColour:F,setSelectedPostColour:I,selectedPostLength:B,setSelectedPostLength:k,selectedPostCapColour:q,setSelectedPostCapColour:Y,selectedPostClipColour:ee,setSelectedPostClipColour:le,checkedPostOption:J,checkedClipOption:fe,setCheckedPostOption:V,setCheckedClipOption:ae,postQuantity:ue,setPostQuantity:Q,specificChannelQuantity:de,setSpecificChannelQuantity:we,channelQuantity:ye,setChannelQuantity:Ce,size:Le,setSize:Ie}=rb(),{panelColourOptions:Ze,isShapeIsFixedShape:tt,postColourOptions:Qe,postLengthOptions:lt,postCapColourOptions:We,postClipColourOptions:Ke,numOfPanelRows:he,numOfPanelCols:wt,totalPrice:ft,addToCart:vt,saveDraft:yt,openDraftOrder:Ht,sizeOptions:$e}=ib();W.useEffect(()=>{Ht()},[]),W.useEffect(()=>{const re=2e3+r+(2e3+r)*.25,me=lt.find(ve=>ve.value>re);k(me||lt[lt.length-1])},[lt,r,k]);const te=()=>{vt()},K=()=>{yt()};return ie.jsx(ie.Fragment,{children:ie.jsxs("div",{className:"flex flex-col gap-2",children:[ie.jsxs("div",{className:"bg-base-200 w-full p-[14px] rounded-xl text-xl font-bold flex justify-between items-center",children:[ie.jsxs("div",{children:["Sign Price: ",ie.jsxs("span",{className:"text-[#FF0000]",children:["",kn.round(ft,2)]})]}),n===-1&&ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>e(0),children:"Start"})]}),ie.jsxs("div",{tabIndex:L0.PANEL,className:"collapse bg-base-200 collapse-arrow",children:[ie.jsx("input",{className:"!cursor-default",type:"checkbox",checked:n===0}),ie.jsx("div",{className:"collapse-title text-xl font-medium !cursor-default",children:"Panel options"}),ie.jsx("div",{className:"collapse-content",children:ie.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[ie.jsxs("div",{className:"",children:[ie.jsx("div",{children:ie.jsx(cp,{label:"Material",value:l==null?void 0:l.value,options:PU,onChange:j=>{f(j)}})}),ie.jsx("div",{children:ie.jsx(zre,{label:`Colour${h!=null&&h.text?` (${h.text})`:""}`,value:h==null?void 0:h.value,options:Ze,onChange:j=>{m(j)}})}),ie.jsx("div",{children:ie.jsx(cp,{label:"Shape",value:g==null?void 0:g.value,options:DU,onChange:j=>{p(j)}})}),(g==null?void 0:g.type)==bp.TYPE&&ie.jsx(ie.Fragment,{children:ie.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[ie.jsx("div",{children:ie.jsx(GA,{label:"Width",value:t,min:g.minWidth||150,max:g.maxWidth||3e4,onChange:j=>{i(j)}})}),ie.jsx("div",{children:ie.jsx(GA,{label:"Height",value:r,min:g.minHeight||150,max:g.maxHeight||3e4,onChange:j=>{o(j)}})})]})}),(g==null?void 0:g.type)==bp.SELECT&&ie.jsx(ie.Fragment,{children:ie.jsx("div",{children:ie.jsx(cp,{label:"Size",value:Le,options:$e,onChange:j=>{Ie(j.value)}})})}),!tt&&ie.jsx("div",{children:ie.jsx(cp,{label:"Corner radius",value:y==null?void 0:y.value,options:RU,onChange:j=>{b(j)}})})]}),ie.jsxs("div",{className:"w-full flex justify-end gap-2",children:[ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>e(n-1),children:"Collapse"}),ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>e(n+1),children:"Next"})]})]})})]}),ie.jsxs("div",{tabIndex:L0.CHANNEL,className:"collapse bg-base-200 collapse-arrow",children:[ie.jsx("input",{className:"!cursor-default",type:"checkbox",checked:n===1}),ie.jsx("div",{className:"collapse-title text-xl font-medium !cursor-default",children:"Channel options"}),ie.jsx("div",{className:"collapse-content",children:ie.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[ie.jsxs("div",{className:"",children:[ie.jsx("div",{className:`pt-3 px-2 flex items-center ${tt&&"hidden"}`,children:ie.jsx(J2,{title:"Specific Channel Quantity",checked:de,onChange:j=>we(j)})}),de&&ie.jsx("div",{className:`${tt&&"hidden"}`,children:ie.jsx(GA,{label:"Channel Rows",value:ye,min:1,max:10,step:1,onChange:j=>{Ce(j)}})}),ie.jsx("div",{children:ie.jsx(cp,{label:"Size",value:s==null?void 0:s.value,options:he==1&&wt==1?qM:qM.filter(j=>j.value!=t1.SMALL),onChange:j=>{a(j)}})}),ie.jsx("div",{children:ie.jsx(__,{label:`Colour${u!=null&&u.text?` (${u.text})`:""}`,value:u==null?void 0:u.value,options:he==1&&wt==1?XM:XM.filter(j=>j.value==ze.GREY.value),onChange:j=>{c(j)}})}),ie.jsx("div",{className:"hidden",children:ie.jsx(__,{label:`Interlocking colour${x!=null&&x.text?` (${x.text})`:""}`,value:x==null?void 0:x.value,options:OU,onChange:j=>{C(j)}})}),ie.jsx("div",{children:ie.jsx(cp,{label:"Fixing method",value:M==null?void 0:M.value,options:IU,onChange:j=>{R(j)}})}),ie.jsx("div",{className:"pt-3 px-2 flex items-center justify-end",children:ie.jsx(J2,{title:"Posts and Fixings Required",checked:J,onChange:j=>V(j),inverseTitle:!0})}),ie.jsx("div",{className:"pt-3 px-2 flex items-center justify-end",children:ie.jsx(J2,{title:"Clips Required",checked:fe,onChange:j=>ae(j),inverseTitle:!0})})]}),ie.jsxs("div",{className:"w-full flex justify-end gap-2 items-center",children:[ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>e(n-1),children:"Back"}),J||fe?ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>e(n+1),children:"Next"}):ie.jsxs(ie.Fragment,{children:[ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>K(),children:"Save Draft"}),ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>{te()},children:"Add to Cart"})]})]})]})})]}),ie.jsxs("div",{tabIndex:L0.POST,className:`collapse bg-base-200 collapse-arrow ${!J&&!fe&&"hidden"}`,children:[ie.jsx("input",{className:"!cursor-default",type:"checkbox",checked:n===2}),ie.jsx("div",{className:"collapse-title text-xl font-medium !cursor-default",children:"Post & Fixings"}),ie.jsx("div",{className:"collapse-content",children:ie.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[ie.jsxs("div",{className:"flex flex-col gap-2",children:[ie.jsx("div",{children:ie.jsx(cp,{label:"Post Diameter",value:O==null?void 0:O.value,options:BU,onChange:j=>{N(j)}})}),ie.jsx("div",{children:ie.jsx(__,{label:`Colour${F!=null&&F.text?` (${F.text})`:""}`,value:F==null?void 0:F.value,options:Qe,onChange:j=>{I(j)}})}),ie.jsx("div",{children:ie.jsx(cp,{label:"Post Length Supplied",value:B==null?void 0:B.value,options:lt,onChange:j=>{k(j)}})}),ie.jsx("div",{children:ie.jsx(__,{label:`Post cap colour${q!=null&&q.text?` (${q.text})`:""}`,value:q==null?void 0:q.value,options:We,onChange:j=>{Y(j)}})}),ie.jsx("div",{children:ie.jsx(__,{label:`Post clip colour${ee!=null&&ee.text?` (${ee.text})`:""}`,value:ee==null?void 0:ee.value,options:Ke,onChange:j=>{le(j)}})}),ie.jsx("div",{children:ie.jsx(GA,{disabled:(g==null?void 0:g.value)!=Wi.STANDARD_RECTANGLE,label:"Post Quantity",value:ue,min:1,max:10,step:1,onChange:j=>{Q(j)}})})]}),ie.jsxs("div",{className:"w-full flex justify-end gap-2",children:[ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>e(n-1),children:"Back"}),ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>K(),children:"Save Draft"}),ie.jsx("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>{te()},children:"Add to Cart"})]})]})})]})]})})};function Gre(){return ie.jsx(ie.Fragment,{children:ie.jsxs("div",{className:"py-6 bg-white",children:[ie.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ie.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[ie.jsx("a",{href:"#",className:"hover:underline hover:text-gray-600",children:"Home"}),ie.jsx("span",{children:ie.jsx("svg",{className:"h-5 w-5 leading-none text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:ie.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})}),ie.jsx("a",{href:"#",className:"hover:underline hover:text-gray-600",children:"Custom Sign Blank with Channel"})]})}),ie.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6",children:ie.jsxs("div",{className:"flex flex-col md:flex-row -mx-4",children:[ie.jsx("div",{className:"md:flex-1 px-4",children:ie.jsx("div",{className:"rounded-lg bg-gray-100 mb-4",children:ie.jsx(kre,{})})}),ie.jsx("div",{className:"md:flex-1 px-4",children:ie.jsx(Hre,{})})]})})]})})}var Oc={},Y2={},Q2={},y_={},VA={},e3;function Vre(){if(e3)return VA;e3=1,Object.defineProperty(VA,"__esModule",{value:!0});function n(e,t){if(t==null||typeof e>"u"||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(e),t)||t.constructor.name!=="Object"&&t.constructor.name!=="Array")return t;var r={};return Object.keys(t).forEach(function(i){var o=Object.prototype.hasOwnProperty.call(e,i);o&&typeof e[i]=="object"&&!Array.isArray(e[i])?r[i]=n(e[i],t[i]):r[i]=t[i]}),Object.keys(e).forEach(function(i){var o=Object.prototype.hasOwnProperty.call(t,i);o||(r[i]=e[i])}),Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}return VA.default=n,VA}var Fm={},t3;function B6(){return t3||(t3=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.SEPARATOR=Fm.PREFIX=void 0,Fm.PREFIX="APP",Fm.SEPARATOR="::"),Fm}var Z2={},n3;function zr(){return n3||(n3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentType=n.Group=void 0,function(e){e.AuthCode="AuthCode",e.Button="Button",e.ButtonGroup="ButtonGroup",e.Cart="Cart",e.Client="Client",e.ContextualSaveBar="ContextualSaveBar",e.Error="Error",e.Features="Features",e.FeedbackModal="FeedbackModal",e.Fullscreen="Fullscreen",e.LeaveConfirmation="LeaveConfirmation",e.Link="Link",e.Loading="Loading",e.Menu="Menu",e.Modal="Modal",e.Navigation="Navigation",e.Performance="Performance",e.Pos="Pos",e.Print="Print",e.ResourcePicker="Resource_Picker",e.unstable_Picker="unstable_Picker",e.Scanner="Scanner",e.SessionToken="SessionToken",e.Share="Share",e.TitleBar="TitleBar",e.Toast="Toast",e.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",e.WebVitals="WebVitals"}(n.Group||(n.Group={})),function(e){e.Button="Button",e.ButtonGroup="ButtonGroup"}(n.ComponentType||(n.ComponentType={}))}(Z2)),Z2}var r3;function Hr(){return r3||(r3=1,function(n){var e=y_&&y_.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateActionFromPayload=n.isValidOptionalString=n.isValidOptionalNumber=n.forEachInEnum=n.getMergedProps=n.findMatchInEnum=n.getEventNameSpace=n.NonSnakeCaseGroup=n.actionWrapper=void 0;var t=e(Vre()),r=B6(),i=zr();function o(p){return p}n.actionWrapper=o,n.NonSnakeCaseGroup=[i.Group.AuthCode,i.Group.Button,i.Group.ButtonGroup,i.Group.Cart,i.Group.Error,i.Group.Features,i.Group.Fullscreen,i.Group.Link,i.Group.Loading,i.Group.Menu,i.Group.Modal,i.Group.Navigation,i.Group.Pos,i.Group.Print,i.Group.ResourcePicker,i.Group.Scanner,i.Group.SessionToken,i.Group.Share,i.Group.TitleBar,i.Group.Toast,i.Group.unstable_Picker];function s(p){return p.replace(/([A-Z])/g,function(y,b,x){return(x===0?"":"_")+y[0].toLowerCase()})}function a(p){return n.NonSnakeCaseGroup.includes(p)?p.toUpperCase():s(p).toUpperCase()}function u(p,y,b){if(y.startsWith(""+r.PREFIX+r.SEPARATOR))return y;var x=a(p);if(b){var C=b.subgroups,M=b.type;C&&C.length>0&&(x+=x.length>0?r.SEPARATOR:"",C.forEach(function(R,O){x+=""+R.toUpperCase()+(O<C.length-1?r.SEPARATOR:"")})),M!==p&&M&&(x+=""+(x.length>0?r.SEPARATOR:"")+M.toUpperCase())}return x&&(x+=""+(x.length>0?r.SEPARATOR:"")+y.toUpperCase()),""+r.PREFIX+r.SEPARATOR+x}n.getEventNameSpace=u;function c(p,y){var b=Object.keys(p).find(function(x){return y===p[x]});return b?p[b]:void 0}n.findMatchInEnum=c;function l(p,y){var b=t.default(p,y);if(!b){var x=Object.assign(p,y);return x}return b}n.getMergedProps=l;function f(p,y){Object.keys(p).forEach(function(b){y(p[b])})}n.forEachInEnum=f;function h(p){return p==null||typeof p=="number"}n.isValidOptionalNumber=h;function m(p){return p==null||typeof p=="string"}n.isValidOptionalString=m;function g(p,y){var b=p.id;return b===y.id?(Object.assign(p,l(p,y)),!0):!1}n.updateActionFromPayload=g}(y_)),y_}var i3;function o3(){return i3||(i3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.respond=n.Action=void 0;var e=Hr(),t=zr(),r;(function(o){o.REQUEST="APP::AUTH_CODE::REQUEST",o.RESPOND="APP::AUTH_CODE::RESPOND"})(r=n.Action||(n.Action={}));function i(o){return e.actionWrapper({payload:o,group:t.Group.AuthCode,type:r.RESPOND})}n.respond=i}(Q2)),Q2}var eC={};const jre="@shopify/app-bridge",Wre="3.7.10",$re="index.d.ts",qre="index.js",Xre="umd/index.js",Kre="umd/index.js",Jre=["/actions/","/client/","/umd/","/utilities/","/util/","/validate/","/development.d.ts","/development.js","/index.d.ts","/index.js","/MessageTransport.d.ts","/MessageTransport.js","/production.d.ts","/production.js"],Yre={access:"public","@shopify:registry":"https://registry.npmjs.org"},Qre="git@github.com:Shopify/app-bridge.git",Zre="https://shopify.dev/docs/api/app-bridge/previous-versions/app-bridge-from-npm/app-setup",eie="Shopify Inc.",tie="MIT",nie={build:"yarn build:tsc && yarn build:npm && yarn build:umd","build:tsc":"NODE_ENV=production tsc","build:umd":"NODE_ENV=production webpack -p","build:npm":"shx cp -r ./npm/index.js ./index.js",check:"tsc",clean:"yarn clean:tsc && yarn clean:npm && yarn clean:umd","clean:tsc":"NODE_ENV=production tsc --build --clean","clean:umd":"rm -rf ./umd","clean:npm":"rm -rf ./index.js",pack:"yarn pack",size:"size-limit"},rie=!1,iie={"@shopify/app-bridge-core":"1.1.1",base64url:"^3.0.1","web-vitals":"^3.0.1"},oie={"@types/node":"^10.12.5",shx:"^0.3.3"},sie={name:jre,version:Wre,types:$re,main:qre,unpkg:Xre,jsdelivr:Kre,files:Jre,private:!1,publishConfig:Yre,repository:Qre,homepage:Zre,author:eie,license:tie,scripts:nie,sideEffects:rie,"size-limit":[{limit:"10.5 KB",path:"production.js"}],dependencies:iie,devDependencies:oie};var s3;function A1(){return s3||(s3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPackageName=n.getVersion=n.getMergedProps=n.updateActionFromPayload=n.isValidOptionalString=n.isValidOptionalNumber=n.NonSnakeCaseGroup=n.getEventNameSpace=n.forEachInEnum=n.findMatchInEnum=n.actionWrapper=void 0;var e=Hr();Object.defineProperty(n,"actionWrapper",{enumerable:!0,get:function(){return e.actionWrapper}}),Object.defineProperty(n,"findMatchInEnum",{enumerable:!0,get:function(){return e.findMatchInEnum}}),Object.defineProperty(n,"forEachInEnum",{enumerable:!0,get:function(){return e.forEachInEnum}}),Object.defineProperty(n,"getEventNameSpace",{enumerable:!0,get:function(){return e.getEventNameSpace}}),Object.defineProperty(n,"NonSnakeCaseGroup",{enumerable:!0,get:function(){return e.NonSnakeCaseGroup}}),Object.defineProperty(n,"isValidOptionalNumber",{enumerable:!0,get:function(){return e.isValidOptionalNumber}}),Object.defineProperty(n,"isValidOptionalString",{enumerable:!0,get:function(){return e.isValidOptionalString}}),Object.defineProperty(n,"updateActionFromPayload",{enumerable:!0,get:function(){return e.updateActionFromPayload}}),Object.defineProperty(n,"getMergedProps",{enumerable:!0,get:function(){return e.getMergedProps}});var t=sie;function r(){return t.version}n.getVersion=r;function i(){return t.name}n.getPackageName=i}(eC)),eC}var tC={},a3;function E1(){return a3||(a3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentType=n.Group=void 0;var e=zr();Object.defineProperty(n,"Group",{enumerable:!0,get:function(){return e.Group}}),Object.defineProperty(n,"ComponentType",{enumerable:!0,get:function(){return e.ComponentType}})}(tC)),tC}var u3;function F6(){return u3||(u3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.request=n.Action=n.respond=void 0;var e=o3();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}});var t=A1(),r=E1(),i=o3();Object.defineProperty(n,"respond",{enumerable:!0,get:function(){return i.respond}});function o(s){return t.actionWrapper({group:r.Group.AuthCode,type:e.Action.REQUEST,payload:{id:s}})}n.request=o}(Y2)),Y2}var nC={},Lm={},Us={},rC={},l3;function Dy(){return l3||(l3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.LifecycleHook=n.PermissionType=n.MessageType=void 0,function(e){e.GetState="getState",e.Dispatch="dispatch",e.Subscribe="subscribe",e.Unsubscribe="unsubscribe"}(n.MessageType||(n.MessageType={})),function(e){e.Dispatch="Dispatch",e.Subscribe="Subscribe"}(n.PermissionType||(n.PermissionType={})),function(e){e.UpdateAction="UpdateAction",e.DispatchAction="DispatchAction"}(n.LifecycleHook||(n.LifecycleHook={}))}(rC)),rC}var Nm={},c3;function GP(){if(c3)return Nm;c3=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.removeFromCollection=Nm.addAndRemoveFromCollection=void 0;function n(t,r,i){return t.push(r),function(){return e(t,r,i)}}Nm.addAndRemoveFromCollection=n;function e(t,r,i){var o=t.findIndex(function(s){return s===r});return o>=0?(t.splice(o,1),i&&i(r),!0):!1}return Nm.removeFromCollection=e,Nm}var iC={},f3;function Ry(){return f3||(f3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.permissionAction=n.isErrorEventName=n.throwError=n.invalidOriginAction=n.fromAction=n.AppBridgeError=n.AppActionType=n.Action=void 0;var e=zr(),t=Hr(),r;(function(f){f.INVALID_ACTION="APP::ERROR::INVALID_ACTION",f.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",f.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",f.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",f.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",f.PERSISTENCE="APP::ERROR::PERSISTENCE",f.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",f.NETWORK="APP::ERROR::NETWORK",f.PERMISSION="APP::ERROR::PERMISSION",f.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",f.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN"})(r=n.Action||(n.Action={})),function(f){f.INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",f.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",f.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",f.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",f.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",f.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",f.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",f.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",f.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK"}(n.AppActionType||(n.AppActionType={}));var i=function(){function f(h){this.name="AppBridgeError",this.message=h,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}return f}();n.AppBridgeError=i,i.prototype=Object.create(Error.prototype);function o(f,h,m){var g=f?h+": "+f:h,p=new i(g);return p.action=m,p.type=h,p}n.fromAction=o;function s(f){return t.actionWrapper({group:e.Group.Error,payload:{message:f,type:r.INVALID_ORIGIN},type:r.INVALID_ORIGIN})}n.invalidOriginAction=s;function a(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var m=f[0],g,p;throw typeof f[1]=="string"?g=f[1]:(p=f[1],g=f[2]||""),o(g,m,p)}n.throwError=a;function u(f){var h=t.findMatchInEnum(r,f);return typeof h=="string"}n.isErrorEventName=u;function c(f,h,m){var g=h.payload;return t.actionWrapper({type:f,group:e.Group.Error,payload:{action:h,message:m,type:f,id:g&&g.id?g.id:void 0}})}function l(f,h){return c(r.PERMISSION,f,h||"Action is not permitted")}n.permissionAction=l}(iC)),iC}var yv={},d3;function L6(){if(d3)return yv;d3=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.generateUuid=void 0;function n(r){return Array.from(r).map(function(i){return("00"+i.toString(16)).slice(-2)}).join("")}function e(r){if(typeof Uint8Array=="function"&&typeof window=="object"&&window.crypto){var i=new Uint8Array(r),o=window.crypto.getRandomValues(i);if(o)return o}return Array.from(new Array(r),function(){return Math.random()*255|0})}function t(){var r=64,i=e(1),o=e(2);return i[0]&=191,o[0]&=15|r,[n(e(4)),"-",n(e(2)),"-",n(o),"-",n(i),n(e(1)),"-",n(e(6))].join("")}return yv.generateUuid=t,yv.default=t,yv}var h3;function Ni(){if(h3)return Us;h3=1;var n=Us&&Us.__extends||function(){var m=function(g,p){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(y[x]=b[x])},m(g,p)};return function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");m(g,p);function y(){this.constructor=g}g.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}(),e=Us&&Us.__assign||function(){return e=Object.assign||function(m){for(var g,p=1,y=arguments.length;p<y;p++){g=arguments[p];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(m[b]=g[b])}return m},e.apply(this,arguments)},t=Us&&Us.__spreadArray||function(m,g){for(var p=0,y=g.length,b=m.length;p<y;p++,b++)m[b]=g[p];return m},r=Us&&Us.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Us,"__esModule",{value:!0}),Us.unsubscribeActions=Us.ActionSetWithChildren=Us.ActionSet=void 0;var i=Dy(),o=GP(),s=Ry(),a=zr(),u=r(L6()),c=Hr(),l=function(){function m(g,p,y,b){var x=this;this.app=g,this.type=p,this.group=y,this.subgroups=[],this.subscriptions=[],g||s.throwError(s.Action.INVALID_ACTION,"Missing required `app`"),this.id=b||u.default(),this.defaultGroup=y;var C=this.set;this.set=function(){for(var M,R=[],O=0;O<arguments.length;O++)R[O]=arguments[O];return x.app.hooks?(M=x.app.hooks).run.apply(M,t([i.LifecycleHook.UpdateAction,C,x],R)):C.apply(x,R)}}return m.prototype.set=function(){},Object.defineProperty(m.prototype,"component",{get:function(){return{id:this.id,subgroups:this.subgroups,type:this.type}},enumerable:!1,configurable:!0}),m.prototype.updateSubscription=function(g,p,y){var b=g.eventType,x=g.callback,C=g.component,M;return M=this.subscriptions.findIndex(function(R){return R===g}),M>=0?this.subscriptions[M].unsubscribe():M=void 0,this.group=p,this.subgroups=y,Object.assign(C,{subgroups:this.subgroups}),this.subscribe(b,x,C,M)},m.prototype.error=function(g){var p=this,y=[];return c.forEachInEnum(s.Action,function(b){y.push(p.subscriptions.length),p.subscribe(b,g)}),function(){var b=y.map(function(x){return p.subscriptions[x]});b.forEach(function(x){o.removeFromCollection(p.subscriptions,x,function(C){C.unsubscribe()})})}},m.prototype.subscribe=function(g,p,y,b){var x=this,C=y||this.component,M=g.toUpperCase(),R=typeof b=="number"?p:p.bind(this),O;s.isErrorEventName(g)?O=c.getEventNameSpace(a.Group.Error,g,e(e({},C),{type:""})):O=c.getEventNameSpace(this.group,g,C);var N=this.app.subscribe(O,R,y?y.id:this.id),F={eventType:M,unsubscribe:N,callback:R,component:C,updateSubscribe:function(I,B){return x.updateSubscription(F,I,B)}};return typeof b=="number"&&b>=0&&b<this.subscriptions.length?this.subscriptions[b]=F:this.subscriptions.push(F),N},m.prototype.unsubscribe=function(g){return g===void 0&&(g=!1),h(this.subscriptions,this.defaultGroup,g),this},m}();Us.ActionSet=l;var f=function(m){n(g,m);function g(){var p=m!==null&&m.apply(this,arguments)||this;return p.children=[],p}return g.prototype.unsubscribe=function(p,y){return p===void 0&&(p=!0),y===void 0&&(y=!1),h(this.subscriptions,this.defaultGroup,y),this.children.forEach(function(b){b instanceof g?b.unsubscribe(p,!p):b.unsubscribe(!p)}),this},g.prototype.getChild=function(p){var y=this.children.findIndex(function(b){return b.id===p});return y>=0?this.children[y]:void 0},g.prototype.getChildIndex=function(p){return this.children.findIndex(function(y){return y.id===p})},g.prototype.getChildSubscriptions=function(p,y){return this.subscriptions.filter(function(b){return b.component.id===p&&(!y||y===b.eventType)})},g.prototype.addChild=function(p,y,b){var x=this,C=p.subscriptions,M=this.getChild(p.id);return M||this.children.push(p),!C||y===p.group&&b===p.subgroups?this:(C.forEach(function(R){var O=R.updateSubscribe;O(y,b)}),Object.assign(p,{group:y,subgroups:b}),p instanceof g&&p.children.forEach(function(R){return x.addChild(R,y,b)}),this)},g.prototype.removeChild=function(p){var y=this;return o.removeFromCollection(this.children,this.getChild(p),function(){var b=y.subscriptions.filter(function(x){return x.component.id===p});b.forEach(function(x){o.removeFromCollection(y.subscriptions,x,function(C){C.unsubscribe()})})}),this},g.prototype.subscribeToChild=function(p,y,b){var x=this,C=b.bind(this);if(y instanceof Array)return y.forEach(function(N){return x.subscribeToChild(p,N,b)}),this;if(typeof y!="string")return this;var M=y.toUpperCase(),R=this.getChildSubscriptions(p.id,M);if(R.length>0)R.forEach(function(N){return N.updateSubscribe(x.group,p.subgroups)});else{var O={id:p.id,subgroups:p.subgroups,type:p.type};this.subscribe(M,C,O)}return this},g.prototype.getUpdatedChildActions=function(p,y){if(p.length===0){for(;y.length>0;){var b=y.pop();if(!b)break;this.removeChild(b.id)}return}for(var x=p.filter(function(R,O,N){return O===N.indexOf(R)}),C=x.map(function(R){return R.id}),M=y.filter(function(R){return C.indexOf(R.id)<0});M.length>0;){var b=M.pop();if(!b)break;this.removeChild(b.id)}return x},g}(l);Us.ActionSetWithChildren=f;function h(m,g,p){p===void 0&&(p=!1),m.forEach(function(y){if(p){var b=y.updateSubscribe;b(g,[])}else{var x=y.unsubscribe;x()}}),p||(m.length=0)}return Us.unsubscribeActions=h,Us}var p3;function Oy(){return p3||(p3=1,function(n){var e=Lm&&Lm.__extends||function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(m[p]=g[p])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),t=Lm&&Lm.__assign||function(){return t=Object.assign||function(l){for(var f,h=1,m=arguments.length;h<m;h++){f=arguments[h];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])}return l},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Button=n.update=n.clickButton=n.Style=n.Icon=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(l){l.CLICK="CLICK",l.UPDATE="UPDATE"})(s=n.Action||(n.Action={})),function(l){l.Print="print"}(n.Icon||(n.Icon={})),function(l){l.Danger="danger"}(n.Style||(n.Style={}));function a(l,f,h){var m=f.id,g=r.getEventNameSpace(l,s.CLICK,f),p={id:m,payload:h};return r.actionWrapper({type:g,group:l,payload:p})}n.clickButton=a;function u(l,f,h){var m=f.id,g=h.label,p=r.getEventNameSpace(l,s.UPDATE,f),y=t(t({},h),{id:m,label:g});return r.actionWrapper({type:p,group:l,payload:y})}n.update=u;var c=function(l){e(f,l);function f(h,m){var g=l.call(this,h,o.ComponentType.Button,o.Group.Button)||this;return g.disabled=!1,g.loading=!1,g.plain=!1,g.set(m,!1),g}return Object.defineProperty(f.prototype,"options",{get:function(){return{disabled:this.disabled,icon:this.icon,label:this.label,style:this.style,loading:this.loading,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"payload",{get:function(){return t(t({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),f.prototype.set=function(h,m){m===void 0&&(m=!0);var g=r.getMergedProps(this.options,h),p=g.label,y=g.disabled,b=g.icon,x=g.style,C=g.loading,M=g.plain;return this.label=p,this.disabled=!!y,this.icon=b,this.style=x,this.loading=!!C,this.plain=!!M,m&&this.dispatch(s.UPDATE),this},f.prototype.dispatch=function(h,m){switch(h){case s.CLICK:this.app.dispatch(a(this.group,this.component,m));break;case s.UPDATE:{var g=u(this.group,this.component,this.payload);this.app.dispatch(g);break}}return this},f}(i.ActionSet);n.Button=c}(Lm)),Lm}var m3;function Px(){return m3||(m3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.isValidButtonProps=n.Button=n.update=n.Style=n.Icon=n.clickButton=n.Action=void 0;var e=Oy();Object.defineProperty(n,"Button",{enumerable:!0,get:function(){return e.Button}});var t=Oy();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"clickButton",{enumerable:!0,get:function(){return t.clickButton}}),Object.defineProperty(n,"Icon",{enumerable:!0,get:function(){return t.Icon}}),Object.defineProperty(n,"Style",{enumerable:!0,get:function(){return t.Style}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(o){return typeof o.id=="string"&&typeof o.label=="string"}n.isValidButtonProps=r;function i(o,s){return new e.Button(o,s)}n.create=i}(nC)),nC}var oC={},Um={},b_={},g3;function Dx(){if(g3)return b_;g3=1,Object.defineProperty(b_,"__esModule",{value:!0}),b_.getSingleButton=void 0;var n=Oy();function e(t,r,i,o){return t.addChild(r,t.group,i),t.subscribeToChild(r,n.Action.UPDATE,o),r.payload}return b_.getSingleButton=e,b_}var v3;function MS(){return v3||(v3=1,function(n){var e=Um&&Um.__extends||function(){var g=function(p,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(b[C]=x[C])},g(p,y)};return function(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(p,y);function b(){this.constructor=p}p.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),t=Um&&Um.__assign||function(){return t=Object.assign||function(g){for(var p,y=1,b=arguments.length;y<b;y++){p=arguments[y];for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(g[x]=p[x])}return g},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ButtonGroup=n.isGroupedButtonPayload=n.isGroupedButton=n.update=n.Action=void 0;var r=Dx(),i=Hr(),o=Ni(),s=zr(),a;(function(g){g.UPDATE="UPDATE"})(a=n.Action||(n.Action={}));function u(g,p,y){return m(g,p,a.UPDATE,y)}n.update=u;function c(g){var p=g;return p.buttons&&p.buttons.length>0&&p.label!==void 0}n.isGroupedButton=c;function l(g){var p=g;return Array.isArray(p.buttons)&&typeof p.id=="string"&&typeof p.label=="string"}n.isGroupedButtonPayload=l;var f=function(g){e(p,g);function p(y,b){var x=g.call(this,y,s.ComponentType.ButtonGroup,s.Group.ButtonGroup)||this;return x.disabled=!1,x.plain=!1,x.buttonsOptions=[],x.buttons=[],x.set(b,!1),x}return Object.defineProperty(p.prototype,"options",{get:function(){return{buttons:this.buttonsOptions,disabled:this.disabled,label:this.label,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"payload",{get:function(){return t(t({},this.options),{buttons:this.buttons,id:this.id})},enumerable:!1,configurable:!0}),p.prototype.set=function(y,b){b===void 0&&(b=!0);var x=i.getMergedProps(this.options,y),C=x.label,M=x.disabled,R=x.buttons,O=x.plain;return this.label=C,this.disabled=!!M,this.buttons=this.getButtons(R),this.plain=!!O,b&&this.dispatch(a.UPDATE),this},p.prototype.dispatch=function(y){switch(y){case a.UPDATE:{var b=u(this.group,this.component,this.payload);this.app.dispatch(b);break}}return this},p.prototype.updateButtons=function(y){if(!(!this.buttons||this.buttons.length===0)){for(var b,x=0,C=this.buttons;x<C.length;x++){var M=C[x];if(b=i.updateActionFromPayload(M,y),b)break}b&&this.dispatch(a.UPDATE)}},p.prototype.getSingleButton=function(y){return r.getSingleButton(this,y,this.subgroups,this.updateButtons)},p.prototype.getButtons=function(y){var b=this,x=[];return y?(y.forEach(function(C){var M=r.getSingleButton(b,C,b.subgroups,b.updateButtons);x.push(M)}),this.buttonsOptions=y,x):[]},p}(o.ActionSetWithChildren);n.ButtonGroup=f;function h(g,p){return new f(g,p)}n.create=h;function m(g,p,y,b,x){var C=p.id,M=b.label,R=i.getEventNameSpace(g,y,p),O=t(t({},b),{id:C,label:M,payload:x});return i.actionWrapper({type:R,group:g,payload:O})}}(Um)),Um}var _3;function VP(){return _3||(_3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ButtonGroup=n.isGroupedButtonPayload=n.isGroupedButton=n.update=n.Action=void 0;var e=MS();Object.defineProperty(n,"ButtonGroup",{enumerable:!0,get:function(){return e.ButtonGroup}});var t=MS();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}}),Object.defineProperty(n,"isGroupedButton",{enumerable:!0,get:function(){return t.isGroupedButton}}),Object.defineProperty(n,"isGroupedButtonPayload",{enumerable:!0,get:function(){return t.isGroupedButtonPayload}});function r(i,o){return new e.ButtonGroup(i,o)}n.create=r}(oC)),oC}var sC={},km={},y3;function aie(){return y3||(y3=1,function(n){var e=km&&km.__extends||function(){var N=function(F,I){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,k){B.__proto__=k}||function(B,k){for(var q in k)Object.prototype.hasOwnProperty.call(k,q)&&(B[q]=k[q])},N(F,I)};return function(F,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");N(F,I);function B(){this.constructor=F}F.prototype=I===null?Object.create(I):(B.prototype=I.prototype,new B)}}(),t=km&&km.__assign||function(){return t=Object.assign||function(N){for(var F,I=1,B=arguments.length;I<B;I++){F=arguments[I];for(var k in F)Object.prototype.hasOwnProperty.call(F,k)&&(N[k]=F[k])}return N},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Cart=n.setLineItemProperties=n.removeLineItemDiscount=n.setLineItemDiscount=n.removeLineItem=n.updateLineItem=n.addLineItem=n.removeProperties=n.setProperties=n.setDiscount=n.updateCustomerAddress=n.addCustomerAddress=n.setCustomer=n.update=n.fetch=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(N){N.FETCH="APP::CART::FETCH",N.UPDATE="APP::CART::UPDATE",N.SET_CUSTOMER="APP::CART::SET_CUSTOMER",N.REMOVE_CUSTOMER="APP::CART::REMOVE_CUSTOMER",N.ADD_CUSTOMER_ADDRESS="APP::CART::ADD_CUSTOMER_ADDRESS",N.UPDATE_CUSTOMER_ADDRESS="APP::CART::UPDATE_CUSTOMER_ADDRESS",N.SET_DISCOUNT="APP::CART::SET_DISCOUNT",N.REMOVE_DISCOUNT="APP::CART::REMOVE_DISCOUNT",N.SET_PROPERTIES="APP::CART::SET_PROPERTIES",N.REMOVE_PROPERTIES="APP::CART::REMOVE_PROPERTIES",N.CLEAR="APP::CART::CLEAR",N.ADD_LINE_ITEM="APP::CART::ADD_LINE_ITEM",N.UPDATE_LINE_ITEM="APP::CART::UPDATE_LINE_ITEM",N.REMOVE_LINE_ITEM="APP::CART::REMOVE_LINE_ITEM",N.SET_LINE_ITEM_DISCOUNT="APP::CART::SET_LINE_ITEM_DISCOUNT",N.REMOVE_LINE_ITEM_DISCOUNT="APP::CART::REMOVE_LINE_ITEM_DISCOUNT",N.SET_LINE_ITEM_PROPERTIES="APP::CART::SET_LINE_ITEM_PROPERTIES",N.REMOVE_LINE_ITEM_PROPERTIES="APP::CART::REMOVE_LINE_ITEM_PROPERTIES"})(s=n.Action||(n.Action={}));function a(N,F){return F===void 0&&(F={}),r.actionWrapper({group:o.Group.Cart,type:N,payload:F})}function u(){return a(s.FETCH)}n.fetch=u;function c(N){return a(s.UPDATE,N)}n.update=c;function l(N){return a(s.SET_CUSTOMER,N)}n.setCustomer=l;function f(N){return a(s.ADD_CUSTOMER_ADDRESS,N)}n.addCustomerAddress=f;function h(N){return a(s.UPDATE_CUSTOMER_ADDRESS,N)}n.updateCustomerAddress=h;function m(N){return a(s.SET_DISCOUNT,N)}n.setDiscount=m;function g(N){return a(s.SET_PROPERTIES,N)}n.setProperties=g;function p(N){return a(s.REMOVE_PROPERTIES,N)}n.removeProperties=p;function y(N){return a(s.ADD_LINE_ITEM,N)}n.addLineItem=y;function b(N){return a(s.UPDATE_LINE_ITEM,N)}n.updateLineItem=b;function x(N){return a(s.REMOVE_LINE_ITEM,N)}n.removeLineItem=x;function C(N){return a(s.SET_LINE_ITEM_DISCOUNT,N)}n.setLineItemDiscount=C;function M(N){return a(s.REMOVE_LINE_ITEM_DISCOUNT,N)}n.removeLineItemDiscount=M;function R(N){return a(s.SET_LINE_ITEM_PROPERTIES,N)}n.setLineItemProperties=R;var O=function(N){e(F,N);function F(I,B){return N.call(this,I,o.Group.Cart,o.Group.Cart,B?B.id:void 0)||this}return F.prototype.dispatch=function(I,B){switch(I){case s.FETCH:this.dispatchCartAction(s.FETCH);break;case s.UPDATE:this.dispatchCartAction(s.UPDATE,B);break;case s.SET_CUSTOMER:this.dispatchCartAction(s.SET_CUSTOMER,B);break;case s.REMOVE_CUSTOMER:this.dispatchCartAction(s.REMOVE_CUSTOMER,B);break;case s.ADD_CUSTOMER_ADDRESS:this.dispatchCartAction(s.ADD_CUSTOMER_ADDRESS,B);break;case s.UPDATE_CUSTOMER_ADDRESS:this.dispatchCartAction(s.UPDATE_CUSTOMER_ADDRESS,B);break;case s.SET_DISCOUNT:this.dispatchCartAction(s.SET_DISCOUNT,B);break;case s.REMOVE_DISCOUNT:this.dispatchCartAction(s.REMOVE_DISCOUNT,B);break;case s.SET_PROPERTIES:this.dispatchCartAction(s.SET_PROPERTIES,B);break;case s.REMOVE_PROPERTIES:this.dispatchCartAction(s.REMOVE_PROPERTIES,B);break;case s.CLEAR:this.dispatchCartAction(s.CLEAR,B);break;case s.ADD_LINE_ITEM:this.dispatchCartAction(s.ADD_LINE_ITEM,B);break;case s.UPDATE_LINE_ITEM:this.dispatchCartAction(s.UPDATE_LINE_ITEM,B);break;case s.REMOVE_LINE_ITEM:this.dispatchCartAction(s.REMOVE_LINE_ITEM,B);break;case s.SET_LINE_ITEM_DISCOUNT:this.dispatchCartAction(s.SET_LINE_ITEM_DISCOUNT,B);break;case s.REMOVE_LINE_ITEM_DISCOUNT:this.dispatchCartAction(s.REMOVE_LINE_ITEM_DISCOUNT,B);break;case s.SET_LINE_ITEM_PROPERTIES:this.dispatchCartAction(s.SET_LINE_ITEM_PROPERTIES,B);break;case s.REMOVE_LINE_ITEM_PROPERTIES:this.dispatchCartAction(s.REMOVE_LINE_ITEM_PROPERTIES,B);break}return this},F.prototype.dispatchCartAction=function(I,B){this.app.dispatch(a(I,t(t({},B),{id:this.id})))},F}(i.ActionSet);n.Cart=O}(km)),km}var b3;function uie(){return b3||(b3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.setLineItemProperties=n.removeLineItemDiscount=n.setLineItemDiscount=n.removeLineItem=n.updateLineItem=n.addLineItem=n.removeProperties=n.setProperties=n.setDiscount=n.updateCustomerAddress=n.addCustomerAddress=n.setCustomer=n.update=n.fetch=n.Cart=n.Action=void 0;var e=aie();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"Cart",{enumerable:!0,get:function(){return e.Cart}}),Object.defineProperty(n,"fetch",{enumerable:!0,get:function(){return e.fetch}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return e.update}}),Object.defineProperty(n,"setCustomer",{enumerable:!0,get:function(){return e.setCustomer}}),Object.defineProperty(n,"addCustomerAddress",{enumerable:!0,get:function(){return e.addCustomerAddress}}),Object.defineProperty(n,"updateCustomerAddress",{enumerable:!0,get:function(){return e.updateCustomerAddress}}),Object.defineProperty(n,"setDiscount",{enumerable:!0,get:function(){return e.setDiscount}}),Object.defineProperty(n,"setProperties",{enumerable:!0,get:function(){return e.setProperties}}),Object.defineProperty(n,"removeProperties",{enumerable:!0,get:function(){return e.removeProperties}}),Object.defineProperty(n,"addLineItem",{enumerable:!0,get:function(){return e.addLineItem}}),Object.defineProperty(n,"updateLineItem",{enumerable:!0,get:function(){return e.updateLineItem}}),Object.defineProperty(n,"removeLineItem",{enumerable:!0,get:function(){return e.removeLineItem}}),Object.defineProperty(n,"setLineItemDiscount",{enumerable:!0,get:function(){return e.setLineItemDiscount}}),Object.defineProperty(n,"removeLineItemDiscount",{enumerable:!0,get:function(){return e.removeLineItemDiscount}}),Object.defineProperty(n,"setLineItemProperties",{enumerable:!0,get:function(){return e.setLineItemProperties}});function t(r,i){return new e.Cart(r,i)}n.create=t}(sC)),sC}var aC={},uC={},A3;function lie(){return A3||(A3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Action=void 0,function(e){e.INITIALIZE="APP::CLIENT::INITIALIZE"}(n.Action||(n.Action={}))}(uC)),uC}var E3;function N6(){return E3||(E3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.initialize=n.Action=void 0;var e=lie();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}});var t=E1(),r=A1();function i(){return r.actionWrapper({group:t.Group.Client,type:e.Action.INITIALIZE})}n.initialize=i}(aC)),aC}var lC={},S3;function Rx(){return S3||(S3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.networkAction=n.persistenceAction=n.unsupportedOperationAction=n.unexpectedAction=n.invalidAction=n.invalidActionType=n.invalidPayload=n.Message=n.fromAction=n.Action=n.permissionAction=n.isErrorEventName=n.throwError=n.invalidOriginAction=n.AppBridgeError=n.AppActionType=void 0;var e=Ry();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"fromAction",{enumerable:!0,get:function(){return e.fromAction}});var t=A1(),r=E1(),i=Ry();Object.defineProperty(n,"AppActionType",{enumerable:!0,get:function(){return i.AppActionType}}),Object.defineProperty(n,"AppBridgeError",{enumerable:!0,get:function(){return i.AppBridgeError}}),Object.defineProperty(n,"invalidOriginAction",{enumerable:!0,get:function(){return i.invalidOriginAction}}),Object.defineProperty(n,"throwError",{enumerable:!0,get:function(){return i.throwError}}),Object.defineProperty(n,"isErrorEventName",{enumerable:!0,get:function(){return i.isErrorEventName}}),Object.defineProperty(n,"permissionAction",{enumerable:!0,get:function(){return i.permissionAction}});function o(m,g,p){var y=g.payload;return t.actionWrapper({type:m,group:r.Group.Error,payload:{action:g,message:p,type:m,id:y&&y.id?y.id:void 0}})}(function(m){m.MISSING_PAYLOAD="Missing payload",m.INVALID_PAYLOAD_ID="Id in payload is missing or invalid"})(n.Message||(n.Message={}));function s(m,g){return o(e.Action.INVALID_PAYLOAD,m,g||"The action's payload is missing required properties or has invalid properties")}n.invalidPayload=s;function a(m,g){return t.actionWrapper({group:r.Group.Error,payload:{action:m,message:g||"The action type is invalid or unsupported",type:e.Action.INVALID_ACTION_TYPE},type:e.Action.INVALID_ACTION_TYPE})}n.invalidActionType=a;function u(m,g){return t.actionWrapper({group:r.Group.Error,payload:{action:m,message:g||"The action's has missing/invalid values for `group`, `type` or `version`",type:e.Action.INVALID_ACTION},type:e.Action.INVALID_ACTION})}n.invalidAction=u;function c(m,g){return t.actionWrapper({group:r.Group.Error,payload:{action:m,message:g||"Action cannot be called at this time",type:e.Action.UNEXPECTED_ACTION},type:e.Action.UNEXPECTED_ACTION})}n.unexpectedAction=c;function l(m,g){return o(e.Action.UNSUPPORTED_OPERATION,m,g||"The action type is unsupported")}n.unsupportedOperationAction=l;function f(m,g){return o(e.Action.PERSISTENCE,m,g||"Action cannot be persisted on server")}n.persistenceAction=f;function h(m,g){return o(e.Action.NETWORK,m,g||"Network error")}n.networkAction=h}(lC)),lC}var zm={},A_={},Hm={},x3;function uT(){return x3||(x3=1,function(n){var e=Hm&&Hm.__extends||function(){var f=function(h,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(g[y]=p[y])},f(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(h,m);function g(){this.constructor=h}h.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),t=Hm&&Hm.__assign||function(){return t=Object.assign||function(f){for(var h,m=1,g=arguments.length;m<g;m++){h=arguments[m];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Toast=n.primaryAction=n.clear=n.show=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(f){f.SHOW="APP::TOAST::SHOW",f.CLEAR="APP::TOAST::CLEAR",f.ACTION="APP::TOAST::ACTION"})(s=n.Action||(n.Action={}));function a(f){return r.actionWrapper({group:o.Group.Toast,payload:f,type:s.SHOW})}n.show=a;function u(f){return r.actionWrapper({payload:f,group:o.Group.Toast,type:s.CLEAR})}n.clear=u;function c(f){return r.actionWrapper({payload:f,group:o.Group.Toast,type:s.ACTION})}n.primaryAction=c;var l=function(f){e(h,f);function h(m,g){var p=f.call(this,m,o.Group.Toast,o.Group.Toast)||this;return p.message="",p.duration=5e3,p.set(g),p}return Object.defineProperty(h.prototype,"options",{get:function(){var m;return{duration:this.duration,isError:this.isError,message:this.message,action:!((m=this.action)===null||m===void 0)&&m.content?{content:this.action.content}:void 0}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"payload",{get:function(){return t({id:this.id},this.options)},enumerable:!1,configurable:!0}),h.prototype.set=function(m){var g=r.getMergedProps(this.options,m),p=g.message,y=g.duration,b=g.isError,x=g.action;return this.message=p,this.duration=y,this.isError=b,this.action=x!=null&&x.content?{content:x.content||""}:void 0,this},h.prototype.dispatch=function(m){switch(m){case s.SHOW:{var g=a(this.payload);this.app.dispatch(g);break}case s.CLEAR:this.app.dispatch(u({id:this.id}));break;case s.ACTION:this.app.dispatch(c({id:this.id}));break}return this},h}(i.ActionSet);n.Toast=l}(Hm)),Hm}var w3;function cie(){return w3||(w3=1,function(n){var e=A_&&A_.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(u[l]=c[l])},o(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(s,a);function u(){this.constructor=s}s.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Flash=n.show=n.clear=void 0;var t=uT();Object.defineProperty(n,"clear",{enumerable:!0,get:function(){return t.clear}}),Object.defineProperty(n,"show",{enumerable:!0,get:function(){return t.show}});var r=function(o){e(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s}(t.Toast);n.Flash=r;function i(o,s){return new r(o,s)}n.create=i}(A_)),A_}var C3;function fie(){return C3||(C3=1,function(n){var e=zm&&zm.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=zm&&zm.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(cie(),n)}(zm)),zm}var Gm={},cC={},Vm={},kd={},fC={},M3;function U6(){return M3||(M3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Action=void 0,function(e){e.UPDATE="APP::FEATURES::UPDATE",e.REQUEST="APP::FEATURES::REQUEST",e.REQUEST_UPDATE="APP::FEATURES::REQUEST::UPDATE"}(n.Action||(n.Action={}))}(fC)),fC}var T3;function die(){if(T3)return kd;T3=1;var n=kd&&kd.__extends||function(){var a=function(u,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])},a(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(u,c);function l(){this.constructor=u}u.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}(),e=kd&&kd.__assign||function(){return e=Object.assign||function(a){for(var u,c=1,l=arguments.length;c<l;c++){u=arguments[c];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])}return a},e.apply(this,arguments)};Object.defineProperty(kd,"__esModule",{value:!0}),kd.Features=void 0;var t=Hr(),r=Ni(),i=zr(),o=U6(),s=function(a){n(u,a);function u(c,l){return a.call(this,c,i.Group.Features,i.Group.Features,l?l.id:void 0)||this}return u.prototype.dispatch=function(c,l){switch(c){case o.Action.REQUEST:this.dispatchFeaturesAction(o.Action.REQUEST,l);break}return this},u.prototype.dispatchFeaturesAction=function(c,l){this.app.dispatch(t.actionWrapper({group:i.Group.Features,type:c,payload:e(e({},l||{}),{id:this.id})}))},u}(r.ActionSet);return kd.Features=s,kd}var P3;function k6(){return P3||(P3=1,function(n){var e=Vm&&Vm.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=Vm&&Vm.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(die(),n),t(U6(),n)}(Vm)),Vm}var D3;function hie(){return D3||(D3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Features=void 0;var e=k6();Object.defineProperty(n,"Features",{enumerable:!0,get:function(){return e.Features}});function t(r,i){return new e.Features(r,i)}n.create=t}(cC)),cC}var dC={},R3;function z6(){return R3||(R3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Action=void 0;var e=k6();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}})}(dC)),dC}var O3;function H6(){return O3||(O3=1,function(n){var e=Gm&&Gm.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=Gm&&Gm.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(hie(),n),t(z6(),n)}(Gm)),Gm}var hC={},jm={},I3;function pie(){return I3||(I3=1,function(n){var e=jm&&jm.__extends||function(){var f=function(h,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(g[y]=p[y])},f(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(h,m);function g(){this.constructor=h}h.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),t=jm&&jm.__assign||function(){return t=Object.assign||function(f){for(var h,m=1,g=arguments.length;m<g;m++){h=arguments[m];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.FeedbackModal=n.close=n.open=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(f){f.OPEN="APP::FEEDBACK_MODAL::OPEN",f.CLOSE="APP::FEEDBACK_MODAL::CLOSE"})(s=n.Action||(n.Action={}));function a(f){return r.actionWrapper({group:o.Group.FeedbackModal,payload:f,type:s.OPEN})}n.open=a;function u(f){return r.actionWrapper({group:o.Group.FeedbackModal,payload:f,type:s.CLOSE})}n.close=u;var c=function(f){e(h,f);function h(m,g){var p=f.call(this,m,o.Group.FeedbackModal,o.Group.FeedbackModal)||this;return p.options=g,p.set(g),p}return Object.defineProperty(h.prototype,"payload",{get:function(){return t({id:this.id},this.options)},enumerable:!1,configurable:!0}),h.prototype.set=function(m){return this.options=r.getMergedProps(this.options,m),this},h.prototype.dispatch=function(m){switch(m){case s.OPEN:{var g=a(this.payload);this.app.dispatch(g);break}case s.CLOSE:{var p=u(this.payload);this.app.dispatch(p);break}}return this},h}(i.ActionSet);n.FeedbackModal=c;function l(f,h){return new c(f,h)}n.create=l}(jm)),jm}var B3;function mie(){return B3||(B3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.FeedbackModal=n.close=n.open=n.Action=void 0;var e=pie();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"open",{enumerable:!0,get:function(){return e.open}}),Object.defineProperty(n,"close",{enumerable:!0,get:function(){return e.close}}),Object.defineProperty(n,"FeedbackModal",{enumerable:!0,get:function(){return e.FeedbackModal}}),Object.defineProperty(n,"create",{enumerable:!0,get:function(){return e.create}})}(hC)),hC}var pC={},E_={},F3;function L3(){return F3||(F3=1,function(n){var e=E_&&E_.__extends||function(){var c=function(l,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])},c(l,f)};return function(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(l,f);function h(){this.constructor=l}l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.Fullscreen=n.exit=n.enter=n.Action=void 0;var t=Hr(),r=Ni(),i=zr(),o;(function(c){c.ENTER="APP::FULLSCREEN::ENTER",c.EXIT="APP::FULLSCREEN::EXIT"})(o=n.Action||(n.Action={}));function s(){return t.actionWrapper({group:i.Group.Fullscreen,type:o.ENTER})}n.enter=s;function a(){return t.actionWrapper({group:i.Group.Fullscreen,type:o.EXIT})}n.exit=a;var u=function(c){e(l,c);function l(f){return c.call(this,f,i.Group.Fullscreen,i.Group.Fullscreen)||this}return Object.defineProperty(l.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),l.prototype.dispatch=function(f){return this.app.dispatch(t.actionWrapper({group:this.group,type:f,payload:this.payload})),this},l}(r.ActionSet);n.Fullscreen=u}(E_)),E_}var N3;function gie(){return N3||(N3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Action=n.Fullscreen=n.exit=n.enter=void 0;var e=L3();Object.defineProperty(n,"Fullscreen",{enumerable:!0,get:function(){return e.Fullscreen}}),Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}});var t=L3();Object.defineProperty(n,"enter",{enumerable:!0,get:function(){return t.enter}}),Object.defineProperty(n,"exit",{enumerable:!0,get:function(){return t.exit}});function r(i){return new e.Fullscreen(i)}n.create=r}(pC)),pC}var mC={},Wm={},U3;function k3(){return U3||(U3=1,function(n){var e=Wm&&Wm.__extends||function(){var f=function(h,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(g[y]=p[y])},f(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(h,m);function g(){this.constructor=h}h.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),t=Wm&&Wm.__assign||function(){return t=Object.assign||function(f){for(var h,m=1,g=arguments.length;m<g;m++){h=arguments[m];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.LeaveConfirmation=n.confirm=n.disable=n.enable=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(f){f.ENABLE="APP::LEAVE_CONFIRMATION::ENABLE",f.DISABLE="APP::LEAVE_CONFIRMATION::DISABLE",f.CONFIRM="APP::LEAVE_CONFIRMATION::CONFIRM"})(s=n.Action||(n.Action={}));function a(f){return f===void 0&&(f={}),r.actionWrapper({group:o.Group.LeaveConfirmation,payload:f,type:s.ENABLE})}n.enable=a;function u(f){return f===void 0&&(f={}),r.actionWrapper({group:o.Group.LeaveConfirmation,payload:f,type:s.DISABLE})}n.disable=u;function c(f){return f===void 0&&(f={}),r.actionWrapper({group:o.Group.LeaveConfirmation,payload:f,type:s.CONFIRM})}n.confirm=c;var l=function(f){e(h,f);function h(m,g){g===void 0&&(g={});var p=f.call(this,m,o.Group.LeaveConfirmation,o.Group.LeaveConfirmation)||this;return p.options=g,p.set(g),p}return Object.defineProperty(h.prototype,"payload",{get:function(){return t({id:this.id},this.options)},enumerable:!1,configurable:!0}),h.prototype.set=function(m){return this.options=r.getMergedProps(this.options,m),this},h.prototype.dispatch=function(m){switch(m){case s.ENABLE:{var g=a(this.payload);this.app.dispatch(g);break}case s.DISABLE:{var p=u(this.payload);this.app.dispatch(p);break}case s.CONFIRM:{var y=c(this.payload);this.app.dispatch(y);break}}return this},h}(i.ActionSet);n.LeaveConfirmation=l}(Wm)),Wm}var z3;function vie(){return z3||(z3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.LeaveConfirmation=n.confirm=n.disable=n.enable=n.Action=void 0;var e=k3();Object.defineProperty(n,"LeaveConfirmation",{enumerable:!0,get:function(){return e.LeaveConfirmation}});var t=k3();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"enable",{enumerable:!0,get:function(){return t.enable}}),Object.defineProperty(n,"disable",{enumerable:!0,get:function(){return t.disable}}),Object.defineProperty(n,"confirm",{enumerable:!0,get:function(){return t.confirm}});function r(i,o){return o===void 0&&(o={}),new e.LeaveConfirmation(i,o)}n.create=r}(mC)),mC}var gC={},S_={},H3;function G3(){return H3||(H3=1,function(n){var e=S_&&S_.__extends||function(){var c=function(l,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])},c(l,f)};return function(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(l,f);function h(){this.constructor=l}l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.Loading=n.stop=n.start=n.Action=void 0;var t=Hr(),r=Ni(),i=zr(),o;(function(c){c.START="APP::LOADING::START",c.STOP="APP::LOADING::STOP"})(o=n.Action||(n.Action={}));function s(c){return t.actionWrapper({payload:c,group:i.Group.Loading,type:o.START})}n.start=s;function a(c){return t.actionWrapper({payload:c,group:i.Group.Loading,type:o.STOP})}n.stop=a;var u=function(c){e(l,c);function l(f){return c.call(this,f,i.Group.Loading,i.Group.Loading)||this}return Object.defineProperty(l.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),l.prototype.dispatch=function(f){switch(f){case o.START:this.app.dispatch(s(this.payload));break;case o.STOP:this.app.dispatch(a(this.payload));break}return this},l}(r.ActionSet);n.Loading=u}(S_)),S_}var V3;function _ie(){return V3||(V3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.stop=n.start=n.Action=n.Loading=void 0;var e=G3();Object.defineProperty(n,"Loading",{enumerable:!0,get:function(){return e.Loading}});var t=G3();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"start",{enumerable:!0,get:function(){return t.start}}),Object.defineProperty(n,"stop",{enumerable:!0,get:function(){return t.stop}});function r(i){return new e.Loading(i)}n.create=r}(gC)),gC}var vC={},$m={},j3;function lT(){return j3||(j3=1,function(n){var e=$m&&$m.__extends||function(){var O=function(N,F){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,B){I.__proto__=B}||function(I,B){for(var k in B)Object.prototype.hasOwnProperty.call(B,k)&&(I[k]=B[k])},O(N,F)};return function(N,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");O(N,F);function I(){this.constructor=N}N.prototype=F===null?Object.create(F):(I.prototype=F.prototype,new I)}}(),t=$m&&$m.__assign||function(){return t=Object.assign||function(O){for(var N,F=1,I=arguments.length;F<I;F++){N=arguments[F];for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(O[B]=N[B])}return O},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.ModalIframe=n.ModalMessage=n.Modal=n.isMessageModal=n.isIframeModal=n.data=n.update=n.clickFooterButton=n.updateModalSize=n.closeModal=n.openModal=n.Size=n.Action=void 0;var r=Dx(),i=Hr(),o=Ni(),s=zr(),a=Oy(),u;(function(O){O.OPEN="APP::MODAL::OPEN",O.CLOSE="APP::MODAL::CLOSE",O.UPDATE="APP::MODAL::UPDATE",O.UPDATE_CONTENT="APP::MODAL::CONTENT::UPDATE",O.FOOTER_BUTTON_CLICK="APP::MODAL::FOOTER::BUTTON::CLICK",O.FOOTER_BUTTON_UPDATE="APP::MODAL::FOOTER::BUTTON::UPDATE",O.UPDATE_SIZE="APP::MODAL::UPDATE_SIZE",O.DATA="APP::MODAL::DATA"})(u=n.Action||(n.Action={}));var c;(function(O){O.Small="small",O.Medium="medium",O.Large="large",O.Full="full",O.Auto="auto"})(c=n.Size||(n.Size={}));var l={group:s.Group.Modal,subgroups:["Footer"],type:s.ComponentType.Button};function f(O){return i.actionWrapper({group:s.Group.Modal,payload:O,type:u.OPEN})}n.openModal=f;function h(O){return i.actionWrapper({group:s.Group.Modal,payload:O,type:u.CLOSE})}n.closeModal=h;function m(O){return i.actionWrapper({group:s.Group.Modal,payload:O,type:u.UPDATE_SIZE})}n.updateModalSize=m;function g(O,N){var F=t({id:O},l);return a.clickButton(s.Group.Modal,F,N)}n.clickFooterButton=g;function p(O){return i.actionWrapper({payload:O,group:s.Group.Modal,type:u.UPDATE})}n.update=p;function y(O){return i.actionWrapper({payload:O,group:s.Group.Modal,type:u.DATA})}n.data=y;function b(O){return typeof O.url=="string"||typeof O.path=="string"}n.isIframeModal=b;function x(O){return typeof O.message=="string"}n.isMessageModal=x;var C=function(O){e(N,O);function N(){var F=O!==null&&O.apply(this,arguments)||this;return F.size=c.Small,F}return Object.defineProperty(N.prototype,"footer",{get:function(){if(!(!this.footerPrimary&&!this.footerSecondary))return{buttons:{primary:this.footerPrimary,secondary:this.footerSecondary}}},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"footerOptions",{get:function(){if(!(!this.footerPrimaryOptions&&!this.footerSecondaryOptions))return{buttons:{primary:this.footerPrimaryOptions,secondary:this.footerSecondaryOptions}}},enumerable:!1,configurable:!0}),N.prototype.close=function(){this.app.dispatch(h({id:this.id}))},N.prototype.setFooterPrimaryButton=function(F,I){var B=this,k=l.subgroups;this.footerPrimaryOptions=this.getChildButton(F,this.footerPrimaryOptions),this.footerPrimary=this.footerPrimaryOptions?r.getSingleButton(this,this.footerPrimaryOptions,k,function(q){B.updatePrimaryFooterButton(q,I)}):void 0},N.prototype.setFooterSecondaryButtons=function(F,I){var B=this,k=l.subgroups,q=F||[],Y=this.footerOptions&&this.footerOptions.buttons.secondary||[];this.footerSecondaryOptions=this.getUpdatedChildActions(q,Y),this.footerSecondary=this.footerSecondaryOptions?this.footerSecondaryOptions.map(function(ee){return r.getSingleButton(B,ee,k,function(le){B.updateSecondaryFooterButton(le,I)})}):void 0},N.prototype.getChildButton=function(F,I){var B=F?[F]:[],k=I?[I]:[],q=this.getUpdatedChildActions(B,k);return q?q[0]:void 0},N.prototype.updatePrimaryFooterButton=function(F,I){!this.footer||!this.footer.buttons.primary||i.updateActionFromPayload(this.footer.buttons.primary,F)&&I()},N.prototype.updateSecondaryFooterButton=function(F,I){if(!(!this.footer||!this.footer.buttons||!this.footer.buttons.secondary)){for(var B,k=0,q=this.footer.buttons.secondary;k<q.length;k++){var Y=q[k];if(B=i.updateActionFromPayload(Y,F),B)break}B&&I()}},N}(o.ActionSetWithChildren);n.Modal=C;var M=function(O){e(N,O);function N(F,I){var B=O.call(this,F,s.Group.Modal,s.Group.Modal)||this;return B.set(I,!1),B}return Object.defineProperty(N.prototype,"payload",{get:function(){return t(t({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"options",{get:function(){return{footer:this.footerOptions,message:this.message,size:this.size,title:this.title}},enumerable:!1,configurable:!0}),N.prototype.set=function(F,I){var B=this;I===void 0&&(I=!0);var k=i.getMergedProps(this.options,F),q=k.title,Y=k.footer,ee=k.message,le=k.size;return this.title=q,this.message=ee,this.size=le,this.setFooterPrimaryButton(Y?Y.buttons.primary:void 0,function(){B.dispatch(u.UPDATE)}),this.setFooterSecondaryButtons(Y?Y.buttons.secondary:void 0,function(){B.dispatch(u.UPDATE)}),I&&this.dispatch(u.UPDATE),this},N.prototype.dispatch=function(F){switch(F){case u.OPEN:this.app.dispatch(f(this.payload));break;case u.CLOSE:this.close();break;case u.UPDATE:this.app.dispatch(p(this.payload));break}return this},N}(C);n.ModalMessage=M;var R=function(O){e(N,O);function N(F,I){var B=O.call(this,F,s.Group.Modal,s.Group.Modal)||this;return B.set(I,!1),B}return Object.defineProperty(N.prototype,"payload",{get:function(){return t(t({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"options",{get:function(){return{footer:this.footerOptions,path:this.path,size:this.size,title:this.title,url:this.url,loading:this.loading}},enumerable:!1,configurable:!0}),N.prototype.set=function(F,I){var B=this;I===void 0&&(I=!0);var k=i.getMergedProps(this.options,F),q=k.title,Y=k.footer,ee=k.path,le=k.url,J=k.size,fe=k.loading;return this.title=q,this.url=le,this.path=ee,this.size=J,this.loading=fe,this.setFooterPrimaryButton(Y?Y.buttons.primary:void 0,function(){B.dispatch(u.UPDATE)}),this.setFooterSecondaryButtons(Y?Y.buttons.secondary:void 0,function(){B.dispatch(u.UPDATE)}),I&&this.dispatch(u.UPDATE),this},N.prototype.dispatch=function(F,I){switch(F){case u.OPEN:this.app.dispatch(f(this.payload));break;case u.CLOSE:this.close();break;case u.UPDATE:this.app.dispatch(p(this.payload));break;case u.DATA:this.app.dispatch(y(I||{}));break}return this},N}(C);n.ModalIframe=R}($m)),$m}var W3;function jP(){return W3||(W3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Modal=n.isMessageModal=n.data=n.update=n.clickFooterButton=n.updateModalSize=n.closeModal=n.openModal=n.Size=n.Action=n.isIframeModal=n.ModalMessage=n.ModalIframe=void 0;var e=lT();Object.defineProperty(n,"ModalIframe",{enumerable:!0,get:function(){return e.ModalIframe}}),Object.defineProperty(n,"ModalMessage",{enumerable:!0,get:function(){return e.ModalMessage}}),Object.defineProperty(n,"isIframeModal",{enumerable:!0,get:function(){return e.isIframeModal}});var t=lT();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"Size",{enumerable:!0,get:function(){return t.Size}}),Object.defineProperty(n,"openModal",{enumerable:!0,get:function(){return t.openModal}}),Object.defineProperty(n,"closeModal",{enumerable:!0,get:function(){return t.closeModal}}),Object.defineProperty(n,"updateModalSize",{enumerable:!0,get:function(){return t.updateModalSize}}),Object.defineProperty(n,"clickFooterButton",{enumerable:!0,get:function(){return t.clickFooterButton}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}}),Object.defineProperty(n,"data",{enumerable:!0,get:function(){return t.data}}),Object.defineProperty(n,"isMessageModal",{enumerable:!0,get:function(){return t.isMessageModal}}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return t.Modal}});var r=function(i,o){return e.isIframeModal(o)?new e.ModalIframe(i,o):new e.ModalMessage(i,o)};n.create=r}(vC)),vC}var _C={},Ic={},$3;function q3(){return $3||($3=1,function(n){var e=Ic&&Ic.__extends||function(){var f=function(h,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(g[y]=p[y])},f(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(h,m);function g(){this.constructor=h}h.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),t=Ic&&Ic.__assign||function(){return t=Object.assign||function(f){for(var h,m=1,g=arguments.length;m<g;m++){h=arguments[m];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},t.apply(this,arguments)},r=Ic&&Ic.__awaiter||function(f,h,m,g){function p(y){return y instanceof m?y:new m(function(b){b(y)})}return new(m||(m=Promise))(function(y,b){function x(R){try{M(g.next(R))}catch(O){b(O)}}function C(R){try{M(g.throw(R))}catch(O){b(O)}}function M(R){R.done?y(R.value):p(R.value).then(x,C)}M((g=g.apply(f,h||[])).next())})},i=Ic&&Ic.__generator||function(f,h){var m={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},g,p,y,b;return b={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function x(M){return function(R){return C([M,R])}}function C(M){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,p&&(y=M[0]&2?p.return:M[0]?p.throw||((y=p.return)&&y.call(p),0):p.next)&&!(y=y.call(p,M[1])).done)return y;switch(p=0,y&&(M=[M[0]&2,y.value]),M[0]){case 0:case 1:y=M;break;case 4:return m.label++,{value:M[1],done:!1};case 5:m.label++,p=M[1],M=[0];continue;case 7:M=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!(y=y.length>0&&y[y.length-1])&&(M[0]===6||M[0]===2)){m=0;continue}if(M[0]===3&&(!y||M[1]>y[0]&&M[1]<y[3])){m.label=M[1];break}if(M[0]===6&&m.label<y[1]){m.label=y[1],y=M;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(M);break}y[2]&&m.ops.pop(),m.trys.pop();continue}M=h.call(f,m)}catch(R){M=[6,R],p=0}finally{g=y=0}if(M[0]&5)throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ModalContent=n.Action=void 0;var o=Hr(),s=Ni(),a=zr(),u=lT(),c;(function(f){f.LOADING="LOADING",f.LOADED="LOADED"})(c=n.Action||(n.Action={}));var l=function(f){e(h,f);function h(m,g){return f.call(this,m,a.Group.Modal,a.Group.Modal,g?g.id:void 0)||this}return h.prototype.loaded=function(){this.dispatch(c.LOADED)},h.prototype.loading=function(){this.dispatch(c.LOADING)},h.prototype.dispatch=function(m){switch(m){case c.LOADED:this.dispatchModalAction(u.Action.UPDATE_CONTENT,{loading:!1});break;case c.LOADING:this.dispatchModalAction(u.Action.UPDATE_CONTENT,{loading:!0});break}return this},h.prototype.dispatchModalAction=function(m,g){return r(this,void 0,void 0,function(){var p;return i(this,function(y){return p=o.actionWrapper({type:m,group:a.Group.Modal,payload:t({},g)}),this.app.dispatch(p),[2]})})},h}(s.ActionSet);n.ModalContent=l}(Ic)),Ic}var X3;function yie(){return X3||(X3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ModalContent=n.Action=void 0;var e=q3();Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return e.ModalContent}});var t=q3();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}});function r(i,o){return new e.ModalContent(i,o)}n.create=r}(_C)),_C}var yC={},qm={},K3;function J3(){return K3||(K3=1,function(n){var e=qm&&qm.__extends||function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(m[p]=g[p])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),t=qm&&qm.__assign||function(){return t=Object.assign||function(l){for(var f,h=1,m=arguments.length;h<m;h++){f=arguments[h];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])}return l},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.History=n.replace=n.push=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(l){l.PUSH="APP::NAVIGATION::HISTORY::PUSH",l.REPLACE="APP::NAVIGATION::HISTORY::REPLACE"})(s=n.Action||(n.Action={}));function a(l){return r.actionWrapper({payload:l,group:o.Group.Navigation,type:s.PUSH})}n.push=a;function u(l){return r.actionWrapper({payload:l,group:o.Group.Navigation,type:s.REPLACE})}n.replace=u;var c=function(l){e(f,l);function f(h){return l.call(this,h,"History",o.Group.Navigation)||this}return Object.defineProperty(f.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),f.prototype.dispatch=function(h,m){var g=t(t({},this.payload),{path:m});switch(h){case s.PUSH:this.app.dispatch(a(g));break;case s.REPLACE:this.app.dispatch(u(g));break}return this},f}(i.ActionSet);n.History=c}(qm)),qm}var Y3;function bie(){return Y3||(Y3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.replace=n.push=n.Action=n.History=void 0;var e=J3();Object.defineProperty(n,"History",{enumerable:!0,get:function(){return e.History}});var t=J3();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"push",{enumerable:!0,get:function(){return t.push}}),Object.defineProperty(n,"replace",{enumerable:!0,get:function(){return t.replace}});function r(i){return new e.History(i)}n.create=r}(yC)),yC}var bC={},Xm={},Q3;function cT(){return Q3||(Q3=1,function(n){var e=Xm&&Xm.__extends||function(){var F=function(I,B){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,q){k.__proto__=q}||function(k,q){for(var Y in q)Object.prototype.hasOwnProperty.call(q,Y)&&(k[Y]=q[Y])},F(I,B)};return function(I,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");F(I,B);function k(){this.constructor=I}I.prototype=B===null?Object.create(B):(k.prototype=B.prototype,new k)}}(),t=Xm&&Xm.__assign||function(){return t=Object.assign||function(F){for(var I,B=1,k=arguments.length;B<k;B++){I=arguments[B];for(var q in I)Object.prototype.hasOwnProperty.call(I,q)&&(F[q]=I[q])}return F},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Redirect=n.isProductVariantResourcePayload=n.isCreateResourcePayload=n.isAdminSection=n.isRemotePayload=n.isAdminSectionPayload=n.isAdminPathPayload=n.isAppPayload=n.getRelativePath=n.normalizeUrl=n.getPathWithSearchAndHash=n.toDestination=n.toApp=n.toRemote=n.toAdminSection=n.toAdminPath=n.isResourcePayload=n.ResourceType=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(F){F.ADMIN_SECTION="APP::NAVIGATION::REDIRECT::ADMIN::SECTION",F.ADMIN_PATH="APP::NAVIGATION::REDIRECT::ADMIN::PATH",F.REMOTE="APP::NAVIGATION::REDIRECT::REMOTE",F.APP="APP::NAVIGATION::REDIRECT::APP"})(s=n.Action||(n.Action={})),function(F){F.Product="products",F.Collection="collections",F.Order="orders",F.Customer="customers",F.Discount="discounts"}(n.ResourceType||(n.ResourceType={}));function a(F){return typeof F.id=="string"}n.isResourcePayload=a;function u(F){return r.actionWrapper({payload:F,group:o.Group.Navigation,type:s.ADMIN_PATH})}n.toAdminPath=u;function c(F){return r.actionWrapper({payload:F,group:o.Group.Navigation,type:s.ADMIN_SECTION})}n.toAdminSection=c;function l(F){return r.actionWrapper({payload:F,group:o.Group.Navigation,type:s.REMOTE})}n.toRemote=l;function f(F){return r.actionWrapper({payload:F,group:o.Group.Navigation,type:s.APP})}n.toApp=f;function h(F,I,B){switch(F){case s.APP:{var k=y(I)?I:{path:I};return f(t({id:B},k))}case s.ADMIN_PATH:{var q=b(I)?I:{path:I};return u(t({id:B},q))}case s.ADMIN_SECTION:{var Y=x(I)?I:{section:I};return c(t({id:B},Y))}case s.REMOTE:{var ee=C(I)?I:{url:I};return l(t({id:B},ee))}}}n.toDestination=h;function m(F){var I=F.pathname,B=F.search,k=F.hash;return""+I+(B||"")+(k||"")}n.getPathWithSearchAndHash=m;function g(F){return F instanceof URL?F.toString():typeof F=="string"?F:p(F)}n.normalizeUrl=g;function p(F){if(typeof F=="string")return F.startsWith("/")?F:m(new URL(F));var I=F.search instanceof URLSearchParams?F.search.toString():F.search;return m(t(t({},F),{search:I}))}n.getRelativePath=p;function y(F){return typeof F=="object"&&Object.prototype.hasOwnProperty.call(F,"path")}n.isAppPayload=y;function b(F){return typeof F=="object"&&Object.prototype.hasOwnProperty.call(F,"path")}n.isAdminPathPayload=b;function x(F){return typeof F=="object"&&typeof F.section=="object"&&Object.prototype.hasOwnProperty.call(F.section,"name")}n.isAdminSectionPayload=x;function C(F){return typeof F=="object"&&Object.prototype.hasOwnProperty.call(F,"url")}n.isRemotePayload=C;function M(F){return typeof F=="object"&&typeof(F==null?void 0:F.name)=="string"}n.isAdminSection=M;function R(F){return F.create===!0}n.isCreateResourcePayload=R;function O(F){var I=F;return I.id!==void 0&&I.variant!==void 0}n.isProductVariantResourcePayload=O;var N=function(F){e(I,F);function I(B){return F.call(this,B,"Redirect",o.Group.Navigation)||this}return Object.defineProperty(I.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),I.prototype.dispatch=function(B,k){var q=h(B,k,this.payload.id);return this.app.dispatch(q),this},I}(i.ActionSet);n.Redirect=N}(Xm)),Xm}var Z3;function WP(){return Z3||(Z3=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.isProductVariantCreateResourcePayload=n.isProductVariantResourcePayload=n.isCreateResourcePayload=n.isAdminSection=n.isRemotePayload=n.isAdminSectionPayload=n.isAdminPathPayload=n.isAppPayload=n.getRelativePath=n.normalizeUrl=n.getPathWithSearchAndHash=n.toDestination=n.toApp=n.toRemote=n.toAdminSection=n.toAdminPath=n.isResourcePayload=n.ResourceType=n.Action=n.Redirect=void 0;var e=cT();Object.defineProperty(n,"Redirect",{enumerable:!0,get:function(){return e.Redirect}}),Object.defineProperty(n,"isCreateResourcePayload",{enumerable:!0,get:function(){return e.isCreateResourcePayload}}),Object.defineProperty(n,"isProductVariantResourcePayload",{enumerable:!0,get:function(){return e.isProductVariantResourcePayload}});var t=cT();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"ResourceType",{enumerable:!0,get:function(){return t.ResourceType}}),Object.defineProperty(n,"isResourcePayload",{enumerable:!0,get:function(){return t.isResourcePayload}}),Object.defineProperty(n,"toAdminPath",{enumerable:!0,get:function(){return t.toAdminPath}}),Object.defineProperty(n,"toAdminSection",{enumerable:!0,get:function(){return t.toAdminSection}}),Object.defineProperty(n,"toRemote",{enumerable:!0,get:function(){return t.toRemote}}),Object.defineProperty(n,"toApp",{enumerable:!0,get:function(){return t.toApp}}),Object.defineProperty(n,"toDestination",{enumerable:!0,get:function(){return t.toDestination}}),Object.defineProperty(n,"getPathWithSearchAndHash",{enumerable:!0,get:function(){return t.getPathWithSearchAndHash}}),Object.defineProperty(n,"normalizeUrl",{enumerable:!0,get:function(){return t.normalizeUrl}}),Object.defineProperty(n,"getRelativePath",{enumerable:!0,get:function(){return t.getRelativePath}}),Object.defineProperty(n,"isAppPayload",{enumerable:!0,get:function(){return t.isAppPayload}}),Object.defineProperty(n,"isAdminPathPayload",{enumerable:!0,get:function(){return t.isAdminPathPayload}}),Object.defineProperty(n,"isAdminSectionPayload",{enumerable:!0,get:function(){return t.isAdminSectionPayload}}),Object.defineProperty(n,"isRemotePayload",{enumerable:!0,get:function(){return t.isRemotePayload}}),Object.defineProperty(n,"isAdminSection",{enumerable:!0,get:function(){return t.isAdminSection}});function r(o){return e.isProductVariantResourcePayload(o)?e.isCreateResourcePayload(o.variant):!1}n.isProductVariantCreateResourcePayload=r;function i(o){return new e.Redirect(o)}n.create=i}(bC)),bC}var AC={},EC={},e5;function Aie(){return e5||(e5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.app=n.Action=void 0;var e=Hr(),t=zr(),r;(function(o){o.APP="APP::PRINT::APP"})(r=n.Action||(n.Action={}));function i(){return e.actionWrapper({group:t.Group.Print,type:r.APP})}n.app=i}(EC)),EC}var t5;function G6(){return t5||(t5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.app=n.Action=void 0;var e=Aie();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"app",{enumerable:!0,get:function(){return e.app}})}(AC)),AC}var SC={},Km={},n5;function r5(){return n5||(n5=1,function(n){var e=Km&&Km.__extends||function(){var p=function(y,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,C){x.__proto__=C}||function(x,C){for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&(x[M]=C[M])},p(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");p(y,b);function x(){this.constructor=y}y.prototype=b===null?Object.create(b):(x.prototype=b.prototype,new x)}}(),t=Km&&Km.__assign||function(){return t=Object.assign||function(p){for(var y,b=1,x=arguments.length;b<x;b++){y=arguments[b];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(p[C]=y[C])}return p},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.ResourcePicker=n.update=n.close=n.cancel=n.open=n.select=n.ActionVerb=n.ResourceType=n.ProductStatus=n.ProductVariantInventoryManagement=n.ProductVariantInventoryPolicy=n.WeightUnit=n.FulfillmentServiceType=n.CollectionSortOrder=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(p){p.OPEN="APP::RESOURCE_PICKER::OPEN",p.SELECT="APP::RESOURCE_PICKER::SELECT",p.CLOSE="APP::RESOURCE_PICKER::CLOSE",p.UPDATE="APP::RESOURCE_PICKER::UPDATE",p.CANCEL="APP::RESOURCE_PICKER::CANCEL"})(s=n.Action||(n.Action={})),function(p){p.Manual="MANUAL",p.BestSelling="BEST_SELLING",p.AlphaAsc="ALPHA_ASC",p.AlphaDesc="ALPHA_DESC",p.PriceDesc="PRICE_DESC",p.PriceAsc="PRICE_ASC",p.CreatedDesc="CREATED_DESC",p.Created="CREATED",p.MostRelevant="MOST_RELEVANT"}(n.CollectionSortOrder||(n.CollectionSortOrder={})),function(p){p.GiftCard="GIFT_CARD",p.Manual="MANUAL",p.ThirdParty="THIRD_PARTY"}(n.FulfillmentServiceType||(n.FulfillmentServiceType={})),function(p){p.Kilograms="KILOGRAMS",p.Grams="GRAMS",p.Pounds="POUNDS",p.Ounces="OUNCES"}(n.WeightUnit||(n.WeightUnit={})),function(p){p.Deny="DENY",p.Continue="CONTINUE"}(n.ProductVariantInventoryPolicy||(n.ProductVariantInventoryPolicy={})),function(p){p.Shopify="SHOPIFY",p.NotManaged="NOT_MANAGED",p.FulfillmentService="FULFILLMENT_SERVICE"}(n.ProductVariantInventoryManagement||(n.ProductVariantInventoryManagement={})),function(p){p.Active="ACTIVE",p.Archived="ARCHIVED",p.Draft="DRAFT"}(n.ProductStatus||(n.ProductStatus={}));var a;(function(p){p.Product="product",p.ProductVariant="variant",p.Collection="collection"})(a=n.ResourceType||(n.ResourceType={}));var u;(function(p){p.Add="add",p.Select="select"})(u=n.ActionVerb||(n.ActionVerb={}));function c(p){return r.actionWrapper({payload:p,group:o.Group.ResourcePicker,type:s.SELECT})}n.select=c;function l(p){return r.actionWrapper({payload:p,group:o.Group.ResourcePicker,type:s.OPEN})}n.open=l;function f(p){return r.actionWrapper({payload:p,group:o.Group.ResourcePicker,type:s.CANCEL})}n.cancel=f;function h(p){return r.actionWrapper({payload:p,group:o.Group.ResourcePicker,type:s.CANCEL})}n.close=h;function m(p){return r.actionWrapper({payload:p,group:o.Group.ResourcePicker,type:s.UPDATE})}n.update=m;var g=function(p){e(y,p);function y(b,x,C){var M=p.call(this,b,o.Group.ResourcePicker,o.Group.ResourcePicker)||this;return M.initialSelectionIds=[],M.selection=[],M.resourceType=C,M.set(x,!1),M}return Object.defineProperty(y.prototype,"payload",{get:function(){return t(t({},this.options),{id:this.id,resourceType:this.resourceType})},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"options",{get:function(){var b={initialQuery:this.initialQuery,filterQuery:this.filterQuery,selectMultiple:this.selectMultiple,initialSelectionIds:this.initialSelectionIds,showHidden:this.showHidden,actionVerb:this.actionVerb};if(this.resourceType===a.Product){var x=t(t({},b),{showVariants:this.showVariants,showDraft:this.showDraft,showArchived:this.showArchived,showDraftBadge:this.showDraftBadge,showArchivedBadge:this.showArchivedBadge});return x}return b},enumerable:!1,configurable:!0}),y.prototype.set=function(b,x){x===void 0&&(x=!0);var C=r.getMergedProps(this.options,b),M=C.initialQuery,R=C.filterQuery,O=C.initialSelectionIds,N=O===void 0?[]:O,F=C.showHidden,I=F===void 0?!0:F,B=C.showVariants,k=B===void 0?!0:B,q=C.showDraft,Y=q===void 0?!0:q,ee=C.showArchived,le=ee===void 0?!0:ee,J=C.showDraftBadge,fe=J===void 0?!1:J,V=C.showArchivedBadge,ae=V===void 0?!1:V,ue=C.selectMultiple,Q=ue===void 0?!0:ue,de=C.actionVerb,we=de===void 0?u.Add:de;return this.initialQuery=M,this.filterQuery=R,this.initialSelectionIds=N,this.showHidden=I,this.showVariants=k,this.showDraft=Y,this.showArchived=le,this.showDraftBadge=fe,this.showArchivedBadge=ae,this.selectMultiple=Q,this.actionVerb=we,x&&this.update(),this},y.prototype.dispatch=function(b,x){return b===s.OPEN?this.open():b===s.UPDATE?this.update():b===s.CLOSE||b===s.CANCEL?this.cancel():b===s.SELECT&&(this.selection=x,this.app.dispatch(c({id:this.id,selection:this.selection}))),this},y.prototype.update=function(){this.app.dispatch(m(this.payload))},y.prototype.open=function(){this.app.dispatch(l(this.payload))},y.prototype.cancel=function(){this.app.dispatch(f({id:this.id}))},y.prototype.close=function(){this.cancel()},y}(i.ActionSet);n.ResourcePicker=g}(Km)),Km}var i5;function V6(){return i5||(i5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ResourcePicker=n.WeightUnit=n.update=n.select=n.ResourceType=n.ProductVariantInventoryPolicy=n.ProductVariantInventoryManagement=n.ProductStatus=n.open=n.FulfillmentServiceType=n.CollectionSortOrder=n.close=n.cancel=n.ActionVerb=n.Action=void 0;var e=r5();Object.defineProperty(n,"ResourcePicker",{enumerable:!0,get:function(){return e.ResourcePicker}});var t=r5();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"ActionVerb",{enumerable:!0,get:function(){return t.ActionVerb}}),Object.defineProperty(n,"cancel",{enumerable:!0,get:function(){return t.cancel}}),Object.defineProperty(n,"close",{enumerable:!0,get:function(){return t.close}}),Object.defineProperty(n,"CollectionSortOrder",{enumerable:!0,get:function(){return t.CollectionSortOrder}}),Object.defineProperty(n,"FulfillmentServiceType",{enumerable:!0,get:function(){return t.FulfillmentServiceType}}),Object.defineProperty(n,"open",{enumerable:!0,get:function(){return t.open}}),Object.defineProperty(n,"ProductStatus",{enumerable:!0,get:function(){return t.ProductStatus}}),Object.defineProperty(n,"ProductVariantInventoryManagement",{enumerable:!0,get:function(){return t.ProductVariantInventoryManagement}}),Object.defineProperty(n,"ProductVariantInventoryPolicy",{enumerable:!0,get:function(){return t.ProductVariantInventoryPolicy}}),Object.defineProperty(n,"ResourceType",{enumerable:!0,get:function(){return t.ResourceType}}),Object.defineProperty(n,"select",{enumerable:!0,get:function(){return t.select}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}}),Object.defineProperty(n,"WeightUnit",{enumerable:!0,get:function(){return t.WeightUnit}});var r=function(i,o){var s=o.resourceType,a=o.options,u=a===void 0?{}:a;return new e.ResourcePicker(i,u,s)};n.create=r}(SC)),SC}var xC={},x_={},o5;function Eie(){return o5||(o5=1,function(n){var e=x_&&x_.__extends||function(){var c=function(l,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])},c(l,f)};return function(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(l,f);function h(){this.constructor=l}l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.capture=n.openCamera=n.Scanner=n.Action=void 0;var t=Hr(),r=Ni(),i=zr(),o;(function(c){c.OPEN_CAMERA="APP::SCANNER::OPEN::CAMERA",c.CAPTURE="APP::SCANNER::CAPTURE"})(o=n.Action||(n.Action={}));var s=function(c){e(l,c);function l(f,h){return c.call(this,f,i.Group.Scanner,i.Group.Scanner,h?h.id:void 0)||this}return l.prototype.dispatch=function(f){switch(f){case o.OPEN_CAMERA:this.dispatchScannerAction(o.OPEN_CAMERA);break}return this},l.prototype.dispatchScannerAction=function(f){this.app.dispatch(t.actionWrapper({type:f,group:i.Group.Scanner,payload:{id:this.id}}))},l}(r.ActionSet);n.Scanner=s;function a(){return t.actionWrapper({group:i.Group.Scanner,type:o.OPEN_CAMERA})}n.openCamera=a;function u(c){return t.actionWrapper({group:i.Group.Scanner,type:o.CAPTURE,payload:c})}n.capture=u}(x_)),x_}var s5;function Sie(){return s5||(s5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.capture=n.openCamera=n.Scanner=n.Action=void 0;var e=Eie();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return e.Scanner}}),Object.defineProperty(n,"openCamera",{enumerable:!0,get:function(){return e.openCamera}}),Object.defineProperty(n,"capture",{enumerable:!0,get:function(){return e.capture}});function t(r,i){return new e.Scanner(r,i)}n.create=t}(xC)),xC}var wC={},CC={},a5;function j6(){return a5||(a5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.respond=n.request=n.Action=void 0;var e=Hr(),t=zr(),r;(function(s){s.REQUEST="APP::SESSION_TOKEN::REQUEST",s.RESPOND="APP::SESSION_TOKEN::RESPOND"})(r=n.Action||(n.Action={}));function i(){return e.actionWrapper({group:t.Group.SessionToken,type:r.REQUEST})}n.request=i;function o(s){return e.actionWrapper({payload:s,group:t.Group.SessionToken,type:r.RESPOND})}n.respond=o}(CC)),CC}var u5;function xie(){return u5||(u5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.respond=n.request=n.Action=void 0;var e=j6();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"request",{enumerable:!0,get:function(){return e.request}}),Object.defineProperty(n,"respond",{enumerable:!0,get:function(){return e.respond}})}(wC)),wC}var MC={},Jm={},w_={},l5;function wie(){if(l5)return w_;l5=1,Object.defineProperty(w_,"__esModule",{value:!0}),w_.getGroupedButton=void 0;var n=MS();function e(t,r,i,o){t.addChild(r,t.group,i);var s=r.id,a=r.label,u=r.disabled,c=r.buttons,l=r.plain;return t.subscribeToChild(r,n.Action.UPDATE,o),{id:s,label:a,buttons:c,disabled:u,plain:l}}return w_.getGroupedButton=e,w_}var c5;function f5(){return c5||(c5=1,function(n){var e=Jm&&Jm.__extends||function(){var b=function(x,C){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,R){M.__proto__=R}||function(M,R){for(var O in R)Object.prototype.hasOwnProperty.call(R,O)&&(M[O]=R[O])},b(x,C)};return function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");b(x,C);function M(){this.constructor=x}x.prototype=C===null?Object.create(C):(M.prototype=C.prototype,new M)}}(),t=Jm&&Jm.__assign||function(){return t=Object.assign||function(b){for(var x,C=1,M=arguments.length;C<M;C++){x=arguments[C];for(var R in x)Object.prototype.hasOwnProperty.call(x,R)&&(b[R]=x[R])}return b},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.TitleBar=n.update=n.clickBreadcrumb=n.clickActionButton=n.Action=void 0;var r=Ni(),i=Oy(),o=MS(),s=wie(),a=Dx(),u=Hr(),c=zr(),l;(function(b){b.UPDATE="APP::TITLEBAR::UPDATE",b.BUTTON_CLICK="APP::TITLEBAR::BUTTONS::BUTTON::CLICK",b.BUTTON_UPDATE="APP::TITLEBAR::BUTTONS::BUTTON::UPDATE",b.BUTTON_GROUP_UPDATE="APP::TITLEBAR::BUTTONS::BUTTONGROUP::UPDATE",b.BREADCRUMBS_CLICK="APP::TITLEBAR::BREADCRUMBS::BUTTON::CLICK",b.BREADCRUMBS_UPDATE="APP::TITLEBAR::BREADCRUMBS::BUTTON::UPDATE"})(l=n.Action||(n.Action={}));var f={group:c.Group.TitleBar,subgroups:["Buttons"]},h={group:c.Group.TitleBar,subgroups:["Breadcrumbs"],type:c.ComponentType.Button};function m(b,x){var C=c.ComponentType.Button,M=t({id:b,type:C},f);return i.clickButton(c.Group.TitleBar,M,x)}n.clickActionButton=m;function g(b,x){var C=t({id:b},h);return i.clickButton(c.Group.TitleBar,C,x)}n.clickBreadcrumb=g;function p(b){return u.actionWrapper({payload:b,group:c.Group.TitleBar,type:l.UPDATE})}n.update=p;var y=function(b){e(x,b);function x(C,M){var R=b.call(this,C,c.Group.TitleBar,c.Group.TitleBar)||this;return!M.title&&!M.breadcrumbs&&!M.buttons||R.set(M),R}return Object.defineProperty(x.prototype,"buttons",{get:function(){if(!(!this.primary&&!this.secondary))return{primary:this.primary,secondary:this.secondary}},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"buttonsOptions",{get:function(){if(!(!this.primaryOptions&&!this.secondaryOptions))return{primary:this.primaryOptions,secondary:this.secondaryOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"options",{get:function(){return{breadcrumbs:this.breadcrumbsOption,buttons:this.buttonsOptions,title:this.title}},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"payload",{get:function(){return t(t({},this.options),{breadcrumbs:this.breadcrumb,buttons:this.buttons,id:this.id})},enumerable:!1,configurable:!0}),x.prototype.set=function(C,M){M===void 0&&(M=!0);var R=u.getMergedProps(this.options,C),O=R.title,N=R.buttons,F=R.breadcrumbs;return this.title=O,this.setBreadcrumbs(F),this.setPrimaryButton(N?N.primary:void 0),this.setSecondaryButton(N?N.secondary:void 0),M&&this.dispatch(l.UPDATE),this},x.prototype.dispatch=function(C){switch(C){case l.UPDATE:this.app.dispatch(p(this.payload));break}return this},x.prototype.getButton=function(C,M,R){return C instanceof o.ButtonGroup?s.getGroupedButton(this,C,M,R):a.getSingleButton(this,C,M,R)},x.prototype.updatePrimaryButton=function(C){this.primary&&u.updateActionFromPayload(this.primary,C)&&this.dispatch(l.UPDATE)},x.prototype.updateSecondaryButtons=function(C){if(this.secondary){var M=this.secondary.find(function(O){return O.id===C.id});if(M){var R=!1;o.isGroupedButtonPayload(C),R=u.updateActionFromPayload(M,C),R&&this.dispatch(l.UPDATE)}}},x.prototype.updateBreadcrumbButton=function(C){this.breadcrumb&&u.updateActionFromPayload(this.breadcrumb,C)&&this.dispatch(l.UPDATE)},x.prototype.setPrimaryButton=function(C){this.primaryOptions=this.getChildButton(C,this.primaryOptions),this.primary=this.primaryOptions?this.getButton(this.primaryOptions,f.subgroups,this.updatePrimaryButton):void 0},x.prototype.setSecondaryButton=function(C){var M=this,R=C||[],O=this.secondaryOptions||[];this.secondaryOptions=this.getUpdatedChildActions(R,O),this.secondary=this.secondaryOptions?this.secondaryOptions.map(function(N){return M.getButton(N,f.subgroups,M.updateSecondaryButtons)}):void 0},x.prototype.setBreadcrumbs=function(C){this.breadcrumbsOption=this.getChildButton(C,this.breadcrumbsOption),this.breadcrumb=this.breadcrumbsOption?this.getButton(this.breadcrumbsOption,h.subgroups,this.updateBreadcrumbButton):void 0},x.prototype.getChildButton=function(C,M){var R=C?[C]:[],O=M?[M]:[],N=this.getUpdatedChildActions(R,O);return N?N[0]:void 0},x}(r.ActionSetWithChildren);n.TitleBar=y}(Jm)),Jm}var d5;function W6(){return d5||(d5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.TitleBar=n.update=n.clickBreadcrumb=n.clickActionButton=n.Action=void 0;var e=f5();Object.defineProperty(n,"TitleBar",{enumerable:!0,get:function(){return e.TitleBar}});var t=f5();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"clickActionButton",{enumerable:!0,get:function(){return t.clickActionButton}}),Object.defineProperty(n,"clickBreadcrumb",{enumerable:!0,get:function(){return t.clickBreadcrumb}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(i,o){return new e.TitleBar(i,o)}n.create=r}(MC)),MC}var TC={},h5;function $6(){return h5||(h5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Toast=n.primaryAction=n.clear=n.show=n.Action=void 0;var e=uT();Object.defineProperty(n,"Toast",{enumerable:!0,get:function(){return e.Toast}});var t=uT();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"show",{enumerable:!0,get:function(){return t.show}}),Object.defineProperty(n,"clear",{enumerable:!0,get:function(){return t.clear}}),Object.defineProperty(n,"primaryAction",{enumerable:!0,get:function(){return t.primaryAction}});function r(i,o){return new e.Toast(i,o)}n.create=r}(TC)),TC}var PC={},Ym={},p5;function Cie(){return p5||(p5=1,function(n){var e=Ym&&Ym.__extends||function(){var g=function(p,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(b[C]=x[C])},g(p,y)};return function(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(p,y);function b(){this.constructor=p}p.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),t=Ym&&Ym.__assign||function(){return t=Object.assign||function(g){for(var p,y=1,b=arguments.length;y<b;y++){p=arguments[y];for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(g[x]=p[x])}return g},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.ContextualSaveBar=n.update=n.discard=n.save=n.hide=n.show=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(g){g.DISCARD="APP::CONTEXTUAL_SAVE_BAR::DISCARD",g.SAVE="APP::CONTEXTUAL_SAVE_BAR::SAVE",g.SHOW="APP::CONTEXTUAL_SAVE_BAR::SHOW",g.HIDE="APP::CONTEXTUAL_SAVE_BAR::HIDE",g.UPDATE="APP::CONTEXTUAL_SAVE_BAR::UPDATE"})(s=n.Action||(n.Action={}));function a(g,p){return r.actionWrapper({group:o.Group.ContextualSaveBar,type:g,payload:p})}function u(g){return a(s.SHOW,g)}n.show=u;function c(g){return a(s.HIDE,g)}n.hide=c;function l(g){return a(s.SAVE,g)}n.save=l;function f(g){return a(s.DISCARD,g)}n.discard=f;function h(g){return a(s.UPDATE,g)}n.update=h;var m=function(g){e(p,g);function p(y,b){b===void 0&&(b={});var x=g.call(this,y,o.Group.ContextualSaveBar,o.Group.ContextualSaveBar)||this;return x.options=b,x.set(b,!1),x}return Object.defineProperty(p.prototype,"payload",{get:function(){return t({id:this.id},this.options)},enumerable:!1,configurable:!0}),p.prototype.set=function(y,b){b===void 0&&(b=!0);var x=r.getMergedProps(this.options,y);return this.options=x,b&&this.dispatch(s.UPDATE),this},p.prototype.dispatch=function(y){return this.app.dispatch(a(y,this.payload)),this},p}(i.ActionSet);n.ContextualSaveBar=m}(Ym)),Ym}var m5;function q6(){return m5||(m5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ContextualSaveBar=n.update=n.discard=n.save=n.hide=n.show=n.Action=void 0;var e=Cie();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"show",{enumerable:!0,get:function(){return e.show}}),Object.defineProperty(n,"hide",{enumerable:!0,get:function(){return e.hide}}),Object.defineProperty(n,"save",{enumerable:!0,get:function(){return e.save}}),Object.defineProperty(n,"discard",{enumerable:!0,get:function(){return e.discard}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return e.update}}),Object.defineProperty(n,"ContextualSaveBar",{enumerable:!0,get:function(){return e.ContextualSaveBar}});function t(r,i){return new e.ContextualSaveBar(r,i)}n.create=t}(PC)),PC}var DC={},Qm={},g5;function v5(){return g5||(g5=1,function(n){var e=Qm&&Qm.__extends||function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(m[p]=g[p])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),t=Qm&&Qm.__assign||function(){return t=Object.assign||function(l){for(var f,h=1,m=arguments.length;h<m;h++){f=arguments[h];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])}return l},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.close=n.show=n.Share=n.Action=void 0;var r=zr(),i=Hr(),o=Ni(),s;(function(l){l.SHOW="APP::SHARE::SHOW",l.CLOSE="APP::SHARE::CLOSE"})(s=n.Action||(n.Action={}));var a=function(l){e(f,l);function f(h){return l.call(this,h,r.Group.Share,r.Group.Share)||this}return f.prototype.dispatch=function(h,m){switch(h){case s.SHOW:this.dispatchShareAction(s.SHOW,m);break;case s.CLOSE:this.dispatchShareAction(s.CLOSE,m);break;default:throw new Error("Action: "+h+" not supported")}return this},f.prototype.dispatchShareAction=function(h,m){this.app.dispatch(i.actionWrapper({type:h,group:r.Group.Share,payload:t({id:this.id},m)}))},f}(o.ActionSet);n.Share=a;function u(){return i.actionWrapper({group:r.Group.Share,type:s.SHOW})}n.show=u;function c(l){return i.actionWrapper({group:r.Group.Share,type:s.CLOSE,payload:l})}n.close=c}(Qm)),Qm}var _5;function Mie(){return _5||(_5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Share=n.close=n.show=n.Action=void 0;var e=v5();Object.defineProperty(n,"Share",{enumerable:!0,get:function(){return e.Share}});var t=v5();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"show",{enumerable:!0,get:function(){return t.show}}),Object.defineProperty(n,"close",{enumerable:!0,get:function(){return t.close}});function r(i){return new e.Share(i)}n.create=r}(DC)),DC}var RC={},Zm={},e0={},y5;function TS(){return y5||(y5=1,function(n){var e=e0&&e0.__extends||function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(m[p]=g[p])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),t=e0&&e0.__assign||function(){return t=Object.assign||function(l){for(var f,h=1,m=arguments.length;h<m;h++){f=arguments[h];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])}return l},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.AppLink=n.update=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s=cT(),a;(function(l){l.UPDATE="UPDATE"})(a=n.Action||(n.Action={}));function u(l,f,h){var m=f.id,g=h.label,p=h.destination,y=t(t({},h),{id:m,label:g,destination:p});return r.actionWrapper({group:l,type:r.getEventNameSpace(l,a.UPDATE,f),payload:y})}n.update=u;var c=function(l){e(f,l);function f(h,m){var g=l.call(this,h,o.Group.Link,o.Group.Link)||this;return g.label="",g.destination="",g.set(m,!1),g}return Object.defineProperty(f.prototype,"options",{get:function(){var h=this,m=h.label,g=h.destination;return{label:m,destination:g,redirectType:s.Action.APP}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"payload",{get:function(){var h=this.options,m=h.label,g=h.destination,p=h.redirectType,y=g;return{id:this.id,label:m,destination:{path:y},redirectType:p}},enumerable:!1,configurable:!0}),f.prototype.set=function(h,m){m===void 0&&(m=!0);var g=r.getMergedProps(this.options,h),p=g.label,y=g.destination;return this.label=p,this.destination=y,m&&this.dispatch(a.UPDATE),this},f.prototype.dispatch=function(h){switch(h){case a.UPDATE:{var m=u(this.group,this.component,this.payload);this.app.dispatch(m);break}}return this},f}(i.ActionSet);n.AppLink=c}(e0)),e0}var b5;function A5(){return b5||(b5=1,function(n){var e=Zm&&Zm.__extends||function(){var f=function(h,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(g[y]=p[y])},f(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(h,m);function g(){this.constructor=h}h.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),t=Zm&&Zm.__assign||function(){return t=Object.assign||function(f){for(var h,m=1,g=arguments.length;m<g;m++){h=arguments[m];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.NavigationMenu=n.update=n.Action=void 0;var r=TS(),i=Hr(),o=Ni(),s=zr(),a=["Navigation_Menu"],u;(function(f){f.UPDATE="APP::MENU::NAVIGATION_MENU::UPDATE",f.LINK_UPDATE="APP::MENU::NAVIGATION_MENU::LINK::UPDATE"})(u=n.Action||(n.Action={}));function c(f){return i.actionWrapper({payload:f,group:s.Group.Menu,type:u.UPDATE})}n.update=c;var l=function(f){e(h,f);function h(m,g){var p=f.call(this,m,"Navigation_Menu",s.Group.Menu)||this;return p.items=[],p.set(g),p}return Object.defineProperty(h.prototype,"options",{get:function(){return{items:this.itemsOptions,active:this.activeOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"payload",{get:function(){return t(t({},this.options),{active:this.active,items:this.items,id:this.id})},enumerable:!1,configurable:!0}),h.prototype.set=function(m,g){g===void 0&&(g=!0);var p=i.getMergedProps(this.options,m),y=p.items,b=p.active;return this.setItems(y),this.activeOptions=b,this.active=b&&b.id,g&&this.dispatch(u.UPDATE),this},h.prototype.dispatch=function(m){switch(m){case u.UPDATE:this.app.dispatch(c(this.payload));break}return this},h.prototype.updateItem=function(m){if(this.items){var g=this.items.find(function(p){return p.id===m.id});g&&i.updateActionFromPayload(g,m)&&this.dispatch(u.UPDATE)}},h.prototype.setItems=function(m){var g=this,p=m||[],y=this.itemsOptions||[];this.itemsOptions=this.getUpdatedChildActions(p,y),this.items=this.itemsOptions?this.itemsOptions.map(function(b){return g.addChild(b,g.group,a),g.subscribeToChild(b,r.Action.UPDATE,g.updateItem),b.payload}):[]},h}(o.ActionSetWithChildren);n.NavigationMenu=l}(Zm)),Zm}var E5;function X6(){return E5||(E5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.NavigationMenu=n.update=n.Action=void 0;var e=A5();Object.defineProperty(n,"NavigationMenu",{enumerable:!0,get:function(){return e.NavigationMenu}});var t=A5();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(i,o){return new e.NavigationMenu(i,o)}n.create=r}(RC)),RC}var OC={},t0={},S5;function x5(){return S5||(S5=1,function(n){var e=t0&&t0.__extends||function(){var f=function(h,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(g[y]=p[y])},f(h,m)};return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(h,m);function g(){this.constructor=h}h.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),t=t0&&t0.__assign||function(){return t=Object.assign||function(f){for(var h,m=1,g=arguments.length;m<g;m++){h=arguments[m];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(f[p]=h[p])}return f},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.ChannelMenu=n.update=n.Action=void 0;var r=TS(),i=Hr(),o=Ni(),s=zr(),a=["Channel_Menu"],u;(function(f){f.UPDATE="APP::MENU::CHANNEL_MENU::UPDATE",f.LINK_UPDATE="APP::MENU::CHANNEL_MENU::LINK::UPDATE"})(u=n.Action||(n.Action={}));function c(f){return i.actionWrapper({payload:f,group:s.Group.Menu,type:u.UPDATE})}n.update=c;var l=function(f){e(h,f);function h(m,g){var p=f.call(this,m,"Channel_Menu",s.Group.Menu)||this;return p.items=[],p.set(g),p}return Object.defineProperty(h.prototype,"options",{get:function(){return{items:this.itemsOptions,active:this.activeOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"payload",{get:function(){return t(t({},this.options),{active:this.active,items:this.items,id:this.id})},enumerable:!1,configurable:!0}),h.prototype.set=function(m,g){g===void 0&&(g=!0);var p=i.getMergedProps(this.options,m),y=p.items,b=p.active;return this.setItems(y),this.activeOptions=b,this.active=b&&b.id,g&&this.dispatch(u.UPDATE),this},h.prototype.dispatch=function(m){switch(m){case u.UPDATE:this.app.dispatch(c(this.payload));break}return this},h.prototype.updateItem=function(m){if(this.items){var g=this.items.find(function(p){return p.id===m.id});g&&i.updateActionFromPayload(g,m)&&this.dispatch(u.UPDATE)}},h.prototype.setItems=function(m){var g=this,p=m||[],y=this.itemsOptions||[];this.itemsOptions=this.getUpdatedChildActions(p,y),this.items=this.itemsOptions?this.itemsOptions.map(function(b){return g.addChild(b,g.group,a),g.subscribeToChild(b,r.Action.UPDATE,g.updateItem),b.payload}):[]},h}(o.ActionSetWithChildren);n.ChannelMenu=l}(t0)),t0}var w5;function Tie(){return w5||(w5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.ChannelMenu=n.update=n.Action=void 0;var e=x5();Object.defineProperty(n,"ChannelMenu",{enumerable:!0,get:function(){return e.ChannelMenu}});var t=x5();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(i,o){return new e.ChannelMenu(i,o)}n.create=r}(OC)),OC}var IC={},C5;function K6(){return C5||(C5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.AppLink=n.update=n.Action=void 0;var e=TS();Object.defineProperty(n,"AppLink",{enumerable:!0,get:function(){return e.AppLink}});var t=TS();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});function r(i,o){return new e.AppLink(i,o)}n.create=r}(IC)),IC}var BC={},C_={},M5;function T5(){return M5||(M5=1,function(n){var e=C_&&C_.__extends||function(){var u=function(c,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(f[m]=h[m])},u(c,l)};return function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(c,l);function f(){this.constructor=c}c.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.Pos=n.close=n.Action=void 0;var t=Hr(),r=Ni(),i=zr(),o;(function(u){u.CLOSE="APP::POS::CLOSE",u.LOCATION_UPDATE="APP::POS::LOCATION::UPDATE",u.USER_UPDATE="APP::POS::USER::UPDATE",u.DEVICE_UPDATE="APP::POS::DEVICE::UPDATE"})(o=n.Action||(n.Action={}));function s(){return t.actionWrapper({group:i.Group.Pos,type:o.CLOSE})}n.close=s;var a=function(u){e(c,u);function c(l){return u.call(this,l,i.Group.Pos,i.Group.Pos)||this}return c.prototype.dispatch=function(l){switch(l){case o.CLOSE:this.app.dispatch(s());break}return this},c}(r.ActionSet);n.Pos=a}(C_)),C_}var P5;function Pie(){return P5||(P5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.Pos=n.close=n.Action=void 0;var e=T5();Object.defineProperty(n,"Pos",{enumerable:!0,get:function(){return e.Pos}});var t=T5();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"close",{enumerable:!0,get:function(){return t.close}});function r(i){return new e.Pos(i)}n.create=r}(BC)),BC}var n0={},FC={},D5;function Die(){return D5||(D5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Action=void 0,function(e){e.UPDATE="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::UPDATE",e.BUTTON_CLICK="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::BUTTONS::BUTTON::CLICK",e.BUTTON_UPDATE="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::BUTTONS::BUTTON::UPDATE"}(n.Action||(n.Action={}))}(FC)),FC}var LC={},R5;function Rie(){return R5||(R5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSingleButton=void 0;var e=Dx();Object.defineProperty(n,"getSingleButton",{enumerable:!0,get:function(){return e.getSingleButton}})}(LC)),LC}var NC={},O5;function Oie(){return O5||(O5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.unsubscribeActions=n.ActionSetWithChildren=n.ActionSet=void 0;var e=Ni();Object.defineProperty(n,"ActionSet",{enumerable:!0,get:function(){return e.ActionSet}}),Object.defineProperty(n,"ActionSetWithChildren",{enumerable:!0,get:function(){return e.ActionSetWithChildren}}),Object.defineProperty(n,"unsubscribeActions",{enumerable:!0,get:function(){return e.unsubscribeActions}})}(NC)),NC}var I5;function Iie(){return I5||(I5=1,function(n){var e=n0&&n0.__extends||function(){var g=function(p,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(b[C]=x[C])},g(p,y)};return function(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(p,y);function b(){this.constructor=p}p.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),t=n0&&n0.__assign||function(){return t=Object.assign||function(g){for(var p,y=1,b=arguments.length;y<b;y++){p=arguments[y];for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(g[x]=p[x])}return g},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.MarketingExternalActivityTopBar=n.update=n.clickActionButton=n.MarketingActivityStatusBadgeType=n.Action=void 0;var r=Die();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return r.Action}});var i=Px(),o=Rie(),s=A1(),a=Oie(),u=E1();(function(g){g.Default="DEFAULT",g.Success="SUCCESS",g.Attention="ATTENTION",g.Warning="WARNING",g.Info="INFO"})(n.MarketingActivityStatusBadgeType||(n.MarketingActivityStatusBadgeType={}));var c={group:u.Group.MarketingExternalActivityTopBar,subgroups:["Buttons"]};function l(g,p){var y=u.ComponentType.Button,b=t({id:g,type:y},c);return i.clickButton(u.Group.MarketingExternalActivityTopBar,b,p)}n.clickActionButton=l;function f(g){return s.actionWrapper({payload:g,group:u.Group.MarketingExternalActivityTopBar,type:r.Action.UPDATE})}n.update=f;var h=function(g){e(p,g);function p(y,b){var x=g.call(this,y,u.Group.MarketingExternalActivityTopBar,u.Group.MarketingExternalActivityTopBar)||this;return x.set(b),x}return Object.defineProperty(p.prototype,"buttons",{get:function(){if(!(!this.primary&&!this.secondary))return{primary:this.primary,secondary:this.secondary}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"buttonsOptions",{get:function(){if(!(!this.primaryOptions&&!this.secondaryOptions))return{primary:this.primaryOptions,secondary:this.secondaryOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"options",{get:function(){return{title:this.title,status:this.status,saving:this.saving,saved:this.saved,buttons:this.buttonsOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"payload",{get:function(){return t(t({},this.options),{buttons:this.buttons,id:this.id})},enumerable:!1,configurable:!0}),p.prototype.set=function(y,b){b===void 0&&(b=!0);var x=s.getMergedProps(this.options,y),C=x.title,M=x.buttons,R=x.saved,O=x.saving,N=x.status;return this.title=C,this.saving=O,this.saved=R,this.status=N,this.setPrimaryButton(M?M.primary:void 0),this.setSecondaryButtons(M?M.secondary:void 0),b&&this.dispatch(r.Action.UPDATE),this},p.prototype.dispatch=function(y){switch(y){case r.Action.UPDATE:this.app.dispatch(f(this.payload));break}return this},p.prototype.getButton=function(y,b,x){return o.getSingleButton(this,y,b,x)},p.prototype.updatePrimaryButton=function(y){this.primary&&s.updateActionFromPayload(this.primary,y)&&this.dispatch(r.Action.UPDATE)},p.prototype.updateSecondaryButtons=function(y){if(this.secondary){var b=this.secondary.find(function(C){return C.id===y.id});if(b){var x=s.updateActionFromPayload(b,y);x&&this.dispatch(r.Action.UPDATE)}}},p.prototype.setPrimaryButton=function(y){this.primaryOptions=this.getChildButton(y,this.primaryOptions),this.primary=this.primaryOptions?this.getButton(this.primaryOptions,c.subgroups,this.updatePrimaryButton):void 0},p.prototype.setSecondaryButtons=function(y){var b=this,x=y||[],C=this.secondaryOptions||[];this.secondaryOptions=this.getUpdatedChildActions(x,C),this.secondary=this.secondaryOptions?this.secondaryOptions.map(function(M){return b.getButton(M,c.subgroups,b.updateSecondaryButtons)}):void 0},p.prototype.updateSaving=function(y){this.saving=y,this.dispatch(r.Action.UPDATE)},p.prototype.updateSaved=function(y){this.saved=y,this.dispatch(r.Action.UPDATE)},p.prototype.updateStatus=function(y){this.status=y,this.dispatch(r.Action.UPDATE)},p.prototype.getChildButton=function(y,b){var x=y?[y]:[],C=b?[b]:[],M=this.getUpdatedChildActions(x,C);return M?M[0]:void 0},p}(a.ActionSetWithChildren);n.MarketingExternalActivityTopBar=h;function m(g,p){return new h(g,p)}n.create=m}(n0)),n0}var UC={},kC={},B5;function Bie(){return B5||(B5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fullPageLoad=n.skeletonPageLoad=n.Action=void 0;var e=zr(),t=Hr(),r;(function(s){s.SKELETON_PAGE_LOAD="APP::PERFORMANCE::SKELETON_PAGE_LOAD",s.FULL_PAGE_LOAD="APP::PERFORMANCE::FULL_PAGE_LOAD"})(r=n.Action||(n.Action={}));function i(){return t.actionWrapper({group:e.Group.Performance,type:r.SKELETON_PAGE_LOAD})}n.skeletonPageLoad=i;function o(){return t.actionWrapper({group:e.Group.Performance,type:r.FULL_PAGE_LOAD})}n.fullPageLoad=o}(kC)),kC}var F5;function Fie(){return F5||(F5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fullPageLoad=n.skeletonPageLoad=n.Action=void 0;var e=Bie();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(n,"skeletonPageLoad",{enumerable:!0,get:function(){return e.skeletonPageLoad}}),Object.defineProperty(n,"fullPageLoad",{enumerable:!0,get:function(){return e.fullPageLoad}})}(UC)),UC}var zC={},r0={},L5;function N5(){return L5||(L5=1,function(n){var e=r0&&r0.__extends||function(){var g=function(p,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(b[C]=x[C])},g(p,y)};return function(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(p,y);function b(){this.constructor=p}p.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),t=r0&&r0.__assign||function(){return t=Object.assign||function(g){for(var p,y=1,b=arguments.length;y<b;y++){p=arguments[y];for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(g[x]=p[x])}return g},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.unstable_Picker=n.loadMore=n.search=n.update=n.cancel=n.open=n.select=n.ALL_RESOURCE_VERTICAL_ALIGNMENT=n.ALL_MEDIA_KINDS=n.ALL_BADGE_STATUSES=n.ALL_BADGE_PROGRESSES=n.Action=void 0;var r=Hr(),i=Ni(),o=zr(),s;(function(g){g.OPEN="APP::PICKER::OPEN",g.SELECT="APP::PICKER::SELECT",g.UPDATE="APP::PICKER::UPDATE",g.CANCEL="APP::PICKER::CANCEL",g.SEARCH="APP::PICKER::SEARCH",g.LOAD_MORE="APP::PICKER::LOAD_MORE"})(s=n.Action||(n.Action={})),n.ALL_BADGE_PROGRESSES=["incomplete","partiallyComplete","complete"],n.ALL_BADGE_STATUSES=["success","info","attention","critical","warning","new"],n.ALL_MEDIA_KINDS=["Avatar","Thumbnail"],n.ALL_RESOURCE_VERTICAL_ALIGNMENT=["leading","trailing","center"];function a(g){return r.actionWrapper({payload:g,group:o.Group.unstable_Picker,type:s.SELECT})}n.select=a;function u(g){return r.actionWrapper({payload:g,group:o.Group.unstable_Picker,type:s.OPEN})}n.open=u;function c(g){return r.actionWrapper({payload:g,group:o.Group.unstable_Picker,type:s.CANCEL})}n.cancel=c;function l(g){return r.actionWrapper({payload:g,group:o.Group.unstable_Picker,type:s.UPDATE})}n.update=l;function f(g){return r.actionWrapper({payload:g,group:o.Group.unstable_Picker,type:s.SEARCH})}n.search=f;function h(g){return r.actionWrapper({payload:g,group:o.Group.unstable_Picker,type:s.LOAD_MORE})}n.loadMore=h;var m=function(g){e(p,g);function p(y,b){var x=g.call(this,y,o.Group.unstable_Picker,o.Group.unstable_Picker)||this;return x.items=[],x.selectedItems=[],x.set(b,!1),x}return Object.defineProperty(p.prototype,"payload",{get:function(){return t(t({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"options",{get:function(){return{items:this.items,maxSelectable:this.maxSelectable,selectedItems:this.selectedItems,title:this.title,loading:this.loading,searchQuery:this.searchQuery,searchQueryPlaceholder:this.searchQueryPlaceholder,primaryActionLabel:this.primaryActionLabel,secondaryActionLabel:this.secondaryActionLabel,emptySearchLabel:this.emptySearchLabel,canLoadMore:this.canLoadMore,loadingMore:this.loadingMore,verticalAlignment:this.verticalAlignment,allowEmptySelection:this.allowEmptySelection,resourceName:this.resourceName}},enumerable:!1,configurable:!0}),p.prototype.set=function(y,b){b===void 0&&(b=!0);var x=r.getMergedProps(this.options,y),C=x.selectedItems,M=C===void 0?[]:C,R=x.maxSelectable,O=R===void 0?0:R,N=x.items,F=N===void 0?[]:N,I=x.loading,B=I===void 0?!1:I,k=x.title,q=x.searchQuery,Y=x.searchQueryPlaceholder,ee=x.primaryActionLabel,le=x.secondaryActionLabel,J=x.emptySearchLabel,fe=x.canLoadMore,V=fe===void 0?!1:fe,ae=x.loadingMore,ue=ae===void 0?!1:ae,Q=x.verticalAlignment,de=x.allowEmptySelection,we=x.resourceName;return this.title=k,this.items=F,this.selectedItems=M,this.maxSelectable=O,this.loading=B,this.searchQuery=q,this.searchQueryPlaceholder=Y,this.primaryActionLabel=ee,this.secondaryActionLabel=le,this.emptySearchLabel=J,this.canLoadMore=V,this.loadingMore=ue,this.verticalAlignment=Q,this.allowEmptySelection=de,this.resourceName=we,b&&this.update(),this},p.prototype.dispatch=function(y,b){return y===s.OPEN?this.open():y===s.UPDATE?this.update():y===s.CANCEL?this.cancel():y===s.SELECT?(this.selectedItems=(b==null?void 0:b.selectedItems)||[],this.app.dispatch(a({id:this.id,selectedItems:this.selectedItems}))):y===s.SEARCH?(this.searchQuery=(b==null?void 0:b.searchQuery)||"",this.app.dispatch(f({id:this.id,searchQuery:this.searchQuery}))):y===s.LOAD_MORE&&this.loadMore(),this},p.prototype.update=function(){this.app.dispatch(l(this.payload))},p.prototype.open=function(){this.app.dispatch(u(this.payload))},p.prototype.cancel=function(){this.app.dispatch(c({id:this.id}))},p.prototype.loadMore=function(){this.app.dispatch(h(this.payload))},p}(i.ActionSet);n.unstable_Picker=m}(r0)),r0}var U5;function J6(){return U5||(U5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.unstable_Picker=n.update=n.select=n.search=n.open=n.loadMore=n.cancel=n.ALL_RESOURCE_VERTICAL_ALIGNMENT=n.ALL_MEDIA_KINDS=n.ALL_BADGE_STATUSES=n.ALL_BADGE_PROGRESSES=n.Action=void 0;var e=N5();Object.defineProperty(n,"unstable_Picker",{enumerable:!0,get:function(){return e.unstable_Picker}});var t=N5();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(n,"ALL_BADGE_PROGRESSES",{enumerable:!0,get:function(){return t.ALL_BADGE_PROGRESSES}}),Object.defineProperty(n,"ALL_BADGE_STATUSES",{enumerable:!0,get:function(){return t.ALL_BADGE_STATUSES}}),Object.defineProperty(n,"ALL_MEDIA_KINDS",{enumerable:!0,get:function(){return t.ALL_MEDIA_KINDS}}),Object.defineProperty(n,"ALL_RESOURCE_VERTICAL_ALIGNMENT",{enumerable:!0,get:function(){return t.ALL_RESOURCE_VERTICAL_ALIGNMENT}}),Object.defineProperty(n,"cancel",{enumerable:!0,get:function(){return t.cancel}}),Object.defineProperty(n,"loadMore",{enumerable:!0,get:function(){return t.loadMore}}),Object.defineProperty(n,"open",{enumerable:!0,get:function(){return t.open}}),Object.defineProperty(n,"search",{enumerable:!0,get:function(){return t.search}}),Object.defineProperty(n,"select",{enumerable:!0,get:function(){return t.select}}),Object.defineProperty(n,"update",{enumerable:!0,get:function(){return t.update}});var r=function(i,o){return new e.unstable_Picker(i,o)};n.create=r}(zC)),zC}var i0={},HC={},q_={exports:{}},Lie=q_.exports,k5;function Nie(){return k5||(k5=1,function(n,e){(function(t,r){r(e)})(Lie,function(t){var r,i,o,s,a,u=-1,c=function($e){addEventListener("pageshow",function(te){te.persisted&&(u=te.timeStamp,$e(te))},!0)},l=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},f=function(){var $e=l();return $e&&$e.activationStart||0},h=function($e,te){var K=l(),j="navigate";return u>=0?j="back-forward-cache":K&&(document.prerendering||f()>0?j="prerender":document.wasDiscarded?j="restore":K.type&&(j=K.type.replace(/_/g,"-"))),{name:$e,value:te===void 0?-1:te,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:j}},m=function($e,te,K){try{if(PerformanceObserver.supportedEntryTypes.includes($e)){var j=new PerformanceObserver(function(re){Promise.resolve().then(function(){te(re.getEntries())})});return j.observe(Object.assign({type:$e,buffered:!0},K||{})),j}}catch{}},g=function($e,te,K,j){var re,me;return function(ve){te.value>=0&&(ve||j)&&((me=te.value-(re||0))||re===void 0)&&(re=te.value,te.delta=me,te.rating=function(Me,xe){return Me>xe[1]?"poor":Me>xe[0]?"needs-improvement":"good"}(te.value,K),$e(te))}},p=function($e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return $e()})})},y=function($e){var te=function(K){K.type!=="pagehide"&&document.visibilityState!=="hidden"||$e(K)};addEventListener("visibilitychange",te,!0),addEventListener("pagehide",te,!0)},b=function($e){var te=!1;return function(K){te||($e(K),te=!0)}},x=-1,C=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},M=function($e){document.visibilityState==="hidden"&&x>-1&&(x=$e.type==="visibilitychange"?$e.timeStamp:0,O())},R=function(){addEventListener("visibilitychange",M,!0),addEventListener("prerenderingchange",M,!0)},O=function(){removeEventListener("visibilitychange",M,!0),removeEventListener("prerenderingchange",M,!0)},N=function(){return x<0&&(x=C(),R(),c(function(){setTimeout(function(){x=C(),R()},0)})),{get firstHiddenTime(){return x}}},F=function($e){document.prerendering?addEventListener("prerenderingchange",function(){return $e()},!0):$e()},I=[1800,3e3],B=function($e,te){te=te||{},F(function(){var K,j=N(),re=h("FCP"),me=m("paint",function(ve){ve.forEach(function(Me){Me.name==="first-contentful-paint"&&(me.disconnect(),Me.startTime<j.firstHiddenTime&&(re.value=Math.max(Me.startTime-f(),0),re.entries.push(Me),K(!0)))})});me&&(K=g($e,re,I,te.reportAllChanges),c(function(ve){re=h("FCP"),K=g($e,re,I,te.reportAllChanges),p(function(){re.value=performance.now()-ve.timeStamp,K(!0)})}))})},k=[.1,.25],q=function($e,te){te=te||{},B(b(function(){var K,j=h("CLS",0),re=0,me=[],ve=function(xe){xe.forEach(function(Ge){if(!Ge.hadRecentInput){var et=me[0],Ne=me[me.length-1];re&&Ge.startTime-Ne.startTime<1e3&&Ge.startTime-et.startTime<5e3?(re+=Ge.value,me.push(Ge)):(re=Ge.value,me=[Ge])}}),re>j.value&&(j.value=re,j.entries=me,K())},Me=m("layout-shift",ve);Me&&(K=g($e,j,k,te.reportAllChanges),y(function(){ve(Me.takeRecords()),K(!0)}),c(function(){re=0,j=h("CLS",0),K=g($e,j,k,te.reportAllChanges),p(function(){return K()})}),setTimeout(K,0))}))},Y={passive:!0,capture:!0},ee=new Date,le=function($e,te){r||(r=te,i=$e,o=new Date,V(removeEventListener),J())},J=function(){if(i>=0&&i<o-ee){var $e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+i};s.forEach(function(te){te($e)}),s=[]}},fe=function($e){if($e.cancelable){var te=($e.timeStamp>1e12?new Date:performance.now())-$e.timeStamp;$e.type=="pointerdown"?function(K,j){var re=function(){le(K,j),ve()},me=function(){ve()},ve=function(){removeEventListener("pointerup",re,Y),removeEventListener("pointercancel",me,Y)};addEventListener("pointerup",re,Y),addEventListener("pointercancel",me,Y)}(te,$e):le(te,$e)}},V=function($e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(te){return $e(te,fe,Y)})},ae=[100,300],ue=function($e,te){te=te||{},F(function(){var K,j=N(),re=h("FID"),me=function(xe){xe.startTime<j.firstHiddenTime&&(re.value=xe.processingStart-xe.startTime,re.entries.push(xe),K(!0))},ve=function(xe){xe.forEach(me)},Me=m("first-input",ve);K=g($e,re,ae,te.reportAllChanges),Me&&y(b(function(){ve(Me.takeRecords()),Me.disconnect()})),Me&&c(function(){var xe;re=h("FID"),K=g($e,re,ae,te.reportAllChanges),s=[],i=-1,r=null,V(addEventListener),xe=me,s.push(xe),J()})})},Q=0,de=1/0,we=0,ye=function($e){$e.forEach(function(te){te.interactionId&&(de=Math.min(de,te.interactionId),we=Math.max(we,te.interactionId),Q=we?(we-de)/7+1:0)})},Ce=function(){return a?Q:performance.interactionCount||0},Le=function(){"interactionCount"in performance||a||(a=m("event",ye,{type:"event",buffered:!0,durationThreshold:0}))},Ie=[200,500],Ze=0,tt=function(){return Ce()-Ze},Qe=[],lt={},We=function($e){var te=Qe[Qe.length-1],K=lt[$e.interactionId];if(K||Qe.length<10||$e.duration>te.latency){if(K)K.entries.push($e),K.latency=Math.max(K.latency,$e.duration);else{var j={id:$e.interactionId,latency:$e.duration,entries:[$e]};lt[j.id]=j,Qe.push(j)}Qe.sort(function(re,me){return me.latency-re.latency}),Qe.splice(10).forEach(function(re){delete lt[re.id]})}},Ke=function($e,te){te=te||{},F(function(){var K;Le();var j,re=h("INP"),me=function(Me){Me.forEach(function(et){et.interactionId&&We(et),et.entryType==="first-input"&&!Qe.some(function(Ne){return Ne.entries.some(function(Ve){return et.duration===Ve.duration&&et.startTime===Ve.startTime})})&&We(et)});var xe,Ge=(xe=Math.min(Qe.length-1,Math.floor(tt()/50)),Qe[xe]);Ge&&Ge.latency!==re.value&&(re.value=Ge.latency,re.entries=Ge.entries,j())},ve=m("event",me,{durationThreshold:(K=te.durationThreshold)!==null&&K!==void 0?K:40});j=g($e,re,Ie,te.reportAllChanges),ve&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&ve.observe({type:"first-input",buffered:!0}),y(function(){me(ve.takeRecords()),re.value<0&&tt()>0&&(re.value=0,re.entries=[]),j(!0)}),c(function(){Qe=[],Ze=Ce(),re=h("INP"),j=g($e,re,Ie,te.reportAllChanges)}))})},he=[2500,4e3],wt={},ft=function($e,te){te=te||{},F(function(){var K,j=N(),re=h("LCP"),me=function(xe){var Ge=xe[xe.length-1];Ge&&Ge.startTime<j.firstHiddenTime&&(re.value=Math.max(Ge.startTime-f(),0),re.entries=[Ge],K())},ve=m("largest-contentful-paint",me);if(ve){K=g($e,re,he,te.reportAllChanges);var Me=b(function(){wt[re.id]||(me(ve.takeRecords()),ve.disconnect(),wt[re.id]=!0,K(!0))});["keydown","click"].forEach(function(xe){addEventListener(xe,function(){return setTimeout(Me,0)},!0)}),y(Me),c(function(xe){re=h("LCP"),K=g($e,re,he,te.reportAllChanges),p(function(){re.value=performance.now()-xe.timeStamp,wt[re.id]=!0,K(!0)})})}})},vt=[800,1800],yt=function $e(te){document.prerendering?F(function(){return $e(te)}):document.readyState!=="complete"?addEventListener("load",function(){return $e(te)},!0):setTimeout(te,0)},Ht=function($e,te){te=te||{};var K=h("TTFB"),j=g($e,K,vt,te.reportAllChanges);yt(function(){var re=l();if(re){var me=re.responseStart;if(me<=0||me>performance.now())return;K.value=Math.max(me-f(),0),K.entries=[re],j(!0),c(function(){K=h("TTFB",0),(j=g($e,K,vt,te.reportAllChanges))(!0)})}})};t.CLSThresholds=k,t.FCPThresholds=I,t.FIDThresholds=ae,t.INPThresholds=Ie,t.LCPThresholds=he,t.TTFBThresholds=vt,t.getCLS=q,t.getFCP=B,t.getFID=ue,t.getINP=Ke,t.getLCP=ft,t.getTTFB=Ht,t.onCLS=q,t.onFCP=B,t.onFID=ue,t.onINP=Ke,t.onLCP=ft,t.onTTFB=Ht})}(q_,q_.exports)),q_.exports}var GC={},z5;function Uie(){return z5||(z5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Action=void 0,function(e){e.LARGEST_CONTENTFUL_PAINT="APP::WEB_VITALS::LARGEST_CONTENTFUL_PAINT",e.FIRST_INPUT_DELAY="APP::WEB_VITALS::FIRST_INPUT_DELAY",e.CUMULATIVE_LAYOUT_SHIFT="APP::WEB_VITALS::CUMULATIVE_LAYOUT_SHIFT",e.FIRST_CONTENTFUL_PAINT="APP::WEB_VITALS::FIRST_CONTENTFUL_PAINT",e.TIME_TO_FIRST_BYTE="APP::WEB_VITALS::TIME_TO_FIRST_BYTE",e.INTERACTION_TO_NEXT_PAINT="APP::WEB_VITALS::INTERACTION_TO_NEXT_PAINT"}(n.Action||(n.Action={}))}(GC)),GC}var VC={},jC={},H5;function fT(){return H5||(H5=1,function(n){var e,t;Object.defineProperty(n,"__esModule",{value:!0}),n.isUnframed=n.isClient=n.isServer=void 0,n.isServer=typeof window>"u",n.isClient=!n.isServer,n.isUnframed=n.isClient&&((t=(e=window.navigator)===null||e===void 0?void 0:e.userAgent)===null||t===void 0?void 0:t.indexOf("Unframed"))>0}(jC)),jC}var G5;function $P(){return G5||(G5=1,function(n){var e={SHOPIFY_API_KEY:"69db3caf17c4eb5befc0055e4427fc96",SHOPIFY_API_SECRET:"eeec5b0fbd7d3c1f08e0680d6f81315e",SCOPES:"read_products,unauthenticated_read_checkouts,unauthenticated_read_content,unauthenticated_read_customer_tags,unauthenticated_read_customers,unauthenticated_read_metaobjects,unauthenticated_read_product_inventory,unauthenticated_read_product_listings,unauthenticated_read_product_pickup_locations,unauthenticated_read_product_tags,unauthenticated_write_checkouts,unauthenticated_write_customers",SHOPIFY_APPSECTION_ID:"2eedc422-d8e1-4a3f-afb2-de6e54388892",REACT_APP_SHOPIFY_API_KEY:"69db3caf17c4eb5befc0055e4427fc96",REACT_API_END_POINT:"https://spf.watermelon.icu",GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESS_TERMCAP_se:"\x1B[0m",POWERSHELL_TELEMETRY_OPTOUT:"1",LANGUAGE:"en_GB:en",USER:"shaddistech",WARP_HONOR_PS1:"0",LESS_TERMCAP_ue:"\x1B[0m",npm_config_user_agent:"npm/9.2.0 node/v20.19.5 linux x64 workspaces/false",DOTNET_CLI_TELEMETRY_OPTOUT:"1",XDG_SESSION_TYPE:"x11",npm_node_execpath:"/usr/bin/node",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/shaddistech",OLDPWD:"/home/shaddistech/david-project/source-code",DESKTOP_SESSION:"gnome",TERM_PROGRAM_VERSION:"v0.2025.10.22.08.13.stable_02",npm_package_json:"/home/shaddistech/david-project/source-code/client/package.json",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/dev.warp.Warp.desktop",WARP_USE_SSH_WRAPPER:"0",MANAGERPID:"2742",LESS_TERMCAP_so:"\x1B[01;33m",npm_config_userconfig:"/home/shaddistech/.npmrc",npm_config_local_prefix:"/home/shaddistech/david-project/source-code/client",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",NMAP_PRIVILEGED:"",SYSTEMD_EXEC_PID:"3010",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"37581",COLOR:"1",COMMAND_NOT_FOUND_INSTALL_PROMPT:"1",CONDA_CHANGEPS1:"false",npm_config_metrics_registry:"https://registry.npmjs.org/",IM_CONFIG_PHASE:"1",QT_QPA_PLATFORMTHEME:"qt5ct",LOGNAME:"shaddistech",JOURNAL_STREAM:"9:15909",MANAGERPIDFDID:"2743",QT_AUTO_SCREEN_SCALE_FACTOR:"0",_:"/usr/bin/npm",LESS_TERMCAP_us:"\x1B[1;32m",npm_config_prefix:"/usr/local",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure",XDG_SESSION_CLASS:"user",SSH_SOCKET_DIR:"~/.ssh",TERM:"xterm-256color",USERNAME:"shaddistech",npm_config_cache:"/home/shaddistech/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",WARP_IS_LOCAL_SHELL_SESSION:"1",WINDOWPATH:"2",npm_config_node_gyp:"/usr/share/nodejs/node-gyp/bin/node-gyp.js",PATH:"/home/shaddistech/david-project/source-code/client/node_modules/.bin:/home/shaddistech/david-project/source-code/node_modules/.bin:/home/shaddistech/david-project/node_modules/.bin:/home/shaddistech/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/share/nodejs/@npmcli/run-script/lib/node-gyp-bin:/home/shaddistech/.local/bin:/home/shaddistech/.local/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/home/shaddistech/.dotnet/tools",GDM_LANG:"en_GB.UTF-8",INVOCATION_ID:"cc45eb8d86bc4a4b982cf7a342421b46",SESSION_MANAGER:"local/shaddistech:@/tmp/.ICE-unix/2982,unix/shaddistech:/tmp/.ICE-unix/2982",NODE:"/usr/bin/node",npm_package_name:"sign-panel-configuation",XDG_MENU_PREFIX:"gnome-",XDG_RUNTIME_DIR:"/run/user/1000",DISPLAY:":1",LANG:"en_GB.UTF-8",POWERSHELL_UPDATECHECK:"Off",XDG_CURRENT_DESKTOP:"GNOME",TERM_PROGRAM:"WarpTerminal",XAUTHORITY:"/run/user/1000/gdm/Xauthority",XDG_SESSION_DESKTOP:"gnome",XMODIFIERS:"@im=ibus",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.7z=01;31:*.ace=01;31:*.alz=01;31:*.apk=01;31:*.arc=01;31:*.arj=01;31:*.bz=01;31:*.bz2=01;31:*.cab=01;31:*.cpio=01;31:*.crate=01;31:*.deb=01;31:*.drpm=01;31:*.dwm=01;31:*.dz=01;31:*.ear=01;31:*.egg=01;31:*.esd=01;31:*.gz=01;31:*.jar=01;31:*.lha=01;31:*.lrz=01;31:*.lz=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.lzo=01;31:*.pyz=01;31:*.rar=01;31:*.rpm=01;31:*.rz=01;31:*.sar=01;31:*.swm=01;31:*.t7z=01;31:*.tar=01;31:*.taz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tgz=01;31:*.tlz=01;31:*.txz=01;31:*.tz=01;31:*.tzo=01;31:*.tzst=01;31:*.udeb=01;31:*.war=01;31:*.whl=01;31:*.wim=01;31:*.xz=01;31:*.z=01;31:*.zip=01;31:*.zoo=01;31:*.zst=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.jxl=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90::ow=30;44:",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/gcr/ssh",SHELL:"/usr/bin/zsh",npm_package_version:"0.0.0",npm_lifecycle_event:"build",GDMSESSION:"gnome",QT_ACCESSIBILITY:"1",LESS_TERMCAP_mb:"\x1B[1;31m",GJS_DEBUG_OUTPUT:"stderr",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",LESS_TERMCAP_md:"\x1B[1;36m",npm_config_globalconfig:"/etc/npmrc",npm_config_init_module:"/home/shaddistech/.npm-init.js",PWD:"/home/shaddistech/david-project/source-code/client",LESS_TERMCAP_me:"\x1B[0m",npm_config_globalignorefile:"/etc/npmignore",npm_execpath:"/usr/share/nodejs/npm/bin/npm-cli.js",XDG_DATA_DIRS:"/usr/share/gnome:/usr/local/share/:/usr/share/",npm_config_global_prefix:"/usr/local",npm_command:"run-script",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",INIT_CWD:"/home/shaddistech/david-project/source-code/client",EDITOR:"vi",NODE_ENV:"production"};Object.defineProperty(n,"__esModule",{value:!0}),n.isDevelopmentClient=n.isProduction=n.isDevelopment=n.isUnframed=n.isServer=n.isClient=void 0;var t=fT(),r=fT();Object.defineProperty(n,"isClient",{enumerable:!0,get:function(){return r.isClient}}),Object.defineProperty(n,"isServer",{enumerable:!0,get:function(){return r.isServer}}),Object.defineProperty(n,"isUnframed",{enumerable:!0,get:function(){return r.isUnframed}}),n.isDevelopment=typeof process<"u"&&e&&!1,n.isProduction=!n.isDevelopment,n.isDevelopmentClient=n.isDevelopment&&t.isClient}(VC)),VC}var nl={},V5;function qP(){if(V5)return nl;V5=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.isShopifyPing=nl.isShopifyPOS=nl.isShopifyMobile=nl.isShopifyEmbedded=nl.isMobile=void 0;var n=$P();function e(){return r()||i()||o()}nl.isMobile=e;function t(){return n.isClient&&window.top!==window.self||n.isUnframed}nl.isShopifyEmbedded=t;function r(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}nl.isShopifyMobile=r;function i(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}nl.isShopifyPOS=i;function o(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}return nl.isShopifyPing=o,nl}var j5;function kie(){return j5||(j5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.initializeWebVitals=n.interactionToNextPaint=n.timeToFirstByte=n.firstContentfulPaint=n.cumulativeLayoutShift=n.firstInputDelay=n.largestContentfulPaint=n.Action=void 0;var e=Nie(),t=Uie();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return t.Action}});var r=$P(),i=E1(),o=A1(),s=qP();function a(g){return o.actionWrapper({group:i.Group.WebVitals,type:t.Action.LARGEST_CONTENTFUL_PAINT,payload:g})}n.largestContentfulPaint=a;function u(g){return o.actionWrapper({group:i.Group.WebVitals,type:t.Action.FIRST_INPUT_DELAY,payload:g})}n.firstInputDelay=u;function c(g){return o.actionWrapper({group:i.Group.WebVitals,type:t.Action.CUMULATIVE_LAYOUT_SHIFT,payload:g})}n.cumulativeLayoutShift=c;function l(g){return o.actionWrapper({group:i.Group.WebVitals,type:t.Action.FIRST_CONTENTFUL_PAINT,payload:g})}n.firstContentfulPaint=l;function f(g){return o.actionWrapper({group:i.Group.WebVitals,type:t.Action.TIME_TO_FIRST_BYTE,payload:g})}n.timeToFirstByte=f;function h(g){return o.actionWrapper({group:i.Group.WebVitals,type:t.Action.INTERACTION_TO_NEXT_PAINT,payload:g})}n.interactionToNextPaint=h;function m(g){function p(b){return function(x){var C=x.id,M=x.name,R=x.value,O={id:C,metricName:M,value:R},N=b(O);g.dispatch(N)}}var y=window;r.isServer||r.isClient&&y.__is_web_vitals_initialized__||s.isMobile()||(y.__is_web_vitals_initialized__=!0,e.onLCP(p(a)),e.onFID(p(u)),e.onCLS(p(c)),e.onFCP(p(l)),e.onTTFB(p(f)),e.onINP(p(h)))}n.initializeWebVitals=m}(HC)),HC}var W5;function Y6(){return W5||(W5=1,function(n){var e=i0&&i0.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=i0&&i0.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(kie(),n)}(i0)),i0}var WC={},rl={},$5;function Q6(){if($5)return rl;$5=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.isPermitted=rl.getPermissionKey=rl.isPerformanceOrWebVitalsAction=rl.isAppMessage=rl.isAppBridgeAction=void 0;var n=Dy(),e=B6(),t=Hr();function r(u){return u instanceof Object&&Object.prototype.hasOwnProperty.call(u,"type")&&u.type.toString().startsWith(e.PREFIX)}rl.isAppBridgeAction=r;function i(u){if(typeof u!="object"||!u.data||typeof u.data!="object")return!1;var c=u.data;return Object.prototype.hasOwnProperty.call(c,"type")&&t.findMatchInEnum(n.MessageType,c.type)!==void 0}rl.isAppMessage=i;function o(u){var c=u.type;return c.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)}rl.isPerformanceOrWebVitalsAction=o;function s(u){return u.replace(new RegExp("^"+e.PREFIX+e.SEPARATOR+"\\w+"+e.SEPARATOR),"")}rl.getPermissionKey=s;function a(u,c,l){var f=c.group,h=c.type;if(!f||!Object.prototype.hasOwnProperty.call(u,f))return!1;var m=u[f];if(!m)return!1;var g=s(h);return m[g]?m[g][l]===!0:!1}return rl.isPermitted=a,rl}var q5;function zie(){return q5||(q5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFromApp=n.isPerformanceOrWebVitalsAction=n.getPermissionKey=n.isPermitted=n.isAppMessage=n.isAppBridgeAction=void 0;var e=Q6();Object.defineProperty(n,"isAppBridgeAction",{enumerable:!0,get:function(){return e.isAppBridgeAction}}),Object.defineProperty(n,"isAppMessage",{enumerable:!0,get:function(){return e.isAppMessage}}),Object.defineProperty(n,"isPermitted",{enumerable:!0,get:function(){return e.isPermitted}}),Object.defineProperty(n,"getPermissionKey",{enumerable:!0,get:function(){return e.getPermissionKey}}),Object.defineProperty(n,"isPerformanceOrWebVitalsAction",{enumerable:!0,get:function(){return e.isPerformanceOrWebVitalsAction}});function t(r){return typeof r!="object"||typeof r.source!="object"?!1:typeof r.source.apiKey=="string"}n.isFromApp=t}(WC)),WC}var X5;function Hp(){return X5||(X5=1,function(n){var e=Oc&&Oc.__createBinding||(Object.create?function(de,we,ye,Ce){Ce===void 0&&(Ce=ye),Object.defineProperty(de,Ce,{enumerable:!0,get:function(){return we[ye]}})}:function(de,we,ye,Ce){Ce===void 0&&(Ce=ye),de[Ce]=we[ye]}),t=Oc&&Oc.__setModuleDefault||(Object.create?function(de,we){Object.defineProperty(de,"default",{enumerable:!0,value:we})}:function(de,we){de.default=we}),r=Oc&&Oc.__importStar||function(de){if(de&&de.__esModule)return de;var we={};if(de!=null)for(var ye in de)ye!=="default"&&Object.prototype.hasOwnProperty.call(de,ye)&&e(we,de,ye);return t(we,de),we},i=Oc&&Oc.__exportStar||function(de,we){for(var ye in de)ye!=="default"&&!Object.prototype.hasOwnProperty.call(we,ye)&&e(we,de,ye)};Object.defineProperty(n,"__esModule",{value:!0}),n.WebVitals=n.unstable_Picker=n.Performance=n.Pos=n.AppLink=n.ChannelMenu=n.NavigationMenu=n.Share=n.ContextualSaveBar=n.MarketingExternalActivityTopBar=n.TitleBar=n.SessionToken=n.ResourcePicker=n.Redirect=n.Print=n.ModalContent=n.Modal=n.Loading=n.LeaveConfirmation=n.History=n.Toast=n.Fullscreen=n.FeedbackModal=n.Features=n.Flash=n.Error=n.Client=n.Cart=n.Scanner=n.ButtonGroup=n.Button=n.AuthCode=n.isAppBridgeAction=void 0;var o=r(F6());n.AuthCode=o;var s=r(Px());n.Button=s;var a=r(VP());n.ButtonGroup=a;var u=r(uie());n.Cart=u;var c=r(N6());n.Client=c;var l=r(Rx());n.Error=l;var f=r(fie());n.Flash=f;var h=r(H6());n.Features=h;var m=r(mie());n.FeedbackModal=m;var g=r(gie());n.Fullscreen=g;var p=r(vie());n.LeaveConfirmation=p;var y=r(_ie());n.Loading=y;var b=r(jP());n.Modal=b;var x=r(yie());n.ModalContent=x;var C=r(bie());n.History=C;var M=r(WP());n.Redirect=M;var R=r(G6());n.Print=R;var O=r(V6());n.ResourcePicker=O;var N=r(Sie());n.Scanner=N;var F=r(xie());n.SessionToken=F;var I=r(W6());n.TitleBar=I;var B=r($6());n.Toast=B;var k=r(q6());n.ContextualSaveBar=k;var q=r(Mie());n.Share=q;var Y=r(X6());n.NavigationMenu=Y;var ee=r(Tie());n.ChannelMenu=ee;var le=r(K6());n.AppLink=le;var J=r(Pie());n.Pos=J;var fe=r(Iie());n.MarketingExternalActivityTopBar=fe;var V=r(Fie());n.Performance=V;var ae=r(J6());n.unstable_Picker=ae;var ue=r(Y6());n.WebVitals=ue;var Q=zie();Object.defineProperty(n,"isAppBridgeAction",{enumerable:!0,get:function(){return Q.isAppBridgeAction}}),i(E1(),n)}(Oc)),Oc}var K5=Hp(),o0={},M_={},J5;function Gp(){if(J5)return M_;J5=1,Object.defineProperty(M_,"__esModule",{value:!0}),M_.AppBridgeContext=void 0;var n=ri();return M_.AppBridgeContext=n.createContext(null),M_}var T_={},Y5;function ga(){if(Y5)return T_;Y5=1,Object.defineProperty(T_,"__esModule",{value:!0}),T_.useAppBridge=void 0;var n=ri(),e=Gp();function t(){var r=n.useContext(e.AppBridgeContext);if(!r)throw new Error("No AppBridge context provided. Your component must be wrapped in the <Provider> component from App Bridge React.");return r}return T_.useAppBridge=t,T_}var zd={},bv={},jA={},$C={},s0={},Hd={},Q5;function Hie(){if(Q5)return Hd;Q5=1;var n=Hd&&Hd.__awaiter||function(o,s,a,u){function c(l){return l instanceof a?l:new a(function(f){f(l)})}return new(a||(a=Promise))(function(l,f){function h(p){try{g(u.next(p))}catch(y){f(y)}}function m(p){try{g(u.throw(p))}catch(y){f(y)}}function g(p){p.done?l(p.value):c(p.value).then(h,m)}g((u=u.apply(o,s||[])).next())})},e=Hd&&Hd.__generator||function(o,s){var a={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},u,c,l,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(g){return function(p){return m([g,p])}}function m(g){if(u)throw new TypeError("Generator is already executing.");for(;a;)try{if(u=1,c&&(l=g[0]&2?c.return:g[0]?c.throw||((l=c.return)&&l.call(c),0):c.next)&&!(l=l.call(c,g[1])).done)return l;switch(c=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,c=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(l=a.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){a.label=g[1];break}if(g[0]===6&&a.label<l[1]){a.label=l[1],l=g;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(g);break}l[2]&&a.ops.pop(),a.trys.pop();continue}g=s.call(o,a)}catch(p){g=[6,p],c=0}finally{u=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.useAppBridgeState=void 0;var t=ri(),r=ga(),i=function(o){var s=r.useAppBridge(),a=t.useState(),u=a[0],c=a[1],l=t.useRef(!1),f=t.useCallback(function(){return n(void 0,void 0,void 0,function(){var h,m;return e(this,function(g){switch(g.label){case 0:return o?[4,s.getState(o)]:[3,2];case 1:return m=g.sent(),[3,4];case 2:return[4,s.getState()];case 3:m=g.sent(),g.label=4;case 4:return h=m,l.current?[2]:(c(function(p){return JSON.stringify(h)===JSON.stringify(p)?p:h}),[2])}})})},[s,o]);return t.useEffect(function(){return f(),s.subscribe(function(){f()})},[s,f]),t.useEffect(function(){return function(){l.current=!0}},[s]),u};return Hd.useAppBridgeState=i,Hd}var Z5;function Z6(){return Z5||(Z5=1,function(n){var e=s0&&s0.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=s0&&s0.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(Hie(),n)}(s0)),s0}var a0={},P_={},u0={},Bc={},l0={},qC={},eB;function Gie(){return eB||(eB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createTransportListener=n.fromWindow=n.fromFrame=n.Context=void 0;var e=Ry(),t=Q6(),r=Dy(),i=GP(),o=fT();(function(l){l.Modal="Modal",l.Main="Main"})(n.Context||(n.Context={}));function s(l,f,h){var m=[],g=l.host,p=l.window;if(!g)throw e.fromAction("App frame is undefined",e.AppActionType.WINDOW_UNDEFINED);return o.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(y,b){p==null||p.postMessage(y,b),c(y)&&g.postMessage(JSON.stringify(y.payload),location.origin)},updateIframeUrl:function(y){var b=window.location,x=(l.window||{}).location;try{var C=new URL(y).origin;C===f&&x?x.replace(y):b.href=y}catch{}}}),g.addEventListener("message",function(y){if(!(y.source===g||!t.isAppMessage(y))){if(y.origin!==f){var b="Message origin '"+y.origin+"' does not match app origin '"+f+"'.",x=e.invalidOriginAction(b),C={type:"dispatch",payload:x};p==null||p.postMessage(C,y.origin);return}if(o.isUnframed&&window.MobileWebView){var x=JSON.stringify({id:"unframed://fromClient",origin:f,data:y.data});window.MobileWebView.postMessage(x);return}for(var M=0,R=m;M<R.length;M++){var O=R[M];O(y)}}}),{context:h,localOrigin:f,frameWindow:p,hostFrame:g,dispatch:function(y){p==null||p.postMessage(y,f)},subscribe:function(y){return i.addAndRemoveFromCollection(m,y)}}}n.fromFrame=s;function a(l,f){var h=[];return typeof window!==void 0&&window.addEventListener("message",function(m){if(!(window===l&&!o.isUnframed||m.source!==l||!(t.isAppBridgeAction(m.data.payload)||t.isAppMessage(m))))for(var g=0,p=h;g<p.length;g++){var y=p[g];y(m)}}),{localOrigin:f,hostFrame:l,dispatch:function(m){var g;if(!((g=m.source)===null||g===void 0)&&g.host){if(o.isUnframed&&window&&window.MobileWebView){var p=JSON.stringify({id:"unframed://fromClient",origin:f,data:m});window.MobileWebView.postMessage(p);return}var y=new URL("https://"+m.source.host).origin;l.postMessage(m,y)}},subscribe:function(m){return i.addAndRemoveFromCollection(h,m)}}}n.fromWindow=a;function u(){var l=[],f={};function h(m){function g(){if(arguments.length<2)return i.addAndRemoveFromCollection(l,{callback:arguments[0]});var p=Array.from(arguments),y=p[0],b=p[1],x=p[2],C={callback:b,id:x},M={type:y,id:x};return Object.prototype.hasOwnProperty.call(f,y)||(f[y]=[]),m&&m(r.MessageType.Subscribe,M),i.addAndRemoveFromCollection(f[y],C,function(){m&&m(r.MessageType.Unsubscribe,M)})}return g}return{createSubscribeHandler:h,handleMessage:function(m){l.forEach(function(g){return g.callback(m)})},handleActionDispatch:function(m){var g=m.type,p=m.payload,y=!1;if(Object.prototype.hasOwnProperty.call(f,g))for(var b=0,x=f[g];b<x.length;b++){var C=x[b],M=C.id,R=C.callback,O=p&&p.id===M;(O||!M)&&(R(p),y=!0)}return y}}}n.createTransportListener=u;function c(l){return l!==null&&typeof l=="object"&&!Array.isArray(l)&&l.type==="dispatch"&&typeof l.payload=="object"}}(qC)),qC}var tB;function Ox(){return tB||(tB=1,function(n){var e=l0&&l0.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=l0&&l0.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(Gie(),n)}(l0)),l0}var nB;function Vie(){if(nB)return Bc;nB=1;var n=Bc&&Bc.__awaiter||function(f,h,m,g){function p(y){return y instanceof m?y:new m(function(b){b(y)})}return new(m||(m=Promise))(function(y,b){function x(R){try{M(g.next(R))}catch(O){b(O)}}function C(R){try{M(g.throw(R))}catch(O){b(O)}}function M(R){R.done?y(R.value):p(R.value).then(x,C)}M((g=g.apply(f,h||[])).next())})},e=Bc&&Bc.__generator||function(f,h){var m={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},g,p,y,b;return b={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function x(M){return function(R){return C([M,R])}}function C(M){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,p&&(y=M[0]&2?p.return:M[0]?p.throw||((y=p.return)&&y.call(p),0):p.next)&&!(y=y.call(p,M[1])).done)return y;switch(p=0,y&&(M=[M[0]&2,y.value]),M[0]){case 0:case 1:y=M;break;case 4:return m.label++,{value:M[1],done:!1};case 5:m.label++,p=M[1],M=[0];continue;case 7:M=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!(y=y.length>0&&y[y.length-1])&&(M[0]===6||M[0]===2)){m=0;continue}if(M[0]===3&&(!y||M[1]>y[0]&&M[1]<y[3])){m.label=M[1];break}if(M[0]===6&&m.label<y[1]){m.label=y[1],y=M;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(M);break}y[2]&&m.ops.pop(),m.trys.pop();continue}M=h.call(f,m)}catch(R){M=[6,R],p=0}finally{g=y=0}if(M[0]&5)throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}};Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.createMutationObserver=Bc.setupModalAutoSizing=void 0;var t=jP(),r=Ox(),i=qP(),o="app-bridge-utils-modal-auto-size",s=a();function a(){if(typeof document>"u")return null;var f=document.createElement("style");return f.type="text/css",f.innerHTML="."+o+" { overflow: hidden; height: auto; min-height: auto; }",f}function u(f,h){if(!s)return function(){};var m=document.getElementsByTagName("head")[0],g=document.body.classList;m.appendChild(s),g.add(o);var p=l(f,h);return function(){g.remove(o),m.contains(s)&&m.removeChild(s),p&&p.disconnect()}}function c(f){return n(this,void 0,void 0,function(){function h(){g&&(g(),g=void 0)}function m(p){var y=p.context,b=p.modal.id;return i.isMobile()||y!==r.Context.Modal?(h(),h):(g||(g=u(f,b)),h)}var g;return e(this,function(p){switch(p.label){case 0:return[4,f.getState().then(m)];case 1:return p.sent(),[2,h]}})})}Bc.setupModalAutoSizing=c;function l(f,h){if(typeof document>"u")return;var m=-1,g,p={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},y=new MutationObserver(b);y.observe(document,p),x();function b(){g&&window.clearTimeout(g),g=window.setTimeout(x,16)}function x(){var C=document.body.scrollHeight;C!==m&&(m=C,f.dispatch(t.updateModalSize({id:h,height:String(C)})))}return y}return Bc.createMutationObserver=l,Bc}var c0={},Ua={},rB;function ek(){if(rB)return Ua;rB=1;var n=Ua&&Ua.__createBinding||(Object.create?function(u,c,l,f){f===void 0&&(f=l),Object.defineProperty(u,f,{enumerable:!0,get:function(){return c[l]}})}:function(u,c,l,f){f===void 0&&(f=l),u[f]=c[l]}),e=Ua&&Ua.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),t=Ua&&Ua.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var l in u)l!=="default"&&Object.prototype.hasOwnProperty.call(u,l)&&n(c,u,l);return e(c,u),c},r=Ua&&Ua.__awaiter||function(u,c,l,f){function h(m){return m instanceof l?m:new l(function(g){g(m)})}return new(l||(l=Promise))(function(m,g){function p(x){try{b(f.next(x))}catch(C){g(C)}}function y(x){try{b(f.throw(x))}catch(C){g(C)}}function b(x){x.done?m(x.value):h(x.value).then(p,y)}b((f=f.apply(u,c||[])).next())})},i=Ua&&Ua.__generator||function(u,c){var l={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,h,m,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(b){return function(x){return y([b,x])}}function y(b){if(f)throw new TypeError("Generator is already executing.");for(;l;)try{if(f=1,h&&(m=b[0]&2?h.return:b[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,b[1])).done)return m;switch(h=0,m&&(b=[b[0]&2,m.value]),b[0]){case 0:case 1:m=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,h=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(m=l.trys,!(m=m.length>0&&m[m.length-1])&&(b[0]===6||b[0]===2)){l=0;continue}if(b[0]===3&&(!m||b[1]>m[0]&&b[1]<m[3])){l.label=b[1];break}if(b[0]===6&&l.label<m[1]){l.label=m[1],m=b;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(b);break}m[2]&&l.ops.pop(),l.trys.pop();continue}b=c.call(u,l)}catch(x){b=[6,x],h=0}finally{f=m=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.getSessionToken=void 0;var o=Ry(),s=t(j6());function a(u){return r(this,void 0,void 0,function(){return i(this,function(c){return[2,new Promise(function(l,f){var h=u.subscribe(s.Action.RESPOND,function(m){var g=m.sessionToken;g?l(g):f(o.fromAction("Failed to retrieve a session token",o.Action.FAILED_AUTHENTICATION)),h()});u.dispatch(s.request())})]})})}return Ua.getSessionToken=a,Ua}var Fc={},iB;function jie(){if(iB)return Fc;iB=1;var n=Fc&&Fc.__assign||function(){return n=Object.assign||function(s){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},n.apply(this,arguments)},e=Fc&&Fc.__awaiter||function(s,a,u,c){function l(f){return f instanceof u?f:new u(function(h){h(f)})}return new(u||(u=Promise))(function(f,h){function m(y){try{p(c.next(y))}catch(b){h(b)}}function g(y){try{p(c.throw(y))}catch(b){h(b)}}function p(y){y.done?f(y.value):l(y.value).then(m,g)}p((c=c.apply(s,a||[])).next())})},t=Fc&&Fc.__generator||function(s,a){var u={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,l,f,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(p){return function(y){return g([p,y])}}function g(p){if(c)throw new TypeError("Generator is already executing.");for(;u;)try{if(c=1,l&&(f=p[0]&2?l.return:p[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,p[1])).done)return f;switch(l=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return u.label++,{value:p[1],done:!1};case 5:u.label++,l=p[1],p=[0];continue;case 7:p=u.ops.pop(),u.trys.pop();continue;default:if(f=u.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){u=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){u.label=p[1];break}if(p[0]===6&&u.label<f[1]){u.label=f[1],f=p;break}if(f&&u.label<f[2]){u.label=f[2],u.ops.push(p);break}f[2]&&u.ops.pop(),u.trys.pop();continue}p=a.call(s,u)}catch(y){p=[6,y],l=0}finally{c=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.authenticatedFetch=void 0;var r=Hp(),i=ek();function o(s,a){var u=this;return a===void 0&&(a=void 0),function(c,l){return l===void 0&&(l={}),e(u,void 0,void 0,function(){var f,h,m,g,p,y,b,x,C;return t(this,function(M){switch(M.label){case 0:return[4,i.getSessionToken(s)];case 1:return f=M.sent(),h=new Headers(l.headers),h.append("Authorization","Bearer "+f),h.append("X-Requested-With","XMLHttpRequest"),m={},h.forEach(function(R,O){m[O]=R}),g=typeof a=="object"?a:void 0,p=typeof a=="function"?a:(C=g==null?void 0:g.fetchOperation)!==null&&C!==void 0?C:fetch,[4,p(c,n(n({},l),{headers:m}))];case 2:return y=M.sent(),g&&(b=g.reauthorizeUrl,x=g.requestFailureReauthorizeUrlHeader,y.headers.forEach(function(R,O){if(x.toLowerCase()===O.toLowerCase()){var N=new URL(b||R,location.href).href,F=r.Redirect.create(s);N?F.dispatch(r.Redirect.Action.REMOTE,N):console.warn("Couldn't find a fallback auth path to redirect to.")}})),[2,y]}})})}}return Fc.authenticatedFetch=o,Fc}var oB;function Wie(){return oB||(oB=1,function(n){var e=c0&&c0.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=c0&&c0.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(ek(),n),t(jie(),n)}(c0)),c0}var f0={},ks={},XC={},sB;function $ie(){return sB||(sB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.generateUuid=void 0;var e=L6();Object.defineProperty(n,"generateUuid",{enumerable:!0,get:function(){return e.generateUuid}}),n.default=e.generateUuid}(XC)),XC}var aB;function tk(){if(aB)return ks;aB=1;var n=ks&&ks.__createBinding||(Object.create?function(l,f,h,m){m===void 0&&(m=h),Object.defineProperty(l,m,{enumerable:!0,get:function(){return f[h]}})}:function(l,f,h,m){m===void 0&&(m=h),l[m]=f[h]}),e=ks&&ks.__setModuleDefault||(Object.create?function(l,f){Object.defineProperty(l,"default",{enumerable:!0,value:f})}:function(l,f){l.default=f}),t=ks&&ks.__importStar||function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var h in l)h!=="default"&&Object.prototype.hasOwnProperty.call(l,h)&&n(f,l,h);return e(f,l),f},r=ks&&ks.__awaiter||function(l,f,h,m){function g(p){return p instanceof h?p:new h(function(y){y(p)})}return new(h||(h=Promise))(function(p,y){function b(M){try{C(m.next(M))}catch(R){y(R)}}function x(M){try{C(m.throw(M))}catch(R){y(R)}}function C(M){M.done?p(M.value):g(M.value).then(b,x)}C((m=m.apply(l,f||[])).next())})},i=ks&&ks.__generator||function(l,f){var h={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},m,g,p,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(C){return function(M){return x([C,M])}}function x(C){if(m)throw new TypeError("Generator is already executing.");for(;h;)try{if(m=1,g&&(p=C[0]&2?g.return:C[0]?g.throw||((p=g.return)&&p.call(g),0):g.next)&&!(p=p.call(g,C[1])).done)return p;switch(g=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return h.label++,{value:C[1],done:!1};case 5:h.label++,g=C[1],C=[0];continue;case 7:C=h.ops.pop(),h.trys.pop();continue;default:if(p=h.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){h=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){h.label=C[1];break}if(C[0]===6&&h.label<p[1]){h.label=p[1],p=C;break}if(p&&h.label<p[2]){h.label=p[2],h.ops.push(C);break}p[2]&&h.ops.pop(),h.trys.pop();continue}C=f.call(l,h)}catch(M){C=[6,M],g=0}finally{m=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},o=ks&&ks.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ks,"__esModule",{value:!0}),ks.getAuthorizationCodePayload=void 0;var s=t(F6()),a=Rx(),u=o($ie());function c(l){return r(this,void 0,void 0,function(){return i(this,function(f){return[2,new Promise(function(h,m){var g=u.default(),p=l.subscribe(s.Action.RESPOND,function(y){switch(y==null?void 0:y.status){case"needsExchange":h(y);break;default:m(a.fromAction("Failed to retrieve an authorization code",a.Action.FAILED_AUTHENTICATION))}p()},g);l.dispatch(s.request(g))})]})})}return ks.getAuthorizationCodePayload=c,ks}var Gd={},uB;function qie(){if(uB)return Gd;uB=1;var n=Gd&&Gd.__awaiter||function(s,a,u,c){function l(f){return f instanceof u?f:new u(function(h){h(f)})}return new(u||(u=Promise))(function(f,h){function m(y){try{p(c.next(y))}catch(b){h(b)}}function g(y){try{p(c.throw(y))}catch(b){h(b)}}function p(y){y.done?f(y.value):l(y.value).then(m,g)}p((c=c.apply(s,a||[])).next())})},e=Gd&&Gd.__generator||function(s,a){var u={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,l,f,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(p){return function(y){return g([p,y])}}function g(p){if(c)throw new TypeError("Generator is already executing.");for(;u;)try{if(c=1,l&&(f=p[0]&2?l.return:p[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,p[1])).done)return f;switch(l=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return u.label++,{value:p[1],done:!1};case 5:u.label++,l=p[1],p=[0];continue;case 7:p=u.ops.pop(),u.trys.pop();continue;default:if(f=u.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){u=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){u.label=p[1];break}if(p[0]===6&&u.label<f[1]){u.label=f[1],f=p;break}if(f&&u.label<f[2]){u.label=f[2],u.ops.push(p);break}f[2]&&u.ops.pop(),u.trys.pop();continue}p=a.call(s,u)}catch(y){p=[6,y],l=0}finally{c=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.userAuthorizedFetch=void 0;var t=tk(),r="auth/shopify/callback";function i(s){var a=s.headers.get("X-Shopify-API-Request-Failure-Unauthorized");return a?a.toLowerCase()==="true":!1}function o(s){var a=this,u=s.app,c=s.callbackUri,l=c===void 0?r:c,f=s.isAuthorizationCodeRequired,h=f===void 0?i:f,m=s.fetchOperation;return function(g,p){return n(a,void 0,void 0,function(){var y,b,x,C,M,R,O,N;return e(this,function(F){switch(F.label){case 0:return[4,m(g,p)];case 1:return y=F.sent(),h(y)?[4,t.getAuthorizationCodePayload(u)]:[2,y];case 2:return b=F.sent(),x=b.code,C=b.hmac,M=b.shop,R=b.timestamp,O=encodeURI("https://"+window.location.hostname+"/"+l+"?code="+x+"&hmac="+C+"&shop="+M+"&timestamp="+R),[4,m(O,{})];case 3:if(N=F.sent(),!N.ok)throw new Error("Failed to authorize request.");return[2,m(g,p)]}})})}}return Gd.userAuthorizedFetch=o,Gd}var lB;function Xie(){return lB||(lB=1,function(n){var e=f0&&f0.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=f0&&f0.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(tk(),n),t(qie(),n)}(f0)),f0}var cB;function Kie(){return cB||(cB=1,function(n){var e=u0&&u0.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=u0&&u0.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(Vie(),n),t(qP(),n),t(Wie(),n),t(Xie(),n)}(u0)),u0}var fB;function Jie(){if(fB)return P_;fB=1,Object.defineProperty(P_,"__esModule",{value:!0}),P_.useAuthenticatedFetch=void 0;var n=ri(),e=Kie(),t=ga();function r(i){i===void 0&&(i=void 0);var o=t.useAppBridge(),s=n.useMemo(function(){return e.authenticatedFetch(o,i)},[o,i]);return s}return P_.useAuthenticatedFetch=r,P_}var dB;function Yie(){return dB||(dB=1,function(n){var e=a0&&a0.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=a0&&a0.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(Jie(),n)}(a0)),a0}var KC={},d0={},hB;function Qie(){if(hB)return d0;hB=1;var n=d0&&d0.__rest||function(o,s){var a={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&s.indexOf(u)<0&&(a[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(o);c<u.length;c++)s.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(o,u[c])&&(a[u[c]]=o[u[c]]);return a};Object.defineProperty(d0,"__esModule",{value:!0}),d0.useContextualSaveBar=void 0;var e=ri(),t=q6(),r=ga();function i(){var o=r.useAppBridge(),s=e.useRef(!1),a=e.useState(),u=a[0],c=a[1],l=e.useState(),f=l[0],h=l[1],m=e.useMemo(function(){return t.create(o)},[o]),g=e.useCallback(function(x){x&&m.set(x,!1),m.dispatch(t.Action.SHOW),s.current=!0},[m]),p=e.useCallback(function(){m.dispatch(t.Action.HIDE),s.current=!1},[m]),y=e.useMemo(function(){return{setOptions:function(x){var C=x.onAction,M=n(x,["onAction"]),R=JSON.stringify(m.options.saveAction)!==JSON.stringify(M)&&s.current;c(function(){return C}),m.set({saveAction:M},R)}}},[m]),b=e.useMemo(function(){return{setOptions:function(x){var C=x.onAction,M=n(x,["onAction"]),R=JSON.stringify(m.options.discardAction)!==JSON.stringify(M)&&s.current;h(function(){return C}),m.set({discardAction:M},R)}}},[m]);return e.useEffect(function(){return function(){s.current&&p()}},[]),e.useEffect(function(){return m.subscribe(t.Action.DISCARD,function(){f==null||f()})},[m,f]),e.useEffect(function(){return m.subscribe(t.Action.SAVE,function(){u==null||u()})},[m,u]),{show:g,hide:p,saveAction:y,discardAction:b}}return d0.useContextualSaveBar=i,d0}var pB;function Zie(){return pB||(pB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.useContextualSaveBar=void 0;var e=Qie();Object.defineProperty(n,"useContextualSaveBar",{enumerable:!0,get:function(){return e.useContextualSaveBar}})}(KC)),KC}var JC={},Vd={},mB;function eoe(){if(mB)return Vd;mB=1;var n=Vd&&Vd.__awaiter||function(s,a,u,c){function l(f){return f instanceof u?f:new u(function(h){h(f)})}return new(u||(u=Promise))(function(f,h){function m(y){try{p(c.next(y))}catch(b){h(b)}}function g(y){try{p(c.throw(y))}catch(b){h(b)}}function p(y){y.done?f(y.value):l(y.value).then(m,g)}p((c=c.apply(s,a||[])).next())})},e=Vd&&Vd.__generator||function(s,a){var u={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},c,l,f,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(p){return function(y){return g([p,y])}}function g(p){if(c)throw new TypeError("Generator is already executing.");for(;u;)try{if(c=1,l&&(f=p[0]&2?l.return:p[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,p[1])).done)return f;switch(l=0,f&&(p=[p[0]&2,f.value]),p[0]){case 0:case 1:f=p;break;case 4:return u.label++,{value:p[1],done:!1};case 5:u.label++,l=p[1],p=[0];continue;case 7:p=u.ops.pop(),u.trys.pop();continue;default:if(f=u.trys,!(f=f.length>0&&f[f.length-1])&&(p[0]===6||p[0]===2)){u=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){u.label=p[1];break}if(p[0]===6&&u.label<f[1]){u.label=f[1],f=p;break}if(f&&u.label<f[2]){u.label=f[2],u.ops.push(p);break}f[2]&&u.ops.pop(),u.trys.pop();continue}p=a.call(s,u)}catch(y){p=[6,y],l=0}finally{c=f=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.useFeaturesAvailable=void 0;var t=ri(),r=z6(),i=ga();function o(){for(var s=this,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=i.useAppBridge(),l=t.useState(),f=l[0],h=l[1],m=t.useRef([]),g=t.useCallback(function(){var p=!1;return function(){return n(s,void 0,void 0,function(){var y;return e(this,function(b){switch(b.label){case 0:return[4,c.featuresAvailable.apply(c,m.current)];case 1:return y=b.sent(),p||h(function(x){return JSON.stringify(x)===JSON.stringify(y)?x:y}),[2]}})})}(),function(){p=!0}},[c]);return t.useEffect(function(){return m.current=a,g()},[JSON.stringify(a)]),t.useEffect(function(){var p,y=c.subscribe(r.Action.UPDATE,function(){p=g()});return function(){y(),p==null||p()}},[c,g]),f}return Vd.useFeaturesAvailable=o,Vd}var gB;function nk(){return gB||(gB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFeaturesAvailable=void 0;var e=eoe();Object.defineProperty(n,"useFeaturesAvailable",{enumerable:!0,get:function(){return e.useFeaturesAvailable}})}(JC)),JC}var h0={},D_={},vB;function toe(){if(vB)return D_;vB=1,Object.defineProperty(D_,"__esModule",{value:!0}),D_.useFeatureRequest=void 0;var n=ri(),e=H6(),t=ga(),r=nk();function i(o,s){var a=t.useAppBridge(),u=r.useFeaturesAvailable(),c=n.useState(),l=c[0],f=c[1],h=n.useCallback(function(m){var g=m==null?void 0:m[o];if(s&&(g!=null&&g[s])){var p=g==null?void 0:g[s];f(function(y){return JSON.stringify(p)!==JSON.stringify(y)?p:y});return}f(function(y){return JSON.stringify(g)!==JSON.stringify(y)?g:y})},[o,s]);return n.useEffect(function(){e.create(a).dispatch(e.Action.REQUEST,{feature:o,action:s})},[a,o,s]),n.useEffect(function(){h(u)},[u,h]),l}return D_.useFeatureRequest=i,D_}var _B;function noe(){return _B||(_B=1,function(n){var e=h0&&h0.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=h0&&h0.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(toe(),n)}(h0)),h0}var YC={},R_={},yB;function roe(){if(yB)return R_;yB=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.useLocale=void 0;var n=Z6();function e(){return n.useAppBridgeState("staffMember.locale")}return R_.useLocale=e,R_}var bB;function ioe(){return bB||(bB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.useLocale=void 0;var e=roe();Object.defineProperty(n,"useLocale",{enumerable:!0,get:function(){return e.useLocale}})}(YC)),YC}var QC={},p0={},ZC={},O_={},AB;function ooe(){if(AB)return O_;AB=1,Object.defineProperty(O_,"__esModule",{value:!0}),O_.useNavigationHistory=void 0;var n=ri(),e=Hp(),t=ga();function r(){var i=t.useAppBridge();return n.useMemo(function(){var o=e.History.create(i);function s(u){o.dispatch(e.History.Action.PUSH,u.pathname)}function a(u){o.dispatch(e.History.Action.REPLACE,u.pathname)}return{push:s,replace:a}},[])}return O_.useNavigationHistory=r,O_}var EB;function rk(){return EB||(EB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNavigationHistory=void 0;var e=ooe();Object.defineProperty(n,"useNavigationHistory",{enumerable:!0,get:function(){return e.useNavigationHistory}})}(ZC)),ZC}var SB;function soe(){if(SB)return p0;SB=1;var n=p0&&p0.__assign||function(){return n=Object.assign||function(s){for(var a,u=1,c=arguments.length;u<c;u++){a=arguments[u];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},n.apply(this,arguments)};Object.defineProperty(p0,"__esModule",{value:!0}),p0.useNavigate=void 0;var e=ri(),t=WP(),r=ga(),i=rk();function o(){var s=r.useAppBridge(),a=i.useNavigationHistory(),u=e.useMemo(function(){return t.create(s)},[s]),c=e.useCallback(function(l,f){var h=t.normalizeUrl(l),m=h.startsWith(s.localOrigin),g=h.startsWith(s.hostOrigin),p=h.startsWith("/");if(m||g||p){var y=t.getRelativePath(h);if(g||(f==null?void 0:f.target)==="new"||(f==null?void 0:f.target)==="host"){u.dispatch(t.Action.ADMIN_PATH,{path:y.replace(/^\/admin/,""),newContext:(f==null?void 0:f.target)==="new"});return}if(((f==null?void 0:f.target)==="self"||!(f!=null&&f.target))&&(f!=null&&f.replace)){a.replace({pathname:y});return}u.dispatch(t.Action.APP,y);return}u.dispatch(t.Action.REMOTE,{url:h,newContext:(f==null?void 0:f.target)==="new"})},[u,a]);return e.useCallback(function(l,f){if(t.isAdminSection(l)){var h=n(n({},l),{name:t.ResourceType[l.name]});u.dispatch(t.Action.ADMIN_SECTION,{section:h,newContext:(f==null?void 0:f.target)==="new"});return}c(l,f)},[c,u])}return p0.useNavigate=o,p0}var xB;function aoe(){return xB||(xB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNavigate=void 0;var e=soe();Object.defineProperty(n,"useNavigate",{enumerable:!0,get:function(){return e.useNavigate}})}(QC)),QC}var eM={},tM={},wB;function uoe(){return wB||(wB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.useToast=n.DEFAULT_TOAST_DURATION=void 0;var e=ri(),t=$6(),r=ga();n.DEFAULT_TOAST_DURATION=5e3;function i(){var o=r.useAppBridge(),s=e.useRef([]),a=e.useCallback(function(u,c){var l=t.create(o,{message:u,isError:c==null?void 0:c.isError,duration:(c==null?void 0:c.duration)||n.DEFAULT_TOAST_DURATION,action:c==null?void 0:c.action});l.dispatch(t.Action.SHOW),s.current.push(l),l.subscribe(t.Action.CLEAR,function(){var f;(f=c==null?void 0:c.onDismiss)===null||f===void 0||f.call(c),s.current.splice(s.current.indexOf(l),1),l.unsubscribe()}),l.subscribe(t.Action.ACTION,function(){var f,h;(h=(f=c==null?void 0:c.action)===null||f===void 0?void 0:f.onAction)===null||h===void 0||h.call(f)})},[o]);return e.useEffect(function(){return function(){s.current.forEach(function(u){return u==null?void 0:u.unsubscribe()})}},[]),{show:a}}n.useToast=i}(tM)),tM}var CB;function loe(){return CB||(CB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.useToast=void 0;var e=uoe();Object.defineProperty(n,"useToast",{enumerable:!0,get:function(){return e.useToast}})}(eM)),eM}var MB;function ik(){return MB||(MB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.useToast=n.useNavigationHistory=n.useNavigate=n.useLocale=n.useFeatureRequest=n.useFeaturesAvailable=n.useContextualSaveBar=n.useAuthenticatedFetch=n.useAppBridgeState=void 0;var e=Z6();Object.defineProperty(n,"useAppBridgeState",{enumerable:!0,get:function(){return e.useAppBridgeState}});var t=Yie();Object.defineProperty(n,"useAuthenticatedFetch",{enumerable:!0,get:function(){return t.useAuthenticatedFetch}});var r=Zie();Object.defineProperty(n,"useContextualSaveBar",{enumerable:!0,get:function(){return r.useContextualSaveBar}});var i=nk();Object.defineProperty(n,"useFeaturesAvailable",{enumerable:!0,get:function(){return i.useFeaturesAvailable}});var o=noe();Object.defineProperty(n,"useFeatureRequest",{enumerable:!0,get:function(){return o.useFeatureRequest}});var s=ioe();Object.defineProperty(n,"useLocale",{enumerable:!0,get:function(){return s.useLocale}});var a=aoe();Object.defineProperty(n,"useNavigate",{enumerable:!0,get:function(){return a.useNavigate}});var u=rk();Object.defineProperty(n,"useNavigationHistory",{enumerable:!0,get:function(){return u.useNavigationHistory}});var c=loe();Object.defineProperty(n,"useToast",{enumerable:!0,get:function(){return c.useToast}})}($C)),$C}var TB;function coe(){if(TB)return jA;TB=1,Object.defineProperty(jA,"__esModule",{value:!0});var n=ri(),e=ik();function t(r){var i=r.discardAction,o=i===void 0?{}:i,s=r.saveAction,a=s===void 0?{}:s,u=r.fullWidth,c=r.leaveConfirmationDisable,l=r.visible,f=e.useContextualSaveBar(),h=f.show,m=f.hide,g=f.saveAction.setOptions,p=f.discardAction.setOptions;return n.useEffect(function(){g(a)},[a]),n.useEffect(function(){p(o)},[o]),n.useEffect(function(){l?h({fullWidth:u,leaveConfirmationDisable:c}):m()},[u,c,l]),null}return jA.default=t,jA}var PB;function foe(){if(PB)return bv;PB=1;var n=bv&&bv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bv,"__esModule",{value:!0});var e=n(coe());return bv.default=e.default,bv}var Av={},fp={},DB;function doe(){if(DB)return fp;DB=1;var n=fp&&fp.__extends||function(){var s=function(a,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(c[f]=l[f])},s(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),e=fp&&fp.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(fp,"__esModule",{value:!0});var t=e(ri()),r=Hp(),i=Gp(),o=function(s){n(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.componentDidMount=function(){var u=this.context;this.loading=r.Loading.create(u),this.loading!=null&&this.loading.dispatch(r.Loading.Action.START)},a.prototype.componentWillUnmount=function(){this.loading!=null&&this.loading.dispatch(r.Loading.Action.STOP)},a.prototype.render=function(){return null},a.contextType=i.AppBridgeContext,a}(t.default.Component);return fp.default=o,fp}var RB;function hoe(){if(RB)return Av;RB=1;var n=Av&&Av.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Av,"__esModule",{value:!0});var e=n(doe());return Av.default=e.default,Av}var I_={},dp={},ka={},OB;function ok(){if(OB)return ka;OB=1;var n=ka&&ka.__createBinding||(Object.create?function(g,p,y,b){b===void 0&&(b=y),Object.defineProperty(g,b,{enumerable:!0,get:function(){return p[y]}})}:function(g,p,y,b){b===void 0&&(b=y),g[b]=p[y]}),e=ka&&ka.__setModuleDefault||(Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p}),t=ka&&ka.__importStar||function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var y in g)y!=="default"&&Object.prototype.hasOwnProperty.call(g,y)&&n(p,g,y);return e(p,g),p},r=ka&&ka.__spreadArray||function(g,p){for(var y=0,b=p.length,x=g.length;y<b;y++,x++)g[x]=p[y];return g};Object.defineProperty(ka,"__esModule",{value:!0}),ka.transformActions=ka.generateRedirect=void 0;var i=t(Px()),o=t(VP()),s=t(WP());function a(g,p,y,b){if(y===void 0&&(y="APP"),p!=null){var x=s.create(g),C=b===!0?{url:p,newContext:!0}:p;return function(){x.dispatch(u(y,b),C)}}}ka.generateRedirect=a;function u(g,p){return p===!0?s.Action.REMOTE:s.Action[g]}function c(g,p){var y=p.primaryAction,b=p.secondaryActions,x=p.actionGroups,C=f(g,y),M=r(r([],h(g,b)),m(g,x));return{primary:C,secondary:M}}ka.transformActions=c;function l(g,p){var y=p.destructive===!0?i.Style.Danger:void 0,b=i.create(g,{label:p.content||"",disabled:p.disabled,loading:p.loading,plain:p.plain,style:y});p.onAction&&b.subscribe(i.Action.CLICK,p.onAction);var x=a(g,p.url,p.target,p.external);return x!=null&&b.subscribe(i.Action.CLICK,x),b}function f(g,p){if(p!=null){var y=l(g,p);return y}}function h(g,p){p===void 0&&(p=[]);var y=r([],p.map(function(b){return l(g,b)}));return y}function m(g,p){p===void 0&&(p=[]);var y=r([],p.map(function(b){var x=b.actions.map(function(C){return l(g,C)});return o.create(g,{label:b.title,plain:b.plain,buttons:x})}));return y}return ka}var m0={},g0={},IB;function poe(){if(IB)return g0;IB=1;var n=g0&&g0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(g0,"__esModule",{value:!0}),g0.useOnceEffect=void 0;var e=n(ri());return g0.useOnceEffect=e.default.useInsertionEffect||e.default.useLayoutEffect,g0}var BB;function moe(){return BB||(BB=1,function(n){var e=m0&&m0.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=m0&&m0.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(poe(),n)}(m0)),m0}var FB;function goe(){if(FB)return dp;FB=1;var n=dp&&dp.__assign||function(){return n=Object.assign||function(l){for(var f,h=1,m=arguments.length;h<m;h++){f=arguments[h];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])}return l},n.apply(this,arguments)},e=dp&&dp.__rest||function(l,f){var h={};for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&f.indexOf(m)<0&&(h[m]=l[m]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,m=Object.getOwnPropertySymbols(l);g<m.length;g++)f.indexOf(m[g])<0&&Object.prototype.propertyIsEnumerable.call(l,m[g])&&(h[m[g]]=l[m[g]]);return h};Object.defineProperty(dp,"__esModule",{value:!0});var t=ri(),r=jP(),i=ok(),o=ga(),s=moe();function a(l){var f=o.useAppBridge(),h=t.useRef(null),m=t.useRef({open:!1}),g=l.open,p=t.useRef(!1),y=t.useMemo(function(){l.primaryAction,l.secondaryActions;var b=e(l,["primaryAction","secondaryActions"]);return r.create(f,c(f,b))},[f]);return t.useEffect(function(){if(p.current){m.current=l;return}var b=m.current.open,x=b!==g;if(g){var C=c(f,l,b),M=!x;u(C),y.set(C,M)}return x&&(g?(y.dispatch(r.Action.OPEN),h.current=document.activeElement):(y.dispatch(r.Action.CLOSE),h.current!=null&&document.contains(h.current)&&(h.current.focus(),h.current=null))),l.onClose!=null&&y.subscribe(r.Action.CLOSE,l.onClose),m.current=l,function(){y.unsubscribe()}},[l,g]),s.useOnceEffect(function(){return function(){m.current.open&&y.dispatch(r.Action.CLOSE)}},[]),null}function u(l){return typeof l.url=="string"||typeof l.path=="string"}function c(l,f,h){var m=f.title,g=f.size,p=f.message,y=f.src,b=f.primaryAction,x=f.secondaryActions,C=f.loading,M=g==null?void 0:r.Size[g],R={};return y!=null&&(y.match("^https?://")?R.url=y:R.path=y),n(n({title:m,message:p,size:M},R),{footer:{buttons:i.transformActions(l,{primaryAction:b,secondaryActions:x})},loading:h?void 0:C})}return dp.default=a,dp}var Ev={},hp={},LB;function voe(){if(LB)return hp;LB=1;var n=hp&&hp.__extends||function(){var s=function(a,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(c[f]=l[f])},s(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),e=hp&&hp.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(hp,"__esModule",{value:!0});var t=e(ri()),r=Hp(),i=Gp(),o=function(s){n(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.componentDidMount=function(){var u=this.context;this.modalContent=r.ModalContent.create(u),this.syncLoadingStatus()},a.prototype.componentDidUpdate=function(){this.syncLoadingStatus()},a.prototype.syncLoadingStatus=function(){this.modalContent&&(this.props.loading?this.modalContent.loading():this.modalContent.loaded())},a.prototype.render=function(){return null},a.contextType=i.AppBridgeContext,a}(t.default.Component);return hp.default=o,hp}var NB;function _oe(){if(NB)return Ev;NB=1;var n=Ev&&Ev.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ev,"__esModule",{value:!0});var e=n(voe());return Ev.default=e.default,Ev}var UB;function yoe(){return UB||(UB=1,function(n){var e=I_&&I_.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(n,"__esModule",{value:!0}),n.ModalContent=void 0;var t=e(goe()),r=_oe();Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return e(r).default}}),n.default=t.default}(I_)),I_}var Sv={},WA={},jd={},nM={exports:{}},v0={},_0={},Wd={},y0={},kB;function boe(){if(kB)return y0;kB=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.mockAppBridge=y0.serverAppBridge=void 0;var n=Rx(),e=function(){},t=new Promise(function(){});return y0.serverAppBridge={dispatch:function(){return{}},error:function(){return e},featuresAvailable:function(){return Promise.reject(n.fromAction("Feature detection is only available on the client side.",n.AppActionType.WINDOW_UNDEFINED))},getState:function(){return Promise.reject(n.fromAction("State is only available on the client side.",n.AppActionType.WINDOW_UNDEFINED))},localOrigin:"",hostOrigin:"",subscribe:function(){return e}},y0.mockAppBridge={dispatch:function(){return{}},error:function(){return e},featuresAvailable:function(){return t},getState:function(){return t},localOrigin:"",hostOrigin:"",subscribe:function(){return e}},y0}var B_={},Lc={},zB;function sk(){if(zB)return Lc;zB=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.getWindow=Lc.getLocation=Lc.redirect=Lc.shouldRedirect=void 0;function n(o){return o===window}Lc.shouldRedirect=n;function e(o){var s=t();s&&s.assign(o)}Lc.redirect=e;function t(){return i()?window.location:void 0}Lc.getLocation=t;function r(){return i()?window:void 0}Lc.getWindow=r;function i(){return typeof window<"u"}return Lc}var HB;function Aoe(){if(HB)return B_;HB=1,Object.defineProperty(B_,"__esModule",{value:!0}),B_.handleAppPrint=void 0;var n=sk();function e(){return navigator.userAgent.indexOf("iOS")>=0}function t(){var s=n.getWindow();if(!(!s||!s.document||!s.document.body)){var a=s.document.createElement("input");return a.style.display="none",s.document.body.appendChild(a),a}}function r(){var s;(s=n.getWindow())===null||s===void 0||s.print()}function i(){var s=t();s&&(s.select(),r(),s.remove())}function o(){e()?i():r()}return B_.handleAppPrint=o,B_}var rM={},GB;function ak(){return GB||(GB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isV1Config=n.MessageType=n.LifecycleHook=n.PermissionType=void 0;var e=Dy();Object.defineProperty(n,"MessageType",{enumerable:!0,get:function(){return e.MessageType}});var t=Dy();Object.defineProperty(n,"PermissionType",{enumerable:!0,get:function(){return t.PermissionType}}),Object.defineProperty(n,"LifecycleHook",{enumerable:!0,get:function(){return t.LifecycleHook}});function r(i){return!i.host}n.isV1Config=r}(rM)),rM}var $A={},iM={},VB;function Eoe(){return VB||(VB=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.removeFromCollection=n.addAndRemoveFromCollection=void 0;var e=GP();Object.defineProperty(n,"addAndRemoveFromCollection",{enumerable:!0,get:function(){return e.addAndRemoveFromCollection}}),Object.defineProperty(n,"removeFromCollection",{enumerable:!0,get:function(){return e.removeFromCollection}})}(iM)),iM}var jB;function Soe(){if(jB)return $A;jB=1,Object.defineProperty($A,"__esModule",{value:!0});var n=Eoe(),e=function(){function t(){this.map={}}return t.prototype.set=function(r,i){Object.prototype.hasOwnProperty.call(this.map,r)||(this.map[r]=[]);var o={handler:i,remove:function(){}},s=n.addAndRemoveFromCollection(this.map[r],o);return o={handler:i,remove:s},s},t.prototype.get=function(r){var i=this.map[r];return i?i.map(function(o){return o.handler}):void 0},t.prototype.run=function(r,i,o){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var u=0,c=this.get(r)||[];function l(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var m=c[u++];return m?m(l).apply(o,f):i.apply(o,f)}return l.apply(o,s)},t}();return $A.default=e,$A}var WB;function $B(){return WB||(WB=1,function(n){var e=Wd&&Wd.__assign||function(){return e=Object.assign||function(I){for(var B,k=1,q=arguments.length;k<q;k++){B=arguments[k];for(var Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(I[Y]=B[Y])}return I},e.apply(this,arguments)},t=Wd&&Wd.__spreadArray||function(I,B){for(var k=0,q=B.length,Y=I.length;k<q;k++,Y++)I[Y]=B[k];return I},r=Wd&&Wd.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(n,"__esModule",{value:!0}),n.createApp=n.createAppWrapper=n.createClientApp=n.WINDOW_UNDEFINED_MESSAGE=void 0;var i=A1(),o=G6(),s=Rx(),a=Ox(),u=boe(),c=$P(),l=N6(),f=Y6(),h=Aoe(),m=sk(),g=ak(),p=r(Soe());n.WINDOW_UNDEFINED_MESSAGE="window is not defined. Running an app outside a browser is not supported";function y(I,B){var k=B.apiKey,q=B.host,Y=B.forceRedirect,ee=Y===void 0?!c.isDevelopmentClient:Y,le=m.getLocation();if(c.isUnframed||!le||!k||!q||!ee||!m.shouldRedirect(I))return!1;var J="https://"+q+"/apps/"+k+le.pathname+(le.search||"");return m.redirect(J),!0}var b=function(I){return function(B){return I(e(e({},B),{version:i.getVersion(),clientInterface:{name:i.getPackageName(),version:i.getVersion()}}))}},x=function(I){I.set(g.LifecycleHook.DispatchAction,b)};function C(I){I.subscribe(o.Action.APP,h.handleAppPrint),I.dispatch(l.initialize());try{f.initializeWebVitals(I)}catch(B){console.error("App-Bridge failed to initialize web-vitals",B)}}var M=function(I,B){B===void 0&&(B=[]);var k=[],q=a.createTransportListener(),Y=function(ee){var le=ee.data,J=le.type,fe=le.payload;switch(J){case"getState":{var V=k.splice(0);V.forEach(function(Q){return Q(fe)});break}case"dispatch":{q.handleMessage(fe);var ae=q.handleActionDispatch(fe);if(ae)return;var ue=i.findMatchInEnum(s.Action,fe.type);ue&&s.throwError(ue,fe);break}}};return I.subscribe(Y),function(ee){var le=R(ee),J=y(I.hostFrame,le);if(J)return u.mockAppBridge;var fe=F(I,le),V=q.createSubscribeHandler(fe);fe(g.MessageType.Unsubscribe);function ae(Le){return fe(g.MessageType.Dispatch,Le),Le}for(var ue=new URL("https://"+le.host).origin,Q=new p.default,de={hostOrigin:ue,localOrigin:I.localOrigin,hooks:Q,dispatch:function(Le){return de.hooks?de.hooks.run(g.LifecycleHook.DispatchAction,ae,de,Le):ae(Le)},featuresAvailable:function(){for(var Le=[],Ie=0;Ie<arguments.length;Ie++)Le[Ie]=arguments[Ie];var Ze=Le[0],tt=Array.isArray(Ze)?t([],Ze):Le;return de.getState("features").then(function(Qe){return tt.length?tt.reduce(function(lt,We){return Object.keys(Qe).includes(We)&&(lt[We]=Qe[We]),lt},{}):Qe})},getState:function(Le){return Le&&typeof Le!="string"?Promise.resolve(void 0):new Promise(function(Ie){k.push(Ie),fe(g.MessageType.GetState)}).then(function(Ie){var Ze=Ie;if(Le)for(var tt=0,Qe=Le.split(".");tt<Qe.length;tt++){var lt=Qe[tt];if(Ze==null||typeof Ze!="object"||Array.isArray(Ze)||!Object.keys(Ze).includes(lt))return;Ze=Ze[lt]}return Ze})},subscribe:V,error:function(Le,Ie){var Ze=[];return i.forEachInEnum(s.Action,function(tt){Ze.push(V(tt,Le,Ie))}),function(){Ze.forEach(function(tt){return tt()})}}},we=0,ye=B;we<ye.length;we++){var Ce=ye[we];Ce(Q,de)}return C(de),de}};n.createClientApp=M;function R(I){var B;if(!I.host)throw s.fromAction("host must be provided",s.AppActionType.INVALID_CONFIG);if(!I.apiKey)throw s.fromAction("apiKey must be provided",s.AppActionType.INVALID_CONFIG);try{var k=atob((B=I.host)===null||B===void 0?void 0:B.replace(/_/g,"/").replace(/-/g,"+"));return e(e({},I),{host:k})}catch{var q="not a valid host, please use the value provided by Shopify";throw s.fromAction(q,s.AppActionType.INVALID_CONFIG)}}function O(I,B,k){if(k===void 0&&(k=[]),!I)throw s.fromAction(n.WINDOW_UNDEFINED_MESSAGE,s.AppActionType.WINDOW_UNDEFINED);var q=m.getLocation(),Y=B||q&&q.origin;if(!Y)throw s.fromAction("local origin cannot be blank",s.AppActionType.MISSING_LOCAL_ORIGIN);var ee=a.fromWindow(I,Y),le=n.createClientApp(ee,t([x],k));return le}n.createAppWrapper=O;function N(I){var B=m.getWindow();return!B||!B.top?u.serverAppBridge:O(B.top)(I)}n.createApp=N;function F(I,B){return function(k,q){I.dispatch({payload:q,source:B,type:k})}}n.default=N}(Wd)),Wd}var qB;function XB(){return qB||(qB=1,function(n){var e=_0&&_0.__createBinding||(Object.create?function(i,o,s,a){a===void 0&&(a=s),Object.defineProperty(i,a,{enumerable:!0,get:function(){return o[s]}})}:function(i,o,s,a){a===void 0&&(a=s),i[a]=o[s]}),t=_0&&_0.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,i,s)};Object.defineProperty(n,"__esModule",{value:!0});var r=$B();t(ak(),n),t($B(),n),n.default=r.createClientApp}(_0)),_0}var KB;function xoe(){return KB||(KB=1,function(n){var e=v0&&v0.__createBinding||(Object.create?function(i,o,s,a){a===void 0&&(a=s),Object.defineProperty(i,a,{enumerable:!0,get:function(){return o[s]}})}:function(i,o,s,a){a===void 0&&(a=s),i[a]=o[s]}),t=v0&&v0.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,i,s)};Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=XB();Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.createApp}}),t(Ox(),n),t(XB(),n)}(v0)),v0}var JB;function woe(){return JB||(JB=1,nM.exports=xoe()),nM.exports}var F_={},pp={},L_={},YB;function uk(){if(YB)return L_;YB=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.handleRouteChange=void 0;var n=Hp();function e(t,r){return t.subscribe(n.Redirect.Action.APP,function(i){var o=i.path;r.replace(o)})}return L_.handleRouteChange=e,L_}var QB;function Coe(){if(QB)return pp;QB=1;var n=pp&&pp.__extends||function(){var s=function(a,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(c[f]=l[f])},s(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),e=pp&&pp.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(pp,"__esModule",{value:!0});var t=e(ri()),r=Gp(),i=uk(),o=function(s){n(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.componentDidMount=function(){var u=this.props.history;this.unsubscribe=i.handleRouteChange(this.context,u)},a.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},a.prototype.render=function(){return null},a.contextType=r.AppBridgeContext,a}(t.default.Component);return pp.default=o,pp}var qA={},ZB;function Moe(){if(ZB)return qA;ZB=1,Object.defineProperty(qA,"__esModule",{value:!0});var n=ri(),e=ga(),t=uk();function r(i){var o=e.useAppBridge();n.useEffect(function(){return t.handleRouteChange(o,i)},[o,i])}return qA.default=r,qA}var eF;function lk(){return eF||(eF=1,function(n){var e=F_&&F_.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(n,"__esModule",{value:!0}),n.useClientRouting=n.ClientRouter=void 0;var t=Coe();Object.defineProperty(n,"ClientRouter",{enumerable:!0,get:function(){return e(t).default}});var r=Moe();Object.defineProperty(n,"useClientRouting",{enumerable:!0,get:function(){return e(r).default}})}(F_)),F_}var N_={},mp={},$d={},qd={},tF;function Toe(){if(tF)return qd;tF=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.getOrigin=qd.getTopWindow=qd.getSelfWindow=void 0;function n(){return window.self}qd.getSelfWindow=n;function e(){return window.top}qd.getTopWindow=e;function t(){return location.origin}return qd.getOrigin=t,qd}var nF;function ck(){if(nF)return $d;nF=1;var n=$d&&$d.__awaiter||function(u,c,l,f){function h(m){return m instanceof l?m:new l(function(g){g(m)})}return new(l||(l=Promise))(function(m,g){function p(x){try{b(f.next(x))}catch(C){g(C)}}function y(x){try{b(f.throw(x))}catch(C){g(C)}}function b(x){x.done?m(x.value):h(x.value).then(p,y)}b((f=f.apply(u,c||[])).next())})},e=$d&&$d.__generator||function(u,c){var l={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,h,m,g;return g={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(b){return function(x){return y([b,x])}}function y(b){if(f)throw new TypeError("Generator is already executing.");for(;l;)try{if(f=1,h&&(m=b[0]&2?h.return:b[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,b[1])).done)return m;switch(h=0,m&&(b=[b[0]&2,m.value]),b[0]){case 0:case 1:m=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,h=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(m=l.trys,!(m=m.length>0&&m[m.length-1])&&(b[0]===6||b[0]===2)){l=0;continue}if(b[0]===3&&(!m||b[1]>m[0]&&b[1]<m[3])){l.label=b[1];break}if(b[0]===6&&l.label<m[1]){l.label=m[1],m=b;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(b);break}m[2]&&l.ops.pop(),l.trys.pop();continue}b=c.call(u,l)}catch(x){b=[6,x],h=0}finally{f=m=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty($d,"__esModule",{value:!0}),$d.updateHistory=void 0;var t=Ox(),r=Hp(),i=Toe(),o=["hmac","locale","protocol","session","shop","timestamp","host"];function s(u,c){return n(this,void 0,void 0,function(){var l,f,h,m,g,p,y,b,x;return e(this,function(C){switch(C.label){case 0:return l=i.getSelfWindow(),f=i.getTopWindow(),h=l===f,[4,u.getState("context").then(function(M){return M===t.Context.Main})];case 1:return m=C.sent(),h||!m?[2]:(g=a(c),o.forEach(function(M){return g.searchParams.delete(M)}),p=g.pathname,y=g.search,b=g.hash,x=""+p+y+b,r.History.create(u).dispatch(r.History.Action.REPLACE,x),[2])}})})}$d.updateHistory=s;function a(u){var c=i.getOrigin();if(typeof u=="string")return new URL(u,c);var l=u.pathname,f=u.search,h=u.hash;return new URL(""+l+f+h,c)}return $d}var rF;function Poe(){if(rF)return mp;rF=1;var n=mp&&mp.__extends||function(){var s=function(a,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(c[f]=l[f])},s(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),e=mp&&mp.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mp,"__esModule",{value:!0});var t=e(ri()),r=Gp(),i=ck(),o=function(s){n(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.componentDidMount=function(){var u=this.props.location;i.updateHistory(this.context,u)},a.prototype.componentDidUpdate=function(u){var c=u.location,l=this.props.location;l!==c&&i.updateHistory(this.context,l)},a.prototype.render=function(){return null},a.contextType=r.AppBridgeContext,a}(t.default.Component);return mp.default=o,mp}var XA={},iF;function Doe(){if(iF)return XA;iF=1,Object.defineProperty(XA,"__esModule",{value:!0});var n=ri(),e=ga(),t=ck();function r(i){var o=e.useAppBridge();n.useEffect(function(){t.updateHistory(o,i)},[o,i])}return XA.default=r,XA}var oF;function fk(){return oF||(oF=1,function(n){var e=N_&&N_.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(n,"__esModule",{value:!0}),n.useRoutePropagation=n.RoutePropagator=void 0;var t=Poe();Object.defineProperty(n,"RoutePropagator",{enumerable:!0,get:function(){return e(t).default}});var r=Doe();Object.defineProperty(n,"useRoutePropagation",{enumerable:!0,get:function(){return e(r).default}})}(N_)),N_}const Roe="@shopify/app-bridge-react",Ooe="3.7.10",Ioe="index.d.ts",Boe="index.js",Foe="umd/index.js",Loe="umd/index.js",Noe=["/components/","/umd/","/hooks/","/utilities/","/context.d.ts","/context.js","/index.d.ts","/index.js","/types.d.ts","/types.js","/useAppBridge.d.ts","/useAppBridge.js"],Uoe={access:"public","@shopify:registry":"https://registry.npmjs.org"},koe="git@github.com:Shopify/app-bridge.git",zoe="https://shopify.dev/docs/api/app-bridge/previous-versions/app-bridge-from-npm/using-react",Hoe="Shopify Inc.",Goe="MIT",Voe={build:"yarn build:tsc && yarn build:umd","build:tsc":"NODE_ENV=production tsc","build:umd":"NODE_ENV=production webpack -p",check:"tsc",clean:"yarn clean:tsc && yarn clean:umd","clean:tsc":"NODE_ENV=production tsc --build --clean","clean:umd":"rm -rf ./umd",pack:"yarn pack",size:"size-limit"},joe=!1,Woe={"@shopify/app-bridge":"^3.7.10"},$oe={"@shopify/app-bridge-testing-library":"^0.0.5","@shopify/react-testing":"^4.1.1","@types/react":"^18.0.2","react-dom":"^18.2.0"},qoe={react:"^16.0.0 || ^17.0.0 || ^18.0.0"},Xoe={name:Roe,version:Ooe,types:Ioe,main:Boe,unpkg:Foe,jsdelivr:Loe,files:Noe,private:!1,publishConfig:Uoe,repository:koe,homepage:zoe,author:Hoe,license:Goe,scripts:Voe,sideEffects:joe,"size-limit":[{limit:"36.8 KB",path:"index.js"}],dependencies:Woe,devDependencies:$oe,peerDependencies:qoe};var sF;function dk(){return sF||(sF=1,function(n){var e=jd&&jd.__createBinding||(Object.create?function(p,y,b,x){x===void 0&&(x=b),Object.defineProperty(p,x,{enumerable:!0,get:function(){return y[b]}})}:function(p,y,b,x){x===void 0&&(x=b),p[x]=y[b]}),t=jd&&jd.__setModuleDefault||(Object.create?function(p,y){Object.defineProperty(p,"default",{enumerable:!0,value:y})}:function(p,y){p.default=y}),r=jd&&jd.__importStar||function(p){if(p&&p.__esModule)return p;var y={};if(p!=null)for(var b in p)b!=="default"&&Object.prototype.hasOwnProperty.call(p,b)&&e(y,p,b);return t(y,p),y};Object.defineProperty(n,"__esModule",{value:!0}),n.useRouter=n.setClientInterfaceHook=void 0;var i=r(ri()),o=r(woe()),s=Gp(),a=lk(),u=fk(),c=Xoe;function l(p){var y=p.config,b=p.router,x=p.children,C=i.useMemo(function(){return o.default(y)},[]);i.useEffect(function(){C!=null&&C.hooks&&C.hooks.set(o.LifecycleHook.DispatchAction,n.setClientInterfaceHook)},[C]);var M=b!=null&&b.history&&(b!=null&&b.location)?i.default.createElement(g,{router:b},x):x;return i.default.createElement(s.AppBridgeContext.Provider,{value:C},M)}var f=function(p){return function(y){return y.clientInterface={name:"@shopify/app-bridge-react",version:c.version},p(y)}};n.setClientInterfaceHook=f;var h=i.createContext(void 0);function m(){return i.useContext(h)}n.useRouter=m;function g(p){var y=p.router,b=p.children;return a.useClientRouting(y.history),u.useRoutePropagation(y.location),i.default.createElement(h.Provider,{value:y},b)}n.default=l}(jd)),jd}var aF;function Koe(){if(aF)return WA;aF=1,Object.defineProperty(WA,"__esModule",{value:!0});var n=ri(),e=K6(),t=X6(),r=ga(),i=dk();function o(a,u){var c=typeof u=="string"?new URL(u).pathname:u.pathname;return a.destination.replace(/\/$/,"")===c.replace(/\/$/,"")}function s(a){var u=a.navigationLinks,c=a.matcher,l=c===void 0?o:c,f=r.useAppBridge(),h=n.useState(),m=h[0],g=h[1],p=(i.useRouter()||{}).location,y=n.useMemo(function(){return p??window.location},[p]);n.useEffect(function(){var x=u.map(function(C){return e.create(f,C)});g(x)},[f,JSON.stringify(u)]);var b=n.useMemo(function(){var x=(m||[]).findIndex(function(C){return l(C,y)});if(x>=0)return m==null?void 0:m[x]},[m,l,y]);return n.useEffect(function(){m&&t.create(f,{items:m,active:b})},[m,b,f]),null}return WA.default=s,WA}var uF;function Joe(){if(uF)return Sv;uF=1;var n=Sv&&Sv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sv,"__esModule",{value:!0});var e=n(Koe());return Sv.default=e.default,Sv}var xv={},lF;function Yoe(){if(lF)return xv;lF=1;var n=xv&&xv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xv,"__esModule",{value:!0});var e=n(dk());return xv.default=e.default,xv}var wv={},b0={},cF;function Qoe(){return cF||(cF=1,function(n){var e=b0&&b0.__assign||function(){return e=Object.assign||function(a){for(var u,c=1,l=arguments.length;c<l;c++){u=arguments[c];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])}return a},e.apply(this,arguments)},t=b0&&b0.__rest||function(a,u){var c={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&u.indexOf(l)<0&&(c[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,l=Object.getOwnPropertySymbols(a);f<l.length;f++)u.indexOf(l[f])<0&&Object.prototype.propertyIsEnumerable.call(a,l[f])&&(c[l[f]]=a[l[f]]);return c};Object.defineProperty(n,"__esModule",{value:!0}),n.ResourceType=n.ActionVerb=void 0;var r=ri(),i=V6();Object.defineProperty(n,"ActionVerb",{enumerable:!0,get:function(){return i.ActionVerb}}),Object.defineProperty(n,"ResourceType",{enumerable:!0,get:function(){return i.ResourceType}});var o=ga();function s(a){var u=a.open,c=a.resourceType,l=a.onSelection,f=a.onCancel,h=a.allowMultiple,m=a.selectMultiple,g=t(a,["open","resourceType","onSelection","onCancel","allowMultiple","selectMultiple"]),p=r.useMemo(function(){return e(e({},g),{selectMultiple:m??h})},[h,g,m]),y=o.useAppBridge(),b=r.useRef(!1);r.useEffect(function(){return function(){b.current=!0}},[]);var x=r.useRef(!1),C=r.useRef(p),M=r.useMemo(function(){return i.create(y,{resourceType:i.ResourceType[c],options:C.current})},[y,c]);r.useEffect(function(){return x.current=!1,function(){x.current&&b.current&&M.dispatch(i.Action.CANCEL)}},[M]);var R=r.useRef(null),O=r.useCallback(function(){document.activeElement instanceof HTMLElement&&(R.current=document.activeElement)},[]),N=r.useCallback(function(){var F=R.current;R.current=null,F&&document.contains(F)&&F.focus()},[]);return r.useEffect(function(){u!==x.current&&(x.current=u,u?(M.dispatch(i.Action.OPEN),O()):(M.dispatch(i.Action.CLOSE),N()))},[M,u,O,N]),r.useEffect(function(){if(l)return M.subscribe(i.Action.SELECT,function(){for(var F=[],I=0;I<arguments.length;I++)F[I]=arguments[I];return x.current=!1,N(),l.apply(void 0,F)})},[M,l,N]),r.useEffect(function(){if(f)return M.subscribe(i.Action.CANCEL,function(){return x.current=!1,N(),f()})},[M,f,N]),r.useEffect(function(){var F=JSON.stringify(p)!==JSON.stringify(C.current);F&&(C.current=p,M.set(p))},[M,p]),null}n.default=s}(b0)),b0}var fF;function Zoe(){if(fF)return wv;fF=1;var n=wv&&wv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wv,"__esModule",{value:!0});var e=n(Qoe());return wv.default=e.default,wv}var Cv={},KA={},dF;function ese(){if(dF)return KA;dF=1,Object.defineProperty(KA,"__esModule",{value:!0});var n=ri(),e=Px(),t=W6(),r=VP(),i=ok(),o=ga();function s(h){var m=o.useAppBridge(),g=n.useRef(),p=n.useMemo(function(){return t.create(m,{})},[m]);return n.useEffect(function(){var y,b=JSON.stringify(g.current)!==JSON.stringify(h);if(g.current=h,b)p.set(c(m,h));else{var x=h.primaryAction,C=h.secondaryActions,M=h.actionGroups,R=h.breadcrumbs,O=Array.isArray(R)?R[R.length-1]:R;f(O,p.options.breadcrumbs),f(x,(y=p.options.buttons)===null||y===void 0?void 0:y.primary),a(p,C),u(p,M)}return function(){p.unsubscribe()}},[p,h]),null}KA.default=s;function a(h,m){var g,p,y=((p=(g=h.options.buttons)===null||g===void 0?void 0:g.secondary)===null||p===void 0?void 0:p.filter(function(b){return!r.isGroupedButton(b)}))||[];y==null||y.forEach(function(b,x){return f(m==null?void 0:m[x],b)})}function u(h,m){var g,p,y=((p=(g=h.options.buttons)===null||g===void 0?void 0:g.secondary)===null||p===void 0?void 0:p.filter(r.isGroupedButton))||[];y==null||y.forEach(function(b,x){var C=m==null?void 0:m[x];C&&b.options.buttons.forEach(function(M,R){return f(C.actions[R],M)})})}function c(h,m){var g=m.actionGroups,p=m.breadcrumbs,y=m.primaryAction,b=m.secondaryActions,x=m.title,C=Array.isArray(p)?p[p.length-1]:p;return{title:x,buttons:i.transformActions(h,{primaryAction:y,secondaryActions:b,actionGroups:g}),breadcrumbs:C?l(h,C):void 0}}function l(h,m,g){var p=g||e.create(h,{label:m.content||""});return f(m,p),p}function f(h,m){if(!(!h||!m)){var g=i.generateRedirect(m.app,h.url,h.target,h.external);g&&m.subscribe(e.Action.CLICK,g,m),h!=null&&h.onAction&&m.subscribe(e.Action.CLICK,h.onAction,m)}}return KA}var hF;function tse(){if(hF)return Cv;hF=1;var n=Cv&&Cv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cv,"__esModule",{value:!0});var e=n(ese());return Cv.default=e.default,Cv}var Mv={},A0={},pF;function nse(){return pF||(pF=1,function(n){var e=A0&&A0.__extends||function(){var a=function(u,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])},a(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(u,c);function l(){this.constructor=u}u.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}(),t=A0&&A0.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_TOAST_DURATION=void 0;var r=t(ri()),i=Hp(),o=Gp();n.DEFAULT_TOAST_DURATION=5e3;var s=function(a){e(u,a);function u(){return a!==null&&a.apply(this,arguments)||this}return u.prototype.componentDidMount=function(){var c=this.context,l=this.props,f=l.error,h=l.content,m=l.duration,g=m===void 0?n.DEFAULT_TOAST_DURATION:m,p=l.onDismiss,y=l.action;this.toast=i.Toast.create(c,{message:h,duration:g,isError:f,action:y!=null&&y.content?{content:y==null?void 0:y.content}:void 0}),y!=null&&y.onAction&&this.toast.subscribe(i.Toast.Action.ACTION,y==null?void 0:y.onAction),this.toast.subscribe(i.Toast.Action.CLEAR,p),this.toast.dispatch(i.Toast.Action.SHOW)},u.prototype.componentWillUnmount=function(){this.toast.unsubscribe()},u.prototype.render=function(){return null},u.contextType=o.AppBridgeContext,u}(r.default.PureComponent);n.default=s}(A0)),A0}var mF;function rse(){if(mF)return Mv;mF=1;var n=Mv&&Mv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mv,"__esModule",{value:!0});var e=n(nse());return Mv.default=e.default,Mv}var Tv={},Pv={},gF;function ise(){if(gF)return Pv;gF=1;var n=Pv&&Pv.__rest||function(o,s){var a={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&s.indexOf(u)<0&&(a[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(o);c<u.length;c++)s.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(o,u[c])&&(a[u[c]]=o[u[c]]);return a};Object.defineProperty(Pv,"__esModule",{value:!0});var e=ri(),t=J6(),r=ga();function i(o){var s=o.open,a=o.onCancel,u=o.onSelect,c=o.onSearch,l=o.onLoadMore,f=n(o,["open","onCancel","onSelect","onSearch","onLoadMore"]),h=r.useAppBridge(),m=e.useRef(!1);e.useEffect(function(){return function(){m.current=!0}},[]);var g=e.useRef(!1),p=e.useRef(f),y=e.useMemo(function(){return t.create(h,p.current)},[h]);return e.useEffect(function(){return g.current=!1,function(){g.current&&m.current&&y.dispatch(t.Action.CANCEL)}},[y]),e.useEffect(function(){s!==g.current&&(g.current=s,s?y.dispatch(t.Action.OPEN):y.dispatch(t.Action.CANCEL))},[y,s]),e.useEffect(function(){if(u)return y.subscribe(t.Action.SELECT,function(){for(var b=[],x=0;x<arguments.length;x++)b[x]=arguments[x];return g.current=!1,u.apply(void 0,b)})},[y,u]),e.useEffect(function(){if(a)return y.subscribe(t.Action.CANCEL,function(){return g.current=!1,a()})},[y,a]),e.useEffect(function(){if(c)return y.subscribe(t.Action.SEARCH,c)},[y,c]),e.useEffect(function(){if(l)return y.subscribe(t.Action.LOAD_MORE,l)},[y,l]),e.useEffect(function(){var b=JSON.stringify(f)!==JSON.stringify(p.current);b&&(p.current=f,y.set(f,g.current))},[y,f]),null}return Pv.default=i,Pv}var vF;function ose(){if(vF)return Tv;vF=1;var n=Tv&&Tv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tv,"__esModule",{value:!0});var e=n(ise());return Tv.default=e.default,Tv}var _F;function sse(){return _F||(_F=1,function(n){var e=zd&&zd.__createBinding||(Object.create?function(m,g,p,y){y===void 0&&(y=p),Object.defineProperty(m,y,{enumerable:!0,get:function(){return g[p]}})}:function(m,g,p,y){y===void 0&&(y=p),m[y]=g[p]}),t=zd&&zd.__exportStar||function(m,g){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(g,p)&&e(g,m,p)},r=zd&&zd.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0}),n.unstable_Picker=n.Toast=n.TitleBar=n.ResourcePicker=n.Provider=n.NavigationMenu=n.ModalContent=n.Modal=n.Loading=n.ContextualSaveBar=void 0;var i=foe();Object.defineProperty(n,"ContextualSaveBar",{enumerable:!0,get:function(){return r(i).default}});var o=hoe();Object.defineProperty(n,"Loading",{enumerable:!0,get:function(){return r(o).default}});var s=yoe();Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return r(s).default}}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return s.ModalContent}});var a=Joe();Object.defineProperty(n,"NavigationMenu",{enumerable:!0,get:function(){return r(a).default}});var u=Yoe();Object.defineProperty(n,"Provider",{enumerable:!0,get:function(){return r(u).default}});var c=Zoe();Object.defineProperty(n,"ResourcePicker",{enumerable:!0,get:function(){return r(c).default}});var l=tse();Object.defineProperty(n,"TitleBar",{enumerable:!0,get:function(){return r(l).default}});var f=rse();Object.defineProperty(n,"Toast",{enumerable:!0,get:function(){return r(f).default}});var h=ose();Object.defineProperty(n,"unstable_Picker",{enumerable:!0,get:function(){return r(h).default}}),t(fk(),n),t(lk(),n)}(zd)),zd}var yF;function ase(){return yF||(yF=1,function(n){var e=o0&&o0.__createBinding||(Object.create?function(o,s,a,u){u===void 0&&(u=a),Object.defineProperty(o,u,{enumerable:!0,get:function(){return s[a]}})}:function(o,s,a,u){u===void 0&&(u=a),o[u]=s[a]}),t=o0&&o0.__exportStar||function(o,s){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&e(s,o,a)};Object.defineProperty(n,"__esModule",{value:!0}),n.useAppBridge=n.Context=void 0;var r=Gp();Object.defineProperty(n,"Context",{enumerable:!0,get:function(){return r.AppBridgeContext}});var i=ga();Object.defineProperty(n,"useAppBridge",{enumerable:!0,get:function(){return i.useAppBridge}}),t(sse(),n),t(ik(),n)}(o0)),o0}var PS=ase();let If=function(n){return n[n.Backspace=8]="Backspace",n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Shift=16]="Shift",n[n.Ctrl=17]="Ctrl",n[n.Alt=18]="Alt",n[n.Pause=19]="Pause",n[n.CapsLock=20]="CapsLock",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.LeftArrow=37]="LeftArrow",n[n.UpArrow=38]="UpArrow",n[n.RightArrow=39]="RightArrow",n[n.DownArrow=40]="DownArrow",n[n.Insert=45]="Insert",n[n.Delete=46]="Delete",n[n.Key0=48]="Key0",n[n.Key1=49]="Key1",n[n.Key2=50]="Key2",n[n.Key3=51]="Key3",n[n.Key4=52]="Key4",n[n.Key5=53]="Key5",n[n.Key6=54]="Key6",n[n.Key7=55]="Key7",n[n.Key8=56]="Key8",n[n.Key9=57]="Key9",n[n.KeyA=65]="KeyA",n[n.KeyB=66]="KeyB",n[n.KeyC=67]="KeyC",n[n.KeyD=68]="KeyD",n[n.KeyE=69]="KeyE",n[n.KeyF=70]="KeyF",n[n.KeyG=71]="KeyG",n[n.KeyH=72]="KeyH",n[n.KeyI=73]="KeyI",n[n.KeyJ=74]="KeyJ",n[n.KeyK=75]="KeyK",n[n.KeyL=76]="KeyL",n[n.KeyM=77]="KeyM",n[n.KeyN=78]="KeyN",n[n.KeyO=79]="KeyO",n[n.KeyP=80]="KeyP",n[n.KeyQ=81]="KeyQ",n[n.KeyR=82]="KeyR",n[n.KeyS=83]="KeyS",n[n.KeyT=84]="KeyT",n[n.KeyU=85]="KeyU",n[n.KeyV=86]="KeyV",n[n.KeyW=87]="KeyW",n[n.KeyX=88]="KeyX",n[n.KeyY=89]="KeyY",n[n.KeyZ=90]="KeyZ",n[n.LeftMeta=91]="LeftMeta",n[n.RightMeta=92]="RightMeta",n[n.Select=93]="Select",n[n.Numpad0=96]="Numpad0",n[n.Numpad1=97]="Numpad1",n[n.Numpad2=98]="Numpad2",n[n.Numpad3=99]="Numpad3",n[n.Numpad4=100]="Numpad4",n[n.Numpad5=101]="Numpad5",n[n.Numpad6=102]="Numpad6",n[n.Numpad7=103]="Numpad7",n[n.Numpad8=104]="Numpad8",n[n.Numpad9=105]="Numpad9",n[n.Multiply=106]="Multiply",n[n.Add=107]="Add",n[n.Subtract=109]="Subtract",n[n.Decimal=110]="Decimal",n[n.Divide=111]="Divide",n[n.F1=112]="F1",n[n.F2=113]="F2",n[n.F3=114]="F3",n[n.F4=115]="F4",n[n.F5=116]="F5",n[n.F6=117]="F6",n[n.F7=118]="F7",n[n.F8=119]="F8",n[n.F9=120]="F9",n[n.F10=121]="F10",n[n.F11=122]="F11",n[n.F12=123]="F12",n[n.NumLock=144]="NumLock",n[n.ScrollLock=145]="ScrollLock",n[n.Semicolon=186]="Semicolon",n[n.Equals=187]="Equals",n[n.Comma=188]="Comma",n[n.Dash=189]="Dash",n[n.Period=190]="Period",n[n.ForwardSlash=191]="ForwardSlash",n[n.GraveAccent=192]="GraveAccent",n[n.OpenBracket=219]="OpenBracket",n[n.BackSlash=220]="BackSlash",n[n.CloseBracket=221]="CloseBracket",n[n.SingleQuote=222]="SingleQuote",n}({});const XP={props:{"data-polaris-scrollable":!0},selector:"[data-polaris-scrollable]"},use={props:{"data-polaris-overlay":!0},selector:"[data-polaris-overlay]"},hk={props:{"data-polaris-layer":!0},selector:"[data-polaris-layer]"},bF={props:{"data-polaris-unstyled":!0},selector:"[data-polaris-unstyled]"},pk={props:{"data-polaris-top-bar":!0},selector:"[data-polaris-top-bar]"},lse={props:["data-portal-id"],selector:"[data-portal-id]"};function cse(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function fse(n,e){return e||(e=n.slice(0)),n.raw=e,n}function dse(n,e){return hse(n)||cse(n,e)||pse(n,e)||mse()}function hse(n){if(Array.isArray(n))return n}function pse(n,e){if(n){if(typeof n=="string")return AF(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return AF(n,e)}}function AF(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var oM,EF;function gse(){if(EF)return oM;EF=1;var n=function(x){return e(x)&&!t(x)};function e(b){return!!b&&typeof b=="object"}function t(b){var x=Object.prototype.toString.call(b);return x==="[object RegExp]"||x==="[object Date]"||o(b)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(b){return b.$$typeof===i}function s(b){return Array.isArray(b)?[]:{}}function a(b,x){return x.clone!==!1&&x.isMergeableObject(b)?p(s(b),b,x):b}function u(b,x,C){return b.concat(x).map(function(M){return a(M,C)})}function c(b,x){if(!x.customMerge)return p;var C=x.customMerge(b);return typeof C=="function"?C:p}function l(b){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b).filter(function(x){return Object.propertyIsEnumerable.call(b,x)}):[]}function f(b){return Object.keys(b).concat(l(b))}function h(b,x){try{return x in b}catch{return!1}}function m(b,x){return h(b,x)&&!(Object.hasOwnProperty.call(b,x)&&Object.propertyIsEnumerable.call(b,x))}function g(b,x,C){var M={};return C.isMergeableObject(b)&&f(b).forEach(function(R){M[R]=a(b[R],C)}),f(x).forEach(function(R){m(b,R)||(h(b,R)&&C.isMergeableObject(x[R])?M[R]=c(R,C)(b[R],x[R],C):M[R]=a(x[R],C))}),M}function p(b,x,C){C=C||{},C.arrayMerge=C.arrayMerge||u,C.isMergeableObject=C.isMergeableObject||n,C.cloneUnlessOtherwiseSpecified=a;var M=Array.isArray(x),R=Array.isArray(b),O=M===R;return O?M?C.arrayMerge(b,x,C):g(b,x,C):a(x,C)}p.all=function(x,C){if(!Array.isArray(x))throw new Error("first argument should be an array");return x.reduce(function(M,R){return p(M,R,C)},{})};var y=p;return oM=y,oM}gse();var SF,dT=16,DS="px",ay="em",KP="rem",vse=new RegExp(String.raw(SF||(SF=fse(["-?d+(?:.d+|d*)"],["-?\\d+(?:\\.\\d+|\\d*)"])))),_se=new RegExp(DS+"|"+ay+"|"+KP);function mk(n){n===void 0&&(n="");var e=n.match(new RegExp(vse.source+"("+_se.source+")"));return e&&e[1]}function yse(n){n===void 0&&(n="");var e=mk(n);if(!e||e===DS)return n;if(e===ay||e===KP)return""+parseFloat(n)*dT+DS}function gk(n,e){n===void 0&&(n=""),e===void 0&&(e=dT);var t=mk(n);if(!t||t===ay)return n;if(t===DS)return""+parseFloat(n)/e+ay;if(t===KP)return""+parseFloat(n)*dT/e+ay}function bse(n){return Object.values(n).flatMap(function(e){return Object.keys(e)})}function Ase(n){var e=Object.entries(n),t=e.length-1;return Object.fromEntries(e.map(function(r,i){var o=r,s=dse(o,2),a=s[0],u=s[1],c=Ese(u),l=xF(u),f=i===t?c:c+" and "+xF(e[i+1][1]);return[a,{up:c,down:l,only:f}]}))}function Ese(n){return"(min-width: "+gk(n)+")"}function xF(n){var e,t=parseFloat((e=yse(n))!=null?e:"")-.04;return"(max-width: "+gk(t+"px")+")"}var vk=["xs","sm","md","lg","xl"];function _k(n){return"p-theme-"+n}function Sse(n){var e=new Set(bse(n));return function(t){return e.has(t)}}var yk="light",sb=yk,xse=[yk,"light-mobile","light-high-contrast-experimental","dark-experimental"],JP={light:{border:{"border-radius-0":"0rem","border-radius-050":"0.125rem","border-radius-100":"0.25rem","border-radius-150":"0.375rem","border-radius-200":"0.5rem","border-radius-300":"0.75rem","border-radius-400":"1rem","border-radius-500":"1.25rem","border-radius-750":"1.875rem","border-radius-full":"624.9375rem","border-width-0":"0rem","border-width-0165":"0.04125rem","border-width-025":"0.0625rem","border-width-050":"0.125rem","border-width-100":"0.25rem"},breakpoints:{"breakpoints-xs":"0rem","breakpoints-sm":"30.625rem","breakpoints-md":"48rem","breakpoints-lg":"65rem","breakpoints-xl":"90rem"},color:{"color-scheme":"light","color-bg":"rgba(241, 241, 241, 1)","color-bg-inverse":"rgba(26, 26, 26, 1)","color-bg-surface":"rgba(255, 255, 255, 1)","color-bg-surface-hover":"rgba(247, 247, 247, 1)","color-bg-surface-active":"rgba(243, 243, 243, 1)","color-bg-surface-selected":"rgba(241, 241, 241, 1)","color-bg-surface-disabled":"rgba(0, 0, 0, 0.05)","color-bg-surface-secondary":"rgba(247, 247, 247, 1)","color-bg-surface-secondary-hover":"rgba(241, 241, 241, 1)","color-bg-surface-secondary-active":"rgba(235, 235, 235, 1)","color-bg-surface-secondary-selected":"rgba(235, 235, 235, 1)","color-bg-surface-tertiary":"rgba(243, 243, 243, 1)","color-bg-surface-tertiary-hover":"rgba(235, 235, 235, 1)","color-bg-surface-tertiary-active":"rgba(227, 227, 227, 1)","color-bg-surface-brand":"rgba(227, 227, 227, 1)","color-bg-surface-brand-hover":"rgba(235, 235, 235, 1)","color-bg-surface-brand-active":"rgba(241, 241, 241, 1)","color-bg-surface-brand-selected":"rgba(241, 241, 241, 1)","color-bg-surface-info":"rgba(234, 244, 255, 1)","color-bg-surface-info-hover":"rgba(224, 240, 255, 1)","color-bg-surface-info-active":"rgba(202, 230, 255, 1)","color-bg-surface-success":"rgba(205, 254, 212, 1)","color-bg-surface-success-hover":"rgba(175, 254, 191, 1)","color-bg-surface-success-active":"rgba(146, 252, 172, 1)","color-bg-surface-caution":"rgba(255, 248, 219, 1)","color-bg-surface-caution-hover":"rgba(255, 244, 191, 1)","color-bg-surface-caution-active":"rgba(255, 239, 157, 1)","color-bg-surface-warning":"rgba(255, 241, 227, 1)","color-bg-surface-warning-hover":"rgba(255, 235, 213, 1)","color-bg-surface-warning-active":"rgba(255, 228, 198, 1)","color-bg-surface-critical":"rgba(254, 232, 235, 1)","color-bg-surface-critical-hover":"rgba(254, 225, 230, 1)","color-bg-surface-critical-active":"rgba(254, 217, 223, 1)","color-bg-surface-emphasis":"rgba(240, 242, 255, 1)","color-bg-surface-emphasis-hover":"rgba(234, 237, 255, 1)","color-bg-surface-emphasis-active":"rgba(226, 231, 255, 1)","color-bg-surface-magic":"rgba(248, 247, 255, 1)","color-bg-surface-magic-hover":"rgba(243, 241, 255, 1)","color-bg-surface-magic-active":"rgba(233, 229, 255, 1)","color-bg-surface-inverse":"rgba(48, 48, 48, 1)","color-bg-surface-transparent":"rgba(0, 0, 0, 0)","color-bg-fill":"rgba(255, 255, 255, 1)","color-bg-fill-hover":"rgba(250, 250, 250, 1)","color-bg-fill-active":"rgba(247, 247, 247, 1)","color-bg-fill-selected":"rgba(204, 204, 204, 1)","color-bg-fill-disabled":"rgba(0, 0, 0, 0.05)","color-bg-fill-secondary":"rgba(241, 241, 241, 1)","color-bg-fill-secondary-hover":"rgba(235, 235, 235, 1)","color-bg-fill-secondary-active":"rgba(227, 227, 227, 1)","color-bg-fill-secondary-selected":"rgba(227, 227, 227, 1)","color-bg-fill-tertiary":"rgba(227, 227, 227, 1)","color-bg-fill-tertiary-hover":"rgba(212, 212, 212, 1)","color-bg-fill-tertiary-active":"rgba(204, 204, 204, 1)","color-bg-fill-brand":"rgba(48, 48, 48, 1)","color-bg-fill-brand-hover":"rgba(26, 26, 26, 1)","color-bg-fill-brand-active":"rgba(26, 26, 26, 1)","color-bg-fill-brand-selected":"rgba(48, 48, 48, 1)","color-bg-fill-brand-disabled":"rgba(0, 0, 0, 0.17)","color-bg-fill-info":"rgba(145, 208, 255, 1)","color-bg-fill-info-hover":"rgba(81, 192, 255, 1)","color-bg-fill-info-active":"rgba(0, 148, 213, 1)","color-bg-fill-info-secondary":"rgba(213, 235, 255, 1)","color-bg-fill-success":"rgba(4, 123, 93, 1)","color-bg-fill-success-hover":"rgba(3, 94, 76, 1)","color-bg-fill-success-active":"rgba(1, 75, 64, 1)","color-bg-fill-success-secondary":"rgba(175, 254, 191, 1)","color-bg-fill-warning":"rgba(255, 184, 0, 1)","color-bg-fill-warning-hover":"rgba(229, 165, 0, 1)","color-bg-fill-warning-active":"rgba(178, 132, 0, 1)","color-bg-fill-warning-secondary":"rgba(255, 214, 164, 1)","color-bg-fill-caution":"rgba(255, 230, 0, 1)","color-bg-fill-caution-hover":"rgba(234, 211, 0, 1)","color-bg-fill-caution-active":"rgba(225, 203, 0, 1)","color-bg-fill-caution-secondary":"rgba(255, 235, 120, 1)","color-bg-fill-critical":"rgba(199, 10, 36, 1)","color-bg-fill-critical-hover":"rgba(163, 10, 36, 1)","color-bg-fill-critical-active":"rgba(142, 11, 33, 1)","color-bg-fill-critical-selected":"rgba(142, 11, 33, 1)","color-bg-fill-critical-secondary":"rgba(254, 209, 215, 1)","color-bg-fill-emphasis":"rgba(0, 91, 211, 1)","color-bg-fill-emphasis-hover":"rgba(0, 66, 153, 1)","color-bg-fill-emphasis-active":"rgba(0, 46, 106, 1)","color-bg-fill-magic":"rgba(128, 81, 255, 1)","color-bg-fill-magic-secondary":"rgba(233, 229, 255, 1)","color-bg-fill-magic-secondary-hover":"rgba(228, 222, 255, 1)","color-bg-fill-magic-secondary-active":"rgba(223, 217, 255, 1)","color-bg-fill-inverse":"rgba(48, 48, 48, 1)","color-bg-fill-inverse-hover":"rgba(74, 74, 74, 1)","color-bg-fill-inverse-active":"rgba(97, 97, 97, 1)","color-bg-fill-transparent":"rgba(0, 0, 0, 0.02)","color-bg-fill-transparent-hover":"rgba(0, 0, 0, 0.05)","color-bg-fill-transparent-active":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-selected":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-secondary":"rgba(0, 0, 0, 0.06)","color-bg-fill-transparent-secondary-hover":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-secondary-active":"rgba(0, 0, 0, 0.11)","color-text":"rgba(48, 48, 48, 1)","color-text-secondary":"rgba(97, 97, 97, 1)","color-text-disabled":"rgba(181, 181, 181, 1)","color-text-link":"rgba(0, 91, 211, 1)","color-text-link-hover":"rgba(0, 66, 153, 1)","color-text-link-active":"rgba(0, 46, 106, 1)","color-text-brand":"rgba(74, 74, 74, 1)","color-text-brand-hover":"rgba(48, 48, 48, 1)","color-text-brand-on-bg-fill":"rgba(255, 255, 255, 1)","color-text-brand-on-bg-fill-hover":"rgba(227, 227, 227, 1)","color-text-brand-on-bg-fill-active":"rgba(204, 204, 204, 1)","color-text-brand-on-bg-fill-disabled":"rgba(255, 255, 255, 1)","color-text-info":"rgba(0, 58, 90, 1)","color-text-info-hover":"rgba(0, 58, 90, 1)","color-text-info-active":"rgba(0, 33, 51, 1)","color-text-info-secondary":"rgba(0, 124, 180, 1)","color-text-info-on-bg-fill":"rgba(0, 33, 51, 1)","color-text-success":"rgba(1, 75, 64, 1)","color-text-success-hover":"rgba(7, 54, 48, 1)","color-text-success-active":"rgba(2, 38, 34, 1)","color-text-success-secondary":"rgba(4, 123, 93, 1)","color-text-success-on-bg-fill":"rgba(250, 255, 251, 1)","color-text-caution":"rgba(79, 71, 0, 1)","color-text-caution-hover":"rgba(51, 46, 0, 1)","color-text-caution-active":"rgba(31, 28, 0, 1)","color-text-caution-secondary":"rgba(130, 117, 0, 1)","color-text-caution-on-bg-fill":"rgba(51, 46, 0, 1)","color-text-warning":"rgba(94, 66, 0, 1)","color-text-warning-hover":"rgba(65, 45, 0, 1)","color-text-warning-active":"rgba(37, 26, 0, 1)","color-text-warning-secondary":"rgba(149, 111, 0, 1)","color-text-warning-on-bg-fill":"rgba(37, 26, 0, 1)","color-text-critical":"rgba(142, 11, 33, 1)","color-text-critical-hover":"rgba(95, 7, 22, 1)","color-text-critical-active":"rgba(47, 4, 11, 1)","color-text-critical-secondary":"rgba(199, 10, 36, 1)","color-text-critical-on-bg-fill":"rgba(255, 250, 251, 1)","color-text-emphasis":"rgba(0, 91, 211, 1)","color-text-emphasis-hover":"rgba(0, 66, 153, 1)","color-text-emphasis-active":"rgba(0, 46, 106, 1)","color-text-emphasis-on-bg-fill":"rgba(252, 253, 255, 1)","color-text-emphasis-on-bg-fill-hover":"rgba(226, 231, 255, 1)","color-text-emphasis-on-bg-fill-active":"rgba(213, 220, 255, 1)","color-text-magic":"rgba(87, 0, 209, 1)","color-text-magic-secondary":"rgba(113, 38, 255, 1)","color-text-magic-on-bg-fill":"rgba(253, 253, 255, 1)","color-text-inverse":"rgba(227, 227, 227, 1)","color-text-inverse-secondary":"rgba(181, 181, 181, 1)","color-text-link-inverse":"rgba(197, 208, 255, 1)","color-border":"rgba(227, 227, 227, 1)","color-border-hover":"rgba(204, 204, 204, 1)","color-border-disabled":"rgba(235, 235, 235, 1)","color-border-secondary":"rgba(235, 235, 235, 1)","color-border-tertiary":"rgba(204, 204, 204, 1)","color-border-focus":"rgba(0, 91, 211, 1)","color-border-brand":"rgba(227, 227, 227, 1)","color-border-info":"rgba(168, 216, 255, 1)","color-border-success":"rgba(146, 252, 172, 1)","color-border-caution":"rgba(255, 235, 120, 1)","color-border-warning":"rgba(255, 200, 121, 1)","color-border-critical":"rgba(254, 193, 199, 1)","color-border-critical-secondary":"rgba(142, 11, 33, 1)","color-border-emphasis":"rgba(0, 91, 211, 1)","color-border-emphasis-hover":"rgba(0, 66, 153, 1)","color-border-emphasis-active":"rgba(0, 46, 106, 1)","color-border-magic":"rgba(228, 222, 255, 1)","color-border-magic-secondary":"rgba(148, 116, 255, 1)","color-border-magic-secondary-hover":"rgba(128, 81, 255, 1)","color-border-inverse":"rgba(97, 97, 97, 1)","color-border-inverse-hover":"rgba(204, 204, 204, 1)","color-border-inverse-active":"rgba(227, 227, 227, 1)","color-tooltip-tail-down-border":"rgba(212, 212, 212, 1)","color-tooltip-tail-up-border":"rgba(227, 227, 227, 1)","color-icon":"rgba(74, 74, 74, 1)","color-icon-hover":"rgba(48, 48, 48, 1)","color-icon-active":"rgba(26, 26, 26, 1)","color-icon-disabled":"rgba(204, 204, 204, 1)","color-icon-secondary":"rgba(138, 138, 138, 1)","color-icon-secondary-hover":"rgba(97, 97, 97, 1)","color-icon-secondary-active":"rgba(74, 74, 74, 1)","color-icon-brand":"rgba(26, 26, 26, 1)","color-icon-info":"rgba(0, 148, 213, 1)","color-icon-success":"rgba(4, 123, 93, 1)","color-icon-caution":"rgba(153, 138, 0, 1)","color-icon-warning":"rgba(178, 132, 0, 1)","color-icon-critical":"rgba(226, 44, 56, 1)","color-icon-emphasis":"rgba(0, 91, 211, 1)","color-icon-emphasis-hover":"rgba(0, 66, 153, 1)","color-icon-emphasis-active":"rgba(0, 46, 106, 1)","color-icon-magic":"rgba(128, 81, 255, 1)","color-icon-inverse":"rgba(227, 227, 227, 1)","color-avatar-bg-fill":"rgba(181, 181, 181, 1)","color-avatar-five-bg-fill":"rgba(253, 75, 146, 1)","color-avatar-five-text-on-bg-fill":"rgba(255, 246, 248, 1)","color-avatar-four-bg-fill":"rgba(81, 192, 255, 1)","color-avatar-four-text-on-bg-fill":"rgba(0, 33, 51, 1)","color-avatar-one-bg-fill":"rgba(197, 48, 197, 1)","color-avatar-one-text-on-bg-fill":"rgba(253, 239, 253, 1)","color-avatar-seven-bg-fill":"rgba(148, 116, 255, 1)","color-avatar-seven-text-on-bg-fill":"rgba(248, 247, 255, 1)","color-avatar-six-bg-fill":"rgba(37, 232, 43, 1)","color-avatar-six-text-on-bg-fill":"rgba(3, 61, 5, 1)","color-avatar-text-on-bg-fill":"rgba(255, 255, 255, 1)","color-avatar-three-bg-fill":"rgba(44, 224, 212, 1)","color-avatar-three-text-on-bg-fill":"rgba(3, 60, 57, 1)","color-avatar-two-bg-fill":"rgba(82, 244, 144, 1)","color-avatar-two-text-on-bg-fill":"rgba(1, 75, 64, 1)","color-backdrop-bg":"rgba(0, 0, 0, 0.71)","color-button-gradient-bg-fill":"linear-gradient(180deg, rgba(48, 48, 48, 0) 63.53%, rgba(255, 255, 255, 0.15) 100%)","color-checkbox-bg-surface-disabled":"rgba(0, 0, 0, 0.08)","color-checkbox-icon-disabled":"rgba(255, 255, 255, 1)","color-input-bg-surface":"rgba(253, 253, 253, 1)","color-input-bg-surface-hover":"rgba(250, 250, 250, 1)","color-input-bg-surface-active":"rgba(247, 247, 247, 1)","color-input-border":"rgba(138, 138, 138, 1)","color-input-border-hover":"rgba(97, 97, 97, 1)","color-input-border-active":"rgba(26, 26, 26, 1)","color-nav-bg":"rgba(235, 235, 235, 1)","color-nav-bg-surface":"rgba(0, 0, 0, 0.02)","color-nav-bg-surface-hover":"rgba(241, 241, 241, 1)","color-nav-bg-surface-active":"rgba(250, 250, 250, 1)","color-nav-bg-surface-selected":"rgba(250, 250, 250, 1)","color-radio-button-bg-surface-disabled":"rgba(0, 0, 0, 0.08)","color-radio-button-icon-disabled":"rgba(255, 255, 255, 1)","color-video-thumbnail-play-button-bg-fill-hover":"rgba(0, 0, 0, 0.81)","color-video-thumbnail-play-button-bg-fill":"rgba(0, 0, 0, 0.71)","color-video-thumbnail-play-button-text-on-bg-fill":"rgba(255, 255, 255, 1)","color-scrollbar-thumb-bg-hover":"rgba(138, 138, 138, 1)","color-scrollbar-thumb-bg":"rgba(181, 181, 181, 1)"},font:{"font-family-sans":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","font-family-mono":"ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace","font-size-275":"0.6875rem","font-size-300":"0.75rem","font-size-325":"0.8125rem","font-size-350":"0.875rem","font-size-400":"1rem","font-size-450":"1.125rem","font-size-500":"1.25rem","font-size-550":"1.375rem","font-size-600":"1.5rem","font-size-750":"1.875rem","font-size-800":"2rem","font-size-900":"2.25rem","font-size-1000":"2.5rem","font-weight-regular":"450","font-weight-medium":"550","font-weight-semibold":"650","font-weight-bold":"700","font-letter-spacing-densest":"-0.03375rem","font-letter-spacing-denser":"-0.01875rem","font-letter-spacing-dense":"-0.0125rem","font-letter-spacing-normal":"0rem","font-line-height-300":"0.75rem","font-line-height-400":"1rem","font-line-height-500":"1.25rem","font-line-height-600":"1.5rem","font-line-height-700":"1.75rem","font-line-height-800":"2rem","font-line-height-1000":"2.5rem","font-line-height-1200":"3rem"},height:{"height-0":"0rem","height-025":"0.0625rem","height-050":"0.125rem","height-100":"0.25rem","height-150":"0.375rem","height-200":"0.5rem","height-300":"0.75rem","height-400":"1rem","height-500":"1.25rem","height-600":"1.5rem","height-700":"1.75rem","height-800":"2rem","height-900":"2.25rem","height-1000":"2.5rem","height-1200":"3rem","height-1600":"4rem","height-2000":"5rem","height-2400":"6rem","height-2800":"7rem","height-3200":"8rem"},motion:{"motion-duration-0":"0ms","motion-duration-50":"50ms","motion-duration-100":"100ms","motion-duration-150":"150ms","motion-duration-200":"200ms","motion-duration-250":"250ms","motion-duration-300":"300ms","motion-duration-350":"350ms","motion-duration-400":"400ms","motion-duration-450":"450ms","motion-duration-500":"500ms","motion-duration-5000":"5000ms","motion-ease":"cubic-bezier(0.25, 0.1, 0.25, 1)","motion-ease-in":"cubic-bezier(0.42, 0, 1, 1)","motion-ease-out":"cubic-bezier(0.19, 0.91, 0.38, 1)","motion-ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","motion-linear":"cubic-bezier(0, 0, 1, 1)","motion-keyframes-bounce":"{ from, 65%, 85% { transform: scale(1) } 75% { transform: scale(0.85) } 82.5% { transform: scale(1.05) } }","motion-keyframes-fade-in":"{ to { opacity: 1 } }","motion-keyframes-pulse":"{ from, 75% { transform: scale(0.85); opacity: 1; } to { transform: scale(2.5); opacity: 0; } }","motion-keyframes-spin":"{ to { transform: rotate(1turn) } }","motion-keyframes-appear-above":"{ from { transform: translateY(var(--p-space-100)); opacity: 0; } to { transform: none; opacity: 1; } }","motion-keyframes-appear-below":"{ from { transform: translateY(calc(var(--p-space-100) * -1)); opacity: 0; } to { transform: none; opacity: 1; } }"},shadow:{"shadow-0":"none","shadow-100":"0rem 0.0625rem 0rem 0rem rgba(26, 26, 26, 0.07)","shadow-200":"0rem 0.1875rem 0.0625rem -0.0625rem rgba(26, 26, 26, 0.07)","shadow-300":"0rem 0.25rem 0.375rem -0.125rem rgba(26, 26, 26, 0.20)","shadow-400":"0rem 0.5rem 1rem -0.25rem rgba(26, 26, 26, 0.22)","shadow-500":"0rem 0.75rem 1.25rem -0.5rem rgba(26, 26, 26, 0.24)","shadow-600":"0rem 1.25rem 1.25rem -0.5rem rgba(26, 26, 26, 0.28)","shadow-bevel-100":"0.0625rem 0rem 0rem 0rem rgba(0, 0, 0, 0.13) inset, -0.0625rem 0rem 0rem 0rem rgba(0, 0, 0, 0.13) inset, 0rem -0.0625rem 0rem 0rem rgba(0, 0, 0, 0.17) inset, 0rem 0.0625rem 0rem 0rem rgba(204, 204, 204, 0.5) inset","shadow-inset-100":"0rem 0.0625rem 0.125rem 0rem rgba(26, 26, 26, 0.15) inset, 0rem 0.0625rem 0.0625rem 0rem rgba(26, 26, 26, 0.15) inset","shadow-inset-200":"0rem 0.125rem 0.0625rem 0rem rgba(26, 26, 26, 0.20) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.12) inset, -0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.12) inset","shadow-button":"0rem -0.0625rem 0rem 0rem #b5b5b5 inset, 0rem 0rem 0rem 0.0625rem rgba(0, 0, 0, 0.1) inset, 0rem 0.03125rem 0rem 0.09375rem #FFF inset","shadow-button-hover":"0rem 0.0625rem 0rem 0rem #EBEBEB inset, -0.0625rem 0rem 0rem 0rem #EBEBEB inset, 0.0625rem 0rem 0rem 0rem #EBEBEB inset, 0rem -0.0625rem 0rem 0rem #CCC inset","shadow-button-inset":"-0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.122) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.122) inset, 0rem 0.125rem 0.0625rem 0rem rgba(26, 26, 26, 0.2) inset","shadow-button-primary":"0rem -0.0625rem 0rem 0.0625rem rgba(0, 0, 0, 0.8) inset, 0rem 0rem 0rem 0.0625rem rgba(48, 48, 48, 1) inset, 0rem 0.03125rem 0rem 0.09375rem rgba(255, 255, 255, 0.25) inset;","shadow-button-primary-hover":"0rem 0.0625rem 0rem 0rem rgba(255, 255, 255, 0.24) inset, 0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, -0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, 0rem -0.0625rem 0rem 0rem #000 inset, 0rem -0.0625rem 0rem 0.0625rem #1A1A1A","shadow-button-primary-inset":"0rem 0.1875rem 0rem 0rem rgb(0, 0, 0) inset","shadow-button-primary-critical":"0rem -0.0625rem 0rem 0.0625rem rgba(142, 31, 11, 0.8) inset, 0rem 0rem 0rem 0.0625rem rgba(181, 38, 11, 0.8) inset, 0rem 0.03125rem 0rem 0.09375rem rgba(255, 255, 255, 0.349) inset","shadow-button-primary-critical-hover":"0rem 0.0625rem 0rem 0rem rgba(255, 255, 255, 0.48) inset, 0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, -0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, 0rem -0.09375rem 0rem 0rem rgba(0, 0, 0, 0.25) inset","shadow-button-primary-critical-inset":"-0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0rem 0.125rem 0rem 0rem rgba(0, 0, 0, 0.6) inset","shadow-button-primary-success":"0rem -0.0625rem 0rem 0.0625rem rgba(12, 81, 50, 0.8) inset, 0rem 0rem 0rem 0.0625rem rgba(19, 111, 69, 0.8) inset, 0rem 0.03125rem 0rem 0.09375rem rgba(255, 255, 255, 0.251) inset","shadow-button-primary-success-hover":"0rem 0.0625rem 0rem 0rem rgba(255, 255, 255, 0.48) inset, 0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, -0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, 0rem -0.09375rem 0rem 0rem rgba(0, 0, 0, 0.25) inset","shadow-button-primary-success-inset":"-0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0rem 0.125rem 0rem 0rem rgba(0, 0, 0, 0.6) inset","shadow-border-inset":"0rem 0rem 0rem 0.0625rem rgba(0, 0, 0, 0.08) inset"},space:{"space-0":"0rem","space-025":"0.0625rem","space-050":"0.125rem","space-100":"0.25rem","space-150":"0.375rem","space-200":"0.5rem","space-300":"0.75rem","space-400":"1rem","space-500":"1.25rem","space-600":"1.5rem","space-800":"2rem","space-1000":"2.5rem","space-1200":"3rem","space-1600":"4rem","space-2000":"5rem","space-2400":"6rem","space-2800":"7rem","space-3200":"8rem","space-button-group-gap":"0.5rem","space-card-gap":"1rem","space-card-padding":"1rem","space-table-cell-padding":"0.375rem"},text:{"text-heading-3xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-3xl-font-size":"2.25rem","text-heading-3xl-font-weight":"700","text-heading-3xl-font-letter-spacing":"-0.03375rem","text-heading-3xl-font-line-height":"3rem","text-heading-2xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-2xl-font-size":"1.875rem","text-heading-2xl-font-weight":"700","text-heading-2xl-font-letter-spacing":"-0.01875rem","text-heading-2xl-font-line-height":"2.5rem","text-heading-xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-xl-font-size":"1.5rem","text-heading-xl-font-weight":"700","text-heading-xl-font-letter-spacing":"-0.0125rem","text-heading-xl-font-line-height":"2rem","text-heading-lg-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-lg-font-size":"1.25rem","text-heading-lg-font-weight":"650","text-heading-lg-font-letter-spacing":"-0.0125rem","text-heading-lg-font-line-height":"1.5rem","text-heading-md-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-md-font-size":"0.875rem","text-heading-md-font-weight":"650","text-heading-md-font-letter-spacing":"0rem","text-heading-md-font-line-height":"1.25rem","text-heading-sm-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-sm-font-size":"0.8125rem","text-heading-sm-font-weight":"650","text-heading-sm-font-letter-spacing":"0rem","text-heading-sm-font-line-height":"1.25rem","text-heading-xs-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-xs-font-size":"0.75rem","text-heading-xs-font-weight":"650","text-heading-xs-font-letter-spacing":"0rem","text-heading-xs-font-line-height":"1rem","text-body-lg-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-lg-font-size":"0.875rem","text-body-lg-font-weight":"450","text-body-lg-font-letter-spacing":"0rem","text-body-lg-font-line-height":"1.25rem","text-body-md-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-md-font-size":"0.8125rem","text-body-md-font-weight":"450","text-body-md-font-letter-spacing":"0rem","text-body-md-font-line-height":"1.25rem","text-body-sm-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-sm-font-size":"0.75rem","text-body-sm-font-weight":"450","text-body-sm-font-letter-spacing":"0rem","text-body-sm-font-line-height":"1rem","text-body-xs-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-xs-font-size":"0.6875rem","text-body-xs-font-weight":"450","text-body-xs-font-letter-spacing":"0rem","text-body-xs-font-line-height":"0.75rem"},width:{"width-0":"0rem","width-025":"0.0625rem","width-050":"0.125rem","width-100":"0.25rem","width-150":"0.375rem","width-200":"0.5rem","width-300":"0.75rem","width-400":"1rem","width-500":"1.25rem","width-600":"1.5rem","width-700":"1.75rem","width-800":"2rem","width-900":"2.25rem","width-1000":"2.5rem","width-1200":"3rem","width-1600":"4rem","width-2000":"5rem","width-2400":"6rem","width-2800":"7rem","width-3200":"8rem"},zIndex:{"z-index-0":"auto","z-index-1":"100","z-index-2":"400","z-index-3":"510","z-index-4":"512","z-index-5":"513","z-index-6":"514","z-index-7":"515","z-index-8":"516","z-index-9":"517","z-index-10":"518","z-index-11":"519","z-index-12":"520"}},"light-mobile":{border:{"border-radius-0":"0rem","border-radius-050":"0.125rem","border-radius-100":"0.25rem","border-radius-150":"0.375rem","border-radius-200":"0.5rem","border-radius-300":"0.75rem","border-radius-400":"1rem","border-radius-500":"1.25rem","border-radius-750":"1.875rem","border-radius-full":"624.9375rem","border-width-0":"0rem","border-width-0165":"0.04125rem","border-width-025":"0.0625rem","border-width-050":"0.125rem","border-width-100":"0.25rem"},breakpoints:{"breakpoints-xs":"0rem","breakpoints-sm":"30.625rem","breakpoints-md":"48rem","breakpoints-lg":"65rem","breakpoints-xl":"90rem"},color:{"color-scheme":"light","color-bg":"rgba(241, 241, 241, 1)","color-bg-inverse":"rgba(26, 26, 26, 1)","color-bg-surface":"rgba(255, 255, 255, 1)","color-bg-surface-hover":"rgba(247, 247, 247, 1)","color-bg-surface-active":"rgba(243, 243, 243, 1)","color-bg-surface-selected":"rgba(241, 241, 241, 1)","color-bg-surface-disabled":"rgba(0, 0, 0, 0.05)","color-bg-surface-secondary":"rgba(247, 247, 247, 1)","color-bg-surface-secondary-hover":"rgba(241, 241, 241, 1)","color-bg-surface-secondary-active":"rgba(235, 235, 235, 1)","color-bg-surface-secondary-selected":"rgba(235, 235, 235, 1)","color-bg-surface-tertiary":"rgba(243, 243, 243, 1)","color-bg-surface-tertiary-hover":"rgba(235, 235, 235, 1)","color-bg-surface-tertiary-active":"rgba(227, 227, 227, 1)","color-bg-surface-brand":"rgba(227, 227, 227, 1)","color-bg-surface-brand-hover":"rgba(235, 235, 235, 1)","color-bg-surface-brand-active":"rgba(241, 241, 241, 1)","color-bg-surface-brand-selected":"rgba(241, 241, 241, 1)","color-bg-surface-info":"rgba(234, 244, 255, 1)","color-bg-surface-info-hover":"rgba(224, 240, 255, 1)","color-bg-surface-info-active":"rgba(202, 230, 255, 1)","color-bg-surface-success":"rgba(205, 254, 212, 1)","color-bg-surface-success-hover":"rgba(175, 254, 191, 1)","color-bg-surface-success-active":"rgba(146, 252, 172, 1)","color-bg-surface-caution":"rgba(255, 248, 219, 1)","color-bg-surface-caution-hover":"rgba(255, 244, 191, 1)","color-bg-surface-caution-active":"rgba(255, 239, 157, 1)","color-bg-surface-warning":"rgba(255, 241, 227, 1)","color-bg-surface-warning-hover":"rgba(255, 235, 213, 1)","color-bg-surface-warning-active":"rgba(255, 228, 198, 1)","color-bg-surface-critical":"rgba(254, 232, 235, 1)","color-bg-surface-critical-hover":"rgba(254, 225, 230, 1)","color-bg-surface-critical-active":"rgba(254, 217, 223, 1)","color-bg-surface-emphasis":"rgba(240, 242, 255, 1)","color-bg-surface-emphasis-hover":"rgba(234, 237, 255, 1)","color-bg-surface-emphasis-active":"rgba(226, 231, 255, 1)","color-bg-surface-magic":"rgba(248, 247, 255, 1)","color-bg-surface-magic-hover":"rgba(243, 241, 255, 1)","color-bg-surface-magic-active":"rgba(233, 229, 255, 1)","color-bg-surface-inverse":"rgba(48, 48, 48, 1)","color-bg-surface-transparent":"rgba(0, 0, 0, 0)","color-bg-fill":"rgba(255, 255, 255, 1)","color-bg-fill-hover":"rgba(250, 250, 250, 1)","color-bg-fill-active":"rgba(247, 247, 247, 1)","color-bg-fill-selected":"rgba(204, 204, 204, 1)","color-bg-fill-disabled":"rgba(0, 0, 0, 0.05)","color-bg-fill-secondary":"rgba(241, 241, 241, 1)","color-bg-fill-secondary-hover":"rgba(235, 235, 235, 1)","color-bg-fill-secondary-active":"rgba(227, 227, 227, 1)","color-bg-fill-secondary-selected":"rgba(227, 227, 227, 1)","color-bg-fill-tertiary":"rgba(227, 227, 227, 1)","color-bg-fill-tertiary-hover":"rgba(212, 212, 212, 1)","color-bg-fill-tertiary-active":"rgba(204, 204, 204, 1)","color-bg-fill-brand":"rgba(48, 48, 48, 1)","color-bg-fill-brand-hover":"rgba(26, 26, 26, 1)","color-bg-fill-brand-active":"rgba(26, 26, 26, 1)","color-bg-fill-brand-selected":"rgba(48, 48, 48, 1)","color-bg-fill-brand-disabled":"rgba(0, 0, 0, 0.17)","color-bg-fill-info":"rgba(145, 208, 255, 1)","color-bg-fill-info-hover":"rgba(81, 192, 255, 1)","color-bg-fill-info-active":"rgba(0, 148, 213, 1)","color-bg-fill-info-secondary":"rgba(213, 235, 255, 1)","color-bg-fill-success":"rgba(4, 123, 93, 1)","color-bg-fill-success-hover":"rgba(3, 94, 76, 1)","color-bg-fill-success-active":"rgba(1, 75, 64, 1)","color-bg-fill-success-secondary":"rgba(175, 254, 191, 1)","color-bg-fill-warning":"rgba(255, 184, 0, 1)","color-bg-fill-warning-hover":"rgba(229, 165, 0, 1)","color-bg-fill-warning-active":"rgba(178, 132, 0, 1)","color-bg-fill-warning-secondary":"rgba(255, 214, 164, 1)","color-bg-fill-caution":"rgba(255, 230, 0, 1)","color-bg-fill-caution-hover":"rgba(234, 211, 0, 1)","color-bg-fill-caution-active":"rgba(225, 203, 0, 1)","color-bg-fill-caution-secondary":"rgba(255, 235, 120, 1)","color-bg-fill-critical":"rgba(199, 10, 36, 1)","color-bg-fill-critical-hover":"rgba(163, 10, 36, 1)","color-bg-fill-critical-active":"rgba(142, 11, 33, 1)","color-bg-fill-critical-selected":"rgba(142, 11, 33, 1)","color-bg-fill-critical-secondary":"rgba(254, 209, 215, 1)","color-bg-fill-emphasis":"rgba(0, 91, 211, 1)","color-bg-fill-emphasis-hover":"rgba(0, 66, 153, 1)","color-bg-fill-emphasis-active":"rgba(0, 46, 106, 1)","color-bg-fill-magic":"rgba(128, 81, 255, 1)","color-bg-fill-magic-secondary":"rgba(233, 229, 255, 1)","color-bg-fill-magic-secondary-hover":"rgba(228, 222, 255, 1)","color-bg-fill-magic-secondary-active":"rgba(223, 217, 255, 1)","color-bg-fill-inverse":"rgba(48, 48, 48, 1)","color-bg-fill-inverse-hover":"rgba(74, 74, 74, 1)","color-bg-fill-inverse-active":"rgba(97, 97, 97, 1)","color-bg-fill-transparent":"rgba(0, 0, 0, 0.02)","color-bg-fill-transparent-hover":"rgba(0, 0, 0, 0.05)","color-bg-fill-transparent-active":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-selected":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-secondary":"rgba(0, 0, 0, 0.06)","color-bg-fill-transparent-secondary-hover":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-secondary-active":"rgba(0, 0, 0, 0.11)","color-text":"rgba(48, 48, 48, 1)","color-text-secondary":"rgba(97, 97, 97, 1)","color-text-disabled":"rgba(181, 181, 181, 1)","color-text-link":"rgba(0, 91, 211, 1)","color-text-link-hover":"rgba(0, 66, 153, 1)","color-text-link-active":"rgba(0, 46, 106, 1)","color-text-brand":"rgba(74, 74, 74, 1)","color-text-brand-hover":"rgba(48, 48, 48, 1)","color-text-brand-on-bg-fill":"rgba(255, 255, 255, 1)","color-text-brand-on-bg-fill-hover":"rgba(227, 227, 227, 1)","color-text-brand-on-bg-fill-active":"rgba(204, 204, 204, 1)","color-text-brand-on-bg-fill-disabled":"rgba(255, 255, 255, 1)","color-text-info":"rgba(0, 58, 90, 1)","color-text-info-hover":"rgba(0, 58, 90, 1)","color-text-info-active":"rgba(0, 33, 51, 1)","color-text-info-secondary":"rgba(0, 124, 180, 1)","color-text-info-on-bg-fill":"rgba(0, 33, 51, 1)","color-text-success":"rgba(1, 75, 64, 1)","color-text-success-hover":"rgba(7, 54, 48, 1)","color-text-success-active":"rgba(2, 38, 34, 1)","color-text-success-secondary":"rgba(4, 123, 93, 1)","color-text-success-on-bg-fill":"rgba(250, 255, 251, 1)","color-text-caution":"rgba(79, 71, 0, 1)","color-text-caution-hover":"rgba(51, 46, 0, 1)","color-text-caution-active":"rgba(31, 28, 0, 1)","color-text-caution-secondary":"rgba(130, 117, 0, 1)","color-text-caution-on-bg-fill":"rgba(51, 46, 0, 1)","color-text-warning":"rgba(94, 66, 0, 1)","color-text-warning-hover":"rgba(65, 45, 0, 1)","color-text-warning-active":"rgba(37, 26, 0, 1)","color-text-warning-secondary":"rgba(149, 111, 0, 1)","color-text-warning-on-bg-fill":"rgba(37, 26, 0, 1)","color-text-critical":"rgba(142, 11, 33, 1)","color-text-critical-hover":"rgba(95, 7, 22, 1)","color-text-critical-active":"rgba(47, 4, 11, 1)","color-text-critical-secondary":"rgba(199, 10, 36, 1)","color-text-critical-on-bg-fill":"rgba(255, 250, 251, 1)","color-text-emphasis":"rgba(0, 91, 211, 1)","color-text-emphasis-hover":"rgba(0, 66, 153, 1)","color-text-emphasis-active":"rgba(0, 46, 106, 1)","color-text-emphasis-on-bg-fill":"rgba(252, 253, 255, 1)","color-text-emphasis-on-bg-fill-hover":"rgba(226, 231, 255, 1)","color-text-emphasis-on-bg-fill-active":"rgba(213, 220, 255, 1)","color-text-magic":"rgba(87, 0, 209, 1)","color-text-magic-secondary":"rgba(113, 38, 255, 1)","color-text-magic-on-bg-fill":"rgba(253, 253, 255, 1)","color-text-inverse":"rgba(227, 227, 227, 1)","color-text-inverse-secondary":"rgba(181, 181, 181, 1)","color-text-link-inverse":"rgba(197, 208, 255, 1)","color-border":"rgba(227, 227, 227, 1)","color-border-hover":"rgba(204, 204, 204, 1)","color-border-disabled":"rgba(235, 235, 235, 1)","color-border-secondary":"rgba(235, 235, 235, 1)","color-border-tertiary":"rgba(204, 204, 204, 1)","color-border-focus":"rgba(0, 91, 211, 1)","color-border-brand":"rgba(227, 227, 227, 1)","color-border-info":"rgba(168, 216, 255, 1)","color-border-success":"rgba(146, 252, 172, 1)","color-border-caution":"rgba(255, 235, 120, 1)","color-border-warning":"rgba(255, 200, 121, 1)","color-border-critical":"rgba(254, 193, 199, 1)","color-border-critical-secondary":"rgba(142, 11, 33, 1)","color-border-emphasis":"rgba(0, 91, 211, 1)","color-border-emphasis-hover":"rgba(0, 66, 153, 1)","color-border-emphasis-active":"rgba(0, 46, 106, 1)","color-border-magic":"rgba(228, 222, 255, 1)","color-border-magic-secondary":"rgba(148, 116, 255, 1)","color-border-magic-secondary-hover":"rgba(128, 81, 255, 1)","color-border-inverse":"rgba(97, 97, 97, 1)","color-border-inverse-hover":"rgba(204, 204, 204, 1)","color-border-inverse-active":"rgba(227, 227, 227, 1)","color-tooltip-tail-down-border":"rgba(212, 212, 212, 1)","color-tooltip-tail-up-border":"rgba(227, 227, 227, 1)","color-icon":"rgba(74, 74, 74, 1)","color-icon-hover":"rgba(48, 48, 48, 1)","color-icon-active":"rgba(26, 26, 26, 1)","color-icon-disabled":"rgba(204, 204, 204, 1)","color-icon-secondary":"rgba(138, 138, 138, 1)","color-icon-secondary-hover":"rgba(97, 97, 97, 1)","color-icon-secondary-active":"rgba(74, 74, 74, 1)","color-icon-brand":"rgba(26, 26, 26, 1)","color-icon-info":"rgba(0, 148, 213, 1)","color-icon-success":"rgba(4, 123, 93, 1)","color-icon-caution":"rgba(153, 138, 0, 1)","color-icon-warning":"rgba(178, 132, 0, 1)","color-icon-critical":"rgba(226, 44, 56, 1)","color-icon-emphasis":"rgba(0, 91, 211, 1)","color-icon-emphasis-hover":"rgba(0, 66, 153, 1)","color-icon-emphasis-active":"rgba(0, 46, 106, 1)","color-icon-magic":"rgba(128, 81, 255, 1)","color-icon-inverse":"rgba(227, 227, 227, 1)","color-avatar-bg-fill":"rgba(181, 181, 181, 1)","color-avatar-five-bg-fill":"rgba(253, 75, 146, 1)","color-avatar-five-text-on-bg-fill":"rgba(255, 246, 248, 1)","color-avatar-four-bg-fill":"rgba(81, 192, 255, 1)","color-avatar-four-text-on-bg-fill":"rgba(0, 33, 51, 1)","color-avatar-one-bg-fill":"rgba(197, 48, 197, 1)","color-avatar-one-text-on-bg-fill":"rgba(253, 239, 253, 1)","color-avatar-seven-bg-fill":"rgba(148, 116, 255, 1)","color-avatar-seven-text-on-bg-fill":"rgba(248, 247, 255, 1)","color-avatar-six-bg-fill":"rgba(37, 232, 43, 1)","color-avatar-six-text-on-bg-fill":"rgba(3, 61, 5, 1)","color-avatar-text-on-bg-fill":"rgba(255, 255, 255, 1)","color-avatar-three-bg-fill":"rgba(44, 224, 212, 1)","color-avatar-three-text-on-bg-fill":"rgba(3, 60, 57, 1)","color-avatar-two-bg-fill":"rgba(82, 244, 144, 1)","color-avatar-two-text-on-bg-fill":"rgba(1, 75, 64, 1)","color-backdrop-bg":"rgba(0, 0, 0, 0.71)","color-button-gradient-bg-fill":"none","color-checkbox-bg-surface-disabled":"rgba(0, 0, 0, 0.08)","color-checkbox-icon-disabled":"rgba(255, 255, 255, 1)","color-input-bg-surface":"rgba(253, 253, 253, 1)","color-input-bg-surface-hover":"rgba(250, 250, 250, 1)","color-input-bg-surface-active":"rgba(247, 247, 247, 1)","color-input-border":"rgba(138, 138, 138, 1)","color-input-border-hover":"rgba(97, 97, 97, 1)","color-input-border-active":"rgba(26, 26, 26, 1)","color-nav-bg":"rgba(235, 235, 235, 1)","color-nav-bg-surface":"rgba(0, 0, 0, 0.02)","color-nav-bg-surface-hover":"rgba(241, 241, 241, 1)","color-nav-bg-surface-active":"rgba(250, 250, 250, 1)","color-nav-bg-surface-selected":"rgba(250, 250, 250, 1)","color-radio-button-bg-surface-disabled":"rgba(0, 0, 0, 0.08)","color-radio-button-icon-disabled":"rgba(255, 255, 255, 1)","color-video-thumbnail-play-button-bg-fill-hover":"rgba(0, 0, 0, 0.81)","color-video-thumbnail-play-button-bg-fill":"rgba(0, 0, 0, 0.71)","color-video-thumbnail-play-button-text-on-bg-fill":"rgba(255, 255, 255, 1)","color-scrollbar-thumb-bg-hover":"rgba(138, 138, 138, 1)","color-scrollbar-thumb-bg":"rgba(181, 181, 181, 1)"},font:{"font-family-sans":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","font-family-mono":"ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace","font-size-275":"0.6875rem","font-size-300":"0.75rem","font-size-325":"0.8125rem","font-size-350":"0.875rem","font-size-400":"1rem","font-size-450":"1.125rem","font-size-500":"1.25rem","font-size-550":"1.375rem","font-size-600":"1.5rem","font-size-750":"1.875rem","font-size-800":"2rem","font-size-900":"2.25rem","font-size-1000":"2.5rem","font-weight-regular":"450","font-weight-medium":"550","font-weight-semibold":"650","font-weight-bold":"700","font-letter-spacing-densest":"-0.03375rem","font-letter-spacing-denser":"-0.01875rem","font-letter-spacing-dense":"-0.0125rem","font-letter-spacing-normal":"0rem","font-line-height-300":"0.75rem","font-line-height-400":"1rem","font-line-height-500":"1.25rem","font-line-height-600":"1.5rem","font-line-height-700":"1.75rem","font-line-height-800":"2rem","font-line-height-1000":"2.5rem","font-line-height-1200":"3rem"},height:{"height-0":"0rem","height-025":"0.0625rem","height-050":"0.125rem","height-100":"0.25rem","height-150":"0.375rem","height-200":"0.5rem","height-300":"0.75rem","height-400":"1rem","height-500":"1.25rem","height-600":"1.5rem","height-700":"1.75rem","height-800":"2rem","height-900":"2.25rem","height-1000":"2.5rem","height-1200":"3rem","height-1600":"4rem","height-2000":"5rem","height-2400":"6rem","height-2800":"7rem","height-3200":"8rem"},motion:{"motion-duration-0":"0ms","motion-duration-50":"50ms","motion-duration-100":"100ms","motion-duration-150":"150ms","motion-duration-200":"200ms","motion-duration-250":"250ms","motion-duration-300":"300ms","motion-duration-350":"350ms","motion-duration-400":"400ms","motion-duration-450":"450ms","motion-duration-500":"500ms","motion-duration-5000":"5000ms","motion-ease":"cubic-bezier(0.25, 0.1, 0.25, 1)","motion-ease-in":"cubic-bezier(0.42, 0, 1, 1)","motion-ease-out":"cubic-bezier(0.19, 0.91, 0.38, 1)","motion-ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","motion-linear":"cubic-bezier(0, 0, 1, 1)","motion-keyframes-bounce":"{ from, 65%, 85% { transform: scale(1) } 75% { transform: scale(0.85) } 82.5% { transform: scale(1.05) } }","motion-keyframes-fade-in":"{ to { opacity: 1 } }","motion-keyframes-pulse":"{ from, 75% { transform: scale(0.85); opacity: 1; } to { transform: scale(2.5); opacity: 0; } }","motion-keyframes-spin":"{ to { transform: rotate(1turn) } }","motion-keyframes-appear-above":"{ from { transform: translateY(var(--p-space-100)); opacity: 0; } to { transform: none; opacity: 1; } }","motion-keyframes-appear-below":"{ from { transform: translateY(calc(var(--p-space-100) * -1)); opacity: 0; } to { transform: none; opacity: 1; } }"},shadow:{"shadow-0":"none","shadow-100":"none","shadow-200":"0rem 0.1875rem 0.0625rem -0.0625rem rgba(26, 26, 26, 0.07)","shadow-300":"0rem 0.25rem 0.375rem -0.125rem rgba(26, 26, 26, 0.20)","shadow-400":"0rem 0.5rem 1rem -0.25rem rgba(26, 26, 26, 0.22)","shadow-500":"0rem 0.75rem 1.25rem -0.5rem rgba(26, 26, 26, 0.24)","shadow-600":"0rem 1.25rem 1.25rem -0.5rem rgba(26, 26, 26, 0.28)","shadow-bevel-100":"none","shadow-inset-100":"0rem 0.0625rem 0.125rem 0rem rgba(26, 26, 26, 0.15) inset, 0rem 0.0625rem 0.0625rem 0rem rgba(26, 26, 26, 0.15) inset","shadow-inset-200":"0rem 0.125rem 0.0625rem 0rem rgba(26, 26, 26, 0.20) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.12) inset, -0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.12) inset","shadow-button":"0 0 0 var(--p-border-width-025) var(--p-color-border) inset","shadow-button-hover":"0 0 0 var(--p-border-width-025) var(--p-color-border) inset","shadow-button-inset":"0 0 0 var(--p-border-width-025) var(--p-color-border) inset","shadow-button-primary":"none","shadow-button-primary-hover":"none","shadow-button-primary-inset":"none","shadow-button-primary-critical":"none","shadow-button-primary-critical-hover":"none","shadow-button-primary-critical-inset":"none","shadow-button-primary-success":"none","shadow-button-primary-success-hover":"none","shadow-button-primary-success-inset":"none","shadow-border-inset":"0rem 0rem 0rem 0.0625rem rgba(0, 0, 0, 0.08) inset"},space:{"space-0":"0rem","space-025":"0.0625rem","space-050":"0.125rem","space-100":"0.25rem","space-150":"0.375rem","space-200":"0.5rem","space-300":"0.75rem","space-400":"1rem","space-500":"1.25rem","space-600":"1.5rem","space-800":"2rem","space-1000":"2.5rem","space-1200":"3rem","space-1600":"4rem","space-2000":"5rem","space-2400":"6rem","space-2800":"7rem","space-3200":"8rem","space-button-group-gap":"0.5rem","space-card-gap":"0.5rem","space-card-padding":"1rem","space-table-cell-padding":"0.375rem"},text:{"text-heading-3xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-3xl-font-size":"2.25rem","text-heading-3xl-font-weight":"700","text-heading-3xl-font-letter-spacing":"-0.03375rem","text-heading-3xl-font-line-height":"3rem","text-heading-2xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-2xl-font-size":"2rem","text-heading-2xl-font-weight":"700","text-heading-2xl-font-letter-spacing":"-0.01875rem","text-heading-2xl-font-line-height":"2.5rem","text-heading-xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-xl-font-size":"1.375rem","text-heading-xl-font-weight":"700","text-heading-xl-font-letter-spacing":"-0.0125rem","text-heading-xl-font-line-height":"1.75rem","text-heading-lg-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-lg-font-size":"1.125rem","text-heading-lg-font-weight":"650","text-heading-lg-font-letter-spacing":"-0.0125rem","text-heading-lg-font-line-height":"1.5rem","text-heading-md-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-md-font-size":"1rem","text-heading-md-font-weight":"650","text-heading-md-font-letter-spacing":"0rem","text-heading-md-font-line-height":"1.25rem","text-heading-sm-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-sm-font-size":"0.875rem","text-heading-sm-font-weight":"650","text-heading-sm-font-letter-spacing":"0rem","text-heading-sm-font-line-height":"1.25rem","text-heading-xs-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-xs-font-size":"0.75rem","text-heading-xs-font-weight":"650","text-heading-xs-font-letter-spacing":"0rem","text-heading-xs-font-line-height":"1rem","text-body-lg-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-lg-font-size":"1.125rem","text-body-lg-font-weight":"450","text-body-lg-font-letter-spacing":"0rem","text-body-lg-font-line-height":"1.75rem","text-body-md-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-md-font-size":"1rem","text-body-md-font-weight":"450","text-body-md-font-letter-spacing":"0rem","text-body-md-font-line-height":"1.5rem","text-body-sm-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-sm-font-size":"0.875rem","text-body-sm-font-weight":"450","text-body-sm-font-letter-spacing":"0rem","text-body-sm-font-line-height":"1.25rem","text-body-xs-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-xs-font-size":"0.75rem","text-body-xs-font-weight":"450","text-body-xs-font-letter-spacing":"0rem","text-body-xs-font-line-height":"1rem"},width:{"width-0":"0rem","width-025":"0.0625rem","width-050":"0.125rem","width-100":"0.25rem","width-150":"0.375rem","width-200":"0.5rem","width-300":"0.75rem","width-400":"1rem","width-500":"1.25rem","width-600":"1.5rem","width-700":"1.75rem","width-800":"2rem","width-900":"2.25rem","width-1000":"2.5rem","width-1200":"3rem","width-1600":"4rem","width-2000":"5rem","width-2400":"6rem","width-2800":"7rem","width-3200":"8rem"},zIndex:{"z-index-0":"auto","z-index-1":"100","z-index-2":"400","z-index-3":"510","z-index-4":"512","z-index-5":"513","z-index-6":"514","z-index-7":"515","z-index-8":"516","z-index-9":"517","z-index-10":"518","z-index-11":"519","z-index-12":"520"}},"light-high-contrast-experimental":{border:{"border-radius-0":"0rem","border-radius-050":"0.125rem","border-radius-100":"0.25rem","border-radius-150":"0.375rem","border-radius-200":"0.5rem","border-radius-300":"0.75rem","border-radius-400":"1rem","border-radius-500":"1.25rem","border-radius-750":"1.875rem","border-radius-full":"624.9375rem","border-width-0":"0rem","border-width-0165":"0.04125rem","border-width-025":"0.0625rem","border-width-050":"0.125rem","border-width-100":"0.25rem"},breakpoints:{"breakpoints-xs":"0rem","breakpoints-sm":"30.625rem","breakpoints-md":"48rem","breakpoints-lg":"65rem","breakpoints-xl":"90rem"},color:{"color-scheme":"light","color-bg":"rgba(241, 241, 241, 1)","color-bg-inverse":"rgba(26, 26, 26, 1)","color-bg-surface":"rgba(255, 255, 255, 1)","color-bg-surface-hover":"rgba(247, 247, 247, 1)","color-bg-surface-active":"rgba(243, 243, 243, 1)","color-bg-surface-selected":"rgba(241, 241, 241, 1)","color-bg-surface-disabled":"rgba(0, 0, 0, 0.05)","color-bg-surface-secondary":"rgba(241, 241, 241, 1)","color-bg-surface-secondary-hover":"rgba(241, 241, 241, 1)","color-bg-surface-secondary-active":"rgba(235, 235, 235, 1)","color-bg-surface-secondary-selected":"rgba(235, 235, 235, 1)","color-bg-surface-tertiary":"rgba(243, 243, 243, 1)","color-bg-surface-tertiary-hover":"rgba(235, 235, 235, 1)","color-bg-surface-tertiary-active":"rgba(227, 227, 227, 1)","color-bg-surface-brand":"rgba(227, 227, 227, 1)","color-bg-surface-brand-hover":"rgba(235, 235, 235, 1)","color-bg-surface-brand-active":"rgba(241, 241, 241, 1)","color-bg-surface-brand-selected":"rgba(241, 241, 241, 1)","color-bg-surface-info":"rgba(234, 244, 255, 1)","color-bg-surface-info-hover":"rgba(224, 240, 255, 1)","color-bg-surface-info-active":"rgba(202, 230, 255, 1)","color-bg-surface-success":"rgba(205, 254, 212, 1)","color-bg-surface-success-hover":"rgba(175, 254, 191, 1)","color-bg-surface-success-active":"rgba(146, 252, 172, 1)","color-bg-surface-caution":"rgba(255, 248, 219, 1)","color-bg-surface-caution-hover":"rgba(255, 244, 191, 1)","color-bg-surface-caution-active":"rgba(255, 239, 157, 1)","color-bg-surface-warning":"rgba(255, 241, 227, 1)","color-bg-surface-warning-hover":"rgba(255, 235, 213, 1)","color-bg-surface-warning-active":"rgba(255, 228, 198, 1)","color-bg-surface-critical":"rgba(254, 232, 235, 1)","color-bg-surface-critical-hover":"rgba(254, 225, 230, 1)","color-bg-surface-critical-active":"rgba(254, 217, 223, 1)","color-bg-surface-emphasis":"rgba(240, 242, 255, 1)","color-bg-surface-emphasis-hover":"rgba(234, 237, 255, 1)","color-bg-surface-emphasis-active":"rgba(226, 231, 255, 1)","color-bg-surface-magic":"rgba(248, 247, 255, 1)","color-bg-surface-magic-hover":"rgba(243, 241, 255, 1)","color-bg-surface-magic-active":"rgba(233, 229, 255, 1)","color-bg-surface-inverse":"rgba(48, 48, 48, 1)","color-bg-surface-transparent":"rgba(0, 0, 0, 0)","color-bg-fill":"rgba(255, 255, 255, 1)","color-bg-fill-hover":"rgba(250, 250, 250, 1)","color-bg-fill-active":"rgba(247, 247, 247, 1)","color-bg-fill-selected":"rgba(204, 204, 204, 1)","color-bg-fill-disabled":"rgba(0, 0, 0, 0.05)","color-bg-fill-secondary":"rgba(241, 241, 241, 1)","color-bg-fill-secondary-hover":"rgba(235, 235, 235, 1)","color-bg-fill-secondary-active":"rgba(227, 227, 227, 1)","color-bg-fill-secondary-selected":"rgba(227, 227, 227, 1)","color-bg-fill-tertiary":"rgba(227, 227, 227, 1)","color-bg-fill-tertiary-hover":"rgba(212, 212, 212, 1)","color-bg-fill-tertiary-active":"rgba(204, 204, 204, 1)","color-bg-fill-brand":"rgba(48, 48, 48, 1)","color-bg-fill-brand-hover":"rgba(26, 26, 26, 1)","color-bg-fill-brand-active":"rgba(26, 26, 26, 1)","color-bg-fill-brand-selected":"rgba(48, 48, 48, 1)","color-bg-fill-brand-disabled":"rgba(0, 0, 0, 0.17)","color-bg-fill-info":"rgba(145, 208, 255, 1)","color-bg-fill-info-hover":"rgba(81, 192, 255, 1)","color-bg-fill-info-active":"rgba(0, 148, 213, 1)","color-bg-fill-info-secondary":"rgba(213, 235, 255, 1)","color-bg-fill-success":"rgba(4, 123, 93, 1)","color-bg-fill-success-hover":"rgba(3, 94, 76, 1)","color-bg-fill-success-active":"rgba(1, 75, 64, 1)","color-bg-fill-success-secondary":"rgba(175, 254, 191, 1)","color-bg-fill-warning":"rgba(255, 184, 0, 1)","color-bg-fill-warning-hover":"rgba(229, 165, 0, 1)","color-bg-fill-warning-active":"rgba(178, 132, 0, 1)","color-bg-fill-warning-secondary":"rgba(255, 214, 164, 1)","color-bg-fill-caution":"rgba(255, 230, 0, 1)","color-bg-fill-caution-hover":"rgba(234, 211, 0, 1)","color-bg-fill-caution-active":"rgba(225, 203, 0, 1)","color-bg-fill-caution-secondary":"rgba(255, 235, 120, 1)","color-bg-fill-critical":"rgba(199, 10, 36, 1)","color-bg-fill-critical-hover":"rgba(163, 10, 36, 1)","color-bg-fill-critical-active":"rgba(142, 11, 33, 1)","color-bg-fill-critical-selected":"rgba(142, 11, 33, 1)","color-bg-fill-critical-secondary":"rgba(254, 209, 215, 1)","color-bg-fill-emphasis":"rgba(0, 91, 211, 1)","color-bg-fill-emphasis-hover":"rgba(0, 66, 153, 1)","color-bg-fill-emphasis-active":"rgba(0, 46, 106, 1)","color-bg-fill-magic":"rgba(128, 81, 255, 1)","color-bg-fill-magic-secondary":"rgba(233, 229, 255, 1)","color-bg-fill-magic-secondary-hover":"rgba(228, 222, 255, 1)","color-bg-fill-magic-secondary-active":"rgba(223, 217, 255, 1)","color-bg-fill-inverse":"rgba(48, 48, 48, 1)","color-bg-fill-inverse-hover":"rgba(74, 74, 74, 1)","color-bg-fill-inverse-active":"rgba(97, 97, 97, 1)","color-bg-fill-transparent":"rgba(0, 0, 0, 0.02)","color-bg-fill-transparent-hover":"rgba(0, 0, 0, 0.05)","color-bg-fill-transparent-active":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-selected":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-secondary":"rgba(0, 0, 0, 0.06)","color-bg-fill-transparent-secondary-hover":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-secondary-active":"rgba(0, 0, 0, 0.11)","color-text":"rgba(26, 26, 26, 1)","color-text-secondary":"rgba(26, 26, 26, 1)","color-text-disabled":"rgba(181, 181, 181, 1)","color-text-link":"rgba(0, 91, 211, 1)","color-text-link-hover":"rgba(0, 66, 153, 1)","color-text-link-active":"rgba(0, 46, 106, 1)","color-text-brand":"rgba(26, 26, 26, 1)","color-text-brand-hover":"rgba(48, 48, 48, 1)","color-text-brand-on-bg-fill":"rgba(255, 255, 255, 1)","color-text-brand-on-bg-fill-hover":"rgba(227, 227, 227, 1)","color-text-brand-on-bg-fill-active":"rgba(204, 204, 204, 1)","color-text-brand-on-bg-fill-disabled":"rgba(255, 255, 255, 1)","color-text-info":"rgba(0, 58, 90, 1)","color-text-info-hover":"rgba(0, 58, 90, 1)","color-text-info-active":"rgba(0, 33, 51, 1)","color-text-info-secondary":"rgba(0, 124, 180, 1)","color-text-info-on-bg-fill":"rgba(0, 33, 51, 1)","color-text-success":"rgba(1, 75, 64, 1)","color-text-success-hover":"rgba(7, 54, 48, 1)","color-text-success-active":"rgba(2, 38, 34, 1)","color-text-success-secondary":"rgba(4, 123, 93, 1)","color-text-success-on-bg-fill":"rgba(250, 255, 251, 1)","color-text-caution":"rgba(79, 71, 0, 1)","color-text-caution-hover":"rgba(51, 46, 0, 1)","color-text-caution-active":"rgba(31, 28, 0, 1)","color-text-caution-secondary":"rgba(130, 117, 0, 1)","color-text-caution-on-bg-fill":"rgba(51, 46, 0, 1)","color-text-warning":"rgba(94, 66, 0, 1)","color-text-warning-hover":"rgba(65, 45, 0, 1)","color-text-warning-active":"rgba(37, 26, 0, 1)","color-text-warning-secondary":"rgba(149, 111, 0, 1)","color-text-warning-on-bg-fill":"rgba(37, 26, 0, 1)","color-text-critical":"rgba(142, 11, 33, 1)","color-text-critical-hover":"rgba(95, 7, 22, 1)","color-text-critical-active":"rgba(47, 4, 11, 1)","color-text-critical-secondary":"rgba(199, 10, 36, 1)","color-text-critical-on-bg-fill":"rgba(255, 250, 251, 1)","color-text-emphasis":"rgba(0, 91, 211, 1)","color-text-emphasis-hover":"rgba(0, 66, 153, 1)","color-text-emphasis-active":"rgba(0, 46, 106, 1)","color-text-emphasis-on-bg-fill":"rgba(252, 253, 255, 1)","color-text-emphasis-on-bg-fill-hover":"rgba(226, 231, 255, 1)","color-text-emphasis-on-bg-fill-active":"rgba(213, 220, 255, 1)","color-text-magic":"rgba(87, 0, 209, 1)","color-text-magic-secondary":"rgba(113, 38, 255, 1)","color-text-magic-on-bg-fill":"rgba(253, 253, 255, 1)","color-text-inverse":"rgba(227, 227, 227, 1)","color-text-inverse-secondary":"rgba(181, 181, 181, 1)","color-text-link-inverse":"rgba(197, 208, 255, 1)","color-border":"rgba(138, 138, 138, 1)","color-border-hover":"rgba(204, 204, 204, 1)","color-border-disabled":"rgba(235, 235, 235, 1)","color-border-secondary":"rgba(138, 138, 138, 1)","color-border-tertiary":"rgba(204, 204, 204, 1)","color-border-focus":"rgba(0, 91, 211, 1)","color-border-brand":"rgba(227, 227, 227, 1)","color-border-info":"rgba(168, 216, 255, 1)","color-border-success":"rgba(146, 252, 172, 1)","color-border-caution":"rgba(255, 235, 120, 1)","color-border-warning":"rgba(255, 200, 121, 1)","color-border-critical":"rgba(254, 193, 199, 1)","color-border-critical-secondary":"rgba(142, 11, 33, 1)","color-border-emphasis":"rgba(0, 91, 211, 1)","color-border-emphasis-hover":"rgba(0, 66, 153, 1)","color-border-emphasis-active":"rgba(0, 46, 106, 1)","color-border-magic":"rgba(228, 222, 255, 1)","color-border-magic-secondary":"rgba(148, 116, 255, 1)","color-border-magic-secondary-hover":"rgba(128, 81, 255, 1)","color-border-inverse":"rgba(97, 97, 97, 1)","color-border-inverse-hover":"rgba(204, 204, 204, 1)","color-border-inverse-active":"rgba(227, 227, 227, 1)","color-tooltip-tail-down-border":"rgba(212, 212, 212, 1)","color-tooltip-tail-up-border":"rgba(227, 227, 227, 1)","color-icon":"rgba(74, 74, 74, 1)","color-icon-hover":"rgba(48, 48, 48, 1)","color-icon-active":"rgba(26, 26, 26, 1)","color-icon-disabled":"rgba(204, 204, 204, 1)","color-icon-secondary":"rgba(74, 74, 74, 1)","color-icon-secondary-hover":"rgba(97, 97, 97, 1)","color-icon-secondary-active":"rgba(74, 74, 74, 1)","color-icon-brand":"rgba(26, 26, 26, 1)","color-icon-info":"rgba(0, 148, 213, 1)","color-icon-success":"rgba(4, 123, 93, 1)","color-icon-caution":"rgba(153, 138, 0, 1)","color-icon-warning":"rgba(178, 132, 0, 1)","color-icon-critical":"rgba(226, 44, 56, 1)","color-icon-emphasis":"rgba(0, 91, 211, 1)","color-icon-emphasis-hover":"rgba(0, 66, 153, 1)","color-icon-emphasis-active":"rgba(0, 46, 106, 1)","color-icon-magic":"rgba(128, 81, 255, 1)","color-icon-inverse":"rgba(227, 227, 227, 1)","color-avatar-bg-fill":"rgba(181, 181, 181, 1)","color-avatar-five-bg-fill":"rgba(253, 75, 146, 1)","color-avatar-five-text-on-bg-fill":"rgba(255, 246, 248, 1)","color-avatar-four-bg-fill":"rgba(81, 192, 255, 1)","color-avatar-four-text-on-bg-fill":"rgba(0, 33, 51, 1)","color-avatar-one-bg-fill":"rgba(197, 48, 197, 1)","color-avatar-one-text-on-bg-fill":"rgba(253, 239, 253, 1)","color-avatar-seven-bg-fill":"rgba(148, 116, 255, 1)","color-avatar-seven-text-on-bg-fill":"rgba(248, 247, 255, 1)","color-avatar-six-bg-fill":"rgba(37, 232, 43, 1)","color-avatar-six-text-on-bg-fill":"rgba(3, 61, 5, 1)","color-avatar-text-on-bg-fill":"rgba(255, 255, 255, 1)","color-avatar-three-bg-fill":"rgba(44, 224, 212, 1)","color-avatar-three-text-on-bg-fill":"rgba(3, 60, 57, 1)","color-avatar-two-bg-fill":"rgba(82, 244, 144, 1)","color-avatar-two-text-on-bg-fill":"rgba(1, 75, 64, 1)","color-backdrop-bg":"rgba(0, 0, 0, 0.71)","color-button-gradient-bg-fill":"linear-gradient(180deg, rgba(48, 48, 48, 0) 63.53%, rgba(255, 255, 255, 0.15) 100%)","color-checkbox-bg-surface-disabled":"rgba(0, 0, 0, 0.08)","color-checkbox-icon-disabled":"rgba(255, 255, 255, 1)","color-input-bg-surface":"rgba(253, 253, 253, 1)","color-input-bg-surface-hover":"rgba(250, 250, 250, 1)","color-input-bg-surface-active":"rgba(247, 247, 247, 1)","color-input-border":"rgba(74, 74, 74, 1)","color-input-border-hover":"rgba(97, 97, 97, 1)","color-input-border-active":"rgba(26, 26, 26, 1)","color-nav-bg":"rgba(235, 235, 235, 1)","color-nav-bg-surface":"rgba(0, 0, 0, 0.02)","color-nav-bg-surface-hover":"rgba(241, 241, 241, 1)","color-nav-bg-surface-active":"rgba(250, 250, 250, 1)","color-nav-bg-surface-selected":"rgba(250, 250, 250, 1)","color-radio-button-bg-surface-disabled":"rgba(0, 0, 0, 0.08)","color-radio-button-icon-disabled":"rgba(255, 255, 255, 1)","color-video-thumbnail-play-button-bg-fill-hover":"rgba(0, 0, 0, 0.81)","color-video-thumbnail-play-button-bg-fill":"rgba(0, 0, 0, 0.71)","color-video-thumbnail-play-button-text-on-bg-fill":"rgba(255, 255, 255, 1)","color-scrollbar-thumb-bg-hover":"rgba(138, 138, 138, 1)","color-scrollbar-thumb-bg":"rgba(181, 181, 181, 1)"},font:{"font-family-sans":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","font-family-mono":"ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace","font-size-275":"0.6875rem","font-size-300":"0.75rem","font-size-325":"0.8125rem","font-size-350":"0.875rem","font-size-400":"1rem","font-size-450":"1.125rem","font-size-500":"1.25rem","font-size-550":"1.375rem","font-size-600":"1.5rem","font-size-750":"1.875rem","font-size-800":"2rem","font-size-900":"2.25rem","font-size-1000":"2.5rem","font-weight-regular":"450","font-weight-medium":"550","font-weight-semibold":"650","font-weight-bold":"700","font-letter-spacing-densest":"-0.03375rem","font-letter-spacing-denser":"-0.01875rem","font-letter-spacing-dense":"-0.0125rem","font-letter-spacing-normal":"0rem","font-line-height-300":"0.75rem","font-line-height-400":"1rem","font-line-height-500":"1.25rem","font-line-height-600":"1.5rem","font-line-height-700":"1.75rem","font-line-height-800":"2rem","font-line-height-1000":"2.5rem","font-line-height-1200":"3rem"},height:{"height-0":"0rem","height-025":"0.0625rem","height-050":"0.125rem","height-100":"0.25rem","height-150":"0.375rem","height-200":"0.5rem","height-300":"0.75rem","height-400":"1rem","height-500":"1.25rem","height-600":"1.5rem","height-700":"1.75rem","height-800":"2rem","height-900":"2.25rem","height-1000":"2.5rem","height-1200":"3rem","height-1600":"4rem","height-2000":"5rem","height-2400":"6rem","height-2800":"7rem","height-3200":"8rem"},motion:{"motion-duration-0":"0ms","motion-duration-50":"50ms","motion-duration-100":"100ms","motion-duration-150":"150ms","motion-duration-200":"200ms","motion-duration-250":"250ms","motion-duration-300":"300ms","motion-duration-350":"350ms","motion-duration-400":"400ms","motion-duration-450":"450ms","motion-duration-500":"500ms","motion-duration-5000":"5000ms","motion-ease":"cubic-bezier(0.25, 0.1, 0.25, 1)","motion-ease-in":"cubic-bezier(0.42, 0, 1, 1)","motion-ease-out":"cubic-bezier(0.19, 0.91, 0.38, 1)","motion-ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","motion-linear":"cubic-bezier(0, 0, 1, 1)","motion-keyframes-bounce":"{ from, 65%, 85% { transform: scale(1) } 75% { transform: scale(0.85) } 82.5% { transform: scale(1.05) } }","motion-keyframes-fade-in":"{ to { opacity: 1 } }","motion-keyframes-pulse":"{ from, 75% { transform: scale(0.85); opacity: 1; } to { transform: scale(2.5); opacity: 0; } }","motion-keyframes-spin":"{ to { transform: rotate(1turn) } }","motion-keyframes-appear-above":"{ from { transform: translateY(var(--p-space-100)); opacity: 0; } to { transform: none; opacity: 1; } }","motion-keyframes-appear-below":"{ from { transform: translateY(calc(var(--p-space-100) * -1)); opacity: 0; } to { transform: none; opacity: 1; } }"},shadow:{"shadow-0":"none","shadow-100":"0rem 0.0625rem 0rem 0rem rgba(26, 26, 26, 0.07)","shadow-200":"0rem 0.1875rem 0.0625rem -0.0625rem rgba(26, 26, 26, 0.07)","shadow-300":"0rem 0.25rem 0.375rem -0.125rem rgba(26, 26, 26, 0.20)","shadow-400":"0rem 0.5rem 1rem -0.25rem rgba(26, 26, 26, 0.22)","shadow-500":"0rem 0.75rem 1.25rem -0.5rem rgba(26, 26, 26, 0.24)","shadow-600":"0rem 1.25rem 1.25rem -0.5rem rgba(26, 26, 26, 0.28)","shadow-bevel-100":"0rem 0.0625rem 0rem 0rem rgba(26, 26, 26, 0.07), 0rem 0.0625rem 0rem 0rem rgba(208, 208, 208, 0.40) inset, 0.0625rem 0rem 0rem 0rem #CCC inset, -0.0625rem 0rem 0rem 0rem #CCC inset, 0rem -0.0625rem 0rem 0rem #999 inset","shadow-inset-100":"0rem 0.0625rem 0.125rem 0rem rgba(26, 26, 26, 0.15) inset, 0rem 0.0625rem 0.0625rem 0rem rgba(26, 26, 26, 0.15) inset","shadow-inset-200":"0rem 0.125rem 0.0625rem 0rem rgba(26, 26, 26, 0.20) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.12) inset, -0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.12) inset","shadow-button":"0rem -0.0625rem 0rem 0rem #b5b5b5 inset, 0rem 0rem 0rem 0.0625rem rgba(0, 0, 0, 0.1) inset, 0rem 0.03125rem 0rem 0.09375rem #FFF inset","shadow-button-hover":"0rem 0.0625rem 0rem 0rem #EBEBEB inset, -0.0625rem 0rem 0rem 0rem #EBEBEB inset, 0.0625rem 0rem 0rem 0rem #EBEBEB inset, 0rem -0.0625rem 0rem 0rem #CCC inset","shadow-button-inset":"-0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.122) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.122) inset, 0rem 0.125rem 0.0625rem 0rem rgba(26, 26, 26, 0.2) inset","shadow-button-primary":"0rem -0.0625rem 0rem 0.0625rem rgba(0, 0, 0, 0.8) inset, 0rem 0rem 0rem 0.0625rem rgba(48, 48, 48, 1) inset, 0rem 0.03125rem 0rem 0.09375rem rgba(255, 255, 255, 0.25) inset;","shadow-button-primary-hover":"0rem 0.0625rem 0rem 0rem rgba(255, 255, 255, 0.24) inset, 0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, -0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, 0rem -0.0625rem 0rem 0rem #000 inset, 0rem -0.0625rem 0rem 0.0625rem #1A1A1A","shadow-button-primary-inset":"0rem 0.1875rem 0rem 0rem rgb(0, 0, 0) inset","shadow-button-primary-critical":"0rem -0.0625rem 0rem 0.0625rem rgba(142, 31, 11, 0.8) inset, 0rem 0rem 0rem 0.0625rem rgba(181, 38, 11, 0.8) inset, 0rem 0.03125rem 0rem 0.09375rem rgba(255, 255, 255, 0.349) inset","shadow-button-primary-critical-hover":"0rem 0.0625rem 0rem 0rem rgba(255, 255, 255, 0.48) inset, 0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, -0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, 0rem -0.09375rem 0rem 0rem rgba(0, 0, 0, 0.25) inset","shadow-button-primary-critical-inset":"-0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0rem 0.125rem 0rem 0rem rgba(0, 0, 0, 0.6) inset","shadow-button-primary-success":"0rem -0.0625rem 0rem 0.0625rem rgba(12, 81, 50, 0.8) inset, 0rem 0rem 0rem 0.0625rem rgba(19, 111, 69, 0.8) inset, 0rem 0.03125rem 0rem 0.09375rem rgba(255, 255, 255, 0.251) inset","shadow-button-primary-success-hover":"0rem 0.0625rem 0rem 0rem rgba(255, 255, 255, 0.48) inset, 0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, -0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, 0rem -0.09375rem 0rem 0rem rgba(0, 0, 0, 0.25) inset","shadow-button-primary-success-inset":"-0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0rem 0.125rem 0rem 0rem rgba(0, 0, 0, 0.6) inset","shadow-border-inset":"0rem 0rem 0rem 0.0625rem rgba(0, 0, 0, 0.08) inset"},space:{"space-0":"0rem","space-025":"0.0625rem","space-050":"0.125rem","space-100":"0.25rem","space-150":"0.375rem","space-200":"0.5rem","space-300":"0.75rem","space-400":"1rem","space-500":"1.25rem","space-600":"1.5rem","space-800":"2rem","space-1000":"2.5rem","space-1200":"3rem","space-1600":"4rem","space-2000":"5rem","space-2400":"6rem","space-2800":"7rem","space-3200":"8rem","space-button-group-gap":"0.5rem","space-card-gap":"1rem","space-card-padding":"1rem","space-table-cell-padding":"0.375rem"},text:{"text-heading-3xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-3xl-font-size":"2.25rem","text-heading-3xl-font-weight":"700","text-heading-3xl-font-letter-spacing":"-0.03375rem","text-heading-3xl-font-line-height":"3rem","text-heading-2xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-2xl-font-size":"1.875rem","text-heading-2xl-font-weight":"700","text-heading-2xl-font-letter-spacing":"-0.01875rem","text-heading-2xl-font-line-height":"2.5rem","text-heading-xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-xl-font-size":"1.5rem","text-heading-xl-font-weight":"700","text-heading-xl-font-letter-spacing":"-0.0125rem","text-heading-xl-font-line-height":"2rem","text-heading-lg-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-lg-font-size":"1.25rem","text-heading-lg-font-weight":"650","text-heading-lg-font-letter-spacing":"-0.0125rem","text-heading-lg-font-line-height":"1.5rem","text-heading-md-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-md-font-size":"0.875rem","text-heading-md-font-weight":"650","text-heading-md-font-letter-spacing":"0rem","text-heading-md-font-line-height":"1.25rem","text-heading-sm-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-sm-font-size":"0.8125rem","text-heading-sm-font-weight":"650","text-heading-sm-font-letter-spacing":"0rem","text-heading-sm-font-line-height":"1.25rem","text-heading-xs-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-xs-font-size":"0.75rem","text-heading-xs-font-weight":"650","text-heading-xs-font-letter-spacing":"0rem","text-heading-xs-font-line-height":"1rem","text-body-lg-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-lg-font-size":"0.875rem","text-body-lg-font-weight":"450","text-body-lg-font-letter-spacing":"0rem","text-body-lg-font-line-height":"1.25rem","text-body-md-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-md-font-size":"0.8125rem","text-body-md-font-weight":"450","text-body-md-font-letter-spacing":"0rem","text-body-md-font-line-height":"1.25rem","text-body-sm-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-sm-font-size":"0.75rem","text-body-sm-font-weight":"450","text-body-sm-font-letter-spacing":"0rem","text-body-sm-font-line-height":"1rem","text-body-xs-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-xs-font-size":"0.6875rem","text-body-xs-font-weight":"450","text-body-xs-font-letter-spacing":"0rem","text-body-xs-font-line-height":"0.75rem"},width:{"width-0":"0rem","width-025":"0.0625rem","width-050":"0.125rem","width-100":"0.25rem","width-150":"0.375rem","width-200":"0.5rem","width-300":"0.75rem","width-400":"1rem","width-500":"1.25rem","width-600":"1.5rem","width-700":"1.75rem","width-800":"2rem","width-900":"2.25rem","width-1000":"2.5rem","width-1200":"3rem","width-1600":"4rem","width-2000":"5rem","width-2400":"6rem","width-2800":"7rem","width-3200":"8rem"},zIndex:{"z-index-0":"auto","z-index-1":"100","z-index-2":"400","z-index-3":"510","z-index-4":"512","z-index-5":"513","z-index-6":"514","z-index-7":"515","z-index-8":"516","z-index-9":"517","z-index-10":"518","z-index-11":"519","z-index-12":"520"}},"dark-experimental":{border:{"border-radius-0":"0rem","border-radius-050":"0.125rem","border-radius-100":"0.25rem","border-radius-150":"0.375rem","border-radius-200":"0.5rem","border-radius-300":"0.75rem","border-radius-400":"1rem","border-radius-500":"1.25rem","border-radius-750":"1.875rem","border-radius-full":"624.9375rem","border-width-0":"0rem","border-width-0165":"0.04125rem","border-width-025":"0.0625rem","border-width-050":"0.125rem","border-width-100":"0.25rem"},breakpoints:{"breakpoints-xs":"0rem","breakpoints-sm":"30.625rem","breakpoints-md":"48rem","breakpoints-lg":"65rem","breakpoints-xl":"90rem"},color:{"color-scheme":"dark","color-bg":"rgba(26, 26, 26, 1)","color-bg-inverse":"rgba(26, 26, 26, 1)","color-bg-surface":"rgba(48, 48, 48, 1)","color-bg-surface-hover":"rgba(74, 74, 74, 1)","color-bg-surface-active":"rgba(97, 97, 97, 1)","color-bg-surface-selected":"rgba(97, 97, 97, 1)","color-bg-surface-disabled":"rgba(0, 0, 0, 0.05)","color-bg-surface-secondary":"rgba(247, 247, 247, 1)","color-bg-surface-secondary-hover":"rgba(255, 255, 255, 0.06)","color-bg-surface-secondary-active":"rgba(255, 255, 255, 0.14)","color-bg-surface-secondary-selected":"rgba(235, 235, 235, 1)","color-bg-surface-tertiary":"rgba(255, 255, 255, 0.08)","color-bg-surface-tertiary-hover":"rgba(235, 235, 235, 1)","color-bg-surface-tertiary-active":"rgba(227, 227, 227, 1)","color-bg-surface-brand":"rgba(227, 227, 227, 1)","color-bg-surface-brand-hover":"rgba(235, 235, 235, 1)","color-bg-surface-brand-active":"rgba(241, 241, 241, 1)","color-bg-surface-brand-selected":"rgba(74, 74, 74, 1)","color-bg-surface-info":"rgba(234, 244, 255, 1)","color-bg-surface-info-hover":"rgba(224, 240, 255, 1)","color-bg-surface-info-active":"rgba(202, 230, 255, 1)","color-bg-surface-success":"rgba(205, 254, 212, 1)","color-bg-surface-success-hover":"rgba(175, 254, 191, 1)","color-bg-surface-success-active":"rgba(146, 252, 172, 1)","color-bg-surface-caution":"rgba(255, 248, 219, 1)","color-bg-surface-caution-hover":"rgba(255, 244, 191, 1)","color-bg-surface-caution-active":"rgba(255, 239, 157, 1)","color-bg-surface-warning":"rgba(255, 241, 227, 1)","color-bg-surface-warning-hover":"rgba(255, 235, 213, 1)","color-bg-surface-warning-active":"rgba(255, 228, 198, 1)","color-bg-surface-critical":"rgba(254, 232, 235, 1)","color-bg-surface-critical-hover":"rgba(254, 225, 230, 1)","color-bg-surface-critical-active":"rgba(254, 217, 223, 1)","color-bg-surface-emphasis":"rgba(240, 242, 255, 1)","color-bg-surface-emphasis-hover":"rgba(234, 237, 255, 1)","color-bg-surface-emphasis-active":"rgba(226, 231, 255, 1)","color-bg-surface-magic":"rgba(248, 247, 255, 1)","color-bg-surface-magic-hover":"rgba(243, 241, 255, 1)","color-bg-surface-magic-active":"rgba(233, 229, 255, 1)","color-bg-surface-inverse":"rgba(48, 48, 48, 1)","color-bg-surface-transparent":"rgba(0, 0, 0, 0)","color-bg-fill":"rgba(48, 48, 48, 1)","color-bg-fill-hover":"rgba(255, 255, 255, 0.05)","color-bg-fill-active":"rgba(97, 97, 97, 1)","color-bg-fill-selected":"rgba(97, 97, 97, 1)","color-bg-fill-disabled":"rgba(255, 255, 255, 0.05)","color-bg-fill-secondary":"rgba(255, 255, 255, 0.08)","color-bg-fill-secondary-hover":"rgba(255, 255, 255, 0.11)","color-bg-fill-secondary-active":"rgba(227, 227, 227, 1)","color-bg-fill-secondary-selected":"rgba(255, 255, 255, 0.17)","color-bg-fill-tertiary":"rgba(48, 48, 48, 1)","color-bg-fill-tertiary-hover":"rgba(212, 212, 212, 1)","color-bg-fill-tertiary-active":"rgba(204, 204, 204, 1)","color-bg-fill-brand":"rgba(255, 255, 255, 1)","color-bg-fill-brand-hover":"rgba(243, 243, 243, 1)","color-bg-fill-brand-active":"rgba(247, 247, 247, 1)","color-bg-fill-brand-selected":"rgba(212, 212, 212, 1)","color-bg-fill-brand-disabled":"rgba(255, 255, 255, 0.22)","color-bg-fill-info":"rgba(145, 208, 255, 1)","color-bg-fill-info-hover":"rgba(81, 192, 255, 1)","color-bg-fill-info-active":"rgba(0, 148, 213, 1)","color-bg-fill-info-secondary":"rgba(213, 235, 255, 1)","color-bg-fill-success":"rgba(4, 123, 93, 1)","color-bg-fill-success-hover":"rgba(3, 94, 76, 1)","color-bg-fill-success-active":"rgba(1, 75, 64, 1)","color-bg-fill-success-secondary":"rgba(175, 254, 191, 1)","color-bg-fill-warning":"rgba(255, 184, 0, 1)","color-bg-fill-warning-hover":"rgba(229, 165, 0, 1)","color-bg-fill-warning-active":"rgba(178, 132, 0, 1)","color-bg-fill-warning-secondary":"rgba(255, 214, 164, 1)","color-bg-fill-caution":"rgba(255, 230, 0, 1)","color-bg-fill-caution-hover":"rgba(234, 211, 0, 1)","color-bg-fill-caution-active":"rgba(225, 203, 0, 1)","color-bg-fill-caution-secondary":"rgba(255, 235, 120, 1)","color-bg-fill-critical":"rgba(199, 10, 36, 1)","color-bg-fill-critical-hover":"rgba(163, 10, 36, 1)","color-bg-fill-critical-active":"rgba(142, 11, 33, 1)","color-bg-fill-critical-selected":"rgba(142, 11, 33, 1)","color-bg-fill-critical-secondary":"rgba(254, 209, 215, 1)","color-bg-fill-emphasis":"rgba(0, 91, 211, 1)","color-bg-fill-emphasis-hover":"rgba(0, 66, 153, 1)","color-bg-fill-emphasis-active":"rgba(0, 46, 106, 1)","color-bg-fill-magic":"rgba(128, 81, 255, 1)","color-bg-fill-magic-secondary":"rgba(233, 229, 255, 1)","color-bg-fill-magic-secondary-hover":"rgba(228, 222, 255, 1)","color-bg-fill-magic-secondary-active":"rgba(223, 217, 255, 1)","color-bg-fill-inverse":"rgba(48, 48, 48, 1)","color-bg-fill-inverse-hover":"rgba(74, 74, 74, 1)","color-bg-fill-inverse-active":"rgba(97, 97, 97, 1)","color-bg-fill-transparent":"rgba(255, 255, 255, 0.11)","color-bg-fill-transparent-hover":"rgba(255, 255, 255, 0.14)","color-bg-fill-transparent-active":"rgba(255, 255, 255, 0.17)","color-bg-fill-transparent-selected":"rgba(255, 255, 255, 0.22)","color-bg-fill-transparent-secondary":"rgba(0, 0, 0, 0.06)","color-bg-fill-transparent-secondary-hover":"rgba(0, 0, 0, 0.08)","color-bg-fill-transparent-secondary-active":"rgba(0, 0, 0, 0.11)","color-text":"rgba(227, 227, 227, 1)","color-text-secondary":"rgba(181, 181, 181, 1)","color-text-disabled":"rgba(74, 74, 74, 1)","color-text-link":"rgba(0, 91, 211, 1)","color-text-link-hover":"rgba(0, 66, 153, 1)","color-text-link-active":"rgba(0, 46, 106, 1)","color-text-brand":"rgba(74, 74, 74, 1)","color-text-brand-hover":"rgba(48, 48, 48, 1)","color-text-brand-on-bg-fill":"rgba(48, 48, 48, 1)","color-text-brand-on-bg-fill-hover":"rgba(227, 227, 227, 1)","color-text-brand-on-bg-fill-active":"rgba(204, 204, 204, 1)","color-text-brand-on-bg-fill-disabled":"rgba(138, 138, 138, 1)","color-text-info":"rgba(0, 58, 90, 1)","color-text-info-hover":"rgba(0, 58, 90, 1)","color-text-info-active":"rgba(0, 33, 51, 1)","color-text-info-secondary":"rgba(0, 124, 180, 1)","color-text-info-on-bg-fill":"rgba(0, 33, 51, 1)","color-text-success":"rgba(1, 75, 64, 1)","color-text-success-hover":"rgba(7, 54, 48, 1)","color-text-success-active":"rgba(2, 38, 34, 1)","color-text-success-secondary":"rgba(4, 123, 93, 1)","color-text-success-on-bg-fill":"rgba(250, 255, 251, 1)","color-text-caution":"rgba(79, 71, 0, 1)","color-text-caution-hover":"rgba(51, 46, 0, 1)","color-text-caution-active":"rgba(31, 28, 0, 1)","color-text-caution-secondary":"rgba(130, 117, 0, 1)","color-text-caution-on-bg-fill":"rgba(51, 46, 0, 1)","color-text-warning":"rgba(94, 66, 0, 1)","color-text-warning-hover":"rgba(65, 45, 0, 1)","color-text-warning-active":"rgba(37, 26, 0, 1)","color-text-warning-secondary":"rgba(149, 111, 0, 1)","color-text-warning-on-bg-fill":"rgba(37, 26, 0, 1)","color-text-critical":"rgba(142, 11, 33, 1)","color-text-critical-hover":"rgba(95, 7, 22, 1)","color-text-critical-active":"rgba(47, 4, 11, 1)","color-text-critical-secondary":"rgba(199, 10, 36, 1)","color-text-critical-on-bg-fill":"rgba(255, 250, 251, 1)","color-text-emphasis":"rgba(0, 91, 211, 1)","color-text-emphasis-hover":"rgba(0, 66, 153, 1)","color-text-emphasis-active":"rgba(0, 46, 106, 1)","color-text-emphasis-on-bg-fill":"rgba(252, 253, 255, 1)","color-text-emphasis-on-bg-fill-hover":"rgba(226, 231, 255, 1)","color-text-emphasis-on-bg-fill-active":"rgba(213, 220, 255, 1)","color-text-magic":"rgba(87, 0, 209, 1)","color-text-magic-secondary":"rgba(113, 38, 255, 1)","color-text-magic-on-bg-fill":"rgba(253, 253, 255, 1)","color-text-inverse":"rgba(227, 227, 227, 1)","color-text-inverse-secondary":"rgba(181, 181, 181, 1)","color-text-link-inverse":"rgba(197, 208, 255, 1)","color-border":"rgba(227, 227, 227, 1)","color-border-hover":"rgba(204, 204, 204, 1)","color-border-disabled":"rgba(235, 235, 235, 1)","color-border-secondary":"rgba(74, 74, 74, 1)","color-border-tertiary":"rgba(204, 204, 204, 1)","color-border-focus":"rgba(0, 91, 211, 1)","color-border-brand":"rgba(227, 227, 227, 1)","color-border-info":"rgba(168, 216, 255, 1)","color-border-success":"rgba(146, 252, 172, 1)","color-border-caution":"rgba(255, 235, 120, 1)","color-border-warning":"rgba(255, 200, 121, 1)","color-border-critical":"rgba(254, 193, 199, 1)","color-border-critical-secondary":"rgba(142, 11, 33, 1)","color-border-emphasis":"rgba(0, 91, 211, 1)","color-border-emphasis-hover":"rgba(0, 66, 153, 1)","color-border-emphasis-active":"rgba(0, 46, 106, 1)","color-border-magic":"rgba(228, 222, 255, 1)","color-border-magic-secondary":"rgba(148, 116, 255, 1)","color-border-magic-secondary-hover":"rgba(128, 81, 255, 1)","color-border-inverse":"rgba(97, 97, 97, 1)","color-border-inverse-hover":"rgba(204, 204, 204, 1)","color-border-inverse-active":"rgba(227, 227, 227, 1)","color-tooltip-tail-down-border":"rgba(60, 60, 60, 1)","color-tooltip-tail-up-border":"rgba(71, 71, 71, 1)","color-icon":"rgba(227, 227, 227, 1)","color-icon-hover":"rgba(48, 48, 48, 1)","color-icon-active":"rgba(26, 26, 26, 1)","color-icon-disabled":"rgba(74, 74, 74, 1)","color-icon-secondary":"rgba(181, 181, 181, 1)","color-icon-secondary-hover":"rgba(97, 97, 97, 1)","color-icon-secondary-active":"rgba(74, 74, 74, 1)","color-icon-brand":"rgba(74, 74, 74, 1)","color-icon-info":"rgba(0, 148, 213, 1)","color-icon-success":"rgba(4, 123, 93, 1)","color-icon-caution":"rgba(153, 138, 0, 1)","color-icon-warning":"rgba(178, 132, 0, 1)","color-icon-critical":"rgba(226, 44, 56, 1)","color-icon-emphasis":"rgba(0, 91, 211, 1)","color-icon-emphasis-hover":"rgba(0, 66, 153, 1)","color-icon-emphasis-active":"rgba(0, 46, 106, 1)","color-icon-magic":"rgba(128, 81, 255, 1)","color-icon-inverse":"rgba(227, 227, 227, 1)","color-avatar-bg-fill":"rgba(181, 181, 181, 1)","color-avatar-five-bg-fill":"rgba(253, 75, 146, 1)","color-avatar-five-text-on-bg-fill":"rgba(255, 246, 248, 1)","color-avatar-four-bg-fill":"rgba(81, 192, 255, 1)","color-avatar-four-text-on-bg-fill":"rgba(0, 33, 51, 1)","color-avatar-one-bg-fill":"rgba(197, 48, 197, 1)","color-avatar-one-text-on-bg-fill":"rgba(253, 239, 253, 1)","color-avatar-seven-bg-fill":"rgba(148, 116, 255, 1)","color-avatar-seven-text-on-bg-fill":"rgba(248, 247, 255, 1)","color-avatar-six-bg-fill":"rgba(37, 232, 43, 1)","color-avatar-six-text-on-bg-fill":"rgba(3, 61, 5, 1)","color-avatar-text-on-bg-fill":"rgba(255, 255, 255, 1)","color-avatar-three-bg-fill":"rgba(44, 224, 212, 1)","color-avatar-three-text-on-bg-fill":"rgba(3, 60, 57, 1)","color-avatar-two-bg-fill":"rgba(82, 244, 144, 1)","color-avatar-two-text-on-bg-fill":"rgba(1, 75, 64, 1)","color-backdrop-bg":"rgba(0, 0, 0, 0.71)","color-button-gradient-bg-fill":"linear-gradient(180deg, rgba(48, 48, 48, 0) 63.53%, rgba(255, 255, 255, 0.15) 100%)","color-checkbox-bg-surface-disabled":"rgba(0, 0, 0, 0.08)","color-checkbox-icon-disabled":"rgba(255, 255, 255, 1)","color-input-bg-surface":"rgba(253, 253, 253, 1)","color-input-bg-surface-hover":"rgba(250, 250, 250, 1)","color-input-bg-surface-active":"rgba(247, 247, 247, 1)","color-input-border":"rgba(138, 138, 138, 1)","color-input-border-hover":"rgba(97, 97, 97, 1)","color-input-border-active":"rgba(26, 26, 26, 1)","color-nav-bg":"rgba(235, 235, 235, 1)","color-nav-bg-surface":"rgba(0, 0, 0, 0.02)","color-nav-bg-surface-hover":"rgba(241, 241, 241, 1)","color-nav-bg-surface-active":"rgba(250, 250, 250, 1)","color-nav-bg-surface-selected":"rgba(250, 250, 250, 1)","color-radio-button-bg-surface-disabled":"rgba(0, 0, 0, 0.08)","color-radio-button-icon-disabled":"rgba(255, 255, 255, 1)","color-video-thumbnail-play-button-bg-fill-hover":"rgba(0, 0, 0, 0.81)","color-video-thumbnail-play-button-bg-fill":"rgba(0, 0, 0, 0.71)","color-video-thumbnail-play-button-text-on-bg-fill":"rgba(255, 255, 255, 1)","color-scrollbar-thumb-bg-hover":"rgba(138, 138, 138, 1)","color-scrollbar-thumb-bg":"rgba(181, 181, 181, 1)"},font:{"font-family-sans":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","font-family-mono":"ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace","font-size-275":"0.6875rem","font-size-300":"0.75rem","font-size-325":"0.8125rem","font-size-350":"0.875rem","font-size-400":"1rem","font-size-450":"1.125rem","font-size-500":"1.25rem","font-size-550":"1.375rem","font-size-600":"1.5rem","font-size-750":"1.875rem","font-size-800":"2rem","font-size-900":"2.25rem","font-size-1000":"2.5rem","font-weight-regular":"450","font-weight-medium":"550","font-weight-semibold":"650","font-weight-bold":"700","font-letter-spacing-densest":"-0.03375rem","font-letter-spacing-denser":"-0.01875rem","font-letter-spacing-dense":"-0.0125rem","font-letter-spacing-normal":"0rem","font-line-height-300":"0.75rem","font-line-height-400":"1rem","font-line-height-500":"1.25rem","font-line-height-600":"1.5rem","font-line-height-700":"1.75rem","font-line-height-800":"2rem","font-line-height-1000":"2.5rem","font-line-height-1200":"3rem"},height:{"height-0":"0rem","height-025":"0.0625rem","height-050":"0.125rem","height-100":"0.25rem","height-150":"0.375rem","height-200":"0.5rem","height-300":"0.75rem","height-400":"1rem","height-500":"1.25rem","height-600":"1.5rem","height-700":"1.75rem","height-800":"2rem","height-900":"2.25rem","height-1000":"2.5rem","height-1200":"3rem","height-1600":"4rem","height-2000":"5rem","height-2400":"6rem","height-2800":"7rem","height-3200":"8rem"},motion:{"motion-duration-0":"0ms","motion-duration-50":"50ms","motion-duration-100":"100ms","motion-duration-150":"150ms","motion-duration-200":"200ms","motion-duration-250":"250ms","motion-duration-300":"300ms","motion-duration-350":"350ms","motion-duration-400":"400ms","motion-duration-450":"450ms","motion-duration-500":"500ms","motion-duration-5000":"5000ms","motion-ease":"cubic-bezier(0.25, 0.1, 0.25, 1)","motion-ease-in":"cubic-bezier(0.42, 0, 1, 1)","motion-ease-out":"cubic-bezier(0.19, 0.91, 0.38, 1)","motion-ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","motion-linear":"cubic-bezier(0, 0, 1, 1)","motion-keyframes-bounce":"{ from, 65%, 85% { transform: scale(1) } 75% { transform: scale(0.85) } 82.5% { transform: scale(1.05) } }","motion-keyframes-fade-in":"{ to { opacity: 1 } }","motion-keyframes-pulse":"{ from, 75% { transform: scale(0.85); opacity: 1; } to { transform: scale(2.5); opacity: 0; } }","motion-keyframes-spin":"{ to { transform: rotate(1turn) } }","motion-keyframes-appear-above":"{ from { transform: translateY(var(--p-space-100)); opacity: 0; } to { transform: none; opacity: 1; } }","motion-keyframes-appear-below":"{ from { transform: translateY(calc(var(--p-space-100) * -1)); opacity: 0; } to { transform: none; opacity: 1; } }"},shadow:{"shadow-0":"none","shadow-100":"0rem 0.0625rem 0rem 0rem rgba(26, 26, 26, 0.07)","shadow-200":"0rem 0.1875rem 0.0625rem -0.0625rem rgba(26, 26, 26, 0.07)","shadow-300":"0rem 0.25rem 0.375rem -0.125rem rgba(26, 26, 26, 0.20)","shadow-400":"0rem 0.5rem 1rem -0.25rem rgba(26, 26, 26, 0.22)","shadow-500":"0rem 0.75rem 1.25rem -0.5rem rgba(26, 26, 26, 0.24)","shadow-600":"0rem 1.25rem 1.25rem -0.5rem rgba(26, 26, 26, 0.28)","shadow-bevel-100":"0.0625rem 0rem 0rem 0rem rgba(204, 204, 204, 0.08) inset, -0.0625rem 0rem 0rem 0rem rgba(204, 204, 204, 0.08) inset, 0rem -0.0625rem 0rem 0rem rgba(204, 204, 204, 0.08) inset, 0rem 0.0625rem 0rem 0rem rgba(204, 204, 204, 0.16) inset","shadow-inset-100":"0rem 0.0625rem 0.125rem 0rem rgba(26, 26, 26, 0.15) inset, 0rem 0.0625rem 0.0625rem 0rem rgba(26, 26, 26, 0.15) inset","shadow-inset-200":"0rem 0.125rem 0.0625rem 0rem rgba(26, 26, 26, 0.20) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.12) inset, -0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.12) inset","shadow-button":"0rem -0.0625rem 0rem 0rem #b5b5b5 inset, 0rem 0rem 0rem 0.0625rem rgba(0, 0, 0, 0.1) inset, 0rem 0.03125rem 0rem 0.09375rem #FFF inset","shadow-button-hover":"0rem 0.0625rem 0rem 0rem #EBEBEB inset, -0.0625rem 0rem 0rem 0rem #EBEBEB inset, 0.0625rem 0rem 0rem 0rem #EBEBEB inset, 0rem -0.0625rem 0rem 0rem #CCC inset","shadow-button-inset":"-0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.122) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(26, 26, 26, 0.122) inset, 0rem 0.125rem 0.0625rem 0rem rgba(26, 26, 26, 0.2) inset","shadow-button-primary":"0rem -0.0625rem 0rem 0.0625rem rgba(0, 0, 0, 0.8) inset, 0rem 0rem 0rem 0.0625rem rgba(48, 48, 48, 1) inset, 0rem 0.03125rem 0rem 0.09375rem rgba(255, 255, 255, 0.25) inset;","shadow-button-primary-hover":"0rem 0.0625rem 0rem 0rem rgba(255, 255, 255, 0.24) inset, 0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, -0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, 0rem -0.0625rem 0rem 0rem #000 inset, 0rem -0.0625rem 0rem 0.0625rem #1A1A1A","shadow-button-primary-inset":"0rem 0.1875rem 0rem 0rem rgb(0, 0, 0) inset","shadow-button-primary-critical":"0rem -0.0625rem 0rem 0.0625rem rgba(142, 31, 11, 0.8) inset, 0rem 0rem 0rem 0.0625rem rgba(181, 38, 11, 0.8) inset, 0rem 0.03125rem 0rem 0.09375rem rgba(255, 255, 255, 0.349) inset","shadow-button-primary-critical-hover":"0rem 0.0625rem 0rem 0rem rgba(255, 255, 255, 0.48) inset, 0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, -0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, 0rem -0.09375rem 0rem 0rem rgba(0, 0, 0, 0.25) inset","shadow-button-primary-critical-inset":"-0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0rem 0.125rem 0rem 0rem rgba(0, 0, 0, 0.6) inset","shadow-button-primary-success":"0rem -0.0625rem 0rem 0.0625rem rgba(12, 81, 50, 0.8) inset, 0rem 0rem 0rem 0.0625rem rgba(19, 111, 69, 0.8) inset, 0rem 0.03125rem 0rem 0.09375rem rgba(255, 255, 255, 0.251) inset","shadow-button-primary-success-hover":"0rem 0.0625rem 0rem 0rem rgba(255, 255, 255, 0.48) inset, 0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, -0.0625rem 0rem 0rem 0rem rgba(255, 255, 255, 0.20) inset, 0rem -0.09375rem 0rem 0rem rgba(0, 0, 0, 0.25) inset","shadow-button-primary-success-inset":"-0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0.0625rem 0rem 0.0625rem 0rem rgba(0, 0, 0, 0.2) inset, 0rem 0.125rem 0rem 0rem rgba(0, 0, 0, 0.6) inset","shadow-border-inset":"0rem 0rem 0rem 0.0625rem rgba(0, 0, 0, 0.08) inset"},space:{"space-0":"0rem","space-025":"0.0625rem","space-050":"0.125rem","space-100":"0.25rem","space-150":"0.375rem","space-200":"0.5rem","space-300":"0.75rem","space-400":"1rem","space-500":"1.25rem","space-600":"1.5rem","space-800":"2rem","space-1000":"2.5rem","space-1200":"3rem","space-1600":"4rem","space-2000":"5rem","space-2400":"6rem","space-2800":"7rem","space-3200":"8rem","space-button-group-gap":"0.5rem","space-card-gap":"1rem","space-card-padding":"1rem","space-table-cell-padding":"0.375rem"},text:{"text-heading-3xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-3xl-font-size":"2.25rem","text-heading-3xl-font-weight":"700","text-heading-3xl-font-letter-spacing":"-0.03375rem","text-heading-3xl-font-line-height":"3rem","text-heading-2xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-2xl-font-size":"1.875rem","text-heading-2xl-font-weight":"700","text-heading-2xl-font-letter-spacing":"-0.01875rem","text-heading-2xl-font-line-height":"2.5rem","text-heading-xl-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-xl-font-size":"1.5rem","text-heading-xl-font-weight":"700","text-heading-xl-font-letter-spacing":"-0.0125rem","text-heading-xl-font-line-height":"2rem","text-heading-lg-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-lg-font-size":"1.25rem","text-heading-lg-font-weight":"650","text-heading-lg-font-letter-spacing":"-0.0125rem","text-heading-lg-font-line-height":"1.5rem","text-heading-md-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-md-font-size":"0.875rem","text-heading-md-font-weight":"650","text-heading-md-font-letter-spacing":"0rem","text-heading-md-font-line-height":"1.25rem","text-heading-sm-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-sm-font-size":"0.8125rem","text-heading-sm-font-weight":"650","text-heading-sm-font-letter-spacing":"0rem","text-heading-sm-font-line-height":"1.25rem","text-heading-xs-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-heading-xs-font-size":"0.75rem","text-heading-xs-font-weight":"650","text-heading-xs-font-letter-spacing":"0rem","text-heading-xs-font-line-height":"1rem","text-body-lg-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-lg-font-size":"0.875rem","text-body-lg-font-weight":"450","text-body-lg-font-letter-spacing":"0rem","text-body-lg-font-line-height":"1.25rem","text-body-md-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-md-font-size":"0.8125rem","text-body-md-font-weight":"450","text-body-md-font-letter-spacing":"0rem","text-body-md-font-line-height":"1.25rem","text-body-sm-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-sm-font-size":"0.75rem","text-body-sm-font-weight":"450","text-body-sm-font-letter-spacing":"0rem","text-body-sm-font-line-height":"1rem","text-body-xs-font-family":"'Inter', -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif","text-body-xs-font-size":"0.6875rem","text-body-xs-font-weight":"450","text-body-xs-font-letter-spacing":"0rem","text-body-xs-font-line-height":"0.75rem"},width:{"width-0":"0rem","width-025":"0.0625rem","width-050":"0.125rem","width-100":"0.25rem","width-150":"0.375rem","width-200":"0.5rem","width-300":"0.75rem","width-400":"1rem","width-500":"1.25rem","width-600":"1.5rem","width-700":"1.75rem","width-800":"2rem","width-900":"2.25rem","width-1000":"2.5rem","width-1200":"3rem","width-1600":"4rem","width-2000":"5rem","width-2400":"6rem","width-2800":"7rem","width-3200":"8rem"},zIndex:{"z-index-0":"auto","z-index-1":"100","z-index-2":"400","z-index-3":"510","z-index-4":"512","z-index-5":"513","z-index-6":"514","z-index-7":"515","z-index-8":"516","z-index-9":"517","z-index-10":"518","z-index-11":"519","z-index-12":"520"}}},YP=JP[sb];Sse(JP[sb]);const QP=W.createContext(null),ZP=W.createContext(null);function bk(n){return JP[n]}function wse(){const n=W.useContext(QP);if(!n)throw new Error("No theme was provided. Your application must be wrapped in an <AppProvider> or <ThemeProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.");return n}function Cse(){const n=W.useContext(ZP);if(!n)throw new Error("No themeName was provided. Your application must be wrapped in an <AppProvider> or <ThemeProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.");return n}function Ak(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")}function qn(...n){return n.filter(Boolean).join(" ")}function Ws(n,e){return`${n}${e.charAt(0).toUpperCase()}${e.slice(1)}`}function eD(n){const e=Object.entries(n).filter(([t,r])=>r!=null);return e.length?Object.fromEntries(e):void 0}function Lf(n,e,t,r){if(!r)return{};let i;return Ak(r)?i=Object.fromEntries(Object.entries(r).map(([o,s])=>[o,`var(--p-${t}-${s})`])):i={[vk[0]]:`var(--p-${t}-${r})`},Object.fromEntries(Object.entries(i).map(([o,s])=>[`--pc-${n}-${e}-${o}`,s]))}function Mse(n,e,t){return t?Ak(t)?Object.fromEntries(Object.entries(t).map(([r,i])=>[`--pc-${n}-${e}-${r}`,i])):{[`--pc-${n}-${e}-${vk[0]}`]:t}:{}}var Tse={themeContainer:"Polaris-ThemeProvider--themeContainer"};const Pse=["light","dark-experimental"],Dse=n=>Pse.includes(n);function Rse(n){const{as:e="div",children:t,className:r,theme:i=sb}=n;return X.createElement(ZP.Provider,{value:i},X.createElement(QP.Provider,{value:bk(i)},X.createElement(e,{"data-portal-id":n["data-portal-id"],className:qn(_k(i),Tse.themeContainer,r)},t)))}const Ek=W.createContext(!1),ab=typeof window>"u"||typeof document>"u",o1=ab?W.useEffect:W.useLayoutEffect;function tD(n,e,t,r){const i=W.useRef(e),o=W.useRef(r);o1(()=>{i.current=e},[e]),o1(()=>{o.current=r},[r]),W.useEffect(()=>{if(!(typeof n=="string"&&t!==null))return;let s;if(typeof t>"u")s=window;else if("current"in t){if(t.current===null)return;s=t.current}else s=t;const a=o.current,u=c=>i.current(c);return s.addEventListener(n,u,a),()=>{s.removeEventListener(n,u,a)}},[n,t])}const Sk={navigationBarCollapsed:"767.95px",stackedContent:"1039.95px"},xk={media:"",addListener:U_,removeListener:U_,matches:!1,onchange:U_,addEventListener:U_,removeEventListener:U_,dispatchEvent:n=>!0};function U_(){}function wF(){return ab?xk:window.matchMedia(`(max-width: ${Sk.navigationBarCollapsed})`)}function Ose(){return ab?xk:window.matchMedia(`(max-width: ${Sk.stackedContent})`)}const hT=new Set,nD=Fse(YP.breakpoints);ab||nD.forEach(([n,e])=>{const t=i=>{for(const o of hT)o(n,i.matches)},r=window.matchMedia(e);r.addListener?r.addListener(t):r.addEventListener("change",t)});function Ise(n){return Object.fromEntries(nD.map(([e])=>[e,!1]))}function Bse(){return Object.fromEntries(nD.map(([n,e])=>[n,window.matchMedia(e).matches]))}function rD(n){const[e,t]=W.useState(Ise());return o1(()=>{t(Bse());const r=(i,o)=>{t(s=>({...s,[i]:o}))};return hT.add(r),()=>{hT.delete(r)}},[]),e}function Fse(n){return Object.entries(Ase(n)).map(([t,r])=>Object.entries(r).map(([i,o])=>[`${t.split("-")[1]}${Lse(i)}`,o])).flat()}function Lse(n){return n.charAt(0).toUpperCase()+n.slice(1)}function RS(n,e,t){let r,i,o,s,a,u,c=0,l=!1,f=!1,h=!0;const m=!e&&e!==0;if(typeof n!="function")throw new TypeError("Expected a function");const g=e||0;typeof t=="object"&&(l=!!t.leading,f="maxWait"in t,o=f?Math.max(Number(t.maxWait)||0,g):void 0,h="trailing"in t?!!t.trailing:h);function p(k){const q=r,Y=i;return r=void 0,i=void 0,c=k,s=n.apply(Y,q),s}function y(k,q){return m?(cancelAnimationFrame(a),requestAnimationFrame(k)):setTimeout(k,q)}function b(k){if(m)return cancelAnimationFrame(k);clearTimeout(k)}function x(k){return c=k,a=y(R,g),l?p(k):s}function C(k){const q=k-u,Y=k-c,ee=g-q;return f&&o?Math.min(ee,o-Y):ee}function M(k){const q=k-u,Y=k-c;return u===void 0||q>=g||q<0||f&&o&&Y>=o}function R(){const k=Date.now();if(M(k))return O(k);a=y(R,C(k))}function O(k){return a=void 0,h&&r?p(k):(r=i=void 0,s)}function N(){a!==void 0&&b(a),c=0,r=u=i=a=void 0}function F(){return a===void 0?s:O(Date.now())}function I(){return a!==void 0}function B(...k){const q=Date.now(),Y=M(q);if(r=k,i=this,u=q,Y){if(a===void 0)return x(u);if(f)return a=y(R,g),p(u)}return a===void 0&&(a=y(R,g)),s}return B.cancel=N,B.flush=F,B.pending=I,B}class rg{static get zero(){return new rg}constructor({top:e=0,left:t=0,width:r=0,height:i=0}={}){this.top=e,this.left=t,this.width=r,this.height=i}get center(){return{x:this.left+this.width/2,y:this.top+this.height/2}}}function Yd(n){try{const e=n.getBoundingClientRect();return new rg({top:e.top,left:e.left,width:e.width,height:e.height})}catch{return new rg({width:window.innerWidth,height:window.innerHeight})}}const JA=1e3/60;class wk{constructor(e){this.stickyItems=[],this.stuckItems=[],this.container=null,this.topBarOffset=0,this.handleResize=RS(()=>{this.manageStickyItems()},JA,{leading:!0,trailing:!0,maxWait:JA}),this.handleScroll=RS(()=>{this.manageStickyItems()},JA,{leading:!0,trailing:!0,maxWait:JA}),e&&this.setContainer(e)}registerStickyItem(e){this.stickyItems.push(e)}unregisterStickyItem(e){const t=this.stickyItems.findIndex(({stickyNode:r})=>e===r);this.stickyItems.splice(t,1)}getStickyItem(e){return this.stickyItems.find(({stickyNode:t})=>e===t)}setContainer(e){this.container=e,Ck(e)&&this.setTopBarOffset(e),this.container.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize),this.manageStickyItems()}removeScrollListener(){this.container&&(this.container.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize))}manageStickyItems(){if(this.stickyItems.length<=0)return;const e=this.container?Nse(this.container):0,t=Yd(this.container).top+this.topBarOffset;this.stickyItems.forEach(r=>{const{handlePositioning:i}=r,{sticky:o,top:s,left:a,width:u}=this.evaluateStickyItem(r,e,t);this.updateStuckItems(r,o),i(o,s,a,u)})}evaluateStickyItem(e,t,r){var y;const{stickyNode:i,placeHolderNode:o,boundingElement:s,offset:a,disableWhenStacked:u}=e;if(u&&Ose().matches)return{sticky:!1,top:0,left:0,width:"auto"};const c=a?this.getOffset(i)+parseInt(YP.space["space-500"],10):this.getOffset(i),l=t+c,f=o.getBoundingClientRect().top-r+t,h=r+c,m=o.getBoundingClientRect().width,g=o.getBoundingClientRect().left;let p;if(s==null)p=l>=f;else{const b=i.getBoundingClientRect().height||((y=i.firstElementChild)==null?void 0:y.getBoundingClientRect().height)||0,x=s.getBoundingClientRect().bottom-b+t-r;p=l>=f&&l<x}return{sticky:p,top:h,left:g,width:m}}updateStuckItems(e,t){const{stickyNode:r}=e;t&&!this.isNodeStuck(r)?this.addStuckItem(e):!t&&this.isNodeStuck(r)&&this.removeStuckItem(e)}addStuckItem(e){this.stuckItems.push(e)}removeStuckItem(e){const{stickyNode:t}=e,r=this.stuckItems.findIndex(({stickyNode:i})=>t===i);this.stuckItems.splice(r,1)}getOffset(e){if(this.stuckItems.length===0)return 0;let t=0,r=0;const i=this.stuckItems.length,o=Yd(e);for(;r<i;){const s=this.stuckItems[r].stickyNode;if(s!==e){const a=Yd(s);Use(o,a)||(t+=Yd(s).height)}else break;r++}return t}isNodeStuck(e){return this.stuckItems.findIndex(({stickyNode:r})=>e===r)>=0}setTopBarOffset(e){const t=e.querySelector(`:not(${XP.selector}) ${pk.selector}`);this.topBarOffset=t?t.clientHeight:0}}function Ck(n){return n===document}function Nse(n){return Ck(n)?document.body.scrollTop||document.documentElement.scrollTop:n.scrollTop}function Use(n,e){const t=n.left,r=n.left+n.width,i=e.left;return e.left+e.width<t||r<i}const CF="data-lock-scrolling",MF="data-lock-scrolling-hidden",TF="data-lock-scrolling-wrapper";let YA=0;function kse(){const{body:n}=document;return n.scrollHeight>n.clientHeight}class zse{constructor(){this.scrollLocks=0,this.locked=!1}registerScrollLock(){this.scrollLocks+=1,this.handleScrollLocking()}unregisterScrollLock(){this.scrollLocks-=1,this.handleScrollLocking()}handleScrollLocking(){if(ab)return;const{scrollLocks:e}=this,{body:t}=document,r=t.firstElementChild;e===0?(t.removeAttribute(CF),t.removeAttribute(MF),r&&r.removeAttribute(TF),window.scroll(0,YA),this.locked=!1):e>0&&!this.locked&&(YA=window.pageYOffset,t.setAttribute(CF,""),kse()||t.setAttribute(MF,""),r&&(r.setAttribute(TF,""),r.scrollTop=YA),this.locked=!0)}resetScrollPosition(){YA=0}}const Hse=/\[(.*?)\]|(\w+)/g;function PF(n,e,t){if(n==null)return;const r=Array.isArray(e)?e:Gse(e);let i=n;for(let o=0;o<r.length;o++){const s=i[r[o]];if(s===void 0)return t;i=s}return i}function Gse(n){const e=[];let t;for(;t=Hse.exec(n);){const[,r,i]=t;e.push(r||i)}return e}function Vse(...n){let e={};for(const t of n)e=Mk(e,t);return e}function Mk(n,e){const t=Array.isArray(n)?[...n]:{...n};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r))DF(e[r])&&DF(t[r])?t[r]=Mk(t[r],e[r]):t[r]=e[r];else continue;return t}function DF(n){return n!==null&&typeof n=="object"}const jse=/{([^}]*)}/g;let RF=class{constructor(e){this.translation={},this.translation=Array.isArray(e)?Vse(...e.slice().reverse()):e}translate(e,t){const r=PF(this.translation,e,"");return r?t?r.replace(jse,i=>{const o=i.substring(1,i.length-1);if(t[o]===void 0){const s=JSON.stringify(t);throw new Error(`Error in translation for key '${e}'. No replacement found for key '${o}'. The following replacements were passed: '${s}'`)}return t[o]}):r:""}translationKeyExists(e){return!!PF(this.translation,e)}};const Wse=W.createContext(void 0),Tk=W.createContext(void 0),$se=W.createContext(void 0),Pk=W.createContext(void 0),Dk=W.createContext(void 0),Rk=W.createContext(void 0);class Iy extends W.PureComponent{componentDidMount(){this.attachListener()}componentDidUpdate({passive:e,...t}){this.detachListener(t),this.attachListener()}componentWillUnmount(){this.detachListener()}render(){return null}attachListener(){const{event:e,handler:t,capture:r,passive:i,window:o}=this.props;(o||globalThis.window).addEventListener(e,t,{capture:r,passive:i})}detachListener(e){const{event:t,handler:r,capture:i,window:o}=e||this.props;(o||globalThis.window).removeEventListener(t,r,i)}}const qse=function({children:e}){const[t,r]=W.useState(!1),i=W.useCallback(RS(()=>{t!==wF().matches&&r(!t)},40,{trailing:!0,leading:!0,maxWait:40}),[t]);W.useEffect(()=>{r(wF().matches)},[]);const o=W.useMemo(()=>({isNavigationCollapsed:t}),[t]);return X.createElement(Rk.Provider,{value:o},X.createElement(Iy,{event:"resize",handler:i}),e)};function Ix(){const[n,e]=W.useState(!1);return W.useEffect(()=>{e(!0)},[]),n}const iD=W.createContext(void 0);function Xse(n,e){return X.createElement("div",{id:"PolarisPortalsContainer",ref:e})}const Kse=W.forwardRef(Xse);function Jse({children:n,container:e}){const t=Ix(),r=W.useRef(null),i=W.useMemo(()=>e?{container:e}:t?{container:r.current}:{container:null},[e,t]);return X.createElement(iD.Provider,{value:i},n,e?null:X.createElement(Kse,{ref:r}))}const Yse=W.createContext(void 0);function Qse({children:n}){const[e,t]=W.useState([]),r=W.useCallback(s=>{t(a=>[...a,s])},[]),i=W.useCallback(s=>{let a=!0;return t(u=>{const c=[...u],l=c.indexOf(s);return l===-1?a=!1:c.splice(l,1),c}),a},[]),o=W.useMemo(()=>({trapFocusList:e,add:r,remove:i}),[r,e,i]);return X.createElement(Yse.Provider,{value:o},n)}const Ok=W.createContext(void 0),Zse={tooltip:0,hovercard:0};function eae({children:n}){const[e,t]=W.useState(Zse),r=W.useCallback(s=>{t(a=>({...a,[s]:a[s]+1}))},[]),i=W.useCallback(s=>{t(a=>({...a,[s]:a[s]-1}))},[]),o=W.useMemo(()=>({presenceList:Object.entries(e).reduce((s,a)=>{const[u,c]=a;return{...s,[u]:c>=1}},{}),presenceCounter:e,addPresence:r,removePresence:i}),[r,i,e]);return X.createElement(Ok.Provider,{value:o},n)}const tae=20,vE=30,nae=vE+10;function rae(){var i;const n=document.createElement("div");n.setAttribute("style",`position: absolute; opacity: 0; transform: translate3d(-9999px, -9999px, 0); pointer-events: none; width:${vE}px; height:${vE}px;`);const e=document.createElement("div");e.setAttribute("style",`width:100%; height: ${nae}; overflow:scroll; scrollbar-width: thin;`),n.appendChild(e),document.body.appendChild(n);const t=vE-(((i=n.firstElementChild)==null?void 0:i.clientWidth)??0),r=Math.min(t,tae);document.documentElement.style.setProperty("--pc-app-provider-scrollbar-width",`${r}px`),document.body.removeChild(n)}class iae extends W.Component{constructor(e){super(e),this.setBodyStyles=()=>{document.body.style.backgroundColor="var(--p-color-bg)",document.body.style.color="var(--p-color-text)"},this.setRootAttributes=()=>{const i=this.getThemeName();xse.forEach(o=>{document.documentElement.classList.toggle(_k(o),o===i)})},this.getThemeName=()=>this.props.theme??sb,this.stickyManager=new wk,this.scrollLockManager=new zse;const{i18n:t,linkComponent:r}=this.props;this.state={link:r,intl:new RF(t)}}componentDidMount(){if(document!=null){this.stickyManager.setContainer(document),this.setBodyStyles(),this.setRootAttributes();const e=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.userAgent.includes("Version/16.1")||navigator.userAgent.includes("Version/16.2")||navigator.userAgent.includes("Version/16.3")),t=navigator.userAgent.includes("Shopify Mobile/iOS")&&(navigator.userAgent.includes("OS 16_1")||navigator.userAgent.includes("OS 16_2")||navigator.userAgent.includes("OS 16_3"));(e||t)&&document.documentElement.classList.add("Polaris-Safari-16-Font-Optical-Sizing-Patch")}rae()}componentDidUpdate({i18n:e,linkComponent:t}){const{i18n:r,linkComponent:i}=this.props;this.setRootAttributes(),!(r===e&&i===t)&&this.setState({link:i,intl:new RF(r)})}render(){const{children:e,features:t={}}=this.props,r=this.getThemeName(),{intl:i,link:o}=this.state;return X.createElement(ZP.Provider,{value:r},X.createElement(QP.Provider,{value:bk(r)},X.createElement(Wse.Provider,{value:t},X.createElement(Tk.Provider,{value:i},X.createElement($se.Provider,{value:this.scrollLockManager},X.createElement(Pk.Provider,{value:this.stickyManager},X.createElement(Dk.Provider,{value:o},X.createElement(qse,null,X.createElement(Jse,null,X.createElement(Qse,null,X.createElement(eae,null,e)))))))))))}}var Ik=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),X.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),X.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};Ik.displayName="AlertCircleIcon";var Bk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),X.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),X.createElement("path",{fillRule:"evenodd",d:"M11.237 3.177a1.75 1.75 0 0 0-2.474 0l-5.586 5.585a1.75 1.75 0 0 0 0 2.475l5.586 5.586a1.75 1.75 0 0 0 2.474 0l5.586-5.586a1.75 1.75 0 0 0 0-2.475l-5.586-5.585Zm-1.414 1.06a.25.25 0 0 1 .354 0l5.586 5.586a.25.25 0 0 1 0 .354l-5.586 5.585a.25.25 0 0 1-.354 0l-5.586-5.585a.25.25 0 0 1 0-.354l5.586-5.586Z"}))};Bk.displayName="AlertDiamondIcon";var Fk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{d:"M10 6.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),X.createElement("path",{d:"M11 13.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),X.createElement("path",{fillRule:"evenodd",d:"M10 3.5c-1.045 0-1.784.702-2.152 1.447a449.26 449.26 0 0 1-2.005 3.847l-.028.052a403.426 403.426 0 0 0-2.008 3.856c-.372.752-.478 1.75.093 2.614.57.863 1.542 1.184 2.464 1.184h7.272c.922 0 1.895-.32 2.464-1.184.57-.864.465-1.862.093-2.614-.21-.424-1.113-2.147-2.004-3.847l-.032-.061a429.497 429.497 0 0 1-2.005-3.847c-.368-.745-1.107-1.447-2.152-1.447Zm-.808 2.112c.404-.816 1.212-.816 1.616 0 .202.409 1.112 2.145 2.022 3.88a418.904 418.904 0 0 1 2.018 3.875c.404.817 0 1.633-1.212 1.633h-7.272c-1.212 0-1.617-.816-1.212-1.633.202-.408 1.113-2.147 2.023-3.883a421.932 421.932 0 0 0 2.017-3.872Z"}))};Fk.displayName="AlertTriangleIcon";var Lk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{fillRule:"evenodd",d:"M16.5 10a.75.75 0 0 1-.75.75h-9.69l2.72 2.72a.75.75 0 0 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 1 1 1.06 1.06l-2.72 2.72h9.69a.75.75 0 0 1 .75.75Z"}))};Lk.displayName="ArrowLeftIcon";var Nk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{fillRule:"evenodd",d:"M15.78 5.97a.75.75 0 0 1 0 1.06l-6.5 6.5a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 1 1 1.06-1.06l2.72 2.72 5.97-5.97a.75.75 0 0 1 1.06 0Z"}))};Nk.displayName="CheckIcon";var oD=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{fillRule:"evenodd",d:"M5.72 8.47a.75.75 0 0 1 1.06 0l3.47 3.47 3.47-3.47a.75.75 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06Z"}))};oD.displayName="ChevronDownIcon";var Uk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{fillRule:"evenodd",d:"M11.764 5.204a.75.75 0 0 1 .032 1.06l-3.516 3.736 3.516 3.736a.75.75 0 1 1-1.092 1.028l-4-4.25a.75.75 0 0 1 0-1.028l4-4.25a.75.75 0 0 1 1.06-.032Z"}))};Uk.displayName="ChevronLeftIcon";var kk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{fillRule:"evenodd",d:"M7.72 14.53a.75.75 0 0 1 0-1.06l3.47-3.47-3.47-3.47a.75.75 0 0 1 1.06-1.06l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0Z"}))};kk.displayName="ChevronRightIcon";var sD=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{fillRule:"evenodd",d:"M14.53 12.28a.75.75 0 0 1-1.06 0l-3.47-3.47-3.47 3.47a.75.75 0 0 1-1.06-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06Z"}))};sD.displayName="ChevronUpIcon";var zk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{d:"M10 14a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5a.75.75 0 0 1-.75.75Z"}),X.createElement("path",{d:"M9 7a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"}),X.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};zk.displayName="InfoIcon";var Hk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{d:"M6 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}),X.createElement("path",{d:"M11.5 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}),X.createElement("path",{d:"M17 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))};Hk.displayName="MenuHorizontalIcon";var Gk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{fillRule:"evenodd",d:"M12.323 13.383a5.5 5.5 0 1 1 1.06-1.06l2.897 2.897a.75.75 0 1 1-1.06 1.06l-2.897-2.897Zm.677-4.383a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"}))};Gk.displayName="SearchIcon";var Vk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{d:"M10.884 4.323a1.25 1.25 0 0 0-1.768 0l-2.646 2.647a.75.75 0 0 0 1.06 1.06l2.47-2.47 2.47 2.47a.75.75 0 1 0 1.06-1.06l-2.646-2.647Z"}),X.createElement("path",{d:"m13.53 13.03-2.646 2.647a1.25 1.25 0 0 1-1.768 0l-2.646-2.647a.75.75 0 0 1 1.06-1.06l2.47 2.47 2.47-2.47a.75.75 0 0 1 1.06 1.06Z"}))};Vk.displayName="SelectIcon";var jk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{d:"M13.03 6.97a.75.75 0 0 1 0 1.06l-1.97 1.97 1.97 1.97a.75.75 0 1 1-1.06 1.06l-1.97-1.97-1.97 1.97a.75.75 0 0 1-1.06-1.06l1.97-1.97-1.97-1.97a.75.75 0 0 1 1.06-1.06l1.97 1.97 1.97-1.97a.75.75 0 0 1 1.06 0Z"}),X.createElement("path",{fillRule:"evenodd",d:"M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z"}))};jk.displayName="XCircleIcon";var Wk=function(e){return X.createElement("svg",Object.assign({viewBox:"0 0 20 20"},e),X.createElement("path",{d:"M13.97 15.03a.75.75 0 1 0 1.06-1.06l-3.97-3.97 3.97-3.97a.75.75 0 0 0-1.06-1.06l-3.97 3.97-3.97-3.97a.75.75 0 0 0-1.06 1.06l3.97 3.97-3.97 3.97a.75.75 0 1 0 1.06 1.06l3.97-3.97 3.97 3.97Z"}))};Wk.displayName="XIcon";function oae(n){const{top:e,left:t,bottom:r,right:i}=n.getBoundingClientRect(),o=n.ownerDocument.defaultView||globalThis.window;return e>=0&&i<=o.innerWidth&&r<=o.innerHeight&&t>=0}const pT='a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not([aria-disabled="true"]):not([tabindex="-1"]):not(:disabled),*[tabindex]',OF='a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not([aria-disabled="true"]):not([tabindex="-1"]):not(:disabled),*[tabindex]:not([tabindex="-1"])',sae='a[role="menuitem"],frame[role="menuitem"],iframe[role="menuitem"],input[role="menuitem"]:not([type=hidden]):not(:disabled),select[role="menuitem"]:not(:disabled),textarea[role="menuitem"]:not(:disabled),button[role="menuitem"]:not(:disabled),*[tabindex]:not([tabindex="-1"])',Bx=({currentTarget:n})=>n.blur();function aae(n,e){const t=[...document.querySelectorAll(pT)],r=t.indexOf(n)+1,i=t.slice(r);for(const o of i)if(oae(o)&&(!e||e&&e(o)))return o;return null}function uae(n,e=!0){return!e&&aD(n,pT)?n:n.querySelector(pT)}function k_(n){const e="a,button,frame,iframe,input:not([type=hidden]),select,textarea,*[tabindex]";return aD(n,e)?n:n.querySelector(e)}function IF(n,e){const t=aae(n,e);return t&&t instanceof HTMLElement?(t.focus(),!0):!1}function lae(n,e=!0){return!e&&aD(n,OF)?n:n.querySelector(OF)}function cae(n,e){const t=$k(n),r=qk(t,e);r===-1?t[0].focus():t[(r-1+t.length)%t.length].focus()}function fae(n,e){const t=$k(n),r=qk(t,e);r===-1?t[0].focus():t[(r+1)%t.length].focus()}function $k(n){return n.querySelectorAll(sae)}function qk(n,e){let t=0;for(const r of n){if(r===e)break;t++}return t===n.length?-1:t}function aD(n,e){if(n.matches)return n.matches(e);const t=(n.ownerDocument||document).querySelectorAll(e);let r=t.length;for(;--r>=0&&t.item(r)!==n;)return r>-1}var is={Button:"Polaris-Button",disabled:"Polaris-Button--disabled",pressed:"Polaris-Button--pressed",variantPrimary:"Polaris-Button--variantPrimary",variantSecondary:"Polaris-Button--variantSecondary",variantTertiary:"Polaris-Button--variantTertiary",variantPlain:"Polaris-Button--variantPlain",removeUnderline:"Polaris-Button--removeUnderline",variantMonochromePlain:"Polaris-Button--variantMonochromePlain",toneSuccess:"Polaris-Button--toneSuccess",toneCritical:"Polaris-Button--toneCritical",sizeMicro:"Polaris-Button--sizeMicro",sizeSlim:"Polaris-Button--sizeSlim",sizeMedium:"Polaris-Button--sizeMedium",sizeLarge:"Polaris-Button--sizeLarge",textAlignCenter:"Polaris-Button--textAlignCenter",textAlignStart:"Polaris-Button--textAlignStart",textAlignLeft:"Polaris-Button--textAlignLeft",textAlignEnd:"Polaris-Button--textAlignEnd",textAlignRight:"Polaris-Button--textAlignRight",fullWidth:"Polaris-Button--fullWidth",iconOnly:"Polaris-Button--iconOnly",iconWithText:"Polaris-Button--iconWithText",disclosure:"Polaris-Button--disclosure",loading:"Polaris-Button--loading",pressable:"Polaris-Button--pressable",hidden:"Polaris-Button--hidden",Icon:"Polaris-Button__Icon",Spinner:"Polaris-Button__Spinner"},z_={Icon:"Polaris-Icon",toneInherit:"Polaris-Icon--toneInherit",toneBase:"Polaris-Icon--toneBase",toneSubdued:"Polaris-Icon--toneSubdued",toneCaution:"Polaris-Icon--toneCaution",toneWarning:"Polaris-Icon--toneWarning",toneCritical:"Polaris-Icon--toneCritical",toneInteractive:"Polaris-Icon--toneInteractive",toneInfo:"Polaris-Icon--toneInfo",toneSuccess:"Polaris-Icon--toneSuccess",tonePrimary:"Polaris-Icon--tonePrimary",toneEmphasis:"Polaris-Icon--toneEmphasis",toneMagic:"Polaris-Icon--toneMagic",toneTextCaution:"Polaris-Icon--toneTextCaution",toneTextWarning:"Polaris-Icon--toneTextWarning",toneTextCritical:"Polaris-Icon--toneTextCritical",toneTextInfo:"Polaris-Icon--toneTextInfo",toneTextPrimary:"Polaris-Icon--toneTextPrimary",toneTextSuccess:"Polaris-Icon--toneTextSuccess",toneTextMagic:"Polaris-Icon--toneTextMagic",Svg:"Polaris-Icon__Svg",Img:"Polaris-Icon__Img",Placeholder:"Polaris-Icon__Placeholder"},Nc={root:"Polaris-Text--root",block:"Polaris-Text--block",truncate:"Polaris-Text--truncate",visuallyHidden:"Polaris-Text--visuallyHidden",start:"Polaris-Text--start",center:"Polaris-Text--center",end:"Polaris-Text--end",justify:"Polaris-Text--justify",base:"Polaris-Text--base",inherit:"Polaris-Text--inherit",disabled:"Polaris-Text--disabled",success:"Polaris-Text--success",critical:"Polaris-Text--critical",caution:"Polaris-Text--caution",subdued:"Polaris-Text--subdued",magic:"Polaris-Text--magic","magic-subdued":"Polaris-Text__magic--subdued","text-inverse":"Polaris-Text__text--inverse","text-inverse-secondary":"Polaris-Text--textInverseSecondary",headingXs:"Polaris-Text--headingXs",headingSm:"Polaris-Text--headingSm",headingMd:"Polaris-Text--headingMd",headingLg:"Polaris-Text--headingLg",headingXl:"Polaris-Text--headingXl",heading2xl:"Polaris-Text--heading2xl",heading3xl:"Polaris-Text--heading3xl",bodyXs:"Polaris-Text--bodyXs",bodySm:"Polaris-Text--bodySm",bodyMd:"Polaris-Text--bodyMd",bodyLg:"Polaris-Text--bodyLg",regular:"Polaris-Text--regular",medium:"Polaris-Text--medium",semibold:"Polaris-Text--semibold",bold:"Polaris-Text--bold",break:"Polaris-Text--break",numeric:"Polaris-Text--numeric","line-through":"Polaris-Text__line--through"};const Qr=({alignment:n,as:e,breakWord:t,children:r,tone:i,fontWeight:o,id:s,numeric:a=!1,truncate:u=!1,variant:c,visuallyHidden:l=!1,textDecorationLine:f})=>{const h=e||(l?"span":"p"),m=qn(Nc.root,c&&Nc[c],o&&Nc[o],(n||u)&&Nc.block,n&&Nc[n],t&&Nc.break,i&&Nc[i],a&&Nc.numeric,u&&Nc.truncate,l&&Nc.visuallyHidden,f&&Nc[f]);return X.createElement(h,Object.assign({className:m},s&&{id:s}),r)};function pl({source:n,tone:e,accessibilityLabel:t}){let r;typeof n=="function"?r="function":n==="placeholder"?r="placeholder":r="external";const i=qn(z_.Icon,e&&z_[Ws("tone",e)]),{mdDown:o}=rD(),s=n,a={function:X.createElement(s,Object.assign({className:z_.Svg,focusable:"false","aria-hidden":"true"},o?{viewBox:"1 1 18 18"}:{})),placeholder:X.createElement("div",{className:z_.Placeholder}),external:X.createElement("img",{className:z_.Img,src:`data:image/svg+xml;utf8,${n}`,alt:"","aria-hidden":"true"})};return X.createElement("span",{className:i},t&&X.createElement(Qr,{as:"span",visuallyHidden:!0},t),a[r])}var BF={Spinner:"Polaris-Spinner",sizeSmall:"Polaris-Spinner--sizeSmall",sizeLarge:"Polaris-Spinner--sizeLarge"};function Xk({size:n="large",accessibilityLabel:e,hasFocusableParent:t}){const r=Ix(),i=qn(BF.Spinner,n&&BF[Ws("size",n)]),o=n==="large"?X.createElement("svg",{viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M15.542 1.487A21.507 21.507 0 00.5 22c0 11.874 9.626 21.5 21.5 21.5 9.847 0 18.364-6.675 20.809-16.072a1.5 1.5 0 00-2.904-.756C37.803 34.755 30.473 40.5 22 40.5 11.783 40.5 3.5 32.217 3.5 22c0-8.137 5.3-15.247 12.942-17.65a1.5 1.5 0 10-.9-2.863z"})):X.createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M7.229 1.173a9.25 9.25 0 1011.655 11.412 1.25 1.25 0 10-2.4-.698 6.75 6.75 0 11-8.506-8.329 1.25 1.25 0 10-.75-2.385z"})),s={...!t&&{role:"status"}},a=(r||!t)&&X.createElement(Qr,{as:"span",visuallyHidden:!0},e);return X.createElement(X.Fragment,null,X.createElement("span",{className:i},o),X.createElement("span",s,a))}function dae(n,e){const t=W.useCallback(r=>{n&&(r.preventDefault(),r.stopPropagation())},[n]);return n?t:e}function hae(){return W.useContext(Dk)}const Kk=W.memo(W.forwardRef(function(e,t){const r=hae();if(r)return X.createElement(r,Object.assign({},bF.props,e,{ref:t}));const{external:i,url:o,target:s,...a}=e;let u;i?u="_blank":u=s??void 0;const c=u==="_blank"?"noopener noreferrer":void 0;return X.createElement("a",Object.assign({target:u},a,{href:o,rel:c},bF.props,{ref:t}))}));function pae({id:n,children:e,className:t,url:r,external:i,target:o,download:s,submit:a,disabled:u,loading:c,pressed:l,accessibilityLabel:f,role:h,ariaControls:m,ariaExpanded:g,ariaDescribedBy:p,ariaChecked:y,onClick:b,onFocus:x,onBlur:C,onKeyDown:M,onKeyPress:R,onKeyUp:O,onMouseEnter:N,onTouchStart:F,...I}){let B;const k={id:n,className:t,"aria-label":f},q={...k,role:h,onClick:b,onFocus:x,onBlur:C,onMouseUp:Bx,onMouseEnter:N,onTouchStart:F},Y=dae(u,b);return r?B=u?X.createElement("a",k,e):X.createElement(Kk,Object.assign({},q,{url:r,external:i,target:o,download:s},I),e):B=X.createElement("button",Object.assign({},q,{"aria-disabled":u,type:a?"submit":"button","aria-busy":c?!0:void 0,"aria-controls":m,"aria-expanded":g,"aria-describedby":p,"aria-checked":y,"aria-pressed":l,onKeyDown:M,onKeyUp:O,onKeyPress:R,onClick:Y,tabIndex:u?-1:void 0},I),e),B}class mae extends Error{constructor(e=""){super(`${e&&`${e} `}Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.`),this.name="MissingAppProviderError"}}function Kl(){const n=W.useContext(Tk);if(!n)throw new mae("No i18n was provided.");return n}function uh({id:n,children:e,url:t,disabled:r,external:i,download:o,target:s,submit:a,loading:u,pressed:c,accessibilityLabel:l,role:f,ariaControls:h,ariaExpanded:m,ariaDescribedBy:g,ariaChecked:p,onClick:y,onFocus:b,onBlur:x,onKeyDown:C,onKeyPress:M,onKeyUp:R,onMouseEnter:O,onTouchStart:N,onPointerDown:F,icon:I,disclosure:B,removeUnderline:k,size:q="medium",textAlign:Y="center",fullWidth:ee,dataPrimaryLink:le,tone:J,variant:fe="secondary"}){const V=Kl(),ae=r||u,{mdUp:ue}=rD(),Q=qn(is.Button,is.pressable,is[Ws("variant",fe)],is[Ws("size",q)],is[Ws("textAlign",Y)],ee&&is.fullWidth,B&&is.disclosure,I&&e&&is.iconWithText,I&&e==null&&is.iconOnly,ae&&is.disabled,u&&is.loading,c&&!r&&!t&&is.pressed,k&&is.removeUnderline,J&&is[Ws("tone",J)]),de=B?X.createElement("span",{className:u?is.hidden:is.Icon},X.createElement(pl,{source:u?"placeholder":vae(B,sD,oD)})):null,we=gae(I)?X.createElement(pl,{source:u?"placeholder":I}):I,ye=we?X.createElement("span",{className:u?is.hidden:is.Icon},we):null,Ce=["plain","monochromePlain"].includes(fe);let Le="medium";Ce?Le="regular":fe==="primary"&&(Le=ue?"medium":"semibold");let Ie="bodySm";(q==="large"||Ce&&q!=="micro")&&(Ie="bodyMd");const Ze=e?X.createElement(Qr,{as:"span",variant:Ie,fontWeight:Le,key:r?"text-disabled":"text"},e):null,tt=u?X.createElement("span",{className:is.Spinner},X.createElement(Xk,{size:"small",accessibilityLabel:V.translate("Polaris.Button.spinnerAccessibilityLabel")})):null,Qe={id:n,className:Q,accessibilityLabel:l,ariaDescribedBy:g,role:f,onClick:y,onFocus:b,onBlur:x,onMouseUp:Bx,onMouseEnter:O,onTouchStart:N,"data-primary-link":le},lt={url:t,external:i,download:o,target:s},We={submit:a,disabled:ae,loading:u,ariaControls:h,ariaExpanded:m,ariaChecked:p,pressed:c,onKeyDown:C,onKeyUp:R,onKeyPress:M,onPointerDown:F};return X.createElement(pae,Object.assign({},Qe,lt,We),tt,ye,Ze,de)}function gae(n){return typeof n=="string"||typeof n=="object"&&n.body||typeof n=="function"}function vae(n,e,t){return n==="select"?Vk:n==="up"?e:t}function Jk({content:n,onAction:e,plain:t,destructive:r,...i},o,s){const a=t?"plain":void 0,u=r?"primary":void 0,c=!(o!=null&&o.tone)&&r?"critical":o==null?void 0:o.tone;return X.createElement(uh,Object.assign({key:s,onClick:e,tone:c,variant:a||u},i,o),n)}var QA={listReset:"Polaris-Box--listReset",Box:"Polaris-Box",visuallyHidden:"Polaris-Box--visuallyHidden",printHidden:"Polaris-Box--printHidden"};const kr=W.forwardRef(({as:n="div",background:e,borderColor:t,borderStyle:r,borderWidth:i,borderBlockStartWidth:o,borderBlockEndWidth:s,borderInlineStartWidth:a,borderInlineEndWidth:u,borderRadius:c,borderEndStartRadius:l,borderEndEndRadius:f,borderStartStartRadius:h,borderStartEndRadius:m,children:g,color:p,id:y,minHeight:b,minWidth:x,maxWidth:C,overflowX:M,overflowY:R,outlineColor:O,outlineStyle:N,outlineWidth:F,padding:I,paddingBlock:B,paddingBlockStart:k,paddingBlockEnd:q,paddingInline:Y,paddingInlineStart:ee,paddingInlineEnd:le,role:J,shadow:fe,tabIndex:V,width:ae,printHidden:ue,visuallyHidden:Q,position:de,insetBlockStart:we,insetBlockEnd:ye,insetInlineStart:Ce,insetInlineEnd:Le,zIndex:Ie,opacity:Ze,...tt},Qe)=>{const lt=r||(t||i||o||s||a||u?"solid":void 0),We=N||(O||F?"solid":void 0),Ke={"--pc-box-color":p?`var(--p-color-${p})`:void 0,"--pc-box-background":e?`var(--p-color-${e})`:void 0,"--pc-box-border-color":t?t==="transparent"?"transparent":`var(--p-color-${t})`:void 0,"--pc-box-border-style":lt,"--pc-box-border-radius":c?`var(--p-border-radius-${c})`:void 0,"--pc-box-border-end-start-radius":l?`var(--p-border-radius-${l})`:void 0,"--pc-box-border-end-end-radius":f?`var(--p-border-radius-${f})`:void 0,"--pc-box-border-start-start-radius":h?`var(--p-border-radius-${h})`:void 0,"--pc-box-border-start-end-radius":m?`var(--p-border-radius-${m})`:void 0,"--pc-box-border-width":i?`var(--p-border-width-${i})`:void 0,"--pc-box-border-block-start-width":o?`var(--p-border-width-${o})`:void 0,"--pc-box-border-block-end-width":s?`var(--p-border-width-${s})`:void 0,"--pc-box-border-inline-start-width":a?`var(--p-border-width-${a})`:void 0,"--pc-box-border-inline-end-width":u?`var(--p-border-width-${u})`:void 0,"--pc-box-min-height":b,"--pc-box-min-width":x,"--pc-box-max-width":C,"--pc-box-outline-color":O?`var(--p-color-${O})`:void 0,"--pc-box-outline-style":We,"--pc-box-outline-width":F?`var(--p-border-width-${F})`:void 0,"--pc-box-overflow-x":M,"--pc-box-overflow-y":R,...Lf("box","padding-block-start","space",k||B||I),...Lf("box","padding-block-end","space",q||B||I),...Lf("box","padding-inline-start","space",ee||Y||I),...Lf("box","padding-inline-end","space",le||Y||I),"--pc-box-shadow":fe?`var(--p-shadow-${fe})`:void 0,"--pc-box-width":ae,position:de,"--pc-box-inset-block-start":we?`var(--p-space-${we})`:void 0,"--pc-box-inset-block-end":ye?`var(--p-space-${ye})`:void 0,"--pc-box-inset-inline-start":Ce?`var(--p-space-${Ce})`:void 0,"--pc-box-inset-inline-end":Le?`var(--p-space-${Le})`:void 0,zIndex:Ie,opacity:Ze},he=qn(QA.Box,Q&&QA.visuallyHidden,ue&&QA.printHidden,n==="ul"&&QA.listReset);return X.createElement(n,{className:he,id:y,ref:Qe,style:eD(Ke),role:J,tabIndex:V,...tt},g)});kr.displayName="Box";var _ae={InlineStack:"Polaris-InlineStack"};const qc=function({as:e="div",align:t,direction:r="row",blockAlign:i,gap:o,wrap:s=!0,children:a}){const u={"--pc-inline-stack-align":t,"--pc-inline-stack-block-align":i,"--pc-inline-stack-wrap":s?"wrap":"nowrap",...Lf("inline-stack","gap","space",o),...Mse("inline-stack","flex-direction",r)};return X.createElement(e,{className:_ae.InlineStack,style:u},a)};var sM={BlockStack:"Polaris-BlockStack",listReset:"Polaris-BlockStack--listReset",fieldsetReset:"Polaris-BlockStack--fieldsetReset"};const s1=({as:n="div",children:e,align:t,inlineAlign:r,gap:i,id:o,reverseOrder:s=!1,...a})=>{const u=qn(sM.BlockStack,(n==="ul"||n==="ol")&&sM.listReset,n==="fieldset"&&sM.fieldsetReset),c={"--pc-block-stack-align":t?`${t}`:null,"--pc-block-stack-inline-align":r?`${r}`:null,"--pc-block-stack-order":s?"column-reverse":"column",...Lf("block-stack","gap","space",i)};return X.createElement(n,{className:u,id:o,style:eD(c),...a},e)},Yk=W.createContext(!1);function yae({children:n,filterActions:e}){return X.createElement(Yk.Provider,{value:e},n)}var il={Item:"Polaris-ActionList__Item",default:"Polaris-ActionList--default",active:"Polaris-ActionList--active",destructive:"Polaris-ActionList--destructive",disabled:"Polaris-ActionList--disabled",Prefix:"Polaris-ActionList__Prefix",Suffix:"Polaris-ActionList__Suffix",indented:"Polaris-ActionList--indented",menu:"Polaris-ActionList--menu",Text:"Polaris-ActionList__Text"};const bae=W.createContext(!1);var Dv={Badge:"Polaris-Badge",toneSuccess:"Polaris-Badge--toneSuccess","toneSuccess-strong":"Polaris-Badge__toneSuccess--strong",toneInfo:"Polaris-Badge--toneInfo","toneInfo-strong":"Polaris-Badge__toneInfo--strong",toneAttention:"Polaris-Badge--toneAttention","toneAttention-strong":"Polaris-Badge__toneAttention--strong",toneWarning:"Polaris-Badge--toneWarning","toneWarning-strong":"Polaris-Badge__toneWarning--strong",toneCritical:"Polaris-Badge--toneCritical","toneCritical-strong":"Polaris-Badge__toneCritical--strong",toneNew:"Polaris-Badge--toneNew",toneMagic:"Polaris-Badge--toneMagic","toneRead-only":"Polaris-Badge__toneRead--only",toneEnabled:"Polaris-Badge--toneEnabled",sizeLarge:"Polaris-Badge--sizeLarge",withinFilter:"Polaris-Badge--withinFilter",Icon:"Polaris-Badge__Icon",PipContainer:"Polaris-Badge__PipContainer"};let ol=function(n){return n.Info="info",n.Success="success",n.Warning="warning",n.Critical="critical",n.Attention="attention",n.New="new",n.Magic="magic",n.InfoStrong="info-strong",n.SuccessStrong="success-strong",n.WarningStrong="warning-strong",n.CriticalStrong="critical-strong",n.AttentionStrong="attention-strong",n.ReadOnly="read-only",n.Enabled="enabled",n}({}),aM=function(n){return n.Incomplete="incomplete",n.PartiallyComplete="partiallyComplete",n.Complete="complete",n}({});function Qk(n,e,t){let r="",i="";if(!e&&!t)return"";switch(e){case aM.Incomplete:r=n.translate("Polaris.Badge.PROGRESS_LABELS.incomplete");break;case aM.PartiallyComplete:r=n.translate("Polaris.Badge.PROGRESS_LABELS.partiallyComplete");break;case aM.Complete:r=n.translate("Polaris.Badge.PROGRESS_LABELS.complete");break}switch(t){case ol.Info:case ol.InfoStrong:i=n.translate("Polaris.Badge.TONE_LABELS.info");break;case ol.Success:case ol.SuccessStrong:i=n.translate("Polaris.Badge.TONE_LABELS.success");break;case ol.Warning:case ol.WarningStrong:i=n.translate("Polaris.Badge.TONE_LABELS.warning");break;case ol.Critical:case ol.CriticalStrong:i=n.translate("Polaris.Badge.TONE_LABELS.critical");break;case ol.Attention:case ol.AttentionStrong:i=n.translate("Polaris.Badge.TONE_LABELS.attention");break;case ol.New:i=n.translate("Polaris.Badge.TONE_LABELS.new");break;case ol.ReadOnly:i=n.translate("Polaris.Badge.TONE_LABELS.readOnly");break;case ol.Enabled:i=n.translate("Polaris.Badge.TONE_LABELS.enabled");break}return!t&&e?r:t&&!e?i:n.translate("Polaris.Badge.progressAndTone",{progressLabel:r,toneLabel:i})}var uM={Pip:"Polaris-Badge-Pip",toneInfo:"Polaris-Badge-Pip--toneInfo",toneSuccess:"Polaris-Badge-Pip--toneSuccess",toneNew:"Polaris-Badge-Pip--toneNew",toneAttention:"Polaris-Badge-Pip--toneAttention",toneWarning:"Polaris-Badge-Pip--toneWarning",toneCritical:"Polaris-Badge-Pip--toneCritical",progressIncomplete:"Polaris-Badge-Pip--progressIncomplete",progressPartiallyComplete:"Polaris-Badge-Pip--progressPartiallyComplete",progressComplete:"Polaris-Badge-Pip--progressComplete"};function Aae({tone:n,progress:e="complete",accessibilityLabelOverride:t}){const r=Kl(),i=qn(uM.Pip,n&&uM[Ws("tone",n)],e&&uM[Ws("progress",e)]),o=t||Qk(r,e,n);return X.createElement("span",{className:i},X.createElement(Qr,{as:"span",visuallyHidden:!0},o))}const FF="medium",Eae={complete:()=>X.createElement("svg",{viewBox:"0 0 20 20"},X.createElement("path",{d:"M6 10c0-.93 0-1.395.102-1.776a3 3 0 0 1 2.121-2.122C8.605 6 9.07 6 10 6c.93 0 1.395 0 1.776.102a3 3 0 0 1 2.122 2.122C14 8.605 14 9.07 14 10s0 1.395-.102 1.777a3 3 0 0 1-2.122 2.12C11.395 14 10.93 14 10 14s-1.395 0-1.777-.102a3 3 0 0 1-2.12-2.121C6 11.395 6 10.93 6 10Z"})),partiallyComplete:()=>X.createElement("svg",{viewBox:"0 0 20 20"},X.createElement("path",{fillRule:"evenodd",d:"m8.888 6.014-.017-.018-.02.02c-.253.013-.45.038-.628.086a3 3 0 0 0-2.12 2.122C6 8.605 6 9.07 6 10s0 1.395.102 1.777a3 3 0 0 0 2.121 2.12C8.605 14 9.07 14 10 14c.93 0 1.395 0 1.776-.102a3 3 0 0 0 2.122-2.121C14 11.395 14 10.93 14 10c0-.93 0-1.395-.102-1.776a3 3 0 0 0-2.122-2.122C11.395 6 10.93 6 10 6c-.475 0-.829 0-1.112.014ZM8.446 7.34a1.75 1.75 0 0 0-1.041.94l4.314 4.315c.443-.2.786-.576.941-1.042L8.446 7.34Zm4.304 2.536L10.124 7.25c.908.001 1.154.013 1.329.06a1.75 1.75 0 0 1 1.237 1.237c.047.175.059.42.06 1.329ZM8.547 12.69c.182.05.442.06 1.453.06h.106L7.25 9.894V10c0 1.01.01 1.27.06 1.453a1.75 1.75 0 0 0 1.237 1.237Z"})),incomplete:()=>X.createElement("svg",{viewBox:"0 0 20 20"},X.createElement("path",{fillRule:"evenodd",d:"M8.547 12.69c.183.05.443.06 1.453.06s1.27-.01 1.453-.06a1.75 1.75 0 0 0 1.237-1.237c.05-.182.06-.443.06-1.453s-.01-1.27-.06-1.453a1.75 1.75 0 0 0-1.237-1.237c-.182-.05-.443-.06-1.453-.06s-1.27.01-1.453.06A1.75 1.75 0 0 0 7.31 8.547c-.05.183-.06.443-.06 1.453s.01 1.27.06 1.453a1.75 1.75 0 0 0 1.237 1.237ZM6.102 8.224C6 8.605 6 9.07 6 10s0 1.395.102 1.777a3 3 0 0 0 2.122 2.12C8.605 14 9.07 14 10 14s1.395 0 1.777-.102a3 3 0 0 0 2.12-2.121C14 11.395 14 10.93 14 10c0-.93 0-1.395-.102-1.776a3 3 0 0 0-2.121-2.122C11.395 6 10.93 6 10 6c-.93 0-1.395 0-1.776.102a3 3 0 0 0-2.122 2.122Z"}))};function Zk({children:n,tone:e,progress:t,icon:r,size:i=FF,toneAndProgressLabelOverride:o}){const s=Kl(),a=W.useContext(bae),u=qn(Dv.Badge,e&&Dv[Ws("tone",e)],i&&i!==FF&&Dv[Ws("size",i)],a&&Dv.withinFilter),c=o||Qk(s,t,e);let l=!!c&&X.createElement(Qr,{as:"span",visuallyHidden:!0},c);return t&&!r&&(l=X.createElement("span",{className:Dv.Icon},X.createElement(pl,{accessibilityLabel:c,source:Eae[t]}))),X.createElement("span",{className:u},l,r&&X.createElement("span",{className:Dv.Icon},X.createElement(pl,{source:r})),n&&X.createElement(Qr,{as:"span",variant:"bodySm",fontWeight:e==="new"?"medium":void 0},n))}Zk.Pip=Aae;function By(n){const[e,t]=W.useState(n);return{value:e,toggle:W.useCallback(()=>t(r=>!r),[]),setTrue:W.useCallback(()=>t(!0),[]),setFalse:W.useCallback(()=>t(!1),[])}}var LF={TooltipContainer:"Polaris-Tooltip__TooltipContainer",HasUnderline:"Polaris-Tooltip__HasUnderline"};function Sae(){const n=W.useContext(Ok);if(!n)throw new Error("No ephemeral presence manager was provided. Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.");return n}function xae(){const n=W.useContext(iD);if(!n)throw new Error("No portals manager was provided. Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.");return n}function e8({children:n,idPrefix:e="",onPortalCreated:t=wae}){const r=Cse(),{container:i}=xae(),o=W.useId(),s=e!==""?`${e}-${o}`:o;return W.useEffect(()=>{t()},[t]),i?sN.createPortal(X.createElement(Rse,{theme:Dse(r)?r:sb,"data-portal-id":s},n),i):null}function wae(){}var gp={TooltipOverlay:"Polaris-Tooltip-TooltipOverlay",Tail:"Polaris-Tooltip-TooltipOverlay__Tail",positionedAbove:"Polaris-Tooltip-TooltipOverlay--positionedAbove",measuring:"Polaris-Tooltip-TooltipOverlay--measuring",measured:"Polaris-Tooltip-TooltipOverlay--measured",instant:"Polaris-Tooltip-TooltipOverlay--instant",Content:"Polaris-Tooltip-TooltipOverlay__Content",default:"Polaris-Tooltip-TooltipOverlay--default",wide:"Polaris-Tooltip-TooltipOverlay--wide"};function Cae(n,e,t,r,i,o,s,a=0){const u=n.top,c=u+n.height,l=n.top-a,f=i.height-n.top-n.height,h=e.height,m=t.activator+t.container,g=t.container,p=n.top-Math.max(r.top,0),y=i.top+Math.min(i.height,r.top+r.height)-(n.top+n.height),b=p>=g,x=y>=g,C=Math.min(l,h),M=Math.min(f,h),R=Math.min(l+n.height,h),O=Math.min(f+n.height,h),N=s?0:i.top,F={height:C-m,top:u+N-C,positioning:"above"},I={height:M-m,top:c+N,positioning:"below"},B={height:O-m,top:u+N,positioning:"cover"},k={height:R-m,top:u+N-C+n.height+m,positioning:"cover"};return o==="above"?(b||p>=y&&!x)&&(l>h||l>f)?F:I:o==="below"?(x||y>=p&&!b)&&(f>h||f>l)?I:F:o==="cover"?(x||y>=p&&!b)&&(f+n.height>h||f>l)?B:k:b&&x?l>f?F:I:p>g?F:I}function Mae(n,e,t,r,i){const o=t.width-e.width;if(i==="left")return Math.min(o,Math.max(0,n.left-r.horizontal));if(i==="right"){const s=t.width-(n.left+n.width);return Math.min(o,Math.max(0,s-r.horizontal))}return Math.min(o,Math.max(0,n.center.x-e.width/2))}function Tae(n,e){const{center:t}=n;return t.y<e.top||t.y>e.top+e.height}function Pae(n,e=t8()){const t=Math.max(n.top,0),r=Math.max(n.left,0),i=Math.min(n.top+n.height,e.height),o=Math.min(n.left+n.width,e.width);return new rg({top:t,left:r,height:i-t,width:o-r})}function t8(n){const e=(n==null?void 0:n.ownerDocument)||globalThis.document,t=e.defaultView||globalThis.window;return new rg({top:t.scrollY,left:t.scrollX,height:t.innerHeight,width:e.body.clientWidth})}var lM={PositionedOverlay:"Polaris-PositionedOverlay",fixed:"Polaris-PositionedOverlay--fixed",calculating:"Polaris-PositionedOverlay--calculating",preventInteraction:"Polaris-PositionedOverlay--preventInteraction"};const NF=Symbol("unique_identifier");function Dae(n){const e=W.useRef(NF);return e.current===NF&&(e.current=n()),e}function Rae(n){const e=Ix(),t=W.useRef(!1);if(e&&!t.current)return t.current=!0,n()}const n8=W.createContext(void 0);var E0={Scrollable:"Polaris-Scrollable",hasTopShadow:"Polaris-Scrollable--hasTopShadow",hasBottomShadow:"Polaris-Scrollable--hasBottomShadow",horizontal:"Polaris-Scrollable--horizontal",vertical:"Polaris-Scrollable--vertical",scrollbarWidthThin:"Polaris-Scrollable--scrollbarWidthThin",scrollbarWidthNone:"Polaris-Scrollable--scrollbarWidthNone",scrollbarWidthAuto:"Polaris-Scrollable--scrollbarWidthAuto",scrollbarGutterStable:"Polaris-Scrollable--scrollbarGutterStable","scrollbarGutterStableboth-edges":"Polaris-Scrollable__scrollbarGutterStableboth--edges"};function Oae(){const n=W.useRef(null),e=W.useContext(n8);W.useEffect(()=>{!e||!n.current||e(n.current.offsetTop)},[e]);const t=W.useId();return X.createElement("a",{id:t,ref:n})}const UF=100,r8=2,i8=W.forwardRef(({children:n,className:e,horizontal:t=!0,vertical:r=!0,shadow:i,hint:o,focusable:s,scrollbarWidth:a="thin",scrollbarGutter:u,onScrolledToBottom:c,...l},f)=>{const[h,m]=W.useState(!1),[g,p]=W.useState(!1),y=Dae(()=>new wk),b=W.useRef(null),x=W.useCallback((O,N={})=>{var B;const F=N.behavior||"smooth",I=o8()?"auto":F;(B=b.current)==null||B.scrollTo({top:O,behavior:I})},[]),C=W.useRef();W.useImperativeHandle(f||C,()=>({scrollTo:x}));const M=W.useCallback(()=>{const O=b.current;O&&requestAnimationFrame(()=>{const{scrollTop:N,clientHeight:F,scrollHeight:I}=O,B=I>F,k=N>0,q=N+F>=I-r8;m(k),p(!q),B&&q&&c&&c()})},[c]);Rae(()=>{M(),o&&requestAnimationFrame(()=>Iae(b.current))}),W.useEffect(()=>{var F;const O=b.current;if(!O)return;const N=RS(M,50,{trailing:!0});return(F=y.current)==null||F.setContainer(O),O.addEventListener("scroll",M),globalThis.addEventListener("resize",N),()=>{O.removeEventListener("scroll",M),globalThis.removeEventListener("resize",N)}},[y,M]);const R=qn(e,E0.Scrollable,r&&E0.vertical,t&&E0.horizontal,i&&h&&E0.hasTopShadow,i&&g&&E0.hasBottomShadow,a&&E0[Ws("scrollbarWidth",a)],u&&E0[Ws("scrollbarGutter",u.replace(" ",""))]);return X.createElement(n8.Provider,{value:x},X.createElement(Pk.Provider,{value:y.current},X.createElement("div",Object.assign({className:R},XP.props,l,{ref:b,tabIndex:s?0:void 0}),n)))});i8.displayName="Scrollable";function o8(){try{return window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch{return!1}}function Iae(n){if(!n||o8())return;const e=n.scrollHeight-n.clientHeight,t=Math.min(UF,e)-r8,r=()=>{requestAnimationFrame(()=>{n.scrollTop>=t&&(n.removeEventListener("scroll",r),n.scrollTo({top:0,behavior:"smooth"}))})};n.addEventListener("scroll",r),n.scrollTo({top:UF,behavior:"smooth"})}const Bae=n=>{const e=n.closest(XP.selector);return e instanceof HTMLElement?e:document},a1=i8;a1.ScrollTo=Oae;a1.forNode=Bae;const kF={childList:!0,subtree:!0,characterData:!0,attributeFilter:["style"]};class s8 extends W.PureComponent{constructor(e){super(e),this.state={measuring:!0,activatorRect:Yd(this.props.activator),right:void 0,left:void 0,top:0,height:0,width:null,positioning:"below",zIndex:null,outsideScrollableContainer:!1,lockPosition:!1,chevronOffset:0},this.overlay=null,this.scrollableContainers=[],this.overlayDetails=()=>{const{measuring:t,left:r,right:i,positioning:o,height:s,activatorRect:a,chevronOffset:u}=this.state;return{measuring:t,left:r,right:i,desiredHeight:s,positioning:o,activatorRect:a,chevronOffset:u}},this.setOverlay=t=>{this.overlay=t},this.setScrollableContainers=()=>{const t=[];let r=a1.forNode(this.props.activator);if(r)for(t.push(r);r!=null&&r.parentElement;)r=a1.forNode(r.parentElement),t.push(r);this.scrollableContainers=t},this.registerScrollHandlers=()=>{this.scrollableContainers.forEach(t=>{t.addEventListener("scroll",this.handleMeasurement)})},this.unregisterScrollHandlers=()=>{this.scrollableContainers.forEach(t=>{t.removeEventListener("scroll",this.handleMeasurement)})},this.handleMeasurement=()=>{const{lockPosition:t,top:r}=this.state;this.observer.disconnect(),this.setState(({left:i,top:o,right:s})=>({left:i,right:s,top:o,height:0,positioning:"below",measuring:!0}),()=>{if(this.overlay==null||this.firstScrollableContainer==null)return;const{activator:i,preferredPosition:o="below",preferredAlignment:s="center",onScrollOut:a,fullWidth:u,fixed:c,preferInputActivator:l=!0}=this.props,f=i.ownerDocument,h=l&&i.querySelector("input")||i,m=Yd(h),g=Yd(this.overlay),p=Nae(this.firstScrollableContainer)?f.body:this.firstScrollableContainer,y=Yd(p),b=u||o==="cover"?new rg({...g,width:m.width}):g;p===f.body&&(y.height=f.body.scrollHeight);let x=0;const C=p.querySelector(`${pk.selector}`);C&&(x=C.clientHeight);let M={activator:0,container:0,horizontal:0};this.overlay.firstElementChild&&(M=Fae(this.overlay.firstElementChild));const R=t8(i),O=Lae(i),N=O==null?O:O+1,F=Cae(m,b,M,y,R,o,c,x),I=Mae(m,b,R,M,s),B=m.center.x-I+M.horizontal*2;this.setState({measuring:!1,activatorRect:Yd(i),left:s!=="right"?I:void 0,right:s==="right"?I:void 0,top:t?r:F.top,lockPosition:!!c,height:F.height||0,width:u||o==="cover"?b.width:null,positioning:F.positioning,outsideScrollableContainer:a!=null&&Tae(m,Pae(y,R)),zIndex:N,chevronOffset:B},()=>{this.overlay&&(this.observer.observe(this.overlay,kF),this.observer.observe(i,kF))})})},this.observer=new MutationObserver(this.handleMeasurement)}componentDidMount(){this.setScrollableContainers(),this.scrollableContainers.length&&!this.props.fixed&&this.registerScrollHandlers(),this.handleMeasurement()}componentWillUnmount(){this.observer.disconnect(),this.scrollableContainers.length&&!this.props.fixed&&this.unregisterScrollHandlers()}componentDidUpdate(){const{outsideScrollableContainer:e,top:t}=this.state,{onScrollOut:r,active:i}=this.props;i&&r!=null&&t!==0&&e&&r()}render(){var m;const{left:e,right:t,top:r,zIndex:i,width:o}=this.state,{render:s,fixed:a,preventInteraction:u,classNames:c,zIndexOverride:l}=this.props,f={top:r==null||isNaN(r)?void 0:r,left:e==null||isNaN(e)?void 0:e,right:t==null||isNaN(t)?void 0:t,width:o==null||isNaN(o)?void 0:o,zIndex:l||i||void 0},h=qn(lM.PositionedOverlay,a&&lM.fixed,u&&lM.preventInteraction,c);return X.createElement("div",{className:h,style:f,ref:this.setOverlay},X.createElement(Iy,{event:"resize",handler:this.handleMeasurement,window:(m=this.overlay)==null?void 0:m.ownerDocument.defaultView}),s(this.overlayDetails()))}get firstScrollableContainer(){return this.scrollableContainers[0]??null}forceUpdatePosition(){requestAnimationFrame(this.handleMeasurement)}}function Fae(n){const t=(n.ownerDocument.defaultView||globalThis.window).getComputedStyle(n);return{activator:parseFloat(t.marginTop||"0"),container:parseFloat(t.marginBottom||"0"),horizontal:parseFloat(t.marginLeft||"0")}}function Lae(n){const e=n.closest(hk.selector)||n.ownerDocument.body,t=e===n.ownerDocument.body?"auto":parseInt(window.getComputedStyle(e).zIndex||"0",10);return t==="auto"||isNaN(t)?null:t}function Nae(n){return n.ownerDocument===null}const Uae=X.createElement(X.Fragment,null,X.createElement("path",{d:"M18.829 8.171 11.862.921A3 3 0 0 0 7.619.838L0 8.171h1.442l6.87-6.612a2 2 0 0 1 2.83.055l6.3 6.557h1.387Z",fill:"var(--p-color-tooltip-tail-up-border)"}),X.createElement("path",{d:"M17.442 10.171h-16v-2l6.87-6.612a2 2 0 0 1 2.83.055l6.3 6.557v2Z",fill:"var(--p-color-bg-surface)"})),kae=X.createElement(X.Fragment,null,X.createElement("path",{d:"m0 2 6.967 7.25a3 3 0 0 0 4.243.083L18.829 2h-1.442l-6.87 6.612a2 2 0 0 1-2.83-.055L1.387 2H0Z",fill:"var(--p-color-tooltip-tail-down-border)"}),X.createElement("path",{d:"M1.387 0h16v2l-6.87 6.612a2 2 0 0 1-2.83-.055L1.387 2V0Z",fill:"var(--p-color-bg-surface)"}));function zae({active:n,activator:e,preferredPosition:t="above",preventInteraction:r,id:i,children:o,accessibilityLabel:s,width:a,padding:u,borderRadius:c,zIndexOverride:l,instant:f}){const h=Kl();return n?X.createElement(s8,{active:n,activator:e,preferredPosition:t,preventInteraction:r,render:g,zIndexOverride:l}):null;function g(p){const{measuring:y,desiredHeight:b,positioning:x,chevronOffset:C}=p,M=qn(gp.TooltipOverlay,y&&gp.measuring,!y&&gp.measured,f&&gp.instant,x==="above"&&gp.positionedAbove),R=qn(gp.Content,a&&gp[a]),O=y?void 0:{minHeight:b},N={"--pc-tooltip-chevron-x-pos":`${C}px`,"--pc-tooltip-border-radius":c?`var(--p-border-radius-${c})`:void 0,"--pc-tooltip-padding":u&&u==="default"?"var(--p-space-100) var(--p-space-200)":`var(--p-space-${u})`};return X.createElement("div",Object.assign({style:N,className:M},hk.props),X.createElement("svg",{className:gp.Tail,width:"19",height:"11",fill:"none"},x==="above"?kae:Uae),X.createElement("div",{id:i,role:"tooltip",className:R,style:{...O,...N},"aria-label":s?h.translate("Polaris.TooltipOverlay.accessibilityLabel",{label:s}):void 0},o))}}const Hae=150;function Fy({children:n,content:e,dismissOnMouseOut:t,active:r,hoverDelay:i,preferredPosition:o="above",activatorWrapper:s="span",accessibilityLabel:a,width:u="default",padding:c="default",borderRadius:l,zIndexOverride:f,hasUnderline:h,persistOnClick:m,onOpen:g,onClose:p}){const y=l||"200",b=s,{value:x,setTrue:C,setFalse:M}=By(!!r),{value:R,toggle:O}=By(!!r&&!!m),[N,F]=W.useState(null),{presenceList:I,addPresence:B,removePresence:k}=Sae(),q=W.useId(),Y=W.useRef(null),ee=W.useRef(!1),[le,J]=W.useState(!r),fe=W.useRef(null),V=W.useRef(null),ae=W.useCallback(()=>{r!==!1&&C()},[r,C]);W.useEffect(()=>{const Qe=(Y.current?uae(Y.current):null)||Y.current;Qe&&(Qe.tabIndex=0,Qe.setAttribute("aria-describedby",q),Qe.setAttribute("data-polaris-tooltip-activator","true"))},[q,n]),W.useEffect(()=>()=>{fe.current&&clearTimeout(fe.current),V.current&&clearTimeout(V.current)},[]);const ue=W.useCallback(()=>{J(!I.tooltip&&!x),g==null||g(),B("tooltip")},[B,I.tooltip,g,x]),Q=W.useCallback(()=>{p==null||p(),J(!1),V.current=setTimeout(()=>{k("tooltip")},Hae)},[k,p]),de=W.useCallback(tt=>{tt.key==="Escape"&&(Q==null||Q(),M(),m&&O())},[M,Q,m,O]);W.useEffect(()=>{r===!1&&x&&(Q(),M())},[r,x,Q,M]);const we=N?X.createElement(e8,{idPrefix:"tooltip"},X.createElement(zae,{id:q,preferredPosition:o,activator:N,active:x,accessibilityLabel:a,onClose:Gae,preventInteraction:t,width:u,padding:c,borderRadius:y,zIndexOverride:f,instant:!le},X.createElement(Qr,{as:"span",variant:"bodyMd"},e))):null,ye=qn(s==="div"&&LF.TooltipContainer,h&&LF.HasUnderline);return X.createElement(b,{onFocus:()=>{ue(),ae()},onBlur:()=>{Q(),M(),m&&O()},onMouseLeave:Ie,onMouseOver:Ze,onMouseDown:m?O:void 0,ref:Ce,onKeyUp:de,className:ye},n,we);function Ce(tt){const Qe=Y;if(tt==null){Qe.current=null,F(null);return}tt.firstElementChild&&F(tt.firstElementChild),Qe.current=tt}function Le(){ee.current=!0,i&&!I.tooltip?fe.current=setTimeout(()=>{ue(),ae()},i):(ue(),ae())}function Ie(){fe.current&&(clearTimeout(fe.current),fe.current=null),ee.current=!1,Q(),R||M()}function Ze(){!ee.current&&Le()}}function Gae(){}function a8({id:n,badge:e,content:t,accessibilityLabel:r,helpText:i,url:o,onAction:s,onMouseEnter:a,icon:u,image:c,prefix:l,suffix:f,disabled:h,external:m,destructive:g,ellipsis:p,truncate:y,active:b,role:x,variant:C="default"}){const M=qn(il.Item,h&&il.disabled,g&&il.destructive,b&&il.active,C==="default"&&il.default,C==="indented"&&il.indented,C==="menu"&&il.menu);let R=null;l?R=X.createElement("span",{className:il.Prefix},l):u?R=X.createElement("span",{className:il.Prefix},X.createElement(pl,{source:u})):c&&(R=X.createElement("span",{role:"presentation",className:il.Prefix,style:{backgroundImage:`url(${c}`}}));let O=t||"";y&&t?O=X.createElement(Vae,null,t):p&&(O=`${t}`);const N=i?X.createElement(X.Fragment,null,X.createElement(kr,null,O),X.createElement(Qr,{as:"span",variant:"bodySm",tone:b||h?void 0:"subdued"},i)):X.createElement(Qr,{as:"span",variant:"bodyMd",fontWeight:b?"semibold":"regular"},O),F=e&&X.createElement("span",{className:il.Suffix},X.createElement(Zk,{tone:e.tone},e.content)),I=f&&X.createElement(kr,null,X.createElement("span",{className:il.Suffix},f)),B=X.createElement("span",{className:il.Text},X.createElement(Qr,{as:"span",variant:"bodyMd",fontWeight:b?"semibold":"regular"},N)),k=X.createElement(qc,{blockAlign:"center",gap:"150",wrap:!1},R,B,F,I),q=X.createElement(kr,{width:"100%"},k),Y=b?X.createElement(a1.ScrollTo,null):null,ee=o?X.createElement(Kk,{id:n,url:h?null:o,className:M,external:m,"aria-label":r,onClick:h?null:s,role:x},q):X.createElement("button",{id:n,type:"button",className:M,disabled:h,"aria-label":r,onClick:s,onMouseUp:Bx,role:x,onMouseEnter:a},q);return X.createElement(X.Fragment,null,Y,ee)}const Vae=({children:n})=>{const e=wse(),t=W.useRef(null),[r,i]=W.useState(!1);return o1(()=>{t.current&&i(t.current.scrollWidth>t.current.offsetWidth)},[n]),r?X.createElement(Fy,{zIndexOverride:Number(e.zIndex["z-index-11"]),preferredPosition:"above",hoverDelay:1e3,content:n,dismissOnMouseOut:!0},X.createElement(Qr,{as:"span",truncate:!0},n)):X.createElement(Qr,{as:"span",truncate:!0},X.createElement(kr,{width:"100%",ref:t},n))};function jae({section:n,hasMultipleSections:e,isFirst:t,actionRole:r,onActionAnyItem:i}){const o=l=>()=>{l&&l(),i&&i()},s=n.items.map(({content:l,helpText:f,onAction:h,...m},g)=>{const p=X.createElement(a8,Object.assign({content:l,helpText:f,role:r,onAction:o(h)},m));return X.createElement(kr,{as:"li",key:`${l}-${g}`,role:r==="menuitem"?"presentation":void 0},X.createElement(qc,{wrap:!1},p))});let a=null;n.title&&(a=typeof n.title=="string"?X.createElement(kr,{paddingBlockStart:"300",paddingBlockEnd:"100",paddingInlineStart:"300",paddingInlineEnd:"300"},X.createElement(Qr,{as:"p",variant:"headingSm"},n.title)):X.createElement(kr,{padding:"200",paddingInlineEnd:"150"},n.title));let u;switch(r){case"option":u="presentation";break;case"menuitem":u=e?"presentation":"menu";break;default:u=void 0;break}const c=X.createElement(X.Fragment,null,a,X.createElement(kr,Object.assign({as:"div",padding:"150"},e&&{paddingBlockStart:"0"},{tabIndex:e?void 0:-1}),X.createElement(s1,Object.assign({gap:"050",as:"ul"},u&&{role:u}),s)));return e?X.createElement(kr,Object.assign({as:"li",role:"presentation",borderColor:"border-secondary"},!t&&{borderBlockStartWidth:"025"},!n.title&&{paddingBlockStart:"150"}),c):c}function Ly({keyCode:n,handler:e,keyEvent:t="keyup",options:r,useCapture:i,document:o=globalThis.document}){const s=W.useRef({handler:e,keyCode:n});o1(()=>{s.current={handler:e,keyCode:n}},[e,n]);const a=W.useCallback(u=>{const{handler:c,keyCode:l}=s.current;u.keyCode===l&&c(u)},[]);return W.useEffect(()=>(o.addEventListener(t,a,i||r),()=>{o.removeEventListener(t,a,i||r)}),[t,a,i,r,o]),null}var ur={TextField:"Polaris-TextField",ClearButton:"Polaris-TextField__ClearButton",Loading:"Polaris-TextField__Loading",disabled:"Polaris-TextField--disabled",error:"Polaris-TextField--error",readOnly:"Polaris-TextField--readOnly",Input:"Polaris-TextField__Input",Backdrop:"Polaris-TextField__Backdrop",multiline:"Polaris-TextField--multiline",hasValue:"Polaris-TextField--hasValue",focus:"Polaris-TextField--focus",VerticalContent:"Polaris-TextField__VerticalContent",InputAndSuffixWrapper:"Polaris-TextField__InputAndSuffixWrapper",toneMagic:"Polaris-TextField--toneMagic",Prefix:"Polaris-TextField__Prefix",Suffix:"Polaris-TextField__Suffix",AutoSizeWrapper:"Polaris-TextField__AutoSizeWrapper",AutoSizeWrapperWithSuffix:"Polaris-TextField__AutoSizeWrapperWithSuffix",suggestion:"Polaris-TextField--suggestion",borderless:"Polaris-TextField--borderless",slim:"Polaris-TextField--slim","Input-hasClearButton":"Polaris-TextField__Input--hasClearButton","Input-suffixed":"Polaris-TextField__Input--suffixed","Input-alignRight":"Polaris-TextField__Input--alignRight","Input-alignLeft":"Polaris-TextField__Input--alignLeft","Input-alignCenter":"Polaris-TextField__Input--alignCenter","Input-autoSize":"Polaris-TextField__Input--autoSize",PrefixIcon:"Polaris-TextField__PrefixIcon",CharacterCount:"Polaris-TextField__CharacterCount",AlignFieldBottom:"Polaris-TextField__AlignFieldBottom",Spinner:"Polaris-TextField__Spinner",SpinnerIcon:"Polaris-TextField__SpinnerIcon",Resizer:"Polaris-TextField__Resizer",DummyInput:"Polaris-TextField__DummyInput",Segment:"Polaris-TextField__Segment",monospaced:"Polaris-TextField--monospaced"},S0={hidden:"Polaris-Labelled--hidden",LabelWrapper:"Polaris-Labelled__LabelWrapper",disabled:"Polaris-Labelled--disabled",HelpText:"Polaris-Labelled__HelpText",readOnly:"Polaris-Labelled--readOnly",Error:"Polaris-Labelled__Error",Action:"Polaris-Labelled__Action"},zF={InlineError:"Polaris-InlineError",Icon:"Polaris-InlineError__Icon"};function Wae({message:n,fieldID:e}){return n?X.createElement("div",{id:$ae(e),className:zF.InlineError},X.createElement("div",{className:zF.Icon},X.createElement(pl,{source:Ik})),X.createElement(Qr,{as:"span",variant:"bodyMd"},n)):null}function $ae(n){return`${n}Error`}var ZA={Label:"Polaris-Label",hidden:"Polaris-Label--hidden",Text:"Polaris-Label__Text",RequiredIndicator:"Polaris-Label__RequiredIndicator"};function u8(n){return`${n}Label`}function qae({children:n,id:e,hidden:t,requiredIndicator:r}){const i=qn(ZA.Label,t&&ZA.hidden);return X.createElement("div",{className:i},X.createElement("label",{id:u8(e),htmlFor:e,className:qn(ZA.Text,r&&ZA.RequiredIndicator)},X.createElement(Qr,{as:"span",variant:"bodyMd"},n)))}function Xae({id:n,label:e,error:t,action:r,helpText:i,children:o,labelHidden:s,requiredIndicator:a,disabled:u,readOnly:c,...l}){const f=qn(s&&S0.hidden,u&&S0.disabled,c&&S0.readOnly),h=r?X.createElement("div",{className:S0.Action},Jk(r,{variant:"plain"})):null,m=i?X.createElement("div",{className:S0.HelpText,id:l8(n),"aria-disabled":u},X.createElement(Qr,{as:"span",tone:"subdued",variant:"bodyMd",breakWord:!0},i)):null,g=t&&typeof t!="boolean"&&X.createElement("div",{className:S0.Error},X.createElement(Wae,{message:t,fieldID:n})),p=e?X.createElement("div",{className:S0.LabelWrapper},X.createElement(qae,Object.assign({id:n,requiredIndicator:a},l,{hidden:!1}),e),h):null;return X.createElement("div",{className:f},p,o,g,m)}function l8(n){return`${n}HelpText`}var X_={Connected:"Polaris-Connected",Item:"Polaris-Connected__Item","Item-primary":"Polaris-Connected__Item--primary","Item-focused":"Polaris-Connected__Item--focused"};function cM({children:n,position:e}){const{value:t,setTrue:r,setFalse:i}=By(!1),o=qn(X_.Item,t&&X_["Item-focused"],e==="primary"?X_["Item-primary"]:X_["Item-connection"]);return X.createElement("div",{onBlur:i,onFocus:r,className:o},n)}function Kae({children:n,left:e,right:t}){const r=e?X.createElement(cM,{position:"left"},e):null,i=t?X.createElement(cM,{position:"right"},t):null;return X.createElement("div",{className:X_.Connected},r,X.createElement(cM,{position:"primary"},n),i)}const Jae=X.forwardRef(function({onChange:e,onClick:t,onMouseDown:r,onMouseUp:i,onBlur:o},s){function a(c){return()=>e(c)}function u(c){return l=>{l.button===0&&(r==null||r(c))}}return X.createElement("div",{className:ur.Spinner,onClick:t,"aria-hidden":!0,ref:s},X.createElement("div",{role:"button",className:ur.Segment,tabIndex:-1,onClick:a(1),onMouseDown:u(a(1)),onMouseUp:i,onBlur:o},X.createElement("div",{className:ur.SpinnerIcon},X.createElement(pl,{source:sD}))),X.createElement("div",{role:"button",className:ur.Segment,tabIndex:-1,onClick:a(-1),onMouseDown:u(a(-1)),onMouseUp:i,onBlur:o},X.createElement("div",{className:ur.SpinnerIcon},X.createElement(pl,{source:oD}))))});function Yae({contents:n,currentHeight:e=null,minimumLines:t,onHeightChange:r}){const i=W.useRef(null),o=W.useRef(null),s=W.useRef(),a=W.useRef(e);e!==a.current&&(a.current=e),W.useEffect(()=>()=>{s.current&&cancelAnimationFrame(s.current)},[]);const u=t?X.createElement("div",{ref:o,className:ur.DummyInput,dangerouslySetInnerHTML:{__html:eue(t)}}):null,c=W.useCallback(()=>{s.current&&cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(!i.current||!o.current)return;const l=Math.max(i.current.offsetHeight,o.current.offsetHeight);l!==a.current&&r(l)})},[r]);return o1(()=>{c()}),X.createElement("div",{"aria-hidden":!0,className:ur.Resizer},X.createElement(Iy,{event:"resize",handler:c}),X.createElement("div",{ref:i,className:ur.DummyInput,dangerouslySetInnerHTML:{__html:tue(n)}}),u)}const c8={"&":"&amp;","<":"&lt;",">":"&gt;","\n":"<br>","\r":""},Qae=new RegExp(`[${Object.keys(c8).join()}]`,"g");function Zae(n){return c8[n]}function eue(n){let e="";for(let t=0;t<n;t++)e+="<br>";return e}function tue(n){return n?`${n.replace(Qae,Zae)}<br>`:"<br>"}function nue({prefix:n,suffix:e,verticalContent:t,placeholder:r,value:i="",helpText:o,label:s,labelAction:a,labelHidden:u,disabled:c,clearButton:l,readOnly:f,autoFocus:h,focused:m,multiline:g,error:p,connectedRight:y,connectedLeft:b,type:x="text",name:C,id:M,role:R,step:O,largeStep:N,autoComplete:F,max:I,maxLength:B,maxHeight:k,min:q,minLength:Y,pattern:ee,inputMode:le,spellCheck:J,ariaOwns:fe,ariaControls:V,ariaExpanded:ae,ariaActiveDescendant:ue,ariaAutocomplete:Q,showCharacterCount:de,align:we,requiredIndicator:ye,monospaced:Ce,selectTextOnFocus:Le,suggestion:Ie,variant:Ze="inherit",size:tt="medium",onClearButtonClick:Qe,onChange:lt,onSpinnerChange:We,onFocus:Ke,onBlur:he,tone:wt,autoSize:ft,loading:vt}){const yt=Kl(),[Ht,$e]=W.useState(null),[te,K]=W.useState(!!m),j=Ix(),re=W.useId(),me=M??re,ve=W.useRef(null),Me=W.useRef(null),xe=W.useRef(null),Ge=W.useRef(null),et=W.useRef(null),Ne=W.useRef(null),Ve=W.useRef(null),Bt=W.useRef(),Nt=W.useRef(null),Pt=W.useCallback(()=>g?xe.current:Me.current,[g]);W.useEffect(()=>{const ot=Pt();!ot||m===void 0||(m?ot.focus():ot.blur())},[m,t,Pt]),W.useEffect(()=>{const ot=Me.current;!ot||!(x==="text"||x==="tel"||x==="search"||x==="url"||x==="password")||!Ie||ot.setSelectionRange(i.length,Ie.length)},[te,i,x,Ie]);const tn=Ie||i,Jt=O??1,Mn=I??1/0,Re=q??-1/0,Ft=qn(ur.TextField,!!tn&&ur.hasValue,c&&ur.disabled,f&&ur.readOnly,p&&ur.error,wt&&ur[Ws("tone",wt)],g&&ur.multiline,te&&!c&&ur.focus,Ze!=="inherit"&&ur[Ze],tt==="slim"&&ur.slim),rt=x==="currency"?"text":x,dt=x==="number"||x==="integer",bt=X.isValidElement(n)&&n.type===pl,kt=n?X.createElement("div",{className:qn(ur.Prefix,bt&&ur.PrefixIcon),id:`${me}-Prefix`,ref:Ge},X.createElement(Qr,{as:"span",variant:"bodyMd"},n)):null,vn=e?X.createElement("div",{className:ur.Suffix,id:`${me}-Suffix`,ref:et},X.createElement(Qr,{as:"span",variant:"bodyMd"},e)):null,fr=vt?X.createElement("div",{className:ur.Loading,id:`${me}-Loading`,ref:Ne},X.createElement(Xk,{size:"small"})):null;let Ar=null;if(de){const ot=tn.length,Dt=B?yt.translate("Polaris.TextField.characterCountWithMaxLength",{count:ot,limit:B}):yt.translate("Polaris.TextField.characterCount",{count:ot}),un=qn(ur.CharacterCount,g&&ur.AlignFieldBottom),ln=B?`${ot}/${B}`:ot;Ar=X.createElement("div",{id:`${me}-CharacterCounter`,className:un,"aria-label":Dt,"aria-live":te?"polite":"off","aria-atomic":"true",onClick:ke},X.createElement(Qr,{as:"span",variant:"bodyMd"},ln))}const li=l&&tn!==""?X.createElement("button",{type:"button",className:ur.ClearButton,onClick:je,disabled:c},X.createElement(Qr,{as:"span",visuallyHidden:!0},yt.translate("Polaris.Common.clear")),X.createElement(pl,{source:jk,tone:"base"})):null,Zr=W.useCallback((ot,Dt=Jt)=>{if(lt==null&&We==null)return;const un=dr=>(dr.toString().split(".")[1]||[]).length,ln=i?parseFloat(i):0;if(isNaN(ln))return;const rn=x==="integer"?0:Math.max(un(ln),un(Dt)),Yt=Math.min(Number(Mn),Math.max(ln+ot*Dt,Number(Re)));We!=null?We(String(Yt.toFixed(rn)),me):lt!=null&&lt(String(Yt.toFixed(rn)),me)},[me,Mn,Re,lt,We,Jt,x,i]),Po=W.useCallback(()=>{clearTimeout(Bt.current)},[]),us=W.useCallback(ot=>{let ln=200;const rn=()=>{ln>50&&(ln-=10),ot(0),Bt.current=window.setTimeout(rn,ln)};Bt.current=window.setTimeout(rn,ln),document.addEventListener("mouseup",Po,{once:!0})},[Po]),Xi=dt&&O!==0&&!c&&!f?X.createElement(Jae,{onClick:ke,onChange:Zr,onMouseDown:us,onMouseUp:Po,ref:Nt,onBlur:St}):null,ro=g&&Ht?{height:Ht,maxHeight:k}:null,As=W.useCallback(ot=>{$e(ot)},[]),io=g&&j?X.createElement(Yae,{contents:tn||r,currentHeight:Ht,minimumLines:typeof g=="number"?g:1,onHeightChange:As}):null,Ai=[];p&&Ai.push(`${me}Error`),o&&Ai.push(l8(me)),de&&Ai.push(`${me}-CharacterCounter`);const Ui=[];n&&Ui.push(`${me}-Prefix`),e&&Ui.push(`${me}-Suffix`),t&&Ui.push(`${me}-VerticalContent`),Ui.unshift(u8(me));const ii=qn(ur.Input,we&&ur[Ws("Input-align",we)],e&&ur["Input-suffixed"],l&&ur["Input-hasClearButton"],Ce&&ur.monospaced,Ie&&ur.suggestion,ft&&ur["Input-autoSize"]),va=ot=>{if(K(!0),Le&&!Ie){const Dt=Pt();Dt==null||Dt.select()}Ke&&Ke(ot)};tD("wheel",Do,Me);function Do(ot){document.activeElement===ot.target&&dt&&ot.stopPropagation()}const Gr=W.createElement(g?"textarea":"input",{name:C,id:me,disabled:c,readOnly:f,role:R,autoFocus:h,value:tn,placeholder:r,style:ro,autoComplete:F,className:ii,ref:g?xe:Me,min:q,max:I,step:O,minLength:Y,maxLength:B,spellCheck:J,pattern:ee,inputMode:le,type:rt,rows:rue(g),size:ft?1:void 0,"aria-describedby":Ai.length?Ai.join(" "):void 0,"aria-labelledby":Ui.join(" "),"aria-invalid":!!p,"aria-owns":fe,"aria-activedescendant":ue,"aria-autocomplete":Q,"aria-controls":V,"aria-expanded":ae,"aria-required":ye,...iue(g),onFocus:va,onBlur:St,onClick:ke,onKeyPress:be,onKeyDown:st,onChange:Ie?void 0:se,onInput:Ie?se:void 0,"data-1p-ignore":F==="off"||void 0,"data-lpignore":F==="off"||void 0,"data-form-type":F==="off"?"other":void 0}),$a=t?X.createElement("div",{className:ur.VerticalContent,id:`${me}-VerticalContent`,ref:Ve,onClick:ke},t,Gr):null,_a=t?$a:Gr,Qt=X.createElement("div",{className:qn(ur.Backdrop,b&&ur["Backdrop-connectedLeft"],y&&ur["Backdrop-connectedRight"])}),Kn=ft?X.createElement("div",{className:ur.InputAndSuffixWrapper},X.createElement("div",{className:qn(ur.AutoSizeWrapper,e&&ur.AutoSizeWrapperWithSuffix),"data-auto-size-value":i||r},_a),vn):X.createElement(X.Fragment,null,_a,vn);return X.createElement(Xae,{label:s,id:me,error:p,action:a,labelHidden:u,helpText:o,requiredIndicator:ye,disabled:c,readOnly:f},X.createElement(Kae,{left:b,right:y},X.createElement("div",{className:Ft,onClick:Oe,ref:ve},kt,Kn,Ar,fr,li,Xi,Qt,io)));function se(ot){lt&&lt(ot.currentTarget.value,me)}function Oe(ot){var ln,rn,Yt;const{target:Dt}=ot,un=(ln=Me==null?void 0:Me.current)==null?void 0:ln.getAttribute("role");if(Dt===Me.current&&un==="combobox"){(rn=Me.current)==null||rn.focus(),va(ot);return}Lt(Dt)||Xt(Dt)||Ct(Dt)||fn(Dt)||an(Dt)||te||(Yt=Pt())==null||Yt.focus()}function ke(ot){var Dt;!fn(ot.target)&&!Ct(ot.target)&&ot.stopPropagation(),!(Lt(ot.target)||Xt(ot.target)||Ct(ot.target)||an(ot.target)||te)&&(K(!0),(Dt=Pt())==null||Dt.focus())}function je(){Qe&&Qe(me)}function be(ot){const{key:Dt,which:un}=ot,ln=/[\d.,eE+-]$/,rn=/[\deE+-]$/;!dt||un===If.Enter||x==="number"&&ln.test(Dt)||x==="integer"&&rn.test(Dt)||ot.preventDefault()}function st(ot){if(!dt)return;const{key:Dt,which:un}=ot;x==="integer"&&(Dt==="ArrowUp"||un===If.UpArrow)&&(Zr(1),ot.preventDefault()),x==="integer"&&(Dt==="ArrowDown"||un===If.DownArrow)&&(Zr(-1),ot.preventDefault()),(un===If.Home||Dt==="Home")&&q!==void 0&&(We!=null?We(String(q),me):lt!=null&&lt(String(q),me)),(un===If.End||Dt==="End")&&I!==void 0&&(We!=null?We(String(I),me):lt!=null&&lt(String(I),me)),(un===If.PageUp||Dt==="PageUp")&&N!==void 0&&Zr(1,N),(un===If.PageDown||Dt==="PageDown")&&N!==void 0&&Zr(-1,N)}function St(ot){var Dt;K(!1),!((Dt=ve.current)!=null&&Dt.contains(ot==null?void 0:ot.relatedTarget))&&he&&he(ot)}function Ct(ot){const Dt=Pt();return ot instanceof HTMLElement&&Dt&&(Dt.contains(ot)||Dt.contains(document.activeElement))}function Lt(ot){return ot instanceof Element&&(Ge.current&&Ge.current.contains(ot)||et.current&&et.current.contains(ot))}function fn(ot){return ot instanceof Element&&Nt.current&&Nt.current.contains(ot)}function an(ot){return ot instanceof Element&&Ne.current&&Ne.current.contains(ot)}function Xt(ot){return ot instanceof Element&&Ve.current&&(Ve.current.contains(ot)||Ve.current.contains(document.activeElement))}}function rue(n){if(n)return typeof n=="number"?n:1}function iue(n){if(n)return n||typeof n=="number"&&n>0?{"aria-multiline":!0}:void 0}const oue=8;function uD({items:n,sections:e=[],actionRole:t,allowFiltering:r,onActionAnyItem:i,filterLabel:o}){const s=Kl(),a=W.useContext(Yk);let u=[];const c=W.useRef(null),[l,f]=W.useState("");n?u=[{items:n},...e]:e&&(u=e);const h=u==null?void 0:u.some(F=>F.items.some(I=>typeof I.content=="string")),m=u.length>1,g=m&&t==="menuitem"?"menu":void 0,p=m&&t==="menuitem"?-1:void 0,y=u==null?void 0:u.map(F=>({...F,items:F.items.filter(({content:I})=>typeof I=="string"?I==null?void 0:I.toLowerCase().includes(l.toLowerCase()):I)})),b=y.map((F,I)=>F.items.length>0?X.createElement(jae,{key:typeof F.title=="string"?F.title:I,section:F,hasMultipleSections:m,actionRole:t,onActionAnyItem:i,isFirst:I===0}):null),x=F=>{F.preventDefault(),c.current&&F.target&&c.current.contains(F.target)&&cae(c.current,F.target)},C=F=>{F.preventDefault(),c.current&&F.target&&c.current.contains(F.target)&&fae(c.current,F.target)},M=t==="menuitem"?X.createElement(X.Fragment,null,X.createElement(Ly,{keyEvent:"keydown",keyCode:If.DownArrow,handler:C}),X.createElement(Ly,{keyEvent:"keydown",keyCode:If.UpArrow,handler:x})):null,R=W.useMemo(()=>(y==null?void 0:y.reduce((I,B)=>I+B.items.length,0))||0,[y]),N=((u==null?void 0:u.reduce((F,I)=>F+I.items.length,0))||0)>=oue;return X.createElement(X.Fragment,null,(r||a)&&N&&h&&X.createElement(kr,{padding:"200",paddingBlockEnd:R>0?"0":"200"},X.createElement(nue,{clearButton:!0,labelHidden:!0,label:o||s.translate("Polaris.ActionList.SearchField.placeholder"),placeholder:o||s.translate("Polaris.ActionList.SearchField.placeholder"),autoComplete:"off",value:l,onChange:F=>f(F),prefix:X.createElement(pl,{source:Gk}),onClearButtonClick:()=>f("")})),X.createElement(kr,{as:m?"ul":"div",ref:c,role:g,tabIndex:p},M,b))}uD.Item=a8;var HF={ActionMenu:"Polaris-ActionMenu"},sue={RollupActivator:"Polaris-ActionMenu-RollupActions__RollupActivator"};function aue(n,{id:e,active:t=!1,ariaHaspopup:r,activatorDisabled:i=!1}){i||(n.tabIndex=n.tabIndex||0),n.setAttribute("aria-controls",e),n.setAttribute("aria-owns",e),n.setAttribute("aria-expanded",String(t)),n.setAttribute("data-state",t?"open":"closed"),r!=null&&n.setAttribute("aria-haspopup",String(r))}function f8(n,e,t){return n==null?null:d8(n,e)?n:X.createElement(e,t,n)}const uue=(n,e)=>n===e;function d8(n,e){var s;if(n==null||!W.isValidElement(n)||typeof n.type=="string")return!1;const{type:t}=n,i=((s=n.props)==null?void 0:s.__type__)||t;return(Array.isArray(e)?e:[e]).some(a=>typeof i!="string"&&uue(a,i))}function lue(n,e=()=>!0){return W.Children.toArray(n).filter(t=>W.isValidElement(t)&&e(t))}function cue({condition:n,wrapper:e,children:t}){return n?e(t):t}function fM({condition:n,children:e}){return n?e:null}var xo={Popover:"Polaris-Popover",PopoverOverlay:"Polaris-Popover__PopoverOverlay","PopoverOverlay-noAnimation":"Polaris-Popover__PopoverOverlay--noAnimation","PopoverOverlay-entering":"Polaris-Popover__PopoverOverlay--entering","PopoverOverlay-open":"Polaris-Popover__PopoverOverlay--open",measuring:"Polaris-Popover--measuring","PopoverOverlay-exiting":"Polaris-Popover__PopoverOverlay--exiting",fullWidth:"Polaris-Popover--fullWidth",Content:"Polaris-Popover__Content",positionedAbove:"Polaris-Popover--positionedAbove",positionedCover:"Polaris-Popover--positionedCover",ContentContainer:"Polaris-Popover__ContentContainer","Content-fullHeight":"Polaris-Popover__Content--fullHeight","Content-fluidContent":"Polaris-Popover__Content--fluidContent",Pane:"Polaris-Popover__Pane","Pane-fixed":"Polaris-Popover__Pane--fixed","Pane-subdued":"Polaris-Popover__Pane--subdued","Pane-captureOverscroll":"Polaris-Popover__Pane--captureOverscroll",Section:"Polaris-Popover__Section",FocusTracker:"Polaris-Popover__FocusTracker","PopoverOverlay-hideOnPrint":"Polaris-Popover__PopoverOverlay--hideOnPrint"};function h8({children:n}){return X.createElement("div",{className:xo.Section},X.createElement(kr,{paddingInlineStart:"300",paddingInlineEnd:"300",paddingBlockStart:"200",paddingBlockEnd:"150"},n))}function mT({captureOverscroll:n=!1,fixed:e,sectioned:t,children:r,height:i,maxHeight:o,minHeight:s,subdued:a,onScrolledToBottom:u}){const c=qn(xo.Pane,e&&xo["Pane-fixed"],a&&xo["Pane-subdued"],n&&xo["Pane-captureOverscroll"]),l=t?f8(r,h8,{}):r,f={height:i,maxHeight:o,minHeight:s};return e?X.createElement("div",{style:f,className:c},l):X.createElement(a1,{shadow:!0,className:c,style:f,onScrolledToBottom:u,scrollbarWidth:"thin"},l)}let Qd=function(n){return n[n.Click=0]="Click",n[n.EscapeKeypress=1]="EscapeKeypress",n[n.FocusOut=2]="FocusOut",n[n.ScrollOut=3]="ScrollOut",n}({});var jl=function(n){return n.Entering="entering",n.Entered="entered",n.Exiting="exiting",n.Exited="exited",n}(jl||{});class p8 extends W.PureComponent{constructor(e){super(e),this.state={transitionStatus:this.props.active?jl.Entering:jl.Exited},this.contentNode=W.createRef(),this.renderPopover=t=>{const{measuring:r,desiredHeight:i,positioning:o}=t,{id:s,children:a,sectioned:u,fullWidth:c,fullHeight:l,fluidContent:f,hideOnPrint:h,autofocusTarget:m,captureOverscroll:g}=this.props,p=o==="cover",y=qn(xo.Popover,r&&xo.measuring,(c||p)&&xo.fullWidth,h&&xo["PopoverOverlay-hideOnPrint"],o&&xo[Ws("positioned",o)]),b=r?void 0:{height:i},x=qn(xo.Content,l&&xo["Content-fullHeight"],f&&xo["Content-fluidContent"]),{window:C}=this.state;return X.createElement("div",Object.assign({className:y},use.props),X.createElement(Iy,{event:"click",handler:this.handleClick,window:C}),X.createElement(Iy,{event:"touchstart",handler:this.handleClick,window:C}),X.createElement(Ly,{keyCode:If.Escape,handler:this.handleEscape,document:C==null?void 0:C.document}),X.createElement("div",{className:xo.FocusTracker,tabIndex:0,onFocus:this.handleFocusFirstItem}),X.createElement("div",{className:xo.ContentContainer},X.createElement("div",{id:s,tabIndex:m==="none"?void 0:-1,className:x,style:b,ref:this.contentNode},fue(a,{captureOverscroll:g,sectioned:u}))),X.createElement("div",{className:xo.FocusTracker,tabIndex:0,onFocus:this.handleFocusLastItem}))},this.handleClick=t=>{const r=t.target,{contentNode:i,props:{activator:o,onClose:s,preventCloseOnChildOverlayClick:a}}=this,u=t.composedPath(),c=a?due(u,this.context.container):VF(u,i),l=GF(o,r);c||l||this.state.transitionStatus!==jl.Entered||s(Qd.Click)},this.handleScrollOut=()=>{this.props.onClose(Qd.ScrollOut)},this.handleEscape=t=>{const r=t.target,{contentNode:i,props:{activator:o}}=this,s=t.composedPath(),a=VF(s,i),u=GF(o,r);(a||u)&&this.props.onClose(Qd.EscapeKeypress)},this.handleFocusFirstItem=()=>{this.props.onClose(Qd.FocusOut)},this.handleFocusLastItem=()=>{this.props.onClose(Qd.FocusOut)},this.overlayRef=W.createRef()}forceUpdatePosition(){var e;(e=this.overlayRef.current)==null||e.forceUpdatePosition()}changeTransitionStatus(e,t){this.setState({transitionStatus:e},t),this.contentNode.current&&this.contentNode.current.getBoundingClientRect()}componentDidMount(){this.props.active&&(this.focusContent(),this.changeTransitionStatus(jl.Entered)),this.observer=new ResizeObserver(()=>{this.setState({window:this.props.activator.ownerDocument.defaultView})}),this.observer.observe(this.props.activator)}componentDidUpdate(e){var t,r;this.props.active&&!e.active&&(this.focusContent(),this.changeTransitionStatus(jl.Entering,()=>{this.clearTransitionTimeout(),this.enteringTimer=window.setTimeout(()=>{this.setState({transitionStatus:jl.Entered})},parseInt(YP.motion["motion-duration-100"],10))})),!this.props.active&&e.active&&(this.clearTransitionTimeout(),this.setState({transitionStatus:jl.Exited})),this.props.activator!==e.activator&&((t=this.observer)==null||t.unobserve(e.activator),(r=this.observer)==null||r.observe(this.props.activator))}componentWillUnmount(){var e;this.clearTransitionTimeout(),(e=this.observer)==null||e.disconnect()}render(){const{active:e,activator:t,fullWidth:r,preferredPosition:i="below",preferredAlignment:o="center",preferInputActivator:s=!0,fixed:a,zIndexOverride:u}=this.props,{transitionStatus:c}=this.state;if(c===jl.Exited&&!e)return null;const l=qn(xo.PopoverOverlay,c===jl.Entering&&xo["PopoverOverlay-entering"],c===jl.Entered&&xo["PopoverOverlay-open"],c===jl.Exiting&&xo["PopoverOverlay-exiting"],i==="cover"&&xo["PopoverOverlay-noAnimation"]);return X.createElement(s8,{ref:this.overlayRef,fullWidth:r,active:e,activator:t,preferInputActivator:s,preferredPosition:i,preferredAlignment:o,render:this.renderPopover.bind(this),fixed:a,onScrollOut:this.handleScrollOut,classNames:l,zIndexOverride:u})}clearTransitionTimeout(){this.enteringTimer&&window.clearTimeout(this.enteringTimer)}focusContent(){const{autofocusTarget:e="container"}=this.props;e==="none"||this.contentNode==null||requestAnimationFrame(()=>{if(this.contentNode.current==null)return;const t=lae(this.contentNode.current);t&&e==="first-node"?t.focus({preventScroll:!1}):this.contentNode.current.focus({preventScroll:!1})})}}p8.contextType=iD;function fue(n,e){const t=W.Children.toArray(n);return d8(t[0],mT)?t:f8(t,mT,e)}function GF(n,e){if(n===e)return!0;let t=e.parentNode;for(;t!=null;){if(t===n)return!0;t=t.parentNode}return!1}function VF(n,e){return e.current!=null&&n.includes(e.current)}function due(n,e){return n.some(t=>t instanceof Node&&(e==null?void 0:e.contains(t)))}const hue=W.forwardRef(function({activatorWrapper:e="div",children:t,onClose:r,activator:i,preventFocusOnClose:o,active:s,fixed:a,ariaHaspopup:u,preferInputActivator:c=!0,zIndexOverride:l,...f},h){const[m,g]=W.useState(!1),[p,y]=W.useState(),b=W.useRef(null),x=W.useRef(null),C=e,M=W.useId();function R(){var I;(I=b.current)==null||I.forceUpdatePosition()}const O=I=>{if(r(I),!(x.current==null||o)){if(I===Qd.FocusOut&&p){const B=k_(p)||k_(x.current)||x.current;IF(B,jF)||B.focus()}else if(I===Qd.EscapeKeypress&&p){const B=k_(p)||k_(x.current)||x.current;B?B.focus():IF(B,jF)}}};W.useImperativeHandle(h,()=>({forceUpdatePosition:R,close:(I="activator")=>{const B=I==="activator"?Qd.EscapeKeypress:Qd.FocusOut;O(B)}}));const N=W.useCallback(()=>{if(x.current==null)return;const B=k_(x.current)||x.current,k="disabled"in B&&!!B.disabled;aue(B,{id:M,active:s,ariaHaspopup:u,activatorDisabled:k})},[M,s,u]);W.useEffect(()=>{function I(){g(!!(x.current&&(x.current.offsetParent!==null||x.current===x.current.ownerDocument.body&&x.current.clientWidth>0)))}if(!x.current)return;const B=new ResizeObserver(I);return B.observe(x.current),I(),()=>{B.disconnect()}},[]),W.useEffect(()=>{(!p&&x.current||p&&x.current&&!x.current.contains(p))&&y(x.current.firstElementChild),N()},[p,N]),W.useEffect(()=>{p&&x.current&&y(x.current.firstElementChild),N()},[p,N]);const F=p&&m?X.createElement(e8,{idPrefix:"popover"},X.createElement(p8,Object.assign({ref:b,id:M,activator:p,preferInputActivator:c,onClose:O,active:s,fixed:a,zIndexOverride:l},f),t)):null;return X.createElement(C,{ref:x},W.Children.only(i),F)});function jF(n){let e=n.parentElement;for(;e;){if(e.matches(lse.selector))return!1;e=e.parentElement}return!0}const m8=Object.assign(hue,{Pane:mT,Section:h8});function pue({accessibilityLabel:n,items:e=[],sections:t=[]}){const r=Kl(),{value:i,toggle:o}=By(!1);if(e.length===0&&t.length===0)return null;const s=X.createElement("div",{className:sue.RollupActivator},X.createElement(uh,{icon:Hk,accessibilityLabel:n||r.translate("Polaris.ActionMenu.RollupActions.rollupButton"),onClick:o}));return X.createElement(m8,{active:i,activator:s,preferredAlignment:"right",onClose:o,hideOnPrint:!0},X.createElement(uD,{items:e,sections:t,onActionAnyItem:o}))}var _E={ActionsLayoutOuter:"Polaris-ActionMenu-Actions__ActionsLayoutOuter",ActionsLayout:"Polaris-ActionMenu-Actions__ActionsLayout","ActionsLayout--measuring":"Polaris-ActionMenu-Actions--actionsLayoutMeasuring",ActionsLayoutMeasurer:"Polaris-ActionMenu-Actions__ActionsLayoutMeasurer"};function WF(n=[],e=[],t,r,i){const o=r.reduce((h,m)=>h+m,0),s=n.map((h,m)=>m),a=e.map((h,m)=>m),u=[],c=[],l=[],f=[];if(i>o)u.push(...s),l.push(...a);else{let h=0;s.forEach(m=>{const g=r[m];if(h+g>=i-t){c.push(m);return}u.push(m),h+=g}),a.forEach(m=>{const g=r[m+n.length];if(h+g>=i-t){f.push(m);return}l.push(m),h+=g})}return{visibleActions:u,hiddenActions:c,visibleGroups:l,hiddenGroups:f}}var mue={Details:"Polaris-ActionMenu-MenuGroup__Details"},$F={SecondaryAction:"Polaris-ActionMenu-SecondaryAction",critical:"Polaris-ActionMenu-SecondaryAction--critical"};function uy({children:n,tone:e,helpText:t,onAction:r,destructive:i,...o}){const s=X.createElement(uh,Object.assign({onClick:r,tone:i?"critical":void 0},o),n),a=t?X.createElement(Fy,{preferredPosition:"below",content:t},s):s;return X.createElement("div",{className:qn($F.SecondaryAction,e==="critical"&&$F.critical)},a)}function qF({accessibilityLabel:n,active:e,actions:t,details:r,title:i,icon:o,disabled:s,onClick:a,onClose:u,onOpen:c,sections:l}){const f=W.useCallback(()=>{u(i)},[u,i]),h=W.useCallback(()=>{c(i)},[c,i]),m=W.useCallback(()=>{a?a(h):h()},[a,h]),g=X.createElement(uy,{disclosure:!0,disabled:s,icon:o,accessibilityLabel:n,onClick:m},i);return X.createElement(m8,{active:!!e,activator:g,preferredAlignment:"left",onClose:f,hideOnPrint:!0},X.createElement(uD,{items:t,sections:l,onActionAnyItem:f}),r&&X.createElement("div",{className:mue.Details},r))}const gue=8;function vue({actions:n=[],groups:e=[],handleMeasurement:t}){const r=Kl(),i=W.useRef(null),o={title:r.translate("Polaris.ActionMenu.Actions.moreActions"),actions:[]},s=X.createElement(uy,{disclosure:!0},o.title),a=W.useCallback(()=>{if(!i.current)return;const l=i.current.offsetWidth,f=i.current.children,m=Array.from(f).map(p=>Math.ceil(p.getBoundingClientRect().width)+gue),g=m.pop()||0;t({containerWidth:l,disclosureWidth:g,hiddenActionsWidths:m})},[t]);W.useEffect(()=>{a()},[a,n,e]);const u=n.map(l=>{const{content:f,onAction:h,...m}=l;return X.createElement(uy,Object.assign({key:f,onClick:h},m),f)}),c=e.map(l=>{const{title:f,icon:h}=l;return X.createElement(uy,{key:f,disclosure:!0,icon:h},f)});return tD("resize",a),X.createElement("div",{className:_E.ActionsLayoutMeasurer,ref:i},u,c,s)}function _ue({actions:n,groups:e,onActionRollup:t}){const r=Kl(),i=W.useRef(null),[o,s]=W.useState(void 0),[a,u]=W.useReducer((ee,le)=>({...ee,...le}),{disclosureWidth:0,containerWidth:1/0,actionsWidths:[],visibleActions:[],hiddenActions:[],visibleGroups:[],hiddenGroups:[],hasMeasured:!1}),{visibleActions:c,hiddenActions:l,visibleGroups:f,hiddenGroups:h,containerWidth:m,disclosureWidth:g,actionsWidths:p,hasMeasured:y}=a,b={title:r.translate("Polaris.ActionMenu.Actions.moreActions"),actions:[]},x=W.useCallback(ee=>s(o?void 0:ee),[o]),C=W.useCallback(()=>s(void 0),[]);W.useEffect(()=>{if(m===0)return;const{visibleActions:ee,visibleGroups:le,hiddenActions:J,hiddenGroups:fe}=WF(n,e,g,p,m);u({visibleActions:ee,visibleGroups:le,hiddenActions:J,hiddenGroups:fe,hasMeasured:m!==1/0})},[m,g,n,e,p,u]);const M=W.useMemo(()=>n??[],[n]),R=W.useMemo(()=>e??[],[e]),O=M.filter((ee,le)=>!!c.includes(le)).map(ee=>{const{content:le,onAction:J,...fe}=ee;return X.createElement(uy,Object.assign({key:le,onClick:J},fe),le)}),F=(h.length>0||l.length>0?[...R,b]:[...R]).filter((ee,le)=>{const J=R.length===0,fe=f.includes(le),V=ee===b;return J?l.length>0:V?!0:fe}),I=l.map(ee=>M[ee]).filter(ee=>ee!=null),B=h.map(ee=>R[ee]).filter(ee=>ee!=null),k=F.map(ee=>{const{title:le,actions:J,...fe}=ee,V=ee===b,ae=[...I,...B],[ue,Q]=ae.reduce(([de,we],ye)=>(yue(ye)?we.push({title:ye.title,items:ye.actions.map(Ce=>({...Ce,disabled:ye.disabled||Ce.disabled}))}):de.push(ye),[de,we]),[[],[]]);return V?X.createElement(qF,Object.assign({key:le,title:le,active:le===o,actions:[...ue,...J],sections:Q},fe,{onOpen:x,onClose:C})):X.createElement(qF,Object.assign({key:le,title:le,active:le===o,actions:J},fe,{onOpen:x,onClose:C}))}),q=W.useCallback(ee=>{const{hiddenActionsWidths:le,containerWidth:J,disclosureWidth:fe}=ee,{visibleActions:V,hiddenActions:ae,visibleGroups:ue,hiddenGroups:Q}=WF(M,R,fe,le,J);if(t){const de=ae.length>0||Q.length>0;i.current!==de&&(t(de),i.current=de)}u({visibleActions:V,hiddenActions:ae,visibleGroups:ue,hiddenGroups:Q,actionsWidths:le,containerWidth:J,disclosureWidth:fe,hasMeasured:!0})},[M,R,t]),Y=X.createElement(vue,{actions:n,groups:e,handleMeasurement:q});return X.createElement("div",{className:_E.ActionsLayoutOuter},Y,X.createElement("div",{className:qn(_E.ActionsLayout,!y&&_E["ActionsLayout--measuring"])},O,k))}function yue(n){return"title"in n}function bue({actions:n=[],groups:e=[],rollup:t,rollupActionsLabel:r,onActionRollup:i}){if(n.length===0&&e.length===0)return null;const o=qn(HF.ActionMenu,t&&HF.rollup),s=e.map(a=>Eue(a));return X.createElement("div",{className:o},t?X.createElement(pue,{accessibilityLabel:r,items:n,sections:s}):X.createElement(_ue,{actions:n,groups:e,onActionRollup:i}))}function Aue(n=[]){return n.length===0?!1:n.some(e=>e.actions.length>0)}function Eue({title:n,actions:e,disabled:t}){return{title:n,items:e.map(r=>({...r,disabled:t||r.disabled}))}}const Sue=W.createContext(!1);var U0={Banner:"Polaris-Banner",keyFocused:"Polaris-Banner--keyFocused",withinContentContainer:"Polaris-Banner--withinContentContainer",withinPage:"Polaris-Banner--withinPage",DismissIcon:"Polaris-Banner__DismissIcon","text-success-on-bg-fill":"Polaris-Banner--textSuccessOnBgFill","text-success":"Polaris-Banner__text--success","text-warning-on-bg-fill":"Polaris-Banner--textWarningOnBgFill","text-warning":"Polaris-Banner__text--warning","text-critical-on-bg-fill":"Polaris-Banner--textCriticalOnBgFill","text-critical":"Polaris-Banner__text--critical","text-info-on-bg-fill":"Polaris-Banner--textInfoOnBgFill","text-info":"Polaris-Banner__text--info","icon-secondary":"Polaris-Banner__icon--secondary"};const dM={success:{withinPage:{background:"bg-fill-success",text:"text-success-on-bg-fill",icon:"text-success-on-bg-fill"},withinContentContainer:{background:"bg-surface-success",text:"text-success",icon:"text-success"},icon:Nk},warning:{withinPage:{background:"bg-fill-warning",text:"text-warning-on-bg-fill",icon:"text-warning-on-bg-fill"},withinContentContainer:{background:"bg-surface-warning",text:"text-warning",icon:"text-warning"},icon:Fk},critical:{withinPage:{background:"bg-fill-critical",text:"text-critical-on-bg-fill",icon:"text-critical-on-bg-fill"},withinContentContainer:{background:"bg-surface-critical",text:"text-critical",icon:"text-critical"},icon:Bk},info:{withinPage:{background:"bg-fill-info",text:"text-info-on-bg-fill",icon:"text-info-on-bg-fill"},withinContentContainer:{background:"bg-surface-info",text:"text-info",icon:"text-info"},icon:zk}};function xue(n){const e=W.useRef(null),[t,r]=W.useState(!1);return W.useImperativeHandle(n,()=>({focus:()=>{var a;(a=e.current)==null||a.focus(),r(!0)}}),[]),{wrapperRef:e,handleKeyUp:a=>{a.target===e.current&&r(!0)},handleBlur:()=>r(!1),handleMouseUp:a=>{a.currentTarget.blur(),r(!1)},shouldShowFocus:t}}var xp={ButtonGroup:"Polaris-ButtonGroup",Item:"Polaris-ButtonGroup__Item","Item-plain":"Polaris-ButtonGroup__Item--plain",variantSegmented:"Polaris-ButtonGroup--variantSegmented","Item-focused":"Polaris-ButtonGroup__Item--focused",fullWidth:"Polaris-ButtonGroup--fullWidth",extraTight:"Polaris-ButtonGroup--extraTight",tight:"Polaris-ButtonGroup--tight",loose:"Polaris-ButtonGroup--loose",noWrap:"Polaris-ButtonGroup--noWrap"};function wue({button:n}){const{value:e,setTrue:t,setFalse:r}=By(!1),i=qn(xp.Item,e&&xp["Item-focused"],n.props.variant==="plain"&&xp["Item-plain"]);return X.createElement("div",{className:i,onFocus:t,onBlur:r},n)}function g8({children:n,gap:e,variant:t,fullWidth:r,connectedTop:i,noWrap:o}){const s=qn(xp.ButtonGroup,e&&xp[e],t&&xp[Ws("variant",t)],r&&xp.fullWidth,o&&xp.noWrap),a=lue(n).map((u,c)=>X.createElement(wue,{button:u,key:c}));return X.createElement("div",{className:s,"data-buttongroup-variant":t,"data-buttongroup-connected-top":i,"data-buttongroup-full-width":r,"data-buttongroup-no-wrap":o},a)}const v8=W.forwardRef(function(e,t){const{tone:r,stopAnnouncements:i}=e,o=W.useContext(Ek),{wrapperRef:s,handleKeyUp:a,handleBlur:u,handleMouseUp:c,shouldShowFocus:l}=xue(t),f=qn(U0.Banner,l&&U0.keyFocused,o?U0.withinContentContainer:U0.withinPage);return X.createElement(Sue.Provider,{value:!0},X.createElement("div",{className:f,tabIndex:0,ref:s,role:r==="warning"||r==="critical"?"alert":"status","aria-live":i?"off":"polite",onMouseUp:c,onKeyUp:a,onBlur:u},X.createElement(Cue,e)))});function Cue({tone:n="info",icon:e,hideIcon:t,onDismiss:r,action:i,secondaryAction:o,title:s,children:a}){const u=Kl(),c=W.useContext(Ek),l=!s&&!c,f=Object.keys(dM).includes(n)?n:"info",h=dM[f][c?"withinContentContainer":"withinPage"],m={backgroundColor:h.background,textColor:h.text,bannerTitle:s?X.createElement(Qr,{as:"h2",variant:"headingSm",breakWord:!0},s):null,bannerIcon:t?null:X.createElement("span",{className:U0[h.icon]},X.createElement(pl,{source:e??dM[f].icon})),actionButtons:i||o?X.createElement(g8,null,i&&X.createElement(uh,Object.assign({onClick:i.onAction},i),i.content),o&&X.createElement(uh,Object.assign({onClick:o.onAction},o),o.content)):null,dismissButton:r?X.createElement(uh,{variant:"tertiary",icon:X.createElement("span",{className:U0[l?"icon-secondary":h.icon]},X.createElement(pl,{source:Wk})),onClick:r,accessibilityLabel:u.translate("Polaris.Banner.dismissButton")}):null},g=a?X.createElement(Qr,{as:"span",variant:"bodyMd"},a):null;return c?X.createElement(Pue,m,g):l?X.createElement(Tue,m,g):X.createElement(Mue,m,g)}function Mue({backgroundColor:n,textColor:e,bannerTitle:t,bannerIcon:r,actionButtons:i,dismissButton:o,children:s}){const{smUp:a}=rD(),u=s||i;return X.createElement(kr,{width:"100%"},X.createElement(s1,{align:"space-between"},X.createElement(kr,{background:n,color:e,borderStartStartRadius:a?"300":void 0,borderStartEndRadius:a?"300":void 0,borderEndStartRadius:!u&&a?"300":void 0,borderEndEndRadius:!u&&a?"300":void 0,padding:"300"},X.createElement(qc,{align:"space-between",blockAlign:"center",gap:"200",wrap:!1},X.createElement(qc,{gap:"100",wrap:!1},r,t),o)),u&&X.createElement(kr,{padding:{xs:"300",md:"400"},paddingBlockStart:"300"},X.createElement(s1,{gap:"200"},X.createElement("div",null,s),i))))}function Tue({backgroundColor:n,bannerIcon:e,actionButtons:t,dismissButton:r,children:i}){const[o,s]=W.useState("center"),a=W.useRef(null),u=W.useRef(null),c=W.useRef(null),l=W.useCallback(()=>{var m,g,p;const f=(m=a.current)==null?void 0:m.offsetHeight,h=((g=u.current)==null?void 0:g.offsetHeight)||((p=c.current)==null?void 0:p.offsetHeight);!f||!h||(f>h?s("start"):s("center"))},[]);return W.useEffect(()=>l(),[l]),tD("resize",l),X.createElement(kr,{width:"100%",padding:"300",borderRadius:"300"},X.createElement(qc,{align:"space-between",blockAlign:o,wrap:!1},X.createElement(kr,{width:"100%"},X.createElement(qc,{gap:"200",wrap:!1,blockAlign:o},e?X.createElement("div",{ref:u},X.createElement(kr,{background:n,borderRadius:"200",padding:"100"},e)):null,X.createElement(kr,{ref:a,width:"100%"},X.createElement(s1,{gap:"200"},X.createElement("div",null,i),t)))),X.createElement("div",{ref:c,className:U0.DismissIcon},r)))}function Pue({backgroundColor:n,textColor:e,bannerTitle:t,bannerIcon:r,actionButtons:i,dismissButton:o,children:s}){return X.createElement(kr,{width:"100%",background:n,padding:"200",borderRadius:"200",color:e},X.createElement(qc,{align:"space-between",blockAlign:"start",wrap:!1,gap:"200"},X.createElement(qc,{gap:"150",wrap:!1},r,X.createElement(kr,{width:"100%"},X.createElement(s1,{gap:"200"},X.createElement(s1,{gap:"050"},t,X.createElement("div",null,s)),i))),o))}var Due={Bleed:"Polaris-Bleed"};const Rue=({marginInline:n,marginBlock:e,marginBlockStart:t,marginBlockEnd:r,marginInlineStart:i,marginInlineEnd:o,children:s})=>{const a=m=>{const g=["marginInlineStart","marginInlineEnd"],p=["marginBlockStart","marginBlockEnd"],y={marginBlockStart:t,marginBlockEnd:r,marginInlineStart:i,marginInlineEnd:o,marginInline:n,marginBlock:e};if(y[m])return y[m];if(g.includes(m)&&n)return y.marginInline;if(p.includes(m)&&e)return y.marginBlock},u=a("marginBlockStart"),c=a("marginBlockEnd"),l=a("marginInlineStart"),f=a("marginInlineEnd"),h={...Lf("bleed","margin-block-start","space",u),...Lf("bleed","margin-block-end","space",c),...Lf("bleed","margin-inline-start","space",l),...Lf("bleed","margin-inline-end","space",f)};return X.createElement("div",{className:Due.Bleed,style:eD(h)},s)};function Oue({backAction:n}){const{content:e}=n;return X.createElement(uh,{key:e,url:"url"in n?n.url:void 0,onClick:"onAction"in n?n.onAction:void 0,onPointerDown:Bx,icon:Lk,accessibilityLabel:n.accessibilityLabel??e})}var K_=function(n){return n.Input="INPUT",n.Textarea="TEXTAREA",n.Select="SELECT",n.ContentEditable="contenteditable",n}(K_||{});function Iue(){if(document==null||document.activeElement==null)return!1;const{tagName:n}=document.activeElement;return n===K_.Input||n===K_.Textarea||n===K_.Select||document.activeElement.hasAttribute(K_.ContentEditable)}var eE={Pagination:"Polaris-Pagination",table:"Polaris-Pagination--table",TablePaginationActions:"Polaris-Pagination__TablePaginationActions"};function Bue({hasNext:n,hasPrevious:e,nextURL:t,previousURL:r,onNext:i,onPrevious:o,nextTooltip:s,previousTooltip:a,nextKeys:u,previousKeys:c,accessibilityLabel:l,accessibilityLabels:f,label:h,type:m="page"}){const g=Kl(),p=W.createRef(),y=l||g.translate("Polaris.Pagination.pagination"),b=(f==null?void 0:f.previous)||g.translate("Polaris.Pagination.previous"),x=(f==null?void 0:f.next)||g.translate("Polaris.Pagination.next"),C=X.createElement(uh,{icon:Uk,accessibilityLabel:b,url:r,onClick:o,disabled:!e,id:"previousURL"}),M=a&&e?X.createElement(Fy,{activatorWrapper:"span",content:a,preferredPosition:"below"},C):C,R=X.createElement(uh,{icon:kk,accessibilityLabel:x,url:t,onClick:i,disabled:!n,id:"nextURL"}),O=s&&n?X.createElement(Fy,{activatorWrapper:"span",content:s,preferredPosition:"below"},R):R,N=o||KF,F=c&&(r||o)&&e&&c.map(Y=>X.createElement(Ly,{key:Y,keyCode:Y,handler:tE(r?XF("previousURL",p):N)})),I=i||KF,B=u&&(t||i)&&n&&u.map(Y=>X.createElement(Ly,{key:Y,keyCode:Y,handler:tE(t?XF("nextURL",p):I)}));if(m==="table"){const Y=h?X.createElement(kr,{padding:"300",paddingBlockStart:"0",paddingBlockEnd:"0"},X.createElement(Qr,{as:"span",variant:"bodySm",fontWeight:"medium"},h)):null;return X.createElement("nav",{"aria-label":y,ref:p,className:qn(eE.Pagination,eE.table)},F,B,X.createElement(kr,{background:"bg-surface-secondary",paddingBlockStart:"150",paddingBlockEnd:"150",paddingInlineStart:"300",paddingInlineEnd:"200"},X.createElement(qc,{align:"center",blockAlign:"center"},X.createElement("div",{className:eE.TablePaginationActions,"data-buttongroup-variant":"segmented"},X.createElement("div",null,M),Y,X.createElement("div",null,O)))))}const k=n&&e?X.createElement("span",null,h):X.createElement(Qr,{tone:"subdued",as:"span"},h),q=h?X.createElement(kr,{padding:"300",paddingBlockStart:"0",paddingBlockEnd:"0"},X.createElement("div",{"aria-live":"polite"},k)):null;return X.createElement("nav",{"aria-label":y,ref:p,className:eE.Pagination},F,B,X.createElement(g8,{variant:"segmented"},M,q,O))}function XF(n,e){return()=>{if(e.current==null)return;const t=e.current.querySelector(`#${n}`);t&&t.click()}}function tE(n){return()=>{Iue()||n()}}function KF(){}function gT(n,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},gT(n,e)}function Fx(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,gT(n,e)}function _8(){const n=W.useContext(Rk);if(!n)throw new Error("No mediaQuery was provided. Your application must be wrapped in an <AppProvider> component. See https://polaris.shopify.com/components/app-provider for implementation instructions.");return n}var k0={Layout:"Polaris-Layout",Section:"Polaris-Layout__Section","Section-fullWidth":"Polaris-Layout__Section--fullWidth","Section-oneHalf":"Polaris-Layout__Section--oneHalf","Section-oneThird":"Polaris-Layout__Section--oneThird",AnnotatedSection:"Polaris-Layout__AnnotatedSection",AnnotationWrapper:"Polaris-Layout__AnnotationWrapper",AnnotationContent:"Polaris-Layout__AnnotationContent",Annotation:"Polaris-Layout__Annotation"},JF={TextContainer:"Polaris-TextContainer",spacingTight:"Polaris-TextContainer--spacingTight",spacingLoose:"Polaris-TextContainer--spacingLoose"};function Fue({spacing:n,children:e}){const t=qn(JF.TextContainer,n&&JF[Ws("spacing",n)]);return X.createElement("div",{className:t},e)}function Lue({children:n,title:e,description:t,id:r}){const i=typeof t=="string"?X.createElement(Qr,{as:"p",variant:"bodyMd"},t):t;return X.createElement("div",{className:k0.AnnotatedSection},X.createElement("div",{className:k0.AnnotationWrapper},X.createElement("div",{className:k0.Annotation},X.createElement(Fue,{spacing:"tight"},X.createElement(Qr,{id:r,variant:"headingMd",as:"h2"},e),i&&X.createElement(kr,{color:"text-secondary"},i))),X.createElement("div",{className:k0.AnnotationContent},n)))}function y8({children:n,variant:e}){const t=qn(k0.Section,k0[`Section-${e}`]);return X.createElement("div",{className:t},n)}const u1=function({sectioned:e,children:t}){const r=e?X.createElement(y8,null,t):t;return X.createElement("div",{className:k0.Layout},r)};u1.AnnotatedSection=Lue;u1.Section=y8;function ly(n){return!W.isValidElement(n)&&n!==void 0}function yE(n){return W.isValidElement(n)&&n!==void 0}var nE={Page:"Polaris-Page",fullWidth:"Polaris-Page--fullWidth",narrowWidth:"Polaris-Page--narrowWidth",Content:"Polaris-Page__Content"},zs={TitleWrapper:"Polaris-Page-Header__TitleWrapper",TitleWrapperExpand:"Polaris-Page-Header__TitleWrapperExpand",BreadcrumbWrapper:"Polaris-Page-Header__BreadcrumbWrapper",PaginationWrapper:"Polaris-Page-Header__PaginationWrapper",PrimaryActionWrapper:"Polaris-Page-Header__PrimaryActionWrapper",Row:"Polaris-Page-Header__Row",mobileView:"Polaris-Page-Header--mobileView",RightAlign:"Polaris-Page-Header__RightAlign",noBreadcrumbs:"Polaris-Page-Header--noBreadcrumbs",AdditionalMetaData:"Polaris-Page-Header__AdditionalMetaData",Actions:"Polaris-Page-Header__Actions",longTitle:"Polaris-Page-Header--longTitle",mediumTitle:"Polaris-Page-Header--mediumTitle",isSingleRow:"Polaris-Page-Header--isSingleRow"},Rv={Title:"Polaris-Header-Title",TitleWithSubtitle:"Polaris-Header-Title__TitleWithSubtitle",TitleWrapper:"Polaris-Header-Title__TitleWrapper",SubTitle:"Polaris-Header-Title__SubTitle",SubtitleCompact:"Polaris-Header-Title__SubtitleCompact",SubtitleMaxWidth:"Polaris-Header-Title__SubtitleMaxWidth"};function Nue({title:n,subtitle:e,titleMetadata:t,compactTitle:r,hasSubtitleMaxWidth:i}){const o=qn(Rv.Title,e&&Rv.TitleWithSubtitle),s=n?X.createElement("h1",{className:o},X.createElement(Qr,{as:"span",variant:"headingLg",fontWeight:"bold"},n)):null,a=t?X.createElement(Rue,{marginBlock:"100"},t):null,u=X.createElement("div",{className:Rv.TitleWrapper},s,a),c=e?X.createElement("div",{className:qn(Rv.SubTitle,r&&Rv.SubtitleCompact,i&&Rv.SubtitleMaxWidth)},X.createElement(Qr,{as:"p",variant:"bodySm",tone:"subdued"},e)):null;return X.createElement(X.Fragment,null,u,c)}const Uue=20,kue=8,YF=34;function zue({title:n,subtitle:e,pageReadyAccessibilityLabel:t,titleMetadata:r,additionalMetadata:i,titleHidden:o=!1,primaryAction:s,pagination:a,filterActions:u,backAction:c,secondaryActions:l=[],actionGroups:f=[],compactTitle:h=!1,onActionRollup:m}){const g=Kl(),{isNavigationCollapsed:p}=_8(),y=!s&&!a&&(ly(l)&&!l.length||yE(l))&&!f.length,b=f.length>0||ly(l)&&l.length>0||yE(l),x=c?X.createElement("div",{className:zs.BreadcrumbWrapper},X.createElement(kr,{maxWidth:"100%",paddingInlineEnd:"100",printHidden:!0},X.createElement(Oue,{backAction:c}))):null,C=a&&!p?X.createElement("div",{className:zs.PaginationWrapper},X.createElement(kr,{printHidden:!0},X.createElement(Bue,Object.assign({},a,{hasPrevious:a.hasPrevious,hasNext:a.hasNext})))):null,M=X.createElement("div",{className:qn(zs.TitleWrapper,!b&&zs.TitleWrapperExpand)},X.createElement(Nue,{title:n,subtitle:e,titleMetadata:r,compactTitle:h,hasSubtitleMaxWidth:b})),R=t||n,O=R?X.createElement("div",{role:"status"},X.createElement(Qr,{visuallyHidden:!0,as:"p"},g.translate("Polaris.Page.Header.pageReadyAccessibilityLabel",{title:R}))):void 0,N=s?X.createElement(Hue,{primaryAction:s}):null;let F=null;ly(l)&&(l.length>0||Aue(f))?F=X.createElement(bue,{actions:l,groups:f,rollup:p,rollupActionsLabel:n?g.translate("Polaris.Page.Header.rollupActionsLabel",{title:n}):void 0,onActionRollup:m}):yE(l)&&(F=X.createElement(X.Fragment,null,l));const I=x||C?X.createElement(kr,{printHidden:!0,paddingBlockEnd:"100",paddingInlineEnd:F&&p?"1000":void 0},X.createElement(qc,{gap:"400",align:"space-between",blockAlign:"center"},x,C)):null,B=i?X.createElement("div",{className:zs.AdditionalMetaData},X.createElement(Qr,{tone:"subdued",as:"span",variant:"bodySm"},i)):null,k=qn(y&&zs.isSingleRow,I&&zs.hasNavigation,F&&zs.hasActionMenu,p&&zs.mobileView,!c&&zs.noBreadcrumbs,n&&n.length<YF&&zs.mediumTitle,n&&n.length>YF&&zs.longTitle),{slot1:q,slot2:Y,slot3:ee,slot4:le,slot5:J}=Vue({actionMenuMarkup:F,additionalMetadataMarkup:B,breadcrumbMarkup:x,isNavigationCollapsed:p,pageTitleMarkup:M,paginationMarkup:C,primaryActionMarkup:N,title:n});return X.createElement(kr,{position:"relative",paddingBlockStart:{xs:"400",md:"600"},paddingBlockEnd:{xs:"400",md:"600"},paddingInlineStart:{xs:"400",sm:"0"},paddingInlineEnd:{xs:"400",sm:"0"},visuallyHidden:o},O,X.createElement("div",{className:k},X.createElement(yae,{filterActions:!!u},X.createElement(fM,{condition:[q,Y,ee,le].some(rE)},X.createElement("div",{className:zs.Row},q,Y,X.createElement(fM,{condition:[ee,le].some(rE)},X.createElement("div",{className:zs.RightAlign},X.createElement(cue,{condition:[ee,le].every(rE),wrapper:fe=>X.createElement("div",{className:zs.Actions},fe)},ee,le))))),X.createElement(fM,{condition:[J].some(rE)},X.createElement("div",{className:zs.Row},X.createElement(qc,{gap:"400"},J))))))}function Hue({primaryAction:n}){const{isNavigationCollapsed:e}=_8();let t;if(ly(n)){const{primary:r,helpText:i}=n,o=r===void 0?!0:r,s=Jk(Gue(e,n),{variant:o?"primary":void 0});t=i?X.createElement(Fy,{content:i},s):s}else t=n;return X.createElement("div",{className:zs.PrimaryActionWrapper},X.createElement(kr,{printHidden:!0},t))}function Gue(n,e){let{content:t,accessibilityLabel:r}=e;const{icon:i}=e;return i==null?{...e,icon:void 0}:(n&&(r=r||t,t=void 0),{...e,content:t,accessibilityLabel:r,icon:i})}function rE(n){return n!=null}function Vue({actionMenuMarkup:n,additionalMetadataMarkup:e,breadcrumbMarkup:t,isNavigationCollapsed:r,pageTitleMarkup:i,paginationMarkup:o,primaryActionMarkup:s,title:a}){const u={mobileCompact:{slots:{slot1:null,slot2:i,slot3:n,slot4:s,slot5:e},condition:r&&t==null&&a!=null&&a.length<=kue},mobileDefault:{slots:{slot1:t,slot2:i,slot3:n,slot4:s,slot5:e},condition:r},desktopCompact:{slots:{slot1:t,slot2:i,slot3:n,slot4:s,slot5:e},condition:!r&&o==null&&n==null&&a!=null&&a.length<=Uue},desktopDefault:{slots:{slot1:t,slot2:i,slot3:X.createElement(X.Fragment,null,n,s),slot4:o,slot5:e},condition:!r}};return(Object.values(u).find(l=>l.condition)||u.desktopDefault).slots}function b8({children:n,fullWidth:e,narrowWidth:t,...r}){const i=qn(nE.Page,e&&nE.fullWidth,t&&nE.narrowWidth),o=r.title!=null&&r.title!==""||r.subtitle!=null&&r.subtitle!==""||r.primaryAction!=null||r.secondaryActions!=null&&(ly(r.secondaryActions)&&r.secondaryActions.length>0||yE(r.secondaryActions))||r.actionGroups!=null&&r.actionGroups.length>0||r.backAction!=null,s=qn(!o&&nE.Content),a=o?X.createElement(zue,Object.assign({filterActions:!0},r)):null;return X.createElement("div",{className:i},a,X.createElement("div",{className:s},n))}function jue(){const n=PS.useAppBridge(),{search:e}=hh(),[t,r]=W.useState(!1);return W.useEffect(()=>{if(n&&e){const o=new URLSearchParams(e).get("redirectUri"),s=new URL(decodeURIComponent(o));[window.location.hostname,"admin.shopify.com"].includes(s.hostname)||s.hostname.endsWith(".myshopify.com")?K5.Redirect.create(n).dispatch(K5.Redirect.Action.REMOTE,decodeURIComponent(o)):r(!0)}},[n,e,r]),t?ie.jsx(b8,{narrowWidth:!0,children:ie.jsx(u1,{children:ie.jsx(u1.Section,{children:ie.jsx("div",{style:{marginTop:"100px"},children:ie.jsx(v8,{title:"Redirecting outside of Shopify",status:"warning",children:"Apps can only use /exitiframe to reach Shopify or the app itself."})})})})}):ie.jsx(PS.Loading,{})}const Wue=()=>{const n=MT();return W.useEffect(()=>{n("/config")},[n]),ie.jsx(ie.Fragment,{children:ie.jsx("div",{children:"SIGN"})})},$ue=[{path:"/exitiframe",name:"ExitIframe",component:ie.jsx(jue,{})},{path:"/home-shopify",name:"Session",component:ie.jsx(Wue,{})}];function A8(n,e){return function(){return n.apply(e,arguments)}}const{toString:que}=Object.prototype,{getPrototypeOf:lD}=Object,Lx=(n=>e=>{const t=que.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Yc=n=>(n=n.toLowerCase(),e=>Lx(e)===n),Nx=n=>e=>typeof e===n,{isArray:S1}=Array,Ny=Nx("undefined");function Xue(n){return n!==null&&!Ny(n)&&n.constructor!==null&&!Ny(n.constructor)&&fl(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const E8=Yc("ArrayBuffer");function Kue(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&E8(n.buffer),e}const Jue=Nx("string"),fl=Nx("function"),S8=Nx("number"),Ux=n=>n!==null&&typeof n=="object",Yue=n=>n===!0||n===!1,bE=n=>{if(Lx(n)!=="object")return!1;const e=lD(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Que=Yc("Date"),Zue=Yc("File"),ele=Yc("Blob"),tle=Yc("FileList"),nle=n=>Ux(n)&&fl(n.pipe),rle=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||fl(n.append)&&((e=Lx(n))==="formdata"||e==="object"&&fl(n.toString)&&n.toString()==="[object FormData]"))},ile=Yc("URLSearchParams"),[ole,sle,ale,ule]=["ReadableStream","Request","Response","Headers"].map(Yc),lle=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ub(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),S1(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,n[a],a,n)}}function x8(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const z0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,w8=n=>!Ny(n)&&n!==z0;function vT(){const{caseless:n}=w8(this)&&this||{},e={},t=(r,i)=>{const o=n&&x8(e,i)||i;bE(e[o])&&bE(r)?e[o]=vT(e[o],r):bE(r)?e[o]=vT({},r):S1(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ub(arguments[r],t);return e}const cle=(n,e,t,{allOwnKeys:r}={})=>(ub(e,(i,o)=>{t&&fl(i)?n[o]=A8(i,t):n[o]=i},{allOwnKeys:r}),n),fle=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),dle=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},hle=(n,e,t,r)=>{let i,o,s;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)s=i[o],(!r||r(s,n,e))&&!a[s]&&(e[s]=n[s],a[s]=!0);n=t!==!1&&lD(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},ple=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},mle=n=>{if(!n)return null;if(S1(n))return n;let e=n.length;if(!S8(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},gle=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&lD(Uint8Array)),vle=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},_le=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},yle=Yc("HTMLFormElement"),ble=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),QF=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Ale=Yc("RegExp"),C8=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ub(t,(i,o)=>{let s;(s=e(i,o,n))!==!1&&(r[o]=s||i)}),Object.defineProperties(n,r)},Ele=n=>{C8(n,(e,t)=>{if(fl(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(fl(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Sle=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return S1(n)?r(n):r(String(n).split(e)),t},xle=()=>{},wle=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,hM="abcdefghijklmnopqrstuvwxyz",ZF="0123456789",M8={DIGIT:ZF,ALPHA:hM,ALPHA_DIGIT:hM+hM.toUpperCase()+ZF},Cle=(n=16,e=M8.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function Mle(n){return!!(n&&fl(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Tle=n=>{const e=new Array(10),t=(r,i)=>{if(Ux(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=S1(r)?[]:{};return ub(r,(s,a)=>{const u=t(s,i+1);!Ny(u)&&(o[a]=u)}),e[i]=void 0,o}}return r};return t(n,0)},Ple=Yc("AsyncFunction"),Dle=n=>n&&(Ux(n)||fl(n))&&fl(n.then)&&fl(n.catch),T8=((n,e)=>n?setImmediate:e?((t,r)=>(z0.addEventListener("message",({source:i,data:o})=>{i===z0&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),z0.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",fl(z0.postMessage)),Rle=typeof queueMicrotask<"u"?queueMicrotask.bind(z0):typeof process<"u"&&process.nextTick||T8,ut={isArray:S1,isArrayBuffer:E8,isBuffer:Xue,isFormData:rle,isArrayBufferView:Kue,isString:Jue,isNumber:S8,isBoolean:Yue,isObject:Ux,isPlainObject:bE,isReadableStream:ole,isRequest:sle,isResponse:ale,isHeaders:ule,isUndefined:Ny,isDate:Que,isFile:Zue,isBlob:ele,isRegExp:Ale,isFunction:fl,isStream:nle,isURLSearchParams:ile,isTypedArray:gle,isFileList:tle,forEach:ub,merge:vT,extend:cle,trim:lle,stripBOM:fle,inherits:dle,toFlatObject:hle,kindOf:Lx,kindOfTest:Yc,endsWith:ple,toArray:mle,forEachEntry:vle,matchAll:_le,isHTMLForm:yle,hasOwnProperty:QF,hasOwnProp:QF,reduceDescriptors:C8,freezeMethods:Ele,toObjectSet:Sle,toCamelCase:ble,noop:xle,toFiniteNumber:wle,findKey:x8,global:z0,isContextDefined:w8,ALPHABET:M8,generateString:Cle,isSpecCompliantForm:Mle,toJSONObject:Tle,isAsyncFn:Ple,isThenable:Dle,setImmediate:T8,asap:Rle};function tr(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ut.inherits(tr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ut.toJSONObject(this.config),code:this.code,status:this.status}}});const P8=tr.prototype,D8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{D8[n]={value:n}});Object.defineProperties(tr,D8);Object.defineProperty(P8,"isAxiosError",{value:!0});tr.from=(n,e,t,r,i,o)=>{const s=Object.create(P8);return ut.toFlatObject(n,s,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),tr.call(s,n.message,e,t,r,i),s.cause=n,s.name=n.name,o&&Object.assign(s,o),s};const Ole=null;function _T(n){return ut.isPlainObject(n)||ut.isArray(n)}function R8(n){return ut.endsWith(n,"[]")?n.slice(0,-2):n}function eL(n,e,t){return n?n.concat(e).map(function(i,o){return i=R8(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Ile(n){return ut.isArray(n)&&!n.some(_T)}const Ble=ut.toFlatObject(ut,{},null,function(e){return/^is[A-Z]/.test(e)});function kx(n,e,t){if(!ut.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ut.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!ut.isUndefined(y[p])});const r=t.metaTokens,i=t.visitor||l,o=t.dots,s=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&ut.isSpecCompliantForm(e);if(!ut.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(ut.isDate(g))return g.toISOString();if(!u&&ut.isBlob(g))throw new tr("Blob is not supported. Use a Buffer instead.");return ut.isArrayBuffer(g)||ut.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function l(g,p,y){let b=g;if(g&&!y&&typeof g=="object"){if(ut.endsWith(p,"{}"))p=r?p:p.slice(0,-2),g=JSON.stringify(g);else if(ut.isArray(g)&&Ile(g)||(ut.isFileList(g)||ut.endsWith(p,"[]"))&&(b=ut.toArray(g)))return p=R8(p),b.forEach(function(C,M){!(ut.isUndefined(C)||C===null)&&e.append(s===!0?eL([p],M,o):s===null?p:p+"[]",c(C))}),!1}return _T(g)?!0:(e.append(eL(y,p,o),c(g)),!1)}const f=[],h=Object.assign(Ble,{defaultVisitor:l,convertValue:c,isVisitable:_T});function m(g,p){if(!ut.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(g),ut.forEach(g,function(b,x){(!(ut.isUndefined(b)||b===null)&&i.call(e,b,ut.isString(x)?x.trim():x,p,h))===!0&&m(b,p?p.concat(x):[x])}),f.pop()}}if(!ut.isObject(n))throw new TypeError("data must be an object");return m(n),e}function tL(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function cD(n,e){this._pairs=[],n&&kx(n,this,e)}const O8=cD.prototype;O8.append=function(e,t){this._pairs.push([e,t])};O8.toString=function(e){const t=e?function(r){return e.call(this,r,tL)}:tL;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Fle(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function I8(n,e,t){if(!e)return n;const r=t&&t.encode||Fle;ut.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=ut.isURLSearchParams(e)?e.toString():new cD(e,t).toString(r),o){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class nL{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ut.forEach(this.handlers,function(r){r!==null&&e(r)})}}const B8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lle=typeof URLSearchParams<"u"?URLSearchParams:cD,Nle=typeof FormData<"u"?FormData:null,Ule=typeof Blob<"u"?Blob:null,kle={isBrowser:!0,classes:{URLSearchParams:Lle,FormData:Nle,Blob:Ule},protocols:["http","https","file","blob","url","data"]},fD=typeof window<"u"&&typeof document<"u",yT=typeof navigator=="object"&&navigator||void 0,zle=fD&&(!yT||["ReactNative","NativeScript","NS"].indexOf(yT.product)<0),Hle=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gle=fD&&window.location.href||"http://localhost",Vle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fD,hasStandardBrowserEnv:zle,hasStandardBrowserWebWorkerEnv:Hle,navigator:yT,origin:Gle},Symbol.toStringTag,{value:"Module"})),fa={...Vle,...kle};function jle(n,e){return kx(n,new fa.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return fa.isNode&&ut.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Wle(n){return ut.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $le(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function F8(n){function e(t,r,i,o){let s=t[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),u=o>=t.length;return s=!s&&ut.isArray(i)?i.length:s,u?(ut.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!ut.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],o)&&ut.isArray(i[s])&&(i[s]=$le(i[s])),!a)}if(ut.isFormData(n)&&ut.isFunction(n.entries)){const t={};return ut.forEachEntry(n,(r,i)=>{e(Wle(r),i,t,0)}),t}return null}function qle(n,e,t){if(ut.isString(n))try{return(e||JSON.parse)(n),ut.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const lb={transitional:B8,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=ut.isObject(e);if(o&&ut.isHTMLForm(e)&&(e=new FormData(e)),ut.isFormData(e))return i?JSON.stringify(F8(e)):e;if(ut.isArrayBuffer(e)||ut.isBuffer(e)||ut.isStream(e)||ut.isFile(e)||ut.isBlob(e)||ut.isReadableStream(e))return e;if(ut.isArrayBufferView(e))return e.buffer;if(ut.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return jle(e,this.formSerializer).toString();if((a=ut.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return kx(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),qle(e)):e}],transformResponse:[function(e){const t=this.transitional||lb.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ut.isResponse(e)||ut.isReadableStream(e))return e;if(e&&ut.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?tr.from(a,tr.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fa.classes.FormData,Blob:fa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ut.forEach(["delete","get","head","post","put","patch"],n=>{lb.headers[n]={}});const Xle=ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kle=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&Xle[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},rL=Symbol("internals");function H_(n){return n&&String(n).trim().toLowerCase()}function AE(n){return n===!1||n==null?n:ut.isArray(n)?n.map(AE):String(n)}function Jle(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Yle=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function pM(n,e,t,r,i){if(ut.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ut.isString(e)){if(ut.isString(r))return e.indexOf(r)!==-1;if(ut.isRegExp(r))return r.test(e)}}function Qle(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Zle(n,e){const t=ut.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class wu{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(a,u,c){const l=H_(u);if(!l)throw new Error("header name must be a non-empty string");const f=ut.findKey(i,l);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||u]=AE(a))}const s=(a,u)=>ut.forEach(a,(c,l)=>o(c,l,u));if(ut.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ut.isString(e)&&(e=e.trim())&&!Yle(e))s(Kle(e),t);else if(ut.isHeaders(e))for(const[a,u]of e.entries())o(u,a,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=H_(e),e){const r=ut.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Jle(i);if(ut.isFunction(t))return t.call(this,i,r);if(ut.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=H_(e),e){const r=ut.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||pM(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(s){if(s=H_(s),s){const a=ut.findKey(r,s);a&&(!t||pM(r,r[a],a,t))&&(delete r[a],i=!0)}}return ut.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||pM(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return ut.forEach(this,(i,o)=>{const s=ut.findKey(r,o);if(s){t[s]=AE(i),delete t[o];return}const a=e?Qle(o):String(o).trim();a!==o&&delete t[o],t[a]=AE(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ut.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ut.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[rL]=this[rL]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=H_(s);r[a]||(Zle(i,s),r[a]=!0)}return ut.isArray(e)?e.forEach(o):o(e),this}}wu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ut.reduceDescriptors(wu.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ut.freezeMethods(wu);function mM(n,e){const t=this||lb,r=e||t,i=wu.from(r.headers);let o=r.data;return ut.forEach(n,function(a){o=a.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function L8(n){return!!(n&&n.__CANCEL__)}function x1(n,e,t){tr.call(this,n??"canceled",tr.ERR_CANCELED,e,t),this.name="CanceledError"}ut.inherits(x1,tr,{__CANCEL__:!0});function N8(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new tr("Request failed with status code "+t.status,[tr.ERR_BAD_REQUEST,tr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ece(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function tce(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),l=r[o];s||(s=c),t[i]=u,r[i]=c;let f=o,h=0;for(;f!==i;)h+=t[f++],f=f%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),c-s<e)return;const m=l&&c-l;return m?Math.round(h*1e3/m):void 0}}function nce(n,e){let t=0,r=1e3/e,i,o;const s=(c,l=Date.now())=>{t=l,i=null,o&&(clearTimeout(o),o=null),n.apply(null,c)};return[(...c)=>{const l=Date.now(),f=l-t;f>=r?s(c,l):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-f)))},()=>i&&s(i)]}const OS=(n,e,t=3)=>{let r=0;const i=tce(50,250);return nce(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,u=s-r,c=i(u),l=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&l?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(f)},t)},iL=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},oL=n=>(...e)=>ut.asap(()=>n(...e)),rce=fa.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,fa.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(fa.origin),fa.navigator&&/(msie|trident)/i.test(fa.navigator.userAgent)):()=>!0,ice=fa.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const s=[n+"="+encodeURIComponent(e)];ut.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ut.isString(r)&&s.push("path="+r),ut.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oce(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function sce(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function U8(n,e){return n&&!oce(e)?sce(n,e):e}const sL=n=>n instanceof wu?{...n}:n;function ig(n,e){e=e||{};const t={};function r(c,l,f,h){return ut.isPlainObject(c)&&ut.isPlainObject(l)?ut.merge.call({caseless:h},c,l):ut.isPlainObject(l)?ut.merge({},l):ut.isArray(l)?l.slice():l}function i(c,l,f,h){if(ut.isUndefined(l)){if(!ut.isUndefined(c))return r(void 0,c,f,h)}else return r(c,l,f,h)}function o(c,l){if(!ut.isUndefined(l))return r(void 0,l)}function s(c,l){if(ut.isUndefined(l)){if(!ut.isUndefined(c))return r(void 0,c)}else return r(void 0,l)}function a(c,l,f){if(f in e)return r(c,l);if(f in n)return r(void 0,c)}const u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,l,f)=>i(sL(c),sL(l),f,!0)};return ut.forEach(Object.keys(Object.assign({},n,e)),function(l){const f=u[l]||i,h=f(n[l],e[l],l);ut.isUndefined(h)&&f!==a||(t[l]=h)}),t}const k8=n=>{const e=ig({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=wu.from(s),e.url=I8(U8(e.baseURL,e.url),n.params,n.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(ut.isFormData(t)){if(fa.hasStandardBrowserEnv||fa.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[c,...l]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...l].join("; "))}}if(fa.hasStandardBrowserEnv&&(r&&ut.isFunction(r)&&(r=r(e)),r||r!==!1&&rce(e.url))){const c=i&&o&&ice.read(o);c&&s.set(i,c)}return e},ace=typeof XMLHttpRequest<"u",uce=ace&&function(n){return new Promise(function(t,r){const i=k8(n);let o=i.data;const s=wu.from(i.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:c}=i,l,f,h,m,g;function p(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function b(){if(!y)return;const C=wu.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:n,request:y};N8(function(N){t(N),p()},function(N){r(N),p()},R),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(r(new tr("Request aborted",tr.ECONNABORTED,n,y)),y=null)},y.onerror=function(){r(new tr("Network Error",tr.ERR_NETWORK,n,y)),y=null},y.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||B8;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new tr(M,R.clarifyTimeoutError?tr.ETIMEDOUT:tr.ECONNABORTED,n,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&ut.forEach(s.toJSON(),function(M,R){y.setRequestHeader(R,M)}),ut.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([h,g]=OS(c,!0),y.addEventListener("progress",h)),u&&y.upload&&([f,m]=OS(u),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(l=C=>{y&&(r(!C||C.type?new x1(null,n,y):C),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const x=ece(i.url);if(x&&fa.protocols.indexOf(x)===-1){r(new tr("Unsupported protocol "+x+":",tr.ERR_BAD_REQUEST,n));return}y.send(o||null)})},lce=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const l=c instanceof Error?c:this.reason;r.abort(l instanceof tr?l:new x1(l instanceof Error?l.message:l))}};let s=e&&setTimeout(()=>{s=null,o(new tr(`timeout ${e} of ms exceeded`,tr.ETIMEDOUT))},e);const a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),n=null)};n.forEach(c=>c.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>ut.asap(a),u}},cce=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},fce=async function*(n,e){for await(const t of dce(n))yield*cce(t,e)},dce=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},aL=(n,e,t,r)=>{const i=fce(n,e);let o=0,s,a=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:l}=await i.next();if(c){a(),u.close();return}let f=l.byteLength;if(t){let h=o+=f;t(h)}u.enqueue(new Uint8Array(l))}catch(c){throw a(c),c}},cancel(u){return a(u),i.return()}},{highWaterMark:2})},zx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",z8=zx&&typeof ReadableStream=="function",hce=zx&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),H8=(n,...e)=>{try{return!!n(...e)}catch{return!1}},pce=z8&&H8(()=>{let n=!1;const e=new Request(fa.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),uL=64*1024,bT=z8&&H8(()=>ut.isReadableStream(new Response("").body)),IS={stream:bT&&(n=>n.body)};zx&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!IS[e]&&(IS[e]=ut.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new tr(`Response type '${e}' is not supported`,tr.ERR_NOT_SUPPORT,r)})})})(new Response);const mce=async n=>{if(n==null)return 0;if(ut.isBlob(n))return n.size;if(ut.isSpecCompliantForm(n))return(await new Request(fa.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ut.isArrayBufferView(n)||ut.isArrayBuffer(n))return n.byteLength;if(ut.isURLSearchParams(n)&&(n=n+""),ut.isString(n))return(await hce(n)).byteLength},gce=async(n,e)=>{const t=ut.toFiniteNumber(n.getContentLength());return t??mce(e)},vce=zx&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:l,withCredentials:f="same-origin",fetchOptions:h}=k8(n);c=c?(c+"").toLowerCase():"text";let m=lce([i,o&&o.toAbortSignal()],s),g;const p=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(u&&pce&&t!=="get"&&t!=="head"&&(y=await gce(l,r))!==0){let R=new Request(e,{method:"POST",body:r,duplex:"half"}),O;if(ut.isFormData(r)&&(O=R.headers.get("content-type"))&&l.setContentType(O),R.body){const[N,F]=iL(y,OS(oL(u)));r=aL(R.body,uL,N,F)}}ut.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;g=new Request(e,{...h,signal:m,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:b?f:void 0});let x=await fetch(g);const C=bT&&(c==="stream"||c==="response");if(bT&&(a||C&&p)){const R={};["status","statusText","headers"].forEach(I=>{R[I]=x[I]});const O=ut.toFiniteNumber(x.headers.get("content-length")),[N,F]=a&&iL(O,OS(oL(a),!0))||[];x=new Response(aL(x.body,uL,N,()=>{F&&F(),p&&p()}),R)}c=c||"text";let M=await IS[ut.findKey(IS,c)||"text"](x,n);return!C&&p&&p(),await new Promise((R,O)=>{N8(R,O,{data:M,headers:wu.from(x.headers),status:x.status,statusText:x.statusText,config:n,request:g})})}catch(b){throw p&&p(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new tr("Network Error",tr.ERR_NETWORK,n,g),{cause:b.cause||b}):tr.from(b,b&&b.code,n,g)}}),AT={http:Ole,xhr:uce,fetch:vce};ut.forEach(AT,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const lL=n=>`- ${n}`,_ce=n=>ut.isFunction(n)||n===null||n===!1,G8={getAdapter:n=>{n=ut.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let s;if(r=t,!_ce(t)&&(r=AT[(s=String(t)).toLowerCase()],r===void 0))throw new tr(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(lL).join(`
`):" "+lL(o[0]):"as no adapter specified";throw new tr("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:AT};function gM(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new x1(null,n)}function cL(n){return gM(n),n.headers=wu.from(n.headers),n.data=mM.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),G8.getAdapter(n.adapter||lb.adapter)(n).then(function(r){return gM(n),r.data=mM.call(n,n.transformResponse,r),r.headers=wu.from(r.headers),r},function(r){return L8(r)||(gM(n),r&&r.response&&(r.response.data=mM.call(n,n.transformResponse,r.response),r.response.headers=wu.from(r.response.headers))),Promise.reject(r)})}const V8="1.7.9",Hx={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Hx[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const fL={};Hx.transitional=function(e,t,r){function i(o,s){return"[Axios v"+V8+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new tr(i(s," has been removed"+(t?" in "+t:"")),tr.ERR_DEPRECATED);return t&&!fL[s]&&(fL[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,a):!0}};Hx.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function yce(n,e,t){if(typeof n!="object")throw new tr("options must be an object",tr.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=n[o],u=a===void 0||s(a,o,n);if(u!==!0)throw new tr("option "+o+" must be "+u,tr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new tr("Unknown option "+o,tr.ERR_BAD_OPTION)}}const EE={assertOptions:yce,validators:Hx},Of=EE.validators;class q0{constructor(e){this.defaults=e,this.interceptors={request:new nL,response:new nL}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ig(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&EE.assertOptions(r,{silentJSONParsing:Of.transitional(Of.boolean),forcedJSONParsing:Of.transitional(Of.boolean),clarifyTimeoutError:Of.transitional(Of.boolean)},!1),i!=null&&(ut.isFunction(i)?t.paramsSerializer={serialize:i}:EE.assertOptions(i,{encode:Of.function,serialize:Of.function},!0)),EE.assertOptions(t,{baseUrl:Of.spelling("baseURL"),withXsrfToken:Of.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&ut.merge(o.common,o[t.method]);o&&ut.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),t.headers=wu.concat(s,o);const a=[];let u=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(u=u&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let l,f=0,h;if(!u){const g=[cL.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,l=Promise.resolve(t);f<h;)l=l.then(g[f++],g[f++]);return l}h=a.length;let m=t;for(f=0;f<h;){const g=a[f++],p=a[f++];try{m=g(m)}catch(y){p.call(this,y);break}}try{l=cL.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=c.length;f<h;)l=l.then(c[f++],c[f++]);return l}getUri(e){e=ig(this.defaults,e);const t=U8(e.baseURL,e.url);return I8(t,e.params,e.paramsSerializer)}}ut.forEach(["delete","get","head","options"],function(e){q0.prototype[e]=function(t,r){return this.request(ig(r||{},{method:e,url:t,data:(r||{}).data}))}});ut.forEach(["post","put","patch"],function(e){function t(r){return function(o,s,a){return this.request(ig(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}q0.prototype[e]=t(),q0.prototype[e+"Form"]=t(!0)});class dD{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new x1(o,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new dD(function(i){e=i}),cancel:e}}}function bce(n){return function(t){return n.apply(null,t)}}function Ace(n){return ut.isObject(n)&&n.isAxiosError===!0}const ET={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ET).forEach(([n,e])=>{ET[e]=n});function j8(n){const e=new q0(n),t=A8(q0.prototype.request,e);return ut.extend(t,q0.prototype,e,{allOwnKeys:!0}),ut.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return j8(ig(n,i))},t}const To=j8(lb);To.Axios=q0;To.CanceledError=x1;To.CancelToken=dD;To.isCancel=L8;To.VERSION=V8;To.toFormData=kx;To.AxiosError=tr;To.Cancel=To.CanceledError;To.all=function(e){return Promise.all(e)};To.spread=bce;To.isAxiosError=Ace;To.mergeConfig=ig;To.AxiosHeaders=wu;To.formToJSON=n=>F8(ut.isHTMLForm(n)?new FormData(n):n);To.getAdapter=G8.getAdapter;To.HttpStatusCode=ET;To.default=To;var Ece={SHOPIFY_API_KEY:"69db3caf17c4eb5befc0055e4427fc96",SHOPIFY_API_SECRET:"eeec5b0fbd7d3c1f08e0680d6f81315e",SCOPES:"read_products,unauthenticated_read_checkouts,unauthenticated_read_content,unauthenticated_read_customer_tags,unauthenticated_read_customers,unauthenticated_read_metaobjects,unauthenticated_read_product_inventory,unauthenticated_read_product_listings,unauthenticated_read_product_pickup_locations,unauthenticated_read_product_tags,unauthenticated_write_checkouts,unauthenticated_write_customers",SHOPIFY_APPSECTION_ID:"2eedc422-d8e1-4a3f-afb2-de6e54388892",REACT_APP_SHOPIFY_API_KEY:"69db3caf17c4eb5befc0055e4427fc96",REACT_API_END_POINT:"https://spf.watermelon.icu",GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESS_TERMCAP_se:"\x1B[0m",POWERSHELL_TELEMETRY_OPTOUT:"1",LANGUAGE:"en_GB:en",USER:"shaddistech",WARP_HONOR_PS1:"0",LESS_TERMCAP_ue:"\x1B[0m",npm_config_user_agent:"npm/9.2.0 node/v20.19.5 linux x64 workspaces/false",DOTNET_CLI_TELEMETRY_OPTOUT:"1",XDG_SESSION_TYPE:"x11",npm_node_execpath:"/usr/bin/node",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/shaddistech",OLDPWD:"/home/shaddistech/david-project/source-code",DESKTOP_SESSION:"gnome",TERM_PROGRAM_VERSION:"v0.2025.10.22.08.13.stable_02",npm_package_json:"/home/shaddistech/david-project/source-code/client/package.json",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/dev.warp.Warp.desktop",WARP_USE_SSH_WRAPPER:"0",MANAGERPID:"2742",LESS_TERMCAP_so:"\x1B[01;33m",npm_config_userconfig:"/home/shaddistech/.npmrc",npm_config_local_prefix:"/home/shaddistech/david-project/source-code/client",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",NMAP_PRIVILEGED:"",SYSTEMD_EXEC_PID:"3010",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"37581",COLOR:"1",COMMAND_NOT_FOUND_INSTALL_PROMPT:"1",CONDA_CHANGEPS1:"false",npm_config_metrics_registry:"https://registry.npmjs.org/",IM_CONFIG_PHASE:"1",QT_QPA_PLATFORMTHEME:"qt5ct",LOGNAME:"shaddistech",JOURNAL_STREAM:"9:15909",MANAGERPIDFDID:"2743",QT_AUTO_SCREEN_SCALE_FACTOR:"0",_:"/usr/bin/npm",LESS_TERMCAP_us:"\x1B[1;32m",npm_config_prefix:"/usr/local",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure",XDG_SESSION_CLASS:"user",SSH_SOCKET_DIR:"~/.ssh",TERM:"xterm-256color",USERNAME:"shaddistech",npm_config_cache:"/home/shaddistech/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",WARP_IS_LOCAL_SHELL_SESSION:"1",WINDOWPATH:"2",npm_config_node_gyp:"/usr/share/nodejs/node-gyp/bin/node-gyp.js",PATH:"/home/shaddistech/david-project/source-code/client/node_modules/.bin:/home/shaddistech/david-project/source-code/node_modules/.bin:/home/shaddistech/david-project/node_modules/.bin:/home/shaddistech/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/share/nodejs/@npmcli/run-script/lib/node-gyp-bin:/home/shaddistech/.local/bin:/home/shaddistech/.local/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/home/shaddistech/.dotnet/tools",GDM_LANG:"en_GB.UTF-8",INVOCATION_ID:"cc45eb8d86bc4a4b982cf7a342421b46",SESSION_MANAGER:"local/shaddistech:@/tmp/.ICE-unix/2982,unix/shaddistech:/tmp/.ICE-unix/2982",NODE:"/usr/bin/node",npm_package_name:"sign-panel-configuation",XDG_MENU_PREFIX:"gnome-",XDG_RUNTIME_DIR:"/run/user/1000",DISPLAY:":1",LANG:"en_GB.UTF-8",POWERSHELL_UPDATECHECK:"Off",XDG_CURRENT_DESKTOP:"GNOME",TERM_PROGRAM:"WarpTerminal",XAUTHORITY:"/run/user/1000/gdm/Xauthority",XDG_SESSION_DESKTOP:"gnome",XMODIFIERS:"@im=ibus",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.7z=01;31:*.ace=01;31:*.alz=01;31:*.apk=01;31:*.arc=01;31:*.arj=01;31:*.bz=01;31:*.bz2=01;31:*.cab=01;31:*.cpio=01;31:*.crate=01;31:*.deb=01;31:*.drpm=01;31:*.dwm=01;31:*.dz=01;31:*.ear=01;31:*.egg=01;31:*.esd=01;31:*.gz=01;31:*.jar=01;31:*.lha=01;31:*.lrz=01;31:*.lz=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.lzo=01;31:*.pyz=01;31:*.rar=01;31:*.rpm=01;31:*.rz=01;31:*.sar=01;31:*.swm=01;31:*.t7z=01;31:*.tar=01;31:*.taz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tgz=01;31:*.tlz=01;31:*.txz=01;31:*.tz=01;31:*.tzo=01;31:*.tzst=01;31:*.udeb=01;31:*.war=01;31:*.whl=01;31:*.wim=01;31:*.xz=01;31:*.z=01;31:*.zip=01;31:*.zoo=01;31:*.zst=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.jxl=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90::ow=30;44:",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/gcr/ssh",SHELL:"/usr/bin/zsh",npm_package_version:"0.0.0",npm_lifecycle_event:"build",GDMSESSION:"gnome",QT_ACCESSIBILITY:"1",LESS_TERMCAP_mb:"\x1B[1;31m",GJS_DEBUG_OUTPUT:"stderr",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",LESS_TERMCAP_md:"\x1B[1;36m",npm_config_globalconfig:"/etc/npmrc",npm_config_init_module:"/home/shaddistech/.npm-init.js",PWD:"/home/shaddistech/david-project/source-code/client",LESS_TERMCAP_me:"\x1B[0m",npm_config_globalignorefile:"/etc/npmignore",npm_execpath:"/usr/share/nodejs/npm/bin/npm-cli.js",XDG_DATA_DIRS:"/usr/share/gnome:/usr/local/share/:/usr/share/",npm_config_global_prefix:"/usr/local",npm_command:"run-script",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",INIT_CWD:"/home/shaddistech/david-project/source-code/client",EDITOR:"vi",NODE_ENV:"production"};const Sce=()=>{const[n,e]=W.useState({}),[t,r]=W.useState(!1),{shopifyMap:i,setShopifyMap:o}=rb(),s=W.useMemo(()=>{const h=N0.PRODUCTS_CONFIGS,m=[];return Object.keys(h).forEach(g=>{const p=["PRODUCTS_CONFIGS",g.toString(),"value"],y={productId:g,name:"Panel Product Id",value:kn.get(n,p),path:p,key:p.join("-")};m.push(y)}),m},[n]),a=W.useMemo(()=>{const h=N0.POSTS,m=[];return Object.keys(h).forEach(g=>{Object.keys(h[g]).forEach(y=>{Object.keys(h[g][y]).forEach(x=>{Object.keys(h[g][y][x]).forEach(M=>{const R=["POSTS",g.toString(),y.toString(),x.toString(),M.toString(),"value"],O={postType:g,size:y,color:x,length:M,value:kn.get(n,R),path:R,key:R.join("-")};m.push(O)})})})}),m},[n]),u=W.useMemo(()=>{const h=N0.CAPS,m=[];return Object.keys(h).forEach(g=>{Object.keys(h[g]).forEach(y=>{Object.keys(h[g][y]).forEach(x=>{const C=["CAPS",g.toString(),y.toString(),x.toString(),"value"],M={postType:g,size:y,color:x,value:kn.get(n,C),path:C,key:C.join("-")};m.push(M)})})}),m},[n]),c=W.useMemo(()=>{const h=N0.CLIPS,m=[];return Object.keys(h).forEach(g=>{Object.keys(h[g]).forEach(y=>{Object.keys(h[g][y]).forEach(x=>{const C=["CLIPS",g.toString(),y.toString(),x.toString(),"value"],M={postType:g,size:y,color:x,value:kn.get(n,C),path:C,key:C.join("-")};m.push(M)})})}),m},[n]);W.useEffect(()=>{e(kn.cloneDeep(i||{}))},[i]);const l=(h,m)=>{const g=kn.cloneDeep(n);kn.set(g,h,m),e(g)},f=()=>{const h={shop:n1.getShopifyShop,skuMap:n};r(!0),To.post(`${Ece.REACT_API_END_POINT}/v1/shopify/update-shopify-map`,h).then(m=>{o(kn.get(m,["data","skuMap"],{})),yr("Successfully!",{type:"success"}),r(!1)}).catch(()=>{yr("Fail to save shopify map!",{type:"error"}),r(!1)})};return ie.jsx(ie.Fragment,{children:ie.jsxs("div",{className:"max-w-7xl mx-auto pb-5 relative",children:[ie.jsxs("div",{className:"mt-5 sticky top-0 z-[10] bg-white flex justify-between items-center px-2",children:[ie.jsx("span",{className:"text-[42px] font-[600] text-center leading-normal",children:"OBJECT MAP"}),ie.jsxs("button",{type:"button",className:"px-6 py-2 text-sm font-semibold rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",onClick:()=>{f()},disabled:t,children:[t&&ie.jsx("span",{className:"loading loading-spinner loading-xs"}),!t&&"Save"]})]}),ie.jsx("div",{className:"mt-2 px-2",children:ie.jsxs("div",{className:"rounded-xl p-[20px] bg-[#DFF2EB]",children:[ie.jsx("h3",{className:"text-[24px] font-[600]",children:"PRODUCT CONFIGURATION"}),ie.jsx("div",{className:"overflow-x-auto",children:ie.jsxs("table",{className:"table text-[14px]",children:[ie.jsx("thead",{className:"text-[#4A628A]",children:ie.jsxs("tr",{children:[ie.jsx("th",{}),ie.jsx("th",{className:"text-center",children:"Config name"}),ie.jsx("th",{className:"text-center",children:"Config value"})]})}),ie.jsx("tbody",{children:s.map((h,m)=>ie.jsxs("tr",{children:[ie.jsx("td",{className:"text-center p-1",children:m+1}),ie.jsx("td",{className:"text-center p-1",children:h.name}),ie.jsx("td",{className:"text-center p-1",children:ie.jsx("input",{type:"text",value:h.value,onChange:g=>{l(h.path,g.target.value)},className:"input input-bordered w-full input-sm"})})]},h.key))})]})})]})}),ie.jsx("div",{className:"mt-2 px-2",children:ie.jsxs("div",{className:"rounded-xl p-[20px] bg-[#DFF2EB]",children:[ie.jsx("h3",{className:"text-[24px] font-[600]",children:"POSTS"}),ie.jsx("div",{className:"overflow-x-auto",children:ie.jsxs("table",{className:"table text-[14px]",children:[ie.jsx("thead",{className:"text-[#4A628A]",children:ie.jsxs("tr",{children:[ie.jsx("th",{}),ie.jsx("th",{className:"text-center",children:"Post type"}),ie.jsx("th",{className:"text-center",children:"Post size (mm)"}),ie.jsx("th",{className:"text-center",children:"Post color"}),ie.jsx("th",{className:"text-center",children:"Post length"}),ie.jsx("th",{className:"text-center",children:"SKU"})]})}),ie.jsx("tbody",{children:a.map((h,m)=>ie.jsxs("tr",{children:[ie.jsx("td",{className:"text-center p-1",children:m+1}),ie.jsx("td",{className:"text-center p-1",children:h.postType==`${ge}-${Vo.DIA}`?"Dia":"Square"}),ie.jsx("td",{className:"text-center p-1",children:h.size.replace(`${ge}-`,"")}),ie.jsx("td",{className:"text-center p-1",children:kn.get(Object.values(ze).find(g=>g.value==h.color.replace(`${ge}-`,"")),["text"])}),ie.jsx("td",{className:"text-center p-1",children:h.length.replace(`${ge}-`,"")}),ie.jsx("td",{className:"text-center p-1",children:ie.jsx("input",{type:"text",value:h.value,onChange:g=>{l(h.path,g.target.value)},className:"input input-bordered w-full input-sm"})})]},h.key))})]})})]})}),ie.jsx("div",{className:"mt-2 px-2",children:ie.jsxs("div",{className:"rounded-xl p-[20px] bg-[#DFF2EB]",children:[ie.jsx("h3",{className:"text-[24px] font-[600]",children:"CAPS"}),ie.jsx("div",{className:"overflow-x-auto",children:ie.jsxs("table",{className:"table text-[14px]",children:[ie.jsx("thead",{className:"text-[#4A628A]",children:ie.jsxs("tr",{children:[ie.jsx("th",{}),ie.jsx("th",{className:"text-center",children:"Cap type"}),ie.jsx("th",{className:"text-center",children:"Cap size (mm)"}),ie.jsx("th",{className:"text-center",children:"Cap color"}),ie.jsx("th",{className:"text-center",children:"SKU"})]})}),ie.jsx("tbody",{children:u.map((h,m)=>ie.jsxs("tr",{children:[ie.jsx("td",{className:"text-center p-1",children:m+1}),ie.jsx("td",{className:"text-center p-1",children:h.postType==`${ge}-${Vo.DIA}`?"Dia":"Square"}),ie.jsx("td",{className:"text-center p-1",children:h.size.replace(`${ge}-`,"")}),ie.jsx("td",{className:"text-center p-1",children:kn.get(Object.values(ze).find(g=>g.value==h.color.replace(`${ge}-`,"")),["text"])}),ie.jsx("td",{className:"text-center p-1",children:ie.jsx("input",{type:"text",value:h.value,onChange:g=>{l(h.path,g.target.value)},className:"input input-bordered w-full input-sm"})})]},h.key))})]})})]})}),ie.jsx("div",{className:"mt-2 px-2",children:ie.jsxs("div",{className:"rounded-xl p-[20px] bg-[#DFF2EB]",children:[ie.jsx("h3",{className:"text-[24px] font-[600]",children:"CLIPS"}),ie.jsx("div",{className:"overflow-x-auto",children:ie.jsxs("table",{className:"table text-[14px]",children:[ie.jsx("thead",{className:"text-[#4A628A]",children:ie.jsxs("tr",{children:[ie.jsx("th",{}),ie.jsx("th",{className:"text-center",children:"Clip type"}),ie.jsx("th",{className:"text-center",children:"Clip size (mm)"}),ie.jsx("th",{className:"text-center",children:"Clip color"}),ie.jsx("th",{className:"text-center",children:"SKU"})]})}),ie.jsx("tbody",{children:c.map((h,m)=>ie.jsxs("tr",{children:[ie.jsx("td",{className:"text-center p-1",children:m+1}),ie.jsx("td",{className:"text-center p-1",children:h.postType==`${ge}-${Vo.DIA}`?"Dia":"Square"}),ie.jsx("td",{className:"text-center p-1",children:h.size.replace(`${ge}-`,"")}),ie.jsx("td",{className:"text-center p-1",children:kn.get(Object.values(ze).find(g=>g.value==h.color.replace(`${ge}-`,"")),["text"])}),ie.jsx("td",{className:"text-center p-1",children:ie.jsx("input",{type:"text",value:h.value,onChange:g=>{l(h.path,g.target.value)},className:"input input-bordered w-full input-sm"})})]},h.key))})]})})]})})]})})};var xce={SHOPIFY_API_KEY:"69db3caf17c4eb5befc0055e4427fc96",SHOPIFY_API_SECRET:"eeec5b0fbd7d3c1f08e0680d6f81315e",SCOPES:"read_products,unauthenticated_read_checkouts,unauthenticated_read_content,unauthenticated_read_customer_tags,unauthenticated_read_customers,unauthenticated_read_metaobjects,unauthenticated_read_product_inventory,unauthenticated_read_product_listings,unauthenticated_read_product_pickup_locations,unauthenticated_read_product_tags,unauthenticated_write_checkouts,unauthenticated_write_customers",SHOPIFY_APPSECTION_ID:"2eedc422-d8e1-4a3f-afb2-de6e54388892",REACT_APP_SHOPIFY_API_KEY:"69db3caf17c4eb5befc0055e4427fc96",REACT_API_END_POINT:"https://spf.watermelon.icu",GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESS_TERMCAP_se:"\x1B[0m",POWERSHELL_TELEMETRY_OPTOUT:"1",LANGUAGE:"en_GB:en",USER:"shaddistech",WARP_HONOR_PS1:"0",LESS_TERMCAP_ue:"\x1B[0m",npm_config_user_agent:"npm/9.2.0 node/v20.19.5 linux x64 workspaces/false",DOTNET_CLI_TELEMETRY_OPTOUT:"1",XDG_SESSION_TYPE:"x11",npm_node_execpath:"/usr/bin/node",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/shaddistech",OLDPWD:"/home/shaddistech/david-project/source-code",DESKTOP_SESSION:"gnome",TERM_PROGRAM_VERSION:"v0.2025.10.22.08.13.stable_02",npm_package_json:"/home/shaddistech/david-project/source-code/client/package.json",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/dev.warp.Warp.desktop",WARP_USE_SSH_WRAPPER:"0",MANAGERPID:"2742",LESS_TERMCAP_so:"\x1B[01;33m",npm_config_userconfig:"/home/shaddistech/.npmrc",npm_config_local_prefix:"/home/shaddistech/david-project/source-code/client",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",NMAP_PRIVILEGED:"",SYSTEMD_EXEC_PID:"3010",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"37581",COLOR:"1",COMMAND_NOT_FOUND_INSTALL_PROMPT:"1",CONDA_CHANGEPS1:"false",npm_config_metrics_registry:"https://registry.npmjs.org/",IM_CONFIG_PHASE:"1",QT_QPA_PLATFORMTHEME:"qt5ct",LOGNAME:"shaddistech",JOURNAL_STREAM:"9:15909",MANAGERPIDFDID:"2743",QT_AUTO_SCREEN_SCALE_FACTOR:"0",_:"/usr/bin/npm",LESS_TERMCAP_us:"\x1B[1;32m",npm_config_prefix:"/usr/local",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure",XDG_SESSION_CLASS:"user",SSH_SOCKET_DIR:"~/.ssh",TERM:"xterm-256color",USERNAME:"shaddistech",npm_config_cache:"/home/shaddistech/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",WARP_IS_LOCAL_SHELL_SESSION:"1",WINDOWPATH:"2",npm_config_node_gyp:"/usr/share/nodejs/node-gyp/bin/node-gyp.js",PATH:"/home/shaddistech/david-project/source-code/client/node_modules/.bin:/home/shaddistech/david-project/source-code/node_modules/.bin:/home/shaddistech/david-project/node_modules/.bin:/home/shaddistech/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/share/nodejs/@npmcli/run-script/lib/node-gyp-bin:/home/shaddistech/.local/bin:/home/shaddistech/.local/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/home/shaddistech/.dotnet/tools",GDM_LANG:"en_GB.UTF-8",INVOCATION_ID:"cc45eb8d86bc4a4b982cf7a342421b46",SESSION_MANAGER:"local/shaddistech:@/tmp/.ICE-unix/2982,unix/shaddistech:/tmp/.ICE-unix/2982",NODE:"/usr/bin/node",npm_package_name:"sign-panel-configuation",XDG_MENU_PREFIX:"gnome-",XDG_RUNTIME_DIR:"/run/user/1000",DISPLAY:":1",LANG:"en_GB.UTF-8",POWERSHELL_UPDATECHECK:"Off",XDG_CURRENT_DESKTOP:"GNOME",TERM_PROGRAM:"WarpTerminal",XAUTHORITY:"/run/user/1000/gdm/Xauthority",XDG_SESSION_DESKTOP:"gnome",XMODIFIERS:"@im=ibus",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.7z=01;31:*.ace=01;31:*.alz=01;31:*.apk=01;31:*.arc=01;31:*.arj=01;31:*.bz=01;31:*.bz2=01;31:*.cab=01;31:*.cpio=01;31:*.crate=01;31:*.deb=01;31:*.drpm=01;31:*.dwm=01;31:*.dz=01;31:*.ear=01;31:*.egg=01;31:*.esd=01;31:*.gz=01;31:*.jar=01;31:*.lha=01;31:*.lrz=01;31:*.lz=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.lzo=01;31:*.pyz=01;31:*.rar=01;31:*.rpm=01;31:*.rz=01;31:*.sar=01;31:*.swm=01;31:*.t7z=01;31:*.tar=01;31:*.taz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tgz=01;31:*.tlz=01;31:*.txz=01;31:*.tz=01;31:*.tzo=01;31:*.tzst=01;31:*.udeb=01;31:*.war=01;31:*.whl=01;31:*.wim=01;31:*.xz=01;31:*.z=01;31:*.zip=01;31:*.zoo=01;31:*.zst=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.jxl=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90::ow=30;44:",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/gcr/ssh",SHELL:"/usr/bin/zsh",npm_package_version:"0.0.0",npm_lifecycle_event:"build",GDMSESSION:"gnome",QT_ACCESSIBILITY:"1",LESS_TERMCAP_mb:"\x1B[1;31m",GJS_DEBUG_OUTPUT:"stderr",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",LESS_TERMCAP_md:"\x1B[1;36m",npm_config_globalconfig:"/etc/npmrc",npm_config_init_module:"/home/shaddistech/.npm-init.js",PWD:"/home/shaddistech/david-project/source-code/client",LESS_TERMCAP_me:"\x1B[0m",npm_config_globalignorefile:"/etc/npmignore",npm_execpath:"/usr/share/nodejs/npm/bin/npm-cli.js",XDG_DATA_DIRS:"/usr/share/gnome:/usr/local/share/:/usr/share/",npm_config_global_prefix:"/usr/local",npm_command:"run-script",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",INIT_CWD:"/home/shaddistech/david-project/source-code/client",EDITOR:"vi",NODE_ENV:"production"};function dL(){const{setShopifyMap:n,setVariantMapSku:e}=rb(),t=W.useRef(!0),r=i=>{var o;((o=i.data)==null?void 0:o.type)=="ADD_TO_CART_RESULT"&&(i.data.content.status?yr("Successfully!",{type:"success"}):yr("Fail!",{type:"error"}))};return W.useEffect(()=>(window.addEventListener("message",r,!1),()=>{window.removeEventListener("message",r,!1)}),[]),W.useEffect(()=>{t.current&&(t.current&&(t.current=!1),To.get(`${xce.REACT_API_END_POINT}/v1/shopify/get-shopify-map?shop=${n1.getShopifyShop}`).then(i=>{const o=Object.keys(kn.get(i,["data","skuMap"],N0)).length==0?N0:kn.get(i,["data","skuMap"],N0);n(o),e(kn.get(i,["data","variantMapSku"],[])),yr("Get shopify map successfully!",{type:"success"})}).catch(()=>{yr("Fail to get shopify map!",{type:"error"})}))},[n]),ie.jsxs(ie.Fragment,{children:[ie.jsx(IQ,{}),ie.jsxs(C7,{children:[ie.jsx(lE,{path:"/",index:!0,element:ie.jsx(Gre,{})}),ie.jsx(lE,{path:"/config",index:!0,element:ie.jsx(Sce,{})}),n1.IS_SHOPIFY&&$ue.map(i=>ie.jsx(lE,{path:i.path,element:i.component},i.name))]})]})}var wce={SHOPIFY_API_KEY:"69db3caf17c4eb5befc0055e4427fc96",SHOPIFY_API_SECRET:"eeec5b0fbd7d3c1f08e0680d6f81315e",SCOPES:"read_products,unauthenticated_read_checkouts,unauthenticated_read_content,unauthenticated_read_customer_tags,unauthenticated_read_customers,unauthenticated_read_metaobjects,unauthenticated_read_product_inventory,unauthenticated_read_product_listings,unauthenticated_read_product_pickup_locations,unauthenticated_read_product_tags,unauthenticated_write_checkouts,unauthenticated_write_customers",SHOPIFY_APPSECTION_ID:"2eedc422-d8e1-4a3f-afb2-de6e54388892",REACT_APP_SHOPIFY_API_KEY:"69db3caf17c4eb5befc0055e4427fc96",REACT_API_END_POINT:"https://spf.watermelon.icu",GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESS_TERMCAP_se:"\x1B[0m",POWERSHELL_TELEMETRY_OPTOUT:"1",LANGUAGE:"en_GB:en",USER:"shaddistech",WARP_HONOR_PS1:"0",LESS_TERMCAP_ue:"\x1B[0m",npm_config_user_agent:"npm/9.2.0 node/v20.19.5 linux x64 workspaces/false",DOTNET_CLI_TELEMETRY_OPTOUT:"1",XDG_SESSION_TYPE:"x11",npm_node_execpath:"/usr/bin/node",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/shaddistech",OLDPWD:"/home/shaddistech/david-project/source-code",DESKTOP_SESSION:"gnome",TERM_PROGRAM_VERSION:"v0.2025.10.22.08.13.stable_02",npm_package_json:"/home/shaddistech/david-project/source-code/client/package.json",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/dev.warp.Warp.desktop",WARP_USE_SSH_WRAPPER:"0",MANAGERPID:"2742",LESS_TERMCAP_so:"\x1B[01;33m",npm_config_userconfig:"/home/shaddistech/.npmrc",npm_config_local_prefix:"/home/shaddistech/david-project/source-code/client",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",NMAP_PRIVILEGED:"",SYSTEMD_EXEC_PID:"3010",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"37581",COLOR:"1",COMMAND_NOT_FOUND_INSTALL_PROMPT:"1",CONDA_CHANGEPS1:"false",npm_config_metrics_registry:"https://registry.npmjs.org/",IM_CONFIG_PHASE:"1",QT_QPA_PLATFORMTHEME:"qt5ct",LOGNAME:"shaddistech",JOURNAL_STREAM:"9:15909",MANAGERPIDFDID:"2743",QT_AUTO_SCREEN_SCALE_FACTOR:"0",_:"/usr/bin/npm",LESS_TERMCAP_us:"\x1B[1;32m",npm_config_prefix:"/usr/local",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/session.slice/org.gnome.Shell@x11.service/memory.pressure",XDG_SESSION_CLASS:"user",SSH_SOCKET_DIR:"~/.ssh",TERM:"xterm-256color",USERNAME:"shaddistech",npm_config_cache:"/home/shaddistech/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",WARP_IS_LOCAL_SHELL_SESSION:"1",WINDOWPATH:"2",npm_config_node_gyp:"/usr/share/nodejs/node-gyp/bin/node-gyp.js",PATH:"/home/shaddistech/david-project/source-code/client/node_modules/.bin:/home/shaddistech/david-project/source-code/node_modules/.bin:/home/shaddistech/david-project/node_modules/.bin:/home/shaddistech/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/share/nodejs/@npmcli/run-script/lib/node-gyp-bin:/home/shaddistech/.local/bin:/home/shaddistech/.local/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:/home/shaddistech/.dotnet/tools",GDM_LANG:"en_GB.UTF-8",INVOCATION_ID:"cc45eb8d86bc4a4b982cf7a342421b46",SESSION_MANAGER:"local/shaddistech:@/tmp/.ICE-unix/2982,unix/shaddistech:/tmp/.ICE-unix/2982",NODE:"/usr/bin/node",npm_package_name:"sign-panel-configuation",XDG_MENU_PREFIX:"gnome-",XDG_RUNTIME_DIR:"/run/user/1000",DISPLAY:":1",LANG:"en_GB.UTF-8",POWERSHELL_UPDATECHECK:"Off",XDG_CURRENT_DESKTOP:"GNOME",TERM_PROGRAM:"WarpTerminal",XAUTHORITY:"/run/user/1000/gdm/Xauthority",XDG_SESSION_DESKTOP:"gnome",XMODIFIERS:"@im=ibus",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.7z=01;31:*.ace=01;31:*.alz=01;31:*.apk=01;31:*.arc=01;31:*.arj=01;31:*.bz=01;31:*.bz2=01;31:*.cab=01;31:*.cpio=01;31:*.crate=01;31:*.deb=01;31:*.drpm=01;31:*.dwm=01;31:*.dz=01;31:*.ear=01;31:*.egg=01;31:*.esd=01;31:*.gz=01;31:*.jar=01;31:*.lha=01;31:*.lrz=01;31:*.lz=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.lzo=01;31:*.pyz=01;31:*.rar=01;31:*.rpm=01;31:*.rz=01;31:*.sar=01;31:*.swm=01;31:*.t7z=01;31:*.tar=01;31:*.taz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tgz=01;31:*.tlz=01;31:*.txz=01;31:*.tz=01;31:*.tzo=01;31:*.tzst=01;31:*.udeb=01;31:*.war=01;31:*.whl=01;31:*.wim=01;31:*.xz=01;31:*.z=01;31:*.zip=01;31:*.zoo=01;31:*.zst=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.jxl=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90::ow=30;44:",npm_lifecycle_script:"vite build",SSH_AUTH_SOCK:"/run/user/1000/gcr/ssh",SHELL:"/usr/bin/zsh",npm_package_version:"0.0.0",npm_lifecycle_event:"build",GDMSESSION:"gnome",QT_ACCESSIBILITY:"1",LESS_TERMCAP_mb:"\x1B[1;31m",GJS_DEBUG_OUTPUT:"stderr",GPG_AGENT_INFO:"/run/user/1000/gnupg/S.gpg-agent:0:1",QT_IM_MODULE:"ibus",LESS_TERMCAP_md:"\x1B[1;36m",npm_config_globalconfig:"/etc/npmrc",npm_config_init_module:"/home/shaddistech/.npm-init.js",PWD:"/home/shaddistech/david-project/source-code/client",LESS_TERMCAP_me:"\x1B[0m",npm_config_globalignorefile:"/etc/npmignore",npm_execpath:"/usr/share/nodejs/npm/bin/npm-cli.js",XDG_DATA_DIRS:"/usr/share/gnome:/usr/local/share/:/usr/share/",npm_config_global_prefix:"/usr/local",npm_command:"run-script",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",INIT_CWD:"/home/shaddistech/david-project/source-code/client",EDITOR:"vi",NODE_ENV:"production"};function Cce({children:n}){const e=hh(),t=MT(),r=W.useMemo(()=>({replace:s=>{t(s,{replace:!0})}}),[t]),i=W.useMemo(()=>({history:r,location:e}),[r,e]),[o]=W.useState(()=>{const s=new URLSearchParams(e.search).get("host")||window.__SHOPIFY_DEV_HOST;return window.__SHOPIFY_DEV_HOST=s,{host:s,apiKey:wce.REACT_APP_SHOPIFY_API_KEY,forceRedirect:!0}});if(!o.host){const s={title:"Missing host query argument",children:ie.jsxs(ie.Fragment,{children:["Your app can only load if the URL has a ",ie.jsx("b",{children:"host"})," argument. Please ensure that it is set, or access your app using the Partners Dashboard ",ie.jsx("b",{children:"Test your app"})," feature"]})};return ie.jsx(b8,{narrowWidth:!0,children:ie.jsx(u1,{children:ie.jsx(u1.Section,{children:ie.jsx("div",{style:{marginTop:"100px"},children:ie.jsx(v8,{...s,status:"critical"})})})})})}return ie.jsx(PS.Provider,{config:o,router:i,children:n})}var Gx=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,o=r||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(s){return s!==o}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}(),W8=typeof window>"u";function Ha(){}function Mce(n,e){return typeof n=="function"?n(e):n}function Tce(n){return typeof n=="number"&&n>=0&&n!==1/0}function BS(n){return Array.isArray(n)?n:[n]}function Pce(n,e){return Math.max(n+(e||0)-Date.now(),0)}function vM(n,e,t){return Vx(n)?typeof e=="function"?Pr({},t,{queryKey:n,queryFn:e}):Pr({},e,{queryKey:n}):n}function Ep(n,e,t){return Vx(n)?[Pr({},e,{queryKey:n}),t]:[n||{},e]}function Dce(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function hL(n,e){var t=n.active,r=n.exact,i=n.fetching,o=n.inactive,s=n.predicate,a=n.queryKey,u=n.stale;if(Vx(a)){if(r){if(e.queryHash!==hD(a,e.options))return!1}else if(!FS(e.queryKey,a))return!1}var c=Dce(t,o);if(c==="none")return!1;if(c!=="all"){var l=e.isActive();if(c==="active"&&!l||c==="inactive"&&l)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i=="boolean"&&e.isFetching()!==i||s&&!s(e))}function pL(n,e){var t=n.exact,r=n.fetching,i=n.predicate,o=n.mutationKey;if(Vx(o)){if(!e.options.mutationKey)return!1;if(t){if(H0(e.options.mutationKey)!==H0(o))return!1}else if(!FS(e.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function hD(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||H0;return t(n)}function H0(n){var e=BS(n);return Rce(e)}function Rce(n){return JSON.stringify(n,function(e,t){return ST(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function FS(n,e){return $8(BS(n),BS(e))}function $8(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!$8(n[t],e[t])}):!1}function q8(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||ST(n)&&ST(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),o=i.length,s=t?[]:{},a=0,u=0;u<o;u++){var c=t?u:i[u];s[c]=q8(n[c],e[c]),s[c]===n[c]&&a++}return r===o&&a===r?n:s}return e}function ST(n){if(!mL(n))return!1;var e=n.constructor;if(typeof e>"u")return!0;var t=e.prototype;return!(!mL(t)||!t.hasOwnProperty("isPrototypeOf"))}function mL(n){return Object.prototype.toString.call(n)==="[object Object]"}function Vx(n){return typeof n=="string"||Array.isArray(n)}function Oce(n){return new Promise(function(e){setTimeout(e,n)})}function gL(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function X8(){if(typeof AbortController=="function")return new AbortController}var Ice=function(n){Fx(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var o;if(!W8&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(a){typeof a=="boolean"?s.setFocused(a):s.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Gx),SE=new Ice,Bce=function(n){Fx(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var o;if(!W8&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(a){typeof a=="boolean"?s.setOnline(a):s.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Gx),xE=new Bce;function Fce(n){return Math.min(1e3*Math.pow(2,n),3e4)}function LS(n){return typeof(n==null?void 0:n.cancel)=="function"}var K8=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function _M(n){return n instanceof K8}var J8=function(e){var t=this,r=!1,i,o,s,a;this.abort=e.abort,this.cancel=function(h){return i==null?void 0:i(h)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,m){s=h,a=m});var u=function(m){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(m),o==null||o(),s(m))},c=function(m){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(m),o==null||o(),a(m))},l=function(){return new Promise(function(m){o=m,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){o=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function h(){if(!t.isResolved){var m;try{m=e.fn()}catch(g){m=Promise.reject(g)}i=function(p){if(!t.isResolved&&(c(new K8(p)),t.abort==null||t.abort(),LS(m)))try{m.cancel()}catch{}},t.isTransportCancelable=LS(m),Promise.resolve(m).then(u).catch(function(g){var p,y;if(!t.isResolved){var b=(p=e.retry)!=null?p:3,x=(y=e.retryDelay)!=null?y:Fce,C=typeof x=="function"?x(t.failureCount,g):x,M=b===!0||typeof b=="number"&&t.failureCount<b||typeof b=="function"&&b(t.failureCount,g);if(r||!M){c(g);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,g),Oce(C).then(function(){if(!SE.isFocused()||!xE.isOnline())return l()}).then(function(){r?c(g):h()})}})}};f()},Lce=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):gL(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];i.schedule(function(){r.apply(void 0,s)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&gL(function(){r.batchNotifyFn(function(){i.forEach(function(o){r.notifyFn(o)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),Hs=new Lce,Y8=console;function Q8(){return Y8}function Nce(n){Y8=n}var Uce=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var i;this.options=Pr({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Tce(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var o,s,a=this.state.data,u=Mce(r,a);return(o=(s=this.options).isDataEqual)!=null&&o.call(s,a,u)?u=a:this.options.structuralSharing!==!1&&(u=q8(a,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),u},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,o=this.promise;return(i=this.retryer)==null||i.cancel(r),o?o.then(Ha).catch(Ha):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Pce(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var o=this,s,a,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var l=this.observers.find(function(x){return x.options.queryFn});l&&this.setOptions(l.options)}var f=BS(this.queryKey),h=X8(),m={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(h)return o.abortSignalConsumed=!0,h.signal}});var g=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(m)):Promise.reject("Missing queryFn")},p={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:g,meta:this.meta};if((s=this.options.behavior)!=null&&s.onFetch){var y;(y=this.options.behavior)==null||y.onFetch(p)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=p.fetchOptions)==null?void 0:a.meta)){var b;this.dispatch({type:"fetch",meta:(b=p.fetchOptions)==null?void 0:b.meta})}return this.retryer=new J8({fn:p.fetchFn,abort:h==null||(u=h.abort)==null?void 0:u.bind(h),onSuccess:function(C){o.setData(C),o.cache.config.onSuccess==null||o.cache.config.onSuccess(C,o),o.cacheTime===0&&o.optionalRemove()},onError:function(C){_M(C)&&C.silent||o.dispatch({type:"error",error:C}),_M(C)||(o.cache.config.onError==null||o.cache.config.onError(C,o),Q8().error(C)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Hs.batch(function(){i.observers.forEach(function(o){o.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,o=typeof r.initialData<"u",s=o?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var o,s;switch(i.type){case"failed":return Pr({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Pr({},r,{isPaused:!0});case"continue":return Pr({},r,{isPaused:!1});case"fetch":return Pr({},r,{fetchFailureCount:0,fetchMeta:(o=i.meta)!=null?o:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Pr({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=i.dataUpdatedAt)!=null?s:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return _M(a)&&a.revert&&this.revertState?Pr({},this.revertState):Pr({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Pr({},r,{isInvalidated:!0});case"setState":return Pr({},r,i.state);default:return r}},n}(),Z8=function(n){Fx(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var t=e.prototype;return t.build=function(i,o,s){var a,u=o.queryKey,c=(a=o.queryHash)!=null?a:hD(u,o),l=this.get(c);return l||(l=new Uce({cache:this,queryKey:u,queryHash:c,options:i.defaultQueryOptions(o),state:s,defaultOptions:i.getQueryDefaults(u),meta:o.meta}),this.add(l)),l},t.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},t.remove=function(i){var o=this.queriesMap[i.queryHash];o&&(i.destroy(),this.queries=this.queries.filter(function(s){return s!==i}),o===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},t.clear=function(){var i=this;Hs.batch(function(){i.queries.forEach(function(o){i.remove(o)})})},t.get=function(i){return this.queriesMap[i]},t.getAll=function(){return this.queries},t.find=function(i,o){var s=Ep(i,o),a=s[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(u){return hL(a,u)})},t.findAll=function(i,o){var s=Ep(i,o),a=s[0];return Object.keys(a).length>0?this.queries.filter(function(u){return hL(a,u)}):this.queries},t.notify=function(i){var o=this;Hs.batch(function(){o.listeners.forEach(function(s){s(i)})})},t.onFocus=function(){var i=this;Hs.batch(function(){i.queries.forEach(function(o){o.onFocus()})})},t.onOnline=function(){var i=this;Hs.batch(function(){i.queries.forEach(function(o){o.onOnline()})})},e}(Gx),kce=function(){function n(t){this.options=Pr({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||zce(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Ha).catch(Ha)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,o=this.state.status==="loading",s=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),s.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Q8().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new J8({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=Hce(this.state,r),Hs.batch(function(){i.observers.forEach(function(o){o.onMutationUpdate(r)}),i.mutationCache.notify(i)})},n}();function zce(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Hce(n,e){switch(e.type){case"failed":return Pr({},n,{failureCount:n.failureCount+1});case"pause":return Pr({},n,{isPaused:!0});case"continue":return Pr({},n,{isPaused:!1});case"loading":return Pr({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Pr({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Pr({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return Pr({},n,e.state);default:return n}}var e9=function(n){Fx(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var t=e.prototype;return t.build=function(i,o,s){var a=new kce({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(o),state:s,defaultOptions:o.mutationKey?i.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(a),a},t.add=function(i){this.mutations.push(i),this.notify(i)},t.remove=function(i){this.mutations=this.mutations.filter(function(o){return o!==i}),i.cancel(),this.notify(i)},t.clear=function(){var i=this;Hs.batch(function(){i.mutations.forEach(function(o){i.remove(o)})})},t.getAll=function(){return this.mutations},t.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(o){return pL(i,o)})},t.findAll=function(i){return this.mutations.filter(function(o){return pL(i,o)})},t.notify=function(i){var o=this;Hs.batch(function(){o.listeners.forEach(function(s){s(i)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var i=this.mutations.filter(function(o){return o.state.isPaused});return Hs.batch(function(){return i.reduce(function(o,s){return o.then(function(){return s.continue().catch(Ha)})},Promise.resolve())})},e}(Gx);function Gce(){return{onFetch:function(e){e.fetchFn=function(){var t,r,i,o,s,a,u=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,c=(i=e.fetchOptions)==null||(o=i.meta)==null?void 0:o.fetchMore,l=c==null?void 0:c.pageParam,f=(c==null?void 0:c.direction)==="forward",h=(c==null?void 0:c.direction)==="backward",m=((s=e.state.data)==null?void 0:s.pages)||[],g=((a=e.state.data)==null?void 0:a.pageParams)||[],p=X8(),y=p==null?void 0:p.signal,b=g,x=!1,C=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},M=function(ee,le,J,fe){return b=fe?[le].concat(b):[].concat(b,[le]),fe?[J].concat(ee):[].concat(ee,[J])},R=function(ee,le,J,fe){if(x)return Promise.reject("Cancelled");if(typeof J>"u"&&!le&&ee.length)return Promise.resolve(ee);var V={queryKey:e.queryKey,signal:y,pageParam:J,meta:e.meta},ae=C(V),ue=Promise.resolve(ae).then(function(de){return M(ee,J,de,fe)});if(LS(ae)){var Q=ue;Q.cancel=ae.cancel}return ue},O;if(!m.length)O=R([]);else if(f){var N=typeof l<"u",F=N?l:vL(e.options,m);O=R(m,N,F)}else if(h){var I=typeof l<"u",B=I?l:Vce(e.options,m);O=R(m,I,B,!0)}else(function(){b=[];var Y=typeof e.options.getNextPageParam>"u",ee=u&&m[0]?u(m[0],0,m):!0;O=ee?R([],Y,g[0]):Promise.resolve(M([],g[0],m[0]));for(var le=function(V){O=O.then(function(ae){var ue=u&&m[V]?u(m[V],V,m):!0;if(ue){var Q=Y?g[V]:vL(e.options,ae);return R(ae,Y,Q)}return Promise.resolve(M(ae,g[V],m[V]))})},J=1;J<m.length;J++)le(J)})();var k=O.then(function(Y){return{pages:Y,pageParams:b}}),q=k;return q.cancel=function(){x=!0,p==null||p.abort(),LS(O)&&O.cancel()},k}}}}function vL(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function Vce(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var jce=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new Z8,this.mutationCache=t.mutationCache||new e9,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=SE.subscribe(function(){SE.isFocused()&&xE.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=xE.subscribe(function(){SE.isFocused()&&xE.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var o=Ep(r,i),s=o[0];return s.fetching=!0,this.queryCache.findAll(s).length},e.isMutating=function(r){return this.mutationCache.findAll(Pr({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var o=i.queryKey,s=i.state,a=s.data;return[o,a]})},e.setQueryData=function(r,i,o){var s=vM(r),a=this.defaultQueryOptions(s);return this.queryCache.build(this,a).setData(i,o)},e.setQueriesData=function(r,i,o){var s=this;return Hs.batch(function(){return s.getQueryCache().findAll(r).map(function(a){var u=a.queryKey;return[u,s.setQueryData(u,i,o)]})})},e.getQueryState=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state},e.removeQueries=function(r,i){var o=Ep(r,i),s=o[0],a=this.queryCache;Hs.batch(function(){a.findAll(s).forEach(function(u){a.remove(u)})})},e.resetQueries=function(r,i,o){var s=this,a=Ep(r,i,o),u=a[0],c=a[1],l=this.queryCache,f=Pr({},u,{active:!0});return Hs.batch(function(){return l.findAll(u).forEach(function(h){h.reset()}),s.refetchQueries(f,c)})},e.cancelQueries=function(r,i,o){var s=this,a=Ep(r,i,o),u=a[0],c=a[1],l=c===void 0?{}:c;typeof l.revert>"u"&&(l.revert=!0);var f=Hs.batch(function(){return s.queryCache.findAll(u).map(function(h){return h.cancel(l)})});return Promise.all(f).then(Ha).catch(Ha)},e.invalidateQueries=function(r,i,o){var s,a,u,c=this,l=Ep(r,i,o),f=l[0],h=l[1],m=Pr({},f,{active:(s=(a=f.refetchActive)!=null?a:f.active)!=null?s:!0,inactive:(u=f.refetchInactive)!=null?u:!1});return Hs.batch(function(){return c.queryCache.findAll(f).forEach(function(g){g.invalidate()}),c.refetchQueries(m,h)})},e.refetchQueries=function(r,i,o){var s=this,a=Ep(r,i,o),u=a[0],c=a[1],l=Hs.batch(function(){return s.queryCache.findAll(u).map(function(h){return h.fetch(void 0,Pr({},c,{meta:{refetchPage:u==null?void 0:u.refetchPage}}))})}),f=Promise.all(l).then(Ha);return c!=null&&c.throwOnError||(f=f.catch(Ha)),f},e.fetchQuery=function(r,i,o){var s=vM(r,i,o),a=this.defaultQueryOptions(s);typeof a.retry>"u"&&(a.retry=!1);var u=this.queryCache.build(this,a);return u.isStaleByTime(a.staleTime)?u.fetch(a):Promise.resolve(u.state.data)},e.prefetchQuery=function(r,i,o){return this.fetchQuery(r,i,o).then(Ha).catch(Ha)},e.fetchInfiniteQuery=function(r,i,o){var s=vM(r,i,o);return s.behavior=Gce(),this.fetchQuery(s)},e.prefetchInfiniteQuery=function(r,i,o){return this.fetchInfiniteQuery(r,i,o).then(Ha).catch(Ha)},e.cancelMutations=function(){var r=this,i=Hs.batch(function(){return r.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(i).then(Ha).catch(Ha)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var o=this.queryDefaults.find(function(s){return H0(r)===H0(s.queryKey)});o?o.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(o){return FS(r,o.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var o=this.mutationDefaults.find(function(s){return H0(r)===H0(s.mutationKey)});o?o.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(o){return FS(r,o.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Pr({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=hD(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Pr({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}(),Wce=oG.unstable_batchedUpdates;Hs.setBatchNotifyFunction(Wce);var $ce=console;Nce($ce);var _L=X.createContext(void 0),qce=X.createContext(!1);function Xce(n){return n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=_L),window.ReactQueryClientContext):_L}var Kce=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,o=e.children;X.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var s=Xce(i);return X.createElement(qce.Provider,{value:i},X.createElement(s.Provider,{value:t},o))};function Jce({children:n}){const e=new jce({queryCache:new Z8,mutationCache:new e9});return ie.jsx(Kce,{client:e,children:n})}const Wn=n=>typeof n=="string",G_=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},yL=n=>n==null?"":""+n,Yce=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},Qce=/###/g,bL=n=>n&&n.indexOf("###")>-1?n.replace(Qce,"."):n,AL=n=>!n||Wn(n),cy=(n,e,t)=>{const r=Wn(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(AL(n))return{};const o=bL(r[i]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++i}return AL(n)?{}:{obj:n,k:bL(r[i])}},EL=(n,e,t)=>{const{obj:r,k:i}=cy(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let o=e[e.length-1],s=e.slice(0,e.length-1),a=cy(n,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=cy(n,s,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=t},Zce=(n,e,t,r)=>{const{obj:i,k:o}=cy(n,e,Object);i[o]=i[o]||[],i[o].push(t)},NS=(n,e)=>{const{obj:t,k:r}=cy(n,e);if(t)return t[r]},efe=(n,e,t)=>{const r=NS(n,t);return r!==void 0?r:NS(e,t)},t9=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Wn(n[r])||n[r]instanceof String||Wn(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):t9(n[r],e[r],t):n[r]=e[r]);return n},Ov=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var tfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const nfe=n=>Wn(n)?n.replace(/[&<>"'\/]/g,e=>tfe[e]):n;class rfe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const ife=[" ",",","?","!",";"],ofe=new rfe(20),sfe=(n,e,t)=>{e=e||"",t=t||"";const r=ife.filter(s=>e.indexOf(s)<0&&t.indexOf(s)<0);if(r.length===0)return!0;const i=ofe.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(n);if(!o){const s=n.indexOf(t);s>0&&!i.test(n.substring(0,s))&&(o=!0)}return o},xT=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let i=n;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let u=o;u<r.length;++u)if(u!==o&&(a+=t),a+=r[u],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&u<r.length-1)continue;o+=u-o+1;break}i=s}return i},US=n=>n==null?void 0:n.replace("_","-"),afe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class kS{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||afe,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Wn(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new kS(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new kS(this.logger,e)}}var Nf=new kS;class jx{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[a,u]=s;for(let c=0;c<u;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,u]=s;for(let c=0;c<u;c++)a.apply(a,[e,...r])})}}class SL extends jx{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){var c,l;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):Wn(r)&&o?a.push(...r.split(o)):a.push(r)));const u=NS(this.data,a);return!u&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),u||!s||!Wn(r)?u:xT((l=(c=this.data)==null?void 0:c[e])==null?void 0:l[t],r,o)}addResource(e,t,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),EL(this.data,a,i),o.silent||this.emit("added",e,t,r,i)}addResources(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(Wn(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=t,t=a[1]),this.addNamespaces(t);let u=NS(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?t9(u,r,o):u={...u,...r},EL(this.data,a,u),s.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var n9={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(o=>{var s;e=((s=this.processors[o])==null?void 0:s.process(e,t,r,i))??e}),e}};const xL={};class zS extends jx{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Yce(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Nf.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return(r==null?void 0:r.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!sfe(e,r,i);if(s&&!a){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:Wn(o)?[o]:o};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(i)}return{key:e,namespaces:Wn(o)?[o]:o}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],t),u=a[a.length-1],c=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((c==null?void 0:c.toLowerCase())==="cimode"){if(l){const M=t.nsSeparator||this.options.nsSeparator;return i?{res:`${u}${M}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(t)}:`${u}${M}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(t)}:s}const f=this.resolve(e,t);let h=f==null?void 0:f.res;const m=(f==null?void 0:f.usedKey)||s,g=(f==null?void 0:f.exactUsedKey)||s,p=Object.prototype.toString.apply(h),y=["[object Number]","[object Function]","[object RegExp]"],b=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,C=!Wn(h)&&typeof h!="boolean"&&typeof h!="number";if(x&&h&&C&&y.indexOf(p)<0&&!(Wn(b)&&Array.isArray(h))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,{...t,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(f.res=M,f.usedParams=this.getUsedParamsDetails(t),f):M}if(o){const M=Array.isArray(h),R=M?[]:{},O=M?g:m;for(const N in h)if(Object.prototype.hasOwnProperty.call(h,N)){const F=`${O}${o}${N}`;R[N]=this.translate(F,{...t,joinArrays:!1,ns:a}),R[N]===F&&(R[N]=h[N])}h=R}}else if(x&&Wn(b)&&Array.isArray(h))h=h.join(b),h&&(h=this.extendTranslation(h,e,t,r));else{let M=!1,R=!1;const O=t.count!==void 0&&!Wn(t.count),N=zS.hasDefaultValue(t),F=O?this.pluralResolver.getSuffix(c,t.count,t):"",I=t.ordinal&&O?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",B=O&&!t.ordinal&&t.count===0,k=B&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${F}`]||t[`defaultValue${I}`]||t.defaultValue;!this.isValidLookup(h)&&N&&(M=!0,h=k),this.isValidLookup(h)||(R=!0,h=s);const Y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:h,ee=N&&k!==h&&this.options.updateMissing;if(R||M||ee){if(this.logger.log(ee?"updateKey":"missingKey",c,u,s,ee?k:h),o){const V=this.resolve(s,{...t,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let le=[];const J=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&J&&J[0])for(let V=0;V<J.length;V++)le.push(J[V]);else this.options.saveMissingTo==="all"?le=this.languageUtils.toResolveHierarchy(t.lng||this.language):le.push(t.lng||this.language);const fe=(V,ae,ue)=>{var de;const Q=N&&ue!==h?ue:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(V,u,ae,Q,ee,t):(de=this.backendConnector)!=null&&de.saveMissing&&this.backendConnector.saveMissing(V,u,ae,Q,ee,t),this.emit("missingKey",V,u,ae,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?le.forEach(V=>{const ae=this.pluralResolver.getSuffixes(V,t);B&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(ue=>{fe([V],s+ue,t[`defaultValue${ue}`]||k)})}):fe(le,s,k))}h=this.extendTranslation(h,e,t,f,r),R&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${u}:${s}`),(R||M)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${s}`:s,M?h:void 0))}return i?(f.res=h,f.usedParams=this.getUsedParamsDetails(t),f):h}extendTranslation(e,t,r,i,o){var c,l;var s=this;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=Wn(e)&&(((l=r==null?void 0:r.interpolation)==null?void 0:l.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(f){const g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let m=r.replace&&!Wn(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,r.lng||this.language||i.usedLng,r),f){const g=e.match(this.interpolator.nestingRegexp),p=g&&g.length;h<p&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];return(o==null?void 0:o[0])===p[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):s.translate(...p,t)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,u=Wn(a)?[a]:a;return e!=null&&(u!=null&&u.length)&&r.applyPostProcessor!==!1&&(e=n9.handle(u,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return Wn(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(u,t),l=c.key;i=l;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=t.count!==void 0&&!Wn(t.count),m=h&&!t.ordinal&&t.count===0,g=t.context!==void 0&&(Wn(t.context)||typeof t.context=="number")&&t.context!=="",p=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);f.forEach(y=>{var b,x;this.isValidLookup(r)||(a=y,!xL[`${p[0]}-${y}`]&&((b=this.utils)!=null&&b.hasLoadedNamespace)&&!((x=this.utils)!=null&&x.hasLoadedNamespace(a))&&(xL[`${p[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(C=>{var O;if(this.isValidLookup(r))return;s=C;const M=[l];if((O=this.i18nFormat)!=null&&O.addLookupKeys)this.i18nFormat.addLookupKeys(M,l,C,y,t);else{let N;h&&(N=this.pluralResolver.getSuffix(C,t.count,t));const F=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(M.push(l+N),t.ordinal&&N.indexOf(I)===0&&M.push(l+N.replace(I,this.options.pluralSeparator)),m&&M.push(l+F)),g){const B=`${l}${this.options.contextSeparator}${t.context}`;M.push(B),h&&(M.push(B+N),t.ordinal&&N.indexOf(I)===0&&M.push(B+N.replace(I,this.options.pluralSeparator)),m&&M.push(B+F))}}let R;for(;R=M.pop();)this.isValidLookup(r)||(o=R,r=this.getResource(C,y,R,t))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){var o;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Wn(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of t)delete i[o]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class wL{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Nf.create("languageUtils")}getScriptPartFromCode(e){if(e=US(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=US(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Wn(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Wn(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Wn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Wn(e)&&o(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}const CL={zero:0,one:1,two:2,few:3,many:4,other:5},ML={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ufe{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Nf.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=US(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ML;if(!e.match(/-|_/))return ML;const u=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(u,t)}return this.pluralRulesCache[o]=s,s}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>CL[i]-CL[o]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const TL=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=efe(n,e,t);return!o&&i&&Wn(t)&&(o=xT(n,t,r),o===void 0&&(o=xT(e,t,r))),o},yM=n=>n.replace(/\$/g,"$$$$");class lfe{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Nf.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:u,formatSeparator:c,unescapeSuffix:l,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:y,maxReplaces:b,alwaysFormat:x}=e.interpolation;this.escape=t!==void 0?t:nfe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Ov(o):s||"{{",this.suffix=a?Ov(a):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=l?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=h?Ov(h):m||Ov("$t("),this.nestingSuffix=g?Ov(g):p||Ov(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=b||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var m;let o,s,a;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const x=TL(t,u,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...i,...t,interpolationkey:g}):x}const p=g.split(this.formatSeparator),y=p.shift().trim(),b=p.join(this.formatSeparator).trim();return this.format(TL(t,u,y,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...i,...t,interpolationkey:y})};this.resetRegExp();const l=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=i==null?void 0:i.interpolation)==null?void 0:m.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>yM(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?yM(this.escape(g)):yM(g)}].forEach(g=>{for(a=0;o=g.regex.exec(e);){const p=o[1].trim();if(s=c(p),s===void 0)if(typeof l=="function"){const b=l(e,o,i);s=Wn(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))s="";else if(f){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),s="";else!Wn(s)&&!this.useRawValueToEscape&&(s=yL(s));const y=g.safeValue(s);if(e=e.replace(o[0],y),f?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;const a=(u,c)=>{const l=this.nestingOptionsSeparator;if(u.indexOf(l)<0)return u;const f=u.split(new RegExp(`${l}[ ]*{`));let h=`{${f[1]}`;u=f[0],h=this.interpolate(h,s);const m=h.match(/'/g),g=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,p),`${u}${l}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];s={...r},s=s.replace&&!Wn(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const l=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=l.shift(),u=l,c=!0}if(o=t(a.call(this,i[1].trim(),s),s),o&&i[0]===e&&!Wn(o))return o;Wn(o)||(o=yL(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),c&&(o=u.reduce((l,f)=>this.format(l,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const cfe=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...u]=s.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();t[l]||(t[l]=c),c==="false"&&(t[l]=!1),c==="true"&&(t[l]=!0),isNaN(c)||(t[l]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}},Iv=n=>{const e={};return(t,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=e[s];return a||(a=n(US(r),i),e[s]=a),a(t)}};class ffe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Nf.create("formatter"),this.options=e,this.formats={number:Iv((t,r)=>{const i=new Intl.NumberFormat(t,{...r});return o=>i.format(o)}),currency:Iv((t,r)=>{const i=new Intl.NumberFormat(t,{...r,style:"currency"});return o=>i.format(o)}),datetime:Iv((t,r)=>{const i=new Intl.DateTimeFormat(t,{...r});return o=>i.format(o)}),relativetime:Iv((t,r)=>{const i=new Intl.RelativeTimeFormat(t,{...r});return o=>i.format(o,r.range||"day")}),list:Iv((t,r)=>{const i=new Intl.ListFormat(t,{...r});return o=>i.format(o)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Iv(t)}format(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(u=>u.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,u)=>{var f;const{formatName:c,formatOptions:l}=cfe(u);if(this.formats[c]){let h=a;try{const m=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},g=m.locale||m.lng||i.locale||i.lng||r;h=this.formats[c](a,g,{...l,...i,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const dfe=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class hfe extends jx{constructor(e,t,r){var o,s;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Nf.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(o=this.backend)==null?void 0:o.init)==null||s.call(o,r,i.backend,i)}queueLoad(e,t,r,i){const o={},s={},a={},u={};return e.forEach(c=>{let l=!0;t.forEach(f=>{const h=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,l=!1,s[h]===void 0&&(s[h]=!0),o[h]===void 0&&(o[h]=!0),u[f]===void 0&&(u[f]=!0)))}),l||(a[c]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(u)}}loaded(e,t,r){const i=e.split("|"),o=i[0],s=i[1];t&&this.emit("failedLoading",o,s,t),!t&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const a={};this.queue.forEach(u=>{Zce(u.loaded,[o],s),dfe(u,e),t&&u.errors.push(t),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{a[c]||(a[c]={});const l=u.loaded[c];l.length&&l.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(u=>!u.done)}read(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(c,l)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&l&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,o*2,s)},o);return}s(c,l)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const c=u(e,t);c&&typeof c.then=="function"?c.then(l=>a(null,l)).catch(a):a(null,c)}catch(c){a(c)}return}return u(e,t,a)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Wn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Wn(t)&&(t=[t]);const o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,a),this.loaded(e,s,a)})}saveMissing(e,t,r,i,o){var u,c,l,f,h;let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((c=(u=this.services)==null?void 0:u.utils)!=null&&c.hasLoadedNamespace&&!((f=(l=this.services)==null?void 0:l.utils)!=null&&f.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const m={...s,isUpdate:o},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(e,t,r,i,m):p=g(e,t,r,i),p&&typeof p.then=="function"?p.then(y=>a(null,y)).catch(a):a(null,p)}catch(p){a(p)}else g(e,t,r,i,a,m)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const PL=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Wn(n[1])&&(e.defaultValue=n[1]),Wn(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),DL=n=>{var e,t;return Wn(n.ns)&&(n.ns=[n.ns]),Wn(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Wn(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},iE=()=>{},pfe=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Uy extends jx{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=DL(e),this.services={},this.logger=Nf,this.modules={external:[]},pfe(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(Wn(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=PL();this.options={...i,...this.options,...DL(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Nf.init(o(this.modules.logger),this.options):Nf.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=ffe;const f=new wL(this.options);this.store=new SL(this.options.resources,this.options);const h=this.services;h.logger=Nf,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new ufe(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=o(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new lfe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new hfe(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var g=arguments.length,p=new Array(g>1?g-1:0),y=1;y<g;y++)p[y-1]=arguments[y];e.emit(m,...p)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new zS(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,p=new Array(g>1?g-1:0),y=1;y<g;y++)p[y-1]=arguments[y];e.emit(m,...p)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=iE),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});const u=G_(),c=()=>{const l=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(h),r(f,h)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),u}loadResources(e){var o,s;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iE;const i=Wn(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],u=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?u(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>u(l)),(s=(o=this.options.preload)==null?void 0:o.forEach)==null||s.call(o,c=>u(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,t,r){const i=G_();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=iE),this.services.backendConnector.reload(e,t,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&n9.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const i=G_();this.emit("languageChanging",e);const o=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},s=(u,c)=>{c?(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),t&&t(u,function(){return r.t(...arguments)})},a=u=>{var l,f;!e&&!u&&this.services.languageDetector&&(u=[]);const c=Wn(u)?u:this.services.languageUtils.getBestMatchFromCodes(u);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),(f=(l=this.services.languageDetector)==null?void 0:l.cacheUserLanguage)==null||f.call(l,c)),this.loadResources(c,h=>{s(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,t,r){var i=this;const o=function(s,a){let u;if(typeof a!="object"){for(var c=arguments.length,l=new Array(c>2?c-2:0),f=2;f<c;f++)l[f-2]=arguments[f];u=i.options.overloadTranslationOptionHandler([s,a].concat(l))}else u={...a};u.lng=u.lng||o.lng,u.lngs=u.lngs||o.lngs,u.ns=u.ns||o.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||o.keyPrefix);const h=i.options.keySeparator||".";let m;return u.keyPrefix&&Array.isArray(s)?m=s.map(g=>`${u.keyPrefix}${h}${g}`):m=u.keyPrefix?`${u.keyPrefix}${h}${s}`:s,i.t(m,u)};return Wn(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(){var i;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(i=this.translator)==null?void 0:i.translate(...t)}exists(){var i;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(i=this.translator)==null?void 0:i.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,u)=>{const c=this.services.backendConnector.state[`${a}|${u}`];return c===-1||c===0||c===2};if(t.precheck){const a=t.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}loadNamespaces(e,t){const r=G_();return this.options.ns?(Wn(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=G_();Wn(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new wL(PL());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Uy(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iE;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new Uy(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const a=Object.keys(this.store.data).reduce((u,c)=>(u[c]={...this.store.data[c]},Object.keys(u[c]).reduce((l,f)=>(l[f]={...u[c][f]},l),{})),{});o.store=new SL(a,i),o.services.resourceStore=o.store}return o.translator=new zS(o.services,i),o.translator.on("*",function(a){for(var u=arguments.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=arguments[l];o.emit(a,...c)}),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Wa=Uy.createInstance();Wa.createInstance=Uy.createInstance;Wa.createInstance;Wa.dir;Wa.init;Wa.loadResources;Wa.reloadResources;Wa.use;Wa.changeLanguage;Wa.getFixedT;Wa.t;Wa.exists;Wa.setDefaultNamespace;Wa.hasLoadedNamespace;Wa.loadNamespaces;Wa.loadLanguages;function RL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function oE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(t),!0).forEach(function(r){mfe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mfe(n,e,t){return(e=gfe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gfe(n){var e=vfe(n,"string");return og(e)=="symbol"?e:e+""}function vfe(n,e){if(og(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function og(n){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(n)}var _fe=[],yfe=_fe.forEach;function bfe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return yfe.call(t,function(i){if(i)for(var o in i)n[o]===void 0&&(n[o]=i[o])}),n}function wT(n,e,t){var r;switch(og(n)){case"string":{var i=n.split(e);return i.length!==1&&og(t)==="object"?(!t.key&&W.isValidElement(t)&&(t=W.cloneElement(t,{key:e.toString()})),[i[0],t,i[1]].flat()):n.replace(e,t)}case"object":if(Array.isArray(n))return n.map(function(s){return wT(s,e,t)}).flat();if(n!=null&&(r=n.props)!==null&&r!==void 0&&r.children){var o=wT(n.props.children,e,t);if(o!==n.props.children)return oE(oE({},n),{},{props:oE(oE({},n.props),{},{children:o})})}}return n}function OL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function IL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(t),!0).forEach(function(r){Afe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Afe(n,e,t){return(e=r9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Efe(n,e){return Cfe(n)||wfe(n,e)||xfe(n,e)||Sfe()}function Sfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(n,e){if(n){if(typeof n=="string")return BL(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?BL(n,e):void 0}}function BL(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function wfe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(u=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Cfe(n){if(Array.isArray(n))return n}function l1(n){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l1(n)}function Mfe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tfe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r9(r.key),r)}}function Pfe(n,e,t){return e&&Tfe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function r9(n){var e=Dfe(n,"string");return l1(e)=="symbol"?e:e+""}function Dfe(n,e){if(l1(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(l1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rfe(){return{}}var FL=/{{?\s*(\w+)\s*}}?/g,Ofe=function(){function n(e){Mfe(this,n),this.type="i18nFormat",this.init(null,e)}return Pfe(n,[{key:"init",value:function(t,r){var i=t&&t.options&&t.options.i18nFormat||{};this.options=bfe(i,r,this.options||{},Rfe()),this.i18next=t}},{key:"parse",value:function(t,r){var i=this;if(t===null)return t;if(l1(t)==="object"){for(var o={},s=0,a=Object.entries(t);s<a.length;s++){var u=Efe(a[s],2),c=u[0],l=u[1];o[c]=this.parse(l,r)}return o}var f=t.match(FL);if(!f)return t;var h=t;return f.forEach(function(m){var g,p=m.replace(FL,"$1"),y=p==="ordinal"?r.count||r.ordinal:r[p];(p==="ordinal"||p==="count")&&typeof y=="number"&&(y=new Intl.NumberFormat(i.i18next.resolvedLanguage).format(y)),h=wT(h,m,(g=y)!==null&&g!==void 0?g:"")}),h}},{key:"addLookupKeys",value:function(t,r,i,o,s){var a=s.count!==void 0&&typeof s.count!="string"||typeof s.ordinal=="number";if(a){if(!Intl)throw new Error("Error: The application was unable to use the Intl API. This may be due to a missing or incomplete polyfill.");var u=!!(s.ordinal||s.ordinal===0&&s.count===void 0),c=this.i18next.translator.pluralResolver.getRule(i,IL(IL({},s),{},{ordinal:u}));if(u){var l=c.select(s.count===void 0?s.ordinal:s.count),f="".concat(this.i18next.options.keySeparator,"ordinal").concat(this.i18next.options.keySeparator).concat(l);t.push(r+f)}else{var h=c.select(s.count);if(h!=="other"){var m="".concat(this.i18next.options.keySeparator,"other");t.push(r+m)}var g="".concat(this.i18next.options.keySeparator).concat(h);if(t.push(r+g),s.count===0){var p="".concat(this.i18next.options.keySeparator,"0");t.push(r+p)}else if(s.count===1){var y="".concat(this.i18next.options.keySeparator,"1");t.push(r+y)}}}return t}}])}();Ofe.type="i18nFormat";function Ife(n){return Intl.getCanonicalLocales(n)}function HS(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var bM={supplemental:{languageMatching:{"written-new":[{paradigmLocales:{_locales:"en en_GB es es_419 pt_BR pt_PT"}},{$enUS:{_value:"AS+CA+GU+MH+MP+PH+PR+UM+US+VI"}},{$cnsar:{_value:"HK+MO"}},{$americas:{_value:"019"}},{$maghreb:{_value:"MA+DZ+TN+LY+MR+EH"}},{no:{_desired:"nb",_distance:"1"}},{bs:{_desired:"hr",_distance:"4"}},{bs:{_desired:"sh",_distance:"4"}},{hr:{_desired:"sh",_distance:"4"}},{sr:{_desired:"sh",_distance:"4"}},{aa:{_desired:"ssy",_distance:"4"}},{de:{_desired:"gsw",_distance:"4",_oneway:"true"}},{de:{_desired:"lb",_distance:"4",_oneway:"true"}},{no:{_desired:"da",_distance:"8"}},{nb:{_desired:"da",_distance:"8"}},{ru:{_desired:"ab",_distance:"30",_oneway:"true"}},{en:{_desired:"ach",_distance:"30",_oneway:"true"}},{nl:{_desired:"af",_distance:"20",_oneway:"true"}},{en:{_desired:"ak",_distance:"30",_oneway:"true"}},{en:{_desired:"am",_distance:"30",_oneway:"true"}},{es:{_desired:"ay",_distance:"20",_oneway:"true"}},{ru:{_desired:"az",_distance:"30",_oneway:"true"}},{ur:{_desired:"bal",_distance:"20",_oneway:"true"}},{ru:{_desired:"be",_distance:"20",_oneway:"true"}},{en:{_desired:"bem",_distance:"30",_oneway:"true"}},{hi:{_desired:"bh",_distance:"30",_oneway:"true"}},{en:{_desired:"bn",_distance:"30",_oneway:"true"}},{zh:{_desired:"bo",_distance:"20",_oneway:"true"}},{fr:{_desired:"br",_distance:"20",_oneway:"true"}},{es:{_desired:"ca",_distance:"20",_oneway:"true"}},{fil:{_desired:"ceb",_distance:"30",_oneway:"true"}},{en:{_desired:"chr",_distance:"20",_oneway:"true"}},{ar:{_desired:"ckb",_distance:"30",_oneway:"true"}},{fr:{_desired:"co",_distance:"20",_oneway:"true"}},{fr:{_desired:"crs",_distance:"20",_oneway:"true"}},{sk:{_desired:"cs",_distance:"20"}},{en:{_desired:"cy",_distance:"20",_oneway:"true"}},{en:{_desired:"ee",_distance:"30",_oneway:"true"}},{en:{_desired:"eo",_distance:"30",_oneway:"true"}},{es:{_desired:"eu",_distance:"20",_oneway:"true"}},{da:{_desired:"fo",_distance:"20",_oneway:"true"}},{nl:{_desired:"fy",_distance:"20",_oneway:"true"}},{en:{_desired:"ga",_distance:"20",_oneway:"true"}},{en:{_desired:"gaa",_distance:"30",_oneway:"true"}},{en:{_desired:"gd",_distance:"20",_oneway:"true"}},{es:{_desired:"gl",_distance:"20",_oneway:"true"}},{es:{_desired:"gn",_distance:"20",_oneway:"true"}},{hi:{_desired:"gu",_distance:"30",_oneway:"true"}},{en:{_desired:"ha",_distance:"30",_oneway:"true"}},{en:{_desired:"haw",_distance:"20",_oneway:"true"}},{fr:{_desired:"ht",_distance:"20",_oneway:"true"}},{ru:{_desired:"hy",_distance:"30",_oneway:"true"}},{en:{_desired:"ia",_distance:"30",_oneway:"true"}},{en:{_desired:"ig",_distance:"30",_oneway:"true"}},{en:{_desired:"is",_distance:"20",_oneway:"true"}},{id:{_desired:"jv",_distance:"20",_oneway:"true"}},{en:{_desired:"ka",_distance:"30",_oneway:"true"}},{fr:{_desired:"kg",_distance:"30",_oneway:"true"}},{ru:{_desired:"kk",_distance:"30",_oneway:"true"}},{en:{_desired:"km",_distance:"30",_oneway:"true"}},{en:{_desired:"kn",_distance:"30",_oneway:"true"}},{en:{_desired:"kri",_distance:"30",_oneway:"true"}},{tr:{_desired:"ku",_distance:"30",_oneway:"true"}},{ru:{_desired:"ky",_distance:"30",_oneway:"true"}},{it:{_desired:"la",_distance:"20",_oneway:"true"}},{en:{_desired:"lg",_distance:"30",_oneway:"true"}},{fr:{_desired:"ln",_distance:"30",_oneway:"true"}},{en:{_desired:"lo",_distance:"30",_oneway:"true"}},{en:{_desired:"loz",_distance:"30",_oneway:"true"}},{fr:{_desired:"lua",_distance:"30",_oneway:"true"}},{hi:{_desired:"mai",_distance:"20",_oneway:"true"}},{en:{_desired:"mfe",_distance:"30",_oneway:"true"}},{fr:{_desired:"mg",_distance:"30",_oneway:"true"}},{en:{_desired:"mi",_distance:"20",_oneway:"true"}},{en:{_desired:"ml",_distance:"30",_oneway:"true"}},{ru:{_desired:"mn",_distance:"30",_oneway:"true"}},{hi:{_desired:"mr",_distance:"30",_oneway:"true"}},{id:{_desired:"ms",_distance:"30",_oneway:"true"}},{en:{_desired:"mt",_distance:"30",_oneway:"true"}},{en:{_desired:"my",_distance:"30",_oneway:"true"}},{en:{_desired:"ne",_distance:"30",_oneway:"true"}},{nb:{_desired:"nn",_distance:"20"}},{no:{_desired:"nn",_distance:"20"}},{en:{_desired:"nso",_distance:"30",_oneway:"true"}},{en:{_desired:"ny",_distance:"30",_oneway:"true"}},{en:{_desired:"nyn",_distance:"30",_oneway:"true"}},{fr:{_desired:"oc",_distance:"20",_oneway:"true"}},{en:{_desired:"om",_distance:"30",_oneway:"true"}},{en:{_desired:"or",_distance:"30",_oneway:"true"}},{en:{_desired:"pa",_distance:"30",_oneway:"true"}},{en:{_desired:"pcm",_distance:"20",_oneway:"true"}},{en:{_desired:"ps",_distance:"30",_oneway:"true"}},{es:{_desired:"qu",_distance:"30",_oneway:"true"}},{de:{_desired:"rm",_distance:"20",_oneway:"true"}},{en:{_desired:"rn",_distance:"30",_oneway:"true"}},{fr:{_desired:"rw",_distance:"30",_oneway:"true"}},{hi:{_desired:"sa",_distance:"30",_oneway:"true"}},{en:{_desired:"sd",_distance:"30",_oneway:"true"}},{en:{_desired:"si",_distance:"30",_oneway:"true"}},{en:{_desired:"sn",_distance:"30",_oneway:"true"}},{en:{_desired:"so",_distance:"30",_oneway:"true"}},{en:{_desired:"sq",_distance:"30",_oneway:"true"}},{en:{_desired:"st",_distance:"30",_oneway:"true"}},{id:{_desired:"su",_distance:"20",_oneway:"true"}},{en:{_desired:"sw",_distance:"30",_oneway:"true"}},{en:{_desired:"ta",_distance:"30",_oneway:"true"}},{en:{_desired:"te",_distance:"30",_oneway:"true"}},{ru:{_desired:"tg",_distance:"30",_oneway:"true"}},{en:{_desired:"ti",_distance:"30",_oneway:"true"}},{ru:{_desired:"tk",_distance:"30",_oneway:"true"}},{en:{_desired:"tlh",_distance:"30",_oneway:"true"}},{en:{_desired:"tn",_distance:"30",_oneway:"true"}},{en:{_desired:"to",_distance:"30",_oneway:"true"}},{ru:{_desired:"tt",_distance:"30",_oneway:"true"}},{en:{_desired:"tum",_distance:"30",_oneway:"true"}},{zh:{_desired:"ug",_distance:"20",_oneway:"true"}},{ru:{_desired:"uk",_distance:"20",_oneway:"true"}},{en:{_desired:"ur",_distance:"30",_oneway:"true"}},{ru:{_desired:"uz",_distance:"30",_oneway:"true"}},{fr:{_desired:"wo",_distance:"30",_oneway:"true"}},{en:{_desired:"xh",_distance:"30",_oneway:"true"}},{en:{_desired:"yi",_distance:"30",_oneway:"true"}},{en:{_desired:"yo",_distance:"30",_oneway:"true"}},{zh:{_desired:"za",_distance:"20",_oneway:"true"}},{en:{_desired:"zu",_distance:"30",_oneway:"true"}},{ar:{_desired:"aao",_distance:"10",_oneway:"true"}},{ar:{_desired:"abh",_distance:"10",_oneway:"true"}},{ar:{_desired:"abv",_distance:"10",_oneway:"true"}},{ar:{_desired:"acm",_distance:"10",_oneway:"true"}},{ar:{_desired:"acq",_distance:"10",_oneway:"true"}},{ar:{_desired:"acw",_distance:"10",_oneway:"true"}},{ar:{_desired:"acx",_distance:"10",_oneway:"true"}},{ar:{_desired:"acy",_distance:"10",_oneway:"true"}},{ar:{_desired:"adf",_distance:"10",_oneway:"true"}},{ar:{_desired:"aeb",_distance:"10",_oneway:"true"}},{ar:{_desired:"aec",_distance:"10",_oneway:"true"}},{ar:{_desired:"afb",_distance:"10",_oneway:"true"}},{ar:{_desired:"ajp",_distance:"10",_oneway:"true"}},{ar:{_desired:"apc",_distance:"10",_oneway:"true"}},{ar:{_desired:"apd",_distance:"10",_oneway:"true"}},{ar:{_desired:"arq",_distance:"10",_oneway:"true"}},{ar:{_desired:"ars",_distance:"10",_oneway:"true"}},{ar:{_desired:"ary",_distance:"10",_oneway:"true"}},{ar:{_desired:"arz",_distance:"10",_oneway:"true"}},{ar:{_desired:"auz",_distance:"10",_oneway:"true"}},{ar:{_desired:"avl",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayh",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayl",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayn",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayp",_distance:"10",_oneway:"true"}},{ar:{_desired:"bbz",_distance:"10",_oneway:"true"}},{ar:{_desired:"pga",_distance:"10",_oneway:"true"}},{ar:{_desired:"shu",_distance:"10",_oneway:"true"}},{ar:{_desired:"ssh",_distance:"10",_oneway:"true"}},{az:{_desired:"azb",_distance:"10",_oneway:"true"}},{et:{_desired:"vro",_distance:"10",_oneway:"true"}},{ff:{_desired:"ffm",_distance:"10",_oneway:"true"}},{ff:{_desired:"fub",_distance:"10",_oneway:"true"}},{ff:{_desired:"fue",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuf",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuh",_distance:"10",_oneway:"true"}},{ff:{_desired:"fui",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuq",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuv",_distance:"10",_oneway:"true"}},{gn:{_desired:"gnw",_distance:"10",_oneway:"true"}},{gn:{_desired:"gui",_distance:"10",_oneway:"true"}},{gn:{_desired:"gun",_distance:"10",_oneway:"true"}},{gn:{_desired:"nhd",_distance:"10",_oneway:"true"}},{iu:{_desired:"ikt",_distance:"10",_oneway:"true"}},{kln:{_desired:"enb",_distance:"10",_oneway:"true"}},{kln:{_desired:"eyo",_distance:"10",_oneway:"true"}},{kln:{_desired:"niq",_distance:"10",_oneway:"true"}},{kln:{_desired:"oki",_distance:"10",_oneway:"true"}},{kln:{_desired:"pko",_distance:"10",_oneway:"true"}},{kln:{_desired:"sgc",_distance:"10",_oneway:"true"}},{kln:{_desired:"tec",_distance:"10",_oneway:"true"}},{kln:{_desired:"tuy",_distance:"10",_oneway:"true"}},{kok:{_desired:"gom",_distance:"10",_oneway:"true"}},{kpe:{_desired:"gkp",_distance:"10",_oneway:"true"}},{luy:{_desired:"ida",_distance:"10",_oneway:"true"}},{luy:{_desired:"lkb",_distance:"10",_oneway:"true"}},{luy:{_desired:"lko",_distance:"10",_oneway:"true"}},{luy:{_desired:"lks",_distance:"10",_oneway:"true"}},{luy:{_desired:"lri",_distance:"10",_oneway:"true"}},{luy:{_desired:"lrm",_distance:"10",_oneway:"true"}},{luy:{_desired:"lsm",_distance:"10",_oneway:"true"}},{luy:{_desired:"lto",_distance:"10",_oneway:"true"}},{luy:{_desired:"lts",_distance:"10",_oneway:"true"}},{luy:{_desired:"lwg",_distance:"10",_oneway:"true"}},{luy:{_desired:"nle",_distance:"10",_oneway:"true"}},{luy:{_desired:"nyd",_distance:"10",_oneway:"true"}},{luy:{_desired:"rag",_distance:"10",_oneway:"true"}},{lv:{_desired:"ltg",_distance:"10",_oneway:"true"}},{mg:{_desired:"bhr",_distance:"10",_oneway:"true"}},{mg:{_desired:"bjq",_distance:"10",_oneway:"true"}},{mg:{_desired:"bmm",_distance:"10",_oneway:"true"}},{mg:{_desired:"bzc",_distance:"10",_oneway:"true"}},{mg:{_desired:"msh",_distance:"10",_oneway:"true"}},{mg:{_desired:"skg",_distance:"10",_oneway:"true"}},{mg:{_desired:"tdx",_distance:"10",_oneway:"true"}},{mg:{_desired:"tkg",_distance:"10",_oneway:"true"}},{mg:{_desired:"txy",_distance:"10",_oneway:"true"}},{mg:{_desired:"xmv",_distance:"10",_oneway:"true"}},{mg:{_desired:"xmw",_distance:"10",_oneway:"true"}},{mn:{_desired:"mvf",_distance:"10",_oneway:"true"}},{ms:{_desired:"bjn",_distance:"10",_oneway:"true"}},{ms:{_desired:"btj",_distance:"10",_oneway:"true"}},{ms:{_desired:"bve",_distance:"10",_oneway:"true"}},{ms:{_desired:"bvu",_distance:"10",_oneway:"true"}},{ms:{_desired:"coa",_distance:"10",_oneway:"true"}},{ms:{_desired:"dup",_distance:"10",_oneway:"true"}},{ms:{_desired:"hji",_distance:"10",_oneway:"true"}},{ms:{_desired:"id",_distance:"10",_oneway:"true"}},{ms:{_desired:"jak",_distance:"10",_oneway:"true"}},{ms:{_desired:"jax",_distance:"10",_oneway:"true"}},{ms:{_desired:"kvb",_distance:"10",_oneway:"true"}},{ms:{_desired:"kvr",_distance:"10",_oneway:"true"}},{ms:{_desired:"kxd",_distance:"10",_oneway:"true"}},{ms:{_desired:"lce",_distance:"10",_oneway:"true"}},{ms:{_desired:"lcf",_distance:"10",_oneway:"true"}},{ms:{_desired:"liw",_distance:"10",_oneway:"true"}},{ms:{_desired:"max",_distance:"10",_oneway:"true"}},{ms:{_desired:"meo",_distance:"10",_oneway:"true"}},{ms:{_desired:"mfa",_distance:"10",_oneway:"true"}},{ms:{_desired:"mfb",_distance:"10",_oneway:"true"}},{ms:{_desired:"min",_distance:"10",_oneway:"true"}},{ms:{_desired:"mqg",_distance:"10",_oneway:"true"}},{ms:{_desired:"msi",_distance:"10",_oneway:"true"}},{ms:{_desired:"mui",_distance:"10",_oneway:"true"}},{ms:{_desired:"orn",_distance:"10",_oneway:"true"}},{ms:{_desired:"ors",_distance:"10",_oneway:"true"}},{ms:{_desired:"pel",_distance:"10",_oneway:"true"}},{ms:{_desired:"pse",_distance:"10",_oneway:"true"}},{ms:{_desired:"tmw",_distance:"10",_oneway:"true"}},{ms:{_desired:"urk",_distance:"10",_oneway:"true"}},{ms:{_desired:"vkk",_distance:"10",_oneway:"true"}},{ms:{_desired:"vkt",_distance:"10",_oneway:"true"}},{ms:{_desired:"xmm",_distance:"10",_oneway:"true"}},{ms:{_desired:"zlm",_distance:"10",_oneway:"true"}},{ms:{_desired:"zmi",_distance:"10",_oneway:"true"}},{ne:{_desired:"dty",_distance:"10",_oneway:"true"}},{om:{_desired:"gax",_distance:"10",_oneway:"true"}},{om:{_desired:"hae",_distance:"10",_oneway:"true"}},{om:{_desired:"orc",_distance:"10",_oneway:"true"}},{or:{_desired:"spv",_distance:"10",_oneway:"true"}},{ps:{_desired:"pbt",_distance:"10",_oneway:"true"}},{ps:{_desired:"pst",_distance:"10",_oneway:"true"}},{qu:{_desired:"qub",_distance:"10",_oneway:"true"}},{qu:{_desired:"qud",_distance:"10",_oneway:"true"}},{qu:{_desired:"quf",_distance:"10",_oneway:"true"}},{qu:{_desired:"qug",_distance:"10",_oneway:"true"}},{qu:{_desired:"quh",_distance:"10",_oneway:"true"}},{qu:{_desired:"quk",_distance:"10",_oneway:"true"}},{qu:{_desired:"qul",_distance:"10",_oneway:"true"}},{qu:{_desired:"qup",_distance:"10",_oneway:"true"}},{qu:{_desired:"qur",_distance:"10",_oneway:"true"}},{qu:{_desired:"qus",_distance:"10",_oneway:"true"}},{qu:{_desired:"quw",_distance:"10",_oneway:"true"}},{qu:{_desired:"qux",_distance:"10",_oneway:"true"}},{qu:{_desired:"quy",_distance:"10",_oneway:"true"}},{qu:{_desired:"qva",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvc",_distance:"10",_oneway:"true"}},{qu:{_desired:"qve",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvh",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvi",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvj",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvl",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvm",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvn",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvo",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvp",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvs",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvw",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvz",_distance:"10",_oneway:"true"}},{qu:{_desired:"qwa",_distance:"10",_oneway:"true"}},{qu:{_desired:"qwc",_distance:"10",_oneway:"true"}},{qu:{_desired:"qwh",_distance:"10",_oneway:"true"}},{qu:{_desired:"qws",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxa",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxc",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxh",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxl",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxn",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxo",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxp",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxr",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxt",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxu",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxw",_distance:"10",_oneway:"true"}},{sc:{_desired:"sdc",_distance:"10",_oneway:"true"}},{sc:{_desired:"sdn",_distance:"10",_oneway:"true"}},{sc:{_desired:"sro",_distance:"10",_oneway:"true"}},{sq:{_desired:"aae",_distance:"10",_oneway:"true"}},{sq:{_desired:"aat",_distance:"10",_oneway:"true"}},{sq:{_desired:"aln",_distance:"10",_oneway:"true"}},{syr:{_desired:"aii",_distance:"10",_oneway:"true"}},{uz:{_desired:"uzs",_distance:"10",_oneway:"true"}},{yi:{_desired:"yih",_distance:"10",_oneway:"true"}},{zh:{_desired:"cdo",_distance:"10",_oneway:"true"}},{zh:{_desired:"cjy",_distance:"10",_oneway:"true"}},{zh:{_desired:"cpx",_distance:"10",_oneway:"true"}},{zh:{_desired:"czh",_distance:"10",_oneway:"true"}},{zh:{_desired:"czo",_distance:"10",_oneway:"true"}},{zh:{_desired:"gan",_distance:"10",_oneway:"true"}},{zh:{_desired:"hak",_distance:"10",_oneway:"true"}},{zh:{_desired:"hsn",_distance:"10",_oneway:"true"}},{zh:{_desired:"lzh",_distance:"10",_oneway:"true"}},{zh:{_desired:"mnp",_distance:"10",_oneway:"true"}},{zh:{_desired:"nan",_distance:"10",_oneway:"true"}},{zh:{_desired:"wuu",_distance:"10",_oneway:"true"}},{zh:{_desired:"yue",_distance:"10",_oneway:"true"}},{"*":{_desired:"*",_distance:"80"}},{"en-Latn":{_desired:"am-Ethi",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"az-Latn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"bn-Beng",_distance:"10",_oneway:"true"}},{"zh-Hans":{_desired:"bo-Tibt",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"hy-Armn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ka-Geor",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"km-Khmr",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"kn-Knda",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"lo-Laoo",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ml-Mlym",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"my-Mymr",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ne-Deva",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"or-Orya",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"pa-Guru",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ps-Arab",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"sd-Arab",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"si-Sinh",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ta-Taml",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"te-Telu",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ti-Ethi",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"tk-Latn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ur-Arab",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"uz-Latn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"yi-Hebr",_distance:"10",_oneway:"true"}},{"sr-Cyrl":{_desired:"sr-Latn",_distance:"5"}},{"zh-Hans":{_desired:"za-Latn",_distance:"10",_oneway:"true"}},{"zh-Hans":{_desired:"zh-Hani",_distance:"20",_oneway:"true"}},{"zh-Hant":{_desired:"zh-Hani",_distance:"20",_oneway:"true"}},{"ar-Arab":{_desired:"ar-Latn",_distance:"20",_oneway:"true"}},{"bn-Beng":{_desired:"bn-Latn",_distance:"20",_oneway:"true"}},{"gu-Gujr":{_desired:"gu-Latn",_distance:"20",_oneway:"true"}},{"hi-Deva":{_desired:"hi-Latn",_distance:"20",_oneway:"true"}},{"kn-Knda":{_desired:"kn-Latn",_distance:"20",_oneway:"true"}},{"ml-Mlym":{_desired:"ml-Latn",_distance:"20",_oneway:"true"}},{"mr-Deva":{_desired:"mr-Latn",_distance:"20",_oneway:"true"}},{"ta-Taml":{_desired:"ta-Latn",_distance:"20",_oneway:"true"}},{"te-Telu":{_desired:"te-Latn",_distance:"20",_oneway:"true"}},{"zh-Hans":{_desired:"zh-Latn",_distance:"20",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Latn",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Hani",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Hira",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Kana",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Hrkt",_distance:"5",_oneway:"true"}},{"ja-Hrkt":{_desired:"ja-Hira",_distance:"5",_oneway:"true"}},{"ja-Hrkt":{_desired:"ja-Kana",_distance:"5",_oneway:"true"}},{"ko-Kore":{_desired:"ko-Hani",_distance:"5",_oneway:"true"}},{"ko-Kore":{_desired:"ko-Hang",_distance:"5",_oneway:"true"}},{"ko-Kore":{_desired:"ko-Jamo",_distance:"5",_oneway:"true"}},{"ko-Hang":{_desired:"ko-Jamo",_distance:"5",_oneway:"true"}},{"*-*":{_desired:"*-*",_distance:"50"}},{"ar-*-$maghreb":{_desired:"ar-*-$maghreb",_distance:"4"}},{"ar-*-$!maghreb":{_desired:"ar-*-$!maghreb",_distance:"4"}},{"ar-*-*":{_desired:"ar-*-*",_distance:"5"}},{"en-*-$enUS":{_desired:"en-*-$enUS",_distance:"4"}},{"en-*-GB":{_desired:"en-*-$!enUS",_distance:"3"}},{"en-*-$!enUS":{_desired:"en-*-$!enUS",_distance:"4"}},{"en-*-*":{_desired:"en-*-*",_distance:"5"}},{"es-*-$americas":{_desired:"es-*-$americas",_distance:"4"}},{"es-*-$!americas":{_desired:"es-*-$!americas",_distance:"4"}},{"es-*-*":{_desired:"es-*-*",_distance:"5"}},{"pt-*-$americas":{_desired:"pt-*-$americas",_distance:"4"}},{"pt-*-$!americas":{_desired:"pt-*-$!americas",_distance:"4"}},{"pt-*-*":{_desired:"pt-*-*",_distance:"5"}},{"zh-Hant-$cnsar":{_desired:"zh-Hant-$cnsar",_distance:"4"}},{"zh-Hant-$!cnsar":{_desired:"zh-Hant-$!cnsar",_distance:"4"}},{"zh-Hant-*":{_desired:"zh-Hant-*",_distance:"5"}},{"*-*-*":{_desired:"*-*-*",_distance:"4"}}]}}},Bfe={"001":["001","001-status-grouping","002","005","009","011","013","014","015","017","018","019","021","029","030","034","035","039","053","054","057","061","142","143","145","150","151","154","155","AC","AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CP","CQ","CR","CU","CV","CW","CX","CY","CZ","DE","DG","DJ","DK","DM","DO","DZ","EA","EC","EE","EG","EH","ER","ES","ET","EU","EZ","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","IC","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","QO","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TA","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","UN","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW"],"002":["002","002-status-grouping","011","014","015","017","018","202","AO","BF","BI","BJ","BW","CD","CF","CG","CI","CM","CV","DJ","DZ","EA","EG","EH","ER","ET","GA","GH","GM","GN","GQ","GW","IC","IO","KE","KM","LR","LS","LY","MA","MG","ML","MR","MU","MW","MZ","NA","NE","NG","RE","RW","SC","SD","SH","SL","SN","SO","SS","ST","SZ","TD","TF","TG","TN","TZ","UG","YT","ZA","ZM","ZW"],"003":["003","013","021","029","AG","AI","AW","BB","BL","BM","BQ","BS","BZ","CA","CR","CU","CW","DM","DO","GD","GL","GP","GT","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PM","PR","SV","SX","TC","TT","US","VC","VG","VI"],"005":["005","AR","BO","BR","BV","CL","CO","EC","FK","GF","GS","GY","PE","PY","SR","UY","VE"],"009":["009","053","054","057","061","AC","AQ","AS","AU","CC","CK","CP","CX","DG","FJ","FM","GU","HM","KI","MH","MP","NC","NF","NR","NU","NZ","PF","PG","PN","PW","QO","SB","TA","TK","TO","TV","UM","VU","WF","WS"],"011":["011","BF","BJ","CI","CV","GH","GM","GN","GW","LR","ML","MR","NE","NG","SH","SL","SN","TG"],"013":["013","BZ","CR","GT","HN","MX","NI","PA","SV"],"014":["014","BI","DJ","ER","ET","IO","KE","KM","MG","MU","MW","MZ","RE","RW","SC","SO","SS","TF","TZ","UG","YT","ZM","ZW"],"015":["015","DZ","EA","EG","EH","IC","LY","MA","SD","TN"],"017":["017","AO","CD","CF","CG","CM","GA","GQ","ST","TD"],"018":["018","BW","LS","NA","SZ","ZA"],"019":["003","005","013","019","019-status-grouping","021","029","419","AG","AI","AR","AW","BB","BL","BM","BO","BQ","BR","BS","BV","BZ","CA","CL","CO","CR","CU","CW","DM","DO","EC","FK","GD","GF","GL","GP","GS","GT","GY","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PE","PM","PR","PY","SR","SV","SX","TC","TT","US","UY","VC","VE","VG","VI"],"021":["021","BM","CA","GL","PM","US"],"029":["029","AG","AI","AW","BB","BL","BQ","BS","CU","CW","DM","DO","GD","GP","HT","JM","KN","KY","LC","MF","MQ","MS","PR","SX","TC","TT","VC","VG","VI"],"030":["030","CN","HK","JP","KP","KR","MN","MO","TW"],"034":["034","AF","BD","BT","IN","IR","LK","MV","NP","PK"],"035":["035","BN","ID","KH","LA","MM","MY","PH","SG","TH","TL","VN"],"039":["039","AD","AL","BA","ES","GI","GR","HR","IT","ME","MK","MT","PT","RS","SI","SM","VA","XK"],"053":["053","AU","CC","CX","HM","NF","NZ"],"054":["054","FJ","NC","PG","SB","VU"],"057":["057","FM","GU","KI","MH","MP","NR","PW","UM"],"061":["061","AS","CK","NU","PF","PN","TK","TO","TV","WF","WS"],142:["030","034","035","142","143","145","AE","AF","AM","AZ","BD","BH","BN","BT","CN","CY","GE","HK","ID","IL","IN","IQ","IR","JO","JP","KG","KH","KP","KR","KW","KZ","LA","LB","LK","MM","MN","MO","MV","MY","NP","OM","PH","PK","PS","QA","SA","SG","SY","TH","TJ","TL","TM","TR","TW","UZ","VN","YE"],143:["143","KG","KZ","TJ","TM","UZ"],145:["145","AE","AM","AZ","BH","CY","GE","IL","IQ","JO","KW","LB","OM","PS","QA","SA","SY","TR","YE"],150:["039","150","151","154","155","AD","AL","AT","AX","BA","BE","BG","BY","CH","CQ","CZ","DE","DK","EE","ES","FI","FO","FR","GB","GG","GI","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MK","MT","NL","NO","PL","PT","RO","RS","RU","SE","SI","SJ","SK","SM","UA","VA","XK"],151:["151","BG","BY","CZ","HU","MD","PL","RO","RU","SK","UA"],154:["154","AX","CQ","DK","EE","FI","FO","GB","GG","IE","IM","IS","JE","LT","LV","NO","SE","SJ"],155:["155","AT","BE","CH","DE","FR","LI","LU","MC","NL"],202:["011","014","017","018","202","AO","BF","BI","BJ","BW","CD","CF","CG","CI","CM","CV","DJ","ER","ET","GA","GH","GM","GN","GQ","GW","IO","KE","KM","LR","LS","MG","ML","MR","MU","MW","MZ","NA","NE","NG","RE","RW","SC","SH","SL","SN","SO","SS","ST","SZ","TD","TF","TG","TZ","UG","YT","ZA","ZM","ZW"],419:["005","013","029","419","AG","AI","AR","AW","BB","BL","BO","BQ","BR","BS","BV","BZ","CL","CO","CR","CU","CW","DM","DO","EC","FK","GD","GF","GP","GS","GT","GY","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PE","PR","PY","SR","SV","SX","TC","TT","UY","VC","VE","VG","VI"],EU:["AT","BE","BG","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"],EZ:["AT","BE","CY","DE","EE","ES","EZ","FI","FR","GR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],QO:["AC","AQ","CP","DG","QO","TA"],UN:["AD","AE","AF","AG","AL","AM","AO","AR","AT","AU","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BN","BO","BR","BS","BT","BW","BY","BZ","CA","CD","CF","CG","CH","CI","CL","CM","CN","CO","CR","CU","CV","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FM","FR","GA","GB","GD","GE","GH","GM","GN","GQ","GR","GT","GW","GY","HN","HR","HT","HU","ID","IE","IL","IN","IQ","IR","IS","IT","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MG","MH","MK","ML","MM","MN","MR","MT","MU","MV","MW","MX","MY","MZ","NA","NE","NG","NI","NL","NO","NP","NR","NZ","OM","PA","PE","PG","PH","PK","PL","PT","PW","PY","QA","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SI","SK","SL","SM","SN","SO","SR","SS","ST","SV","SY","SZ","TD","TG","TH","TJ","TL","TM","TN","TO","TR","TT","TV","TZ","UA","UG","UN","US","UY","UZ","VC","VE","VN","VU","WS","YE","ZA","ZM","ZW"]},pD=/-u(?:-[0-9a-z]{2,8})+/gi;function rh(n,e,t){if(t===void 0&&(t=Error),!n)throw new t(e)}var Ffe=838,AM;function Lfe(){var n,e;if(!AM){var t=(e=(n=bM.supplemental.languageMatching["written-new"][0])===null||n===void 0?void 0:n.paradigmLocales)===null||e===void 0?void 0:e._locales.split(" "),r=bM.supplemental.languageMatching["written-new"].slice(1,5),i=bM.supplemental.languageMatching["written-new"].slice(5),o=i.map(function(s){var a=Object.keys(s)[0],u=s[a];return{supported:a,desired:u._desired,distance:+u._distance,oneway:u.oneway==="true"}},{});AM={matches:o,matchVariables:r.reduce(function(s,a){var u=Object.keys(a)[0],c=a[u];return s[u.slice(1)]=c._value.split("+"),s},{}),paradigmLocales:HS(HS([],t,!0),t.map(function(s){return new Intl.Locale(s.replace(/_/g,"-")).maximize().toString()}),!0)}}return AM}function sE(n,e,t){var r=e.split("-"),i=r[0],o=r[1],s=r[2],a=!0;if(s&&s[0]==="$"){var u=s[1]!=="!",c=u?t[s.slice(1)]:t[s.slice(2)],l=c.map(function(f){return Bfe[f]||[f]}).reduce(function(f,h){return HS(HS([],f,!0),h,!0)},[]);a&&(a=l.indexOf(n.region||"")>1==u)}else a&&(a=n.region?s==="*"||s===n.region:!0);return a&&(a=n.script?o==="*"||o===n.script:!0),a&&(a=n.language?i==="*"||i===n.language:!0),a}function LL(n){return[n.language,n.script,n.region].filter(Boolean).join("-")}function EM(n,e,t){for(var r=0,i=t.matches;r<i.length;r++){var o=i[r],s=sE(n,o.desired,t.matchVariables)&&sE(e,o.supported,t.matchVariables);if(!o.oneway&&!s&&(s=sE(n,o.supported,t.matchVariables)&&sE(e,o.desired,t.matchVariables)),s){var a=o.distance*10;return t.paradigmLocales.indexOf(LL(n))>-1!=t.paradigmLocales.indexOf(LL(e))>-1?a-1:a}}throw new Error("No matching distance found")}function Nfe(n,e){var t=new Intl.Locale(n).maximize(),r=new Intl.Locale(e).maximize(),i={language:t.language,script:t.script||"",region:t.region||""},o={language:r.language,script:r.script||"",region:r.region||""},s=0,a=Lfe();return i.language!==o.language&&(s+=EM({language:t.language,script:"",region:""},{language:r.language,script:"",region:""},a)),i.script!==o.script&&(s+=EM({language:t.language,script:i.script,region:""},{language:r.language,script:i.script,region:""},a)),i.region!==o.region&&(s+=EM(i,o,a)),s}function Ufe(n,e,t){t===void 0&&(t=Ffe);var r=1/0,i={matchedDesiredLocale:"",distances:{}};return n.forEach(function(o,s){i.distances[o]||(i.distances[o]={}),e.forEach(function(a){var u=Nfe(o,a)+0+s*40;i.distances[o][a]=u,u<r&&(r=u,i.matchedDesiredLocale=o,i.matchedSupportedLocale=a)})}),r>=t&&(i.matchedDesiredLocale=void 0,i.matchedSupportedLocale=void 0),i}function kfe(n,e,t){var r,i,o=[],s=e.reduce(function(u,c){var l=c.replace(pD,"");return o.push(l),u[l]=c,u},{}),a=Ufe(o,n);return a.matchedSupportedLocale&&a.matchedDesiredLocale&&(r=a.matchedSupportedLocale,i=s[a.matchedDesiredLocale].slice(a.matchedDesiredLocale.length)||void 0),r?{locale:r,extension:i}:{locale:t()}}function zfe(n,e){var t=e.toLowerCase();rh(n!==void 0,"ukey must be defined");var r=t;return r}function NL(n){return Intl.getCanonicalLocales(n)[0]}function Hfe(n,e,t){rh(n.indexOf("-u-")===-1,"Expected locale to not have a Unicode locale extension");for(var r="-u",i=0,o=e;i<o.length;i++){var s=o[i];r+="-".concat(s)}for(var a=0,u=t;a<u.length;a++){var c=u[a],l=c.key,f=c.value;r+="-".concat(l),f!==""&&(r+="-".concat(f))}if(r==="-u")return NL(n);var h=n.indexOf("-x-"),m;if(h===-1)m=n+r;else{var g=n.slice(0,h),p=n.slice(h);m=g+r+p}return NL(m)}function i9(n,e){for(var t=e;;){if(n.indexOf(t)>-1)return t;var r=t.lastIndexOf("-");if(!~r)return;r>=2&&t[r-2]==="-"&&(r-=2),t=t.slice(0,r)}}function Gfe(n,e,t){for(var r={locale:""},i=0,o=e;i<o.length;i++){var s=o[i],a=s.replace(pD,""),u=i9(n,a);if(u)return r.locale=u,s!==a&&(r.extension=s.slice(a.length,s.length)),r}return r.locale=t(),r}function Vfe(n){rh(n===n.toLowerCase(),"Expected extension to be lowercase"),rh(n.slice(0,3)==="-u-","Expected extension to be a Unicode locale extension");for(var e=[],t=[],r,i=n.length,o=3;o<i;){var s=n.indexOf("-",o),a=void 0;s===-1?a=i-o:a=s-o;var u=n.slice(o,o+a);rh(a>=2,"Expected a subtag to have at least 2 characters"),r===void 0&&a!=2?e.indexOf(u)===-1&&e.push(u):a===2?(r={key:u,value:""},t.find(function(c){return c.key===(r==null?void 0:r.key)})===void 0&&t.push(r)):(r==null?void 0:r.value)===""?r.value=u:(rh(r!==void 0,"Expected keyword to be defined"),r.value+="-"+u),o+=a+1}return{attributes:e,keywords:t}}function o9(n,e,t,r,i,o){var s,a=t.localeMatcher,u;a==="lookup"?u=Gfe(Array.from(n),e,o):u=kfe(Array.from(n),e,o),u==null&&(u={locale:o(),extension:""});var c=u.locale,l=i[c],f={locale:"en",dataLocale:c},h,m;u.extension?(h=Vfe(u.extension),m=h.keywords):m=[];for(var g=[],p=function(M){var R=(s=l==null?void 0:l[M])!==null&&s!==void 0?s:[];rh(Array.isArray(R),"keyLocaleData for ".concat(M," must be an array"));var O=R[0];rh(O===void 0||typeof O=="string","value must be a string or undefined");var N=void 0,F=m.find(function(q){return q.key===M});if(F){var I=F.value;I!==""?R.indexOf(I)>-1&&(O=I,N={key:M,value:O}):R.indexOf("true")>-1&&(O="true",N={key:M,value:O})}var B=t[M];if(rh(B==null||typeof B=="string","optionsValue must be a string or undefined"),typeof B=="string"){var k=M.toLowerCase();B=zfe(k,B),B===""&&(B="true")}B!==O&&R.indexOf(B)>-1&&(O=B,N=void 0),N&&g.push(N),f[M]=O},y=0,b=r;y<b.length;y++){var x=b[y];p(x)}var C=[];return g.length>0&&(C=[],c=Hfe(c,C,g)),f.locale=c,f}function jfe(n,e){for(var t=[],r=0,i=e;r<i.length;r++){var o=i[r],s=o.replace(pD,""),a=i9(n,s);a&&t.push(a)}return t}function Wfe(n,e,t,r){return o9(e,Ife(n),{localeMatcher:(r==null?void 0:r.algorithm)||"best fit"},[],{},function(){return t}).locale}const $fe=Object.freeze(Object.defineProperty({__proto__:null,LookupSupportedLocales:jfe,ResolveLocale:o9,match:Wfe},Symbol.toStringTag,{value:"Module"}));var aE={},UL;function qfe(){if(UL)return aE;UL=1,Object.defineProperty(aE,"__esModule",{value:!0}),aE.shouldPolyfill=e;function n(){try{return new Intl.Locale("und-x-private").toString()==="x-private"}catch{return!0}}function e(){return!("Locale"in Intl)||n()}return aE}qfe();var uE={};const Xfe=PH($fe);var V_={},kL;function Kfe(){return kL||(kL=1,Object.defineProperty(V_,"__esModule",{value:!0}),V_.supportedLocales=void 0,V_.supportedLocales=["af","ak","am","an","ar","ars","as","asa","ast","az","bal","be","bem","bez","bg","bho","bm","bn","bo","br","brx","bs","ca","ce","ceb","cgg","chr","ckb","cs","cy","da","de","doi","dsb","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gd","gl","gsw","gu","guw","gv","ha","haw","he","hi","hnj","hr","hsb","hu","hy","ia","id","ig","ii","io","is","it","iu","ja","jbo","jgo","jmc","jv","jw","ka","kab","kaj","kcg","kde","kea","kk","kkj","kl","km","kn","ko","ks","ksb","ksh","ku","kw","ky","lag","lb","lg","lij","lkt","ln","lo","lt","lv","mas","mg","mgo","mk","ml","mn","mo","mr","ms","mt","my","nah","naq","nb","nd","ne","nl","nn","nnh","no","nqo","nr","nso","ny","nyn","om","or","os","osa","pa","pap","pcm","pl","prg","ps","pt","pt-PT","rm","ro","rof","ru","rwk","sah","saq","sat","sc","scn","sd","sdh","se","seh","ses","sg","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","su","sv","sw","syr","ta","te","teo","th","ti","tig","tk","tl","tn","to","tpi","tr","ts","tzm","ug","uk","und","ur","uz","ve","vi","vo","vun","wa","wae","wo","xh","xog","yi","yo","yue","zh","zu"]),V_}var zL;function Jfe(){if(zL)return uE;zL=1,Object.defineProperty(uE,"__esModule",{value:!0}),uE.shouldPolyfill=r;var n=Xfe,e=Kfe();function t(i){if(!i)return!0;var o=Array.isArray(i)?i:[i];return Intl.PluralRules.supportedLocalesOf(o).length===o.length}function r(i){if(i===void 0&&(i="en"),!("PluralRules"in Intl)||new Intl.PluralRules("en",{minimumFractionDigits:2}).select(1)==="one"||!t(i))return i?(0,n.match)([i],e.supportedLocales,"en"):void 0}return uE}Jfe();let Yfe;function Qfe(){return Yfe}function Zfe({url:n,children:e,external:t,...r}){const i=PS.useNavigate(),o=W.useCallback(()=>{i(n)},[n]);return t||/^(?:[a-z][a-z\d+.-]*:|\/\/)/.test(n)?ie.jsx("a",{...r,href:n,target:"_blank",rel:"noopener noreferrer",children:e}):ie.jsx("a",{...r,onClick:o,children:e})}function ede({children:n}){const e=Qfe();return ie.jsx(iae,{i18n:e,linkComponent:Zfe,children:n})}const HL=VL.createRoot(document.getElementById("root"));n1.IS_SHOPIFY?HL.render(ie.jsx(W.StrictMode,{children:ie.jsx(ede,{children:ie.jsx(XD,{children:ie.jsx(Cce,{children:ie.jsx(Jce,{children:ie.jsx(dL,{})})})})})})):HL.render(ie.jsx(W.StrictMode,{children:ie.jsx(XD,{children:ie.jsx(dL,{})})}));
